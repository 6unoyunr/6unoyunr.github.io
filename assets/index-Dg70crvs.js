function KI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Pp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ff={exports:{}},Yl={},hf={exports:{}},mt={};var j$;function XI(){if(j$)return mt;j$=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function h(H){return H===null||typeof H!="object"?null:(H=f&&H[f]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function T(H,ie,B){this.props=H,this.context=ie,this.refs=x,this.updater=B||b}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=T.prototype;function A(H,ie,B){this.props=H,this.context=ie,this.refs=x,this.updater=B||b}var C=A.prototype=new S;C.constructor=A,_(C,T.prototype),C.isPureReactComponent=!0;var R=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function K(H,ie,B){var Re,Pe={},Le=null,Ve=null;if(ie!=null)for(Re in ie.ref!==void 0&&(Ve=ie.ref),ie.key!==void 0&&(Le=""+ie.key),ie)M.call(ie,Re)&&!j.hasOwnProperty(Re)&&(Pe[Re]=ie[Re]);var Fe=arguments.length-2;if(Fe===1)Pe.children=B;else if(1<Fe){for(var et=Array(Fe),dt=0;dt<Fe;dt++)et[dt]=arguments[dt+2];Pe.children=et}if(H&&H.defaultProps)for(Re in Fe=H.defaultProps,Fe)Pe[Re]===void 0&&(Pe[Re]=Fe[Re]);return{$$typeof:e,type:H,key:Le,ref:Ve,props:Pe,_owner:P.current}}function ee(H,ie){return{$$typeof:e,type:H.type,key:ie,ref:H.ref,props:H.props,_owner:H._owner}}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function Q(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(B){return ie[B]})}var re=/\/+/g;function ae(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?Q(""+H.key):ie.toString(36)}function ne(H,ie,B,Re,Pe){var Le=typeof H;(Le==="undefined"||Le==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Le){case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case e:case t:Ve=!0}}if(Ve)return Ve=H,Pe=Pe(Ve),H=Re===""?"."+ae(Ve,0):Re,R(Pe)?(B="",H!=null&&(B=H.replace(re,"$&/")+"/"),ne(Pe,ie,B,"",function(dt){return dt})):Pe!=null&&(G(Pe)&&(Pe=ee(Pe,B+(!Pe.key||Ve&&Ve.key===Pe.key?"":(""+Pe.key).replace(re,"$&/")+"/")+H)),ie.push(Pe)),1;if(Ve=0,Re=Re===""?".":Re+":",R(H))for(var Fe=0;Fe<H.length;Fe++){Le=H[Fe];var et=Re+ae(Le,Fe);Ve+=ne(Le,ie,B,et,Pe)}else if(et=h(H),typeof et=="function")for(H=et.call(H),Fe=0;!(Le=H.next()).done;)Le=Le.value,et=Re+ae(Le,Fe++),Ve+=ne(Le,ie,B,et,Pe);else if(Le==="object")throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ve}function me(H,ie,B){if(H==null)return H;var Re=[],Pe=0;return ne(H,Re,"","",function(Le){return ie.call(B,Le,Pe++)}),Re}function be(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(B){(H._status===0||H._status===-1)&&(H._status=1,H._result=B)},function(B){(H._status===0||H._status===-1)&&(H._status=2,H._result=B)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var fe={current:null},J={transition:null},he={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:P};function O(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:me,forEach:function(H,ie,B){me(H,function(){ie.apply(this,arguments)},B)},count:function(H){var ie=0;return me(H,function(){ie++}),ie},toArray:function(H){return me(H,function(ie){return ie})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},mt.Component=T,mt.Fragment=n,mt.Profiler=a,mt.PureComponent=A,mt.StrictMode=r,mt.Suspense=c,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,mt.act=O,mt.cloneElement=function(H,ie,B){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Re=_({},H.props),Pe=H.key,Le=H.ref,Ve=H._owner;if(ie!=null){if(ie.ref!==void 0&&(Le=ie.ref,Ve=P.current),ie.key!==void 0&&(Pe=""+ie.key),H.type&&H.type.defaultProps)var Fe=H.type.defaultProps;for(et in ie)M.call(ie,et)&&!j.hasOwnProperty(et)&&(Re[et]=ie[et]===void 0&&Fe!==void 0?Fe[et]:ie[et])}var et=arguments.length-2;if(et===1)Re.children=B;else if(1<et){Fe=Array(et);for(var dt=0;dt<et;dt++)Fe[dt]=arguments[dt+2];Re.children=Fe}return{$$typeof:e,type:H.type,key:Pe,ref:Le,props:Re,_owner:Ve}},mt.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},mt.createElement=K,mt.createFactory=function(H){var ie=K.bind(null,H);return ie.type=H,ie},mt.createRef=function(){return{current:null}},mt.forwardRef=function(H){return{$$typeof:u,render:H}},mt.isValidElement=G,mt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:be}},mt.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},mt.startTransition=function(H){var ie=J.transition;J.transition={};try{H()}finally{J.transition=ie}},mt.unstable_act=O,mt.useCallback=function(H,ie){return fe.current.useCallback(H,ie)},mt.useContext=function(H){return fe.current.useContext(H)},mt.useDebugValue=function(){},mt.useDeferredValue=function(H){return fe.current.useDeferredValue(H)},mt.useEffect=function(H,ie){return fe.current.useEffect(H,ie)},mt.useId=function(){return fe.current.useId()},mt.useImperativeHandle=function(H,ie,B){return fe.current.useImperativeHandle(H,ie,B)},mt.useInsertionEffect=function(H,ie){return fe.current.useInsertionEffect(H,ie)},mt.useLayoutEffect=function(H,ie){return fe.current.useLayoutEffect(H,ie)},mt.useMemo=function(H,ie){return fe.current.useMemo(H,ie)},mt.useReducer=function(H,ie,B){return fe.current.useReducer(H,ie,B)},mt.useRef=function(H){return fe.current.useRef(H)},mt.useState=function(H){return fe.current.useState(H)},mt.useSyncExternalStore=function(H,ie,B){return fe.current.useSyncExternalStore(H,ie,B)},mt.useTransition=function(){return fe.current.useTransition()},mt.version="18.3.1",mt}var G$;function a1(){return G$||(G$=1,hf.exports=XI()),hf.exports}var H$;function QI(){if(H$)return Yl;H$=1;var e=a1(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,d){var m,f={},h=null,b=null;d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(b=c.ref);for(m in c)r.call(c,m)&&!i.hasOwnProperty(m)&&(f[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)f[m]===void 0&&(f[m]=c[m]);return{$$typeof:t,type:u,key:h,ref:b,props:f,_owner:a.current}}return Yl.Fragment=n,Yl.jsx=s,Yl.jsxs=s,Yl}var V$;function ZI(){return V$||(V$=1,ff.exports=QI()),ff.exports}var $=ZI(),wd={},gf={exports:{}},ur={},bf={exports:{}},vf={};var q$;function JI(){return q$||(q$=1,(function(e){function t(J,he){var O=J.length;J.push(he);e:for(;0<O;){var H=O-1>>>1,ie=J[H];if(0<a(ie,he))J[H]=he,J[O]=ie,O=H;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var he=J[0],O=J.pop();if(O!==he){J[0]=O;e:for(var H=0,ie=J.length,B=ie>>>1;H<B;){var Re=2*(H+1)-1,Pe=J[Re],Le=Re+1,Ve=J[Le];if(0>a(Pe,O))Le<ie&&0>a(Ve,Pe)?(J[H]=Ve,J[Le]=O,H=Le):(J[H]=Pe,J[Re]=O,H=Re);else if(Le<ie&&0>a(Ve,O))J[H]=Ve,J[Le]=O,H=Le;else break e}}return he}function a(J,he){var O=J.sortIndex-he.sortIndex;return O!==0?O:J.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],m=1,f=null,h=3,b=!1,_=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=J)r(d),he.sortIndex=he.expirationTime,t(c,he);else break;he=n(d)}}function R(J){if(x=!1,C(J),!_)if(n(c)!==null)_=!0,be(M);else{var he=n(d);he!==null&&fe(R,he.startTime-J)}}function M(J,he){_=!1,x&&(x=!1,S(K),K=-1),b=!0;var O=h;try{for(C(he),f=n(c);f!==null&&(!(f.expirationTime>he)||J&&!Q());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var ie=H(f.expirationTime<=he);he=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&r(c),C(he)}else r(c);f=n(c)}if(f!==null)var B=!0;else{var Re=n(d);Re!==null&&fe(R,Re.startTime-he),B=!1}return B}finally{f=null,h=O,b=!1}}var P=!1,j=null,K=-1,ee=5,G=-1;function Q(){return!(e.unstable_now()-G<ee)}function re(){if(j!==null){var J=e.unstable_now();G=J;var he=!0;try{he=j(!0,J)}finally{he?ae():(P=!1,j=null)}}else P=!1}var ae;if(typeof A=="function")ae=function(){A(re)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,me=ne.port2;ne.port1.onmessage=re,ae=function(){me.postMessage(null)}}else ae=function(){T(re,0)};function be(J){j=J,P||(P=!0,ae())}function fe(J,he){K=T(function(){J(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){_||b||(_=!0,be(M))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(J){switch(h){case 1:case 2:case 3:var he=3;break;default:he=h}var O=h;h=he;try{return J()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,he){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var O=h;h=J;try{return he()}finally{h=O}},e.unstable_scheduleCallback=function(J,he,O){var H=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?H+O:H):O=H,J){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=O+ie,J={id:m++,callback:he,priorityLevel:J,startTime:O,expirationTime:ie,sortIndex:-1},O>H?(J.sortIndex=O,t(d,J),n(c)===null&&J===n(d)&&(x?(S(K),K=-1):x=!0,fe(R,O-H))):(J.sortIndex=ie,t(c,J),_||b||(_=!0,be(M))),J},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(J){var he=h;return function(){var O=h;h=he;try{return J.apply(this,arguments)}finally{h=O}}}})(vf)),vf}var W$;function eL(){return W$||(W$=1,bf.exports=JI()),bf.exports}var Y$;function tL(){if(Y$)return ur;Y$=1;var e=a1(),t=eL();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(a[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function h(o){return c.call(f,o)?!0:c.call(m,o)?!1:d.test(o)?f[o]=!0:(m[o]=!0,!1)}function b(o,l,p,g){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,p,g){if(l===null||typeof l>"u"||b(o,l,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,p,g,y,E,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=p,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=L}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];T[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(S,A);T[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(S,A);T[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(S,A);T[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,l,p,g){var y=T.hasOwnProperty(l)?T[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,p,y,g)&&(p=null),g||y===null?h(l)&&(p===null?o.removeAttribute(l):o.setAttribute(l,""+p)):y.mustUseProperty?o[y.propertyName]=p===null?y.type===3?!1:"":p:(l=y.attributeName,g=y.attributeNamespace,p===null?o.removeAttribute(l):(y=y.type,p=y===3||y===4&&p===!0?"":""+p,g?o.setAttributeNS(g,l,p):o.setAttribute(l,p))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),P=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function he(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var O=Object.assign,H;function ie(o){if(H===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+o}var B=!1;function Re(o,l){if(!o||B)return"";B=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(de){var g=de}Reflect.construct(o,[],l)}else{try{l.call()}catch(de){g=de}o.call(l.prototype)}else{try{throw Error()}catch(de){g=de}o()}}catch(de){if(de&&g&&typeof de.stack=="string"){for(var y=de.stack.split(`
`),E=g.stack.split(`
`),L=y.length-1,V=E.length-1;1<=L&&0<=V&&y[L]!==E[V];)V--;for(;1<=L&&0<=V;L--,V--)if(y[L]!==E[V]){if(L!==1||V!==1)do if(L--,V--,0>V||y[L]!==E[V]){var X=`
`+y[L].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=L&&0<=V);break}}}finally{B=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?ie(o):""}function Pe(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=Re(o.type,!1),o;case 11:return o=Re(o.type.render,!1),o;case 1:return o=Re(o.type,!0),o;default:return""}}function Le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case P:return"Portal";case ee:return"Profiler";case K:return"StrictMode";case ae:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case re:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case me:return l=o.displayName||null,l!==null?l:Le(o.type)||"Memo";case be:l=o._payload,o=o._init;try{return Le(o(l))}catch{}}return null}function Ve(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(l);case 8:return l===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function et(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dt(o){var l=et(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,E=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(L){g=""+L,E.call(this,L)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ot(o){o._valueTracker||(o._valueTracker=dt(o))}function jn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var p=l.getValue(),g="";return o&&(g=et(o)?o.checked?"true":"false":o.value),o=g,o!==p?(l.setValue(o),!0):!1}function qe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Gn(o,l){var p=l.checked;return O({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function er(o,l){var p=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;p=Fe(l.value!=null?l.value:p),o._wrapperState={initialChecked:g,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function un(o,l){l=l.checked,l!=null&&C(o,"checked",l,!1)}function tr(o,l){un(o,l);var p=Fe(l.value),g=l.type;if(p!=null)g==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?_t(o,l.type,p):l.hasOwnProperty("defaultValue")&&_t(o,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function gr(o,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,p||l===o.value||(o.value=l),o.defaultValue=l}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function _t(o,l,p){(l!=="number"||qe(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var vn=Array.isArray;function Rr(o,l,p,g){if(o=o.options,l){l={};for(var y=0;y<p.length;y++)l["$"+p[y]]=!0;for(p=0;p<o.length;p++)y=l.hasOwnProperty("$"+o[p].value),o[p].selected!==y&&(o[p].selected=y),y&&g&&(o[p].defaultSelected=!0)}else{for(p=""+Fe(p),l=null,y=0;y<o.length;y++){if(o[y].value===p){o[y].selected=!0,g&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function br(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return O({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Zr(o,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(vn(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}o._wrapperState={initialValue:Fe(p)}}function za(o,l){var p=Fe(l.value),g=Fe(l.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),l.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),g!=null&&(o.defaultValue=""+g)}function ja(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ge(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ge(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ke,tt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,g,y){MSApp.execUnsafeLocalFunction(function(){return o(l,p,g,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ke.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function pt(o,l){if(l){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=l;return}}o.textContent=l}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hn=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(o){Hn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),It[l]=It[o]})});function Sn(o,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||It.hasOwnProperty(o)&&It[o]?(""+l).trim():l+"px"}function Dr(o,l){o=o.style;for(var p in l)if(l.hasOwnProperty(p)){var g=p.indexOf("--")===0,y=Sn(p,l[p],g);p==="float"&&(p="cssFloat"),g?o.setProperty(p,y):o[p]=y}}var vr=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(o,l){if(l){if(vr[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function nr(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function He(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var We=null,ot=null,it=null;function en(o){if(o=Rl(o)){if(typeof We!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Mc(l),We(o.stateNode,o.type,l))}}function tn(o){ot?it?it.push(o):it=[o]:ot=o}function In(){if(ot){var o=ot,l=it;if(it=ot=null,en(o),l)for(o=0;o<l.length;o++)en(l[o])}}function rr(o,l){return o(l)}function ga(){}var Or=!1;function yr(o,l,p){if(Or)return o(l,p);Or=!0;try{return rr(o,l,p)}finally{Or=!1,(ot!==null||it!==null)&&(ga(),In())}}function ba(o,l){var p=o.stateNode;if(p===null)return null;var g=Mc(p);if(g===null)return null;p=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var zo=!1;if(u)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){zo=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{zo=!1}function tC(o,l,p,g,y,E,L,V,X){var de=Array.prototype.slice.call(arguments,3);try{l.apply(p,de)}catch(we){this.onError(we)}}var fl=!1,hc=null,gc=!1,Lm=null,nC={onError:function(o){fl=!0,hc=o}};function rC(o,l,p,g,y,E,L,V,X){fl=!1,hc=null,tC.apply(nC,arguments)}function aC(o,l,p,g,y,E,L,V,X){if(rC.apply(this,arguments),fl){if(fl){var de=hc;fl=!1,hc=null}else throw Error(n(198));gc||(gc=!0,Lm=de)}}function ao(o){var l=o,p=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(p=l.return),o=l.return;while(o)}return l.tag===3?p:null}function dw(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function pw(o){if(ao(o)!==o)throw Error(n(188))}function iC(o){var l=o.alternate;if(!l){if(l=ao(o),l===null)throw Error(n(188));return l!==o?null:o}for(var p=o,g=l;;){var y=p.return;if(y===null)break;var E=y.alternate;if(E===null){if(g=y.return,g!==null){p=g;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===p)return pw(y),o;if(E===g)return pw(y),l;E=E.sibling}throw Error(n(188))}if(p.return!==g.return)p=y,g=E;else{for(var L=!1,V=y.child;V;){if(V===p){L=!0,p=y,g=E;break}if(V===g){L=!0,g=y,p=E;break}V=V.sibling}if(!L){for(V=E.child;V;){if(V===p){L=!0,p=E,g=y;break}if(V===g){L=!0,g=E,p=y;break}V=V.sibling}if(!L)throw Error(n(189))}}if(p.alternate!==g)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:l}function mw(o){return o=iC(o),o!==null?fw(o):null}function fw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=fw(o);if(l!==null)return l;o=o.sibling}return null}var hw=t.unstable_scheduleCallback,gw=t.unstable_cancelCallback,oC=t.unstable_shouldYield,sC=t.unstable_requestPaint,Xt=t.unstable_now,lC=t.unstable_getCurrentPriorityLevel,Rm=t.unstable_ImmediatePriority,bw=t.unstable_UserBlockingPriority,bc=t.unstable_NormalPriority,uC=t.unstable_LowPriority,vw=t.unstable_IdlePriority,vc=null,va=null;function cC(o){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(vc,o,void 0,(o.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:mC,dC=Math.log,pC=Math.LN2;function mC(o){return o>>>=0,o===0?32:31-(dC(o)/pC|0)|0}var yc=64,xc=4194304;function hl(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function _c(o,l){var p=o.pendingLanes;if(p===0)return 0;var g=0,y=o.suspendedLanes,E=o.pingedLanes,L=p&268435455;if(L!==0){var V=L&~y;V!==0?g=hl(V):(E&=L,E!==0&&(g=hl(E)))}else L=p&~y,L!==0?g=hl(L):E!==0&&(g=hl(E));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,E=l&-l,y>=E||y===16&&(E&4194240)!==0))return l;if((g&4)!==0&&(g|=p&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)p=31-Jr(l),y=1<<p,g|=o[p],l&=~y;return g}function fC(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hC(o,l){for(var p=o.suspendedLanes,g=o.pingedLanes,y=o.expirationTimes,E=o.pendingLanes;0<E;){var L=31-Jr(E),V=1<<L,X=y[L];X===-1?((V&p)===0||(V&g)!==0)&&(y[L]=fC(V,l)):X<=l&&(o.expiredLanes|=V),E&=~V}}function Dm(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yw(){var o=yc;return yc<<=1,(yc&4194240)===0&&(yc=64),o}function Om(o){for(var l=[],p=0;31>p;p++)l.push(o);return l}function gl(o,l,p){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Jr(l),o[l]=p}function gC(o,l){var p=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<p;){var y=31-Jr(p),E=1<<y;l[y]=0,g[y]=-1,o[y]=-1,p&=~E}}function Um(o,l){var p=o.entangledLanes|=l;for(o=o.entanglements;p;){var g=31-Jr(p),y=1<<g;y&l|o[g]&l&&(o[g]|=l),p&=~y}}var wt=0;function xw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var _w,Mm,ww,$w,Ew,Pm=!1,wc=[],mi=null,fi=null,hi=null,bl=new Map,vl=new Map,gi=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sw(o,l){switch(o){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":bl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(l.pointerId)}}function yl(o,l,p,g,y,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:p,eventSystemFlags:g,nativeEvent:E,targetContainers:[y]},l!==null&&(l=Rl(l),l!==null&&Mm(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function vC(o,l,p,g,y){switch(l){case"focusin":return mi=yl(mi,o,l,p,g,y),!0;case"dragenter":return fi=yl(fi,o,l,p,g,y),!0;case"mouseover":return hi=yl(hi,o,l,p,g,y),!0;case"pointerover":var E=y.pointerId;return bl.set(E,yl(bl.get(E)||null,o,l,p,g,y)),!0;case"gotpointercapture":return E=y.pointerId,vl.set(E,yl(vl.get(E)||null,o,l,p,g,y)),!0}return!1}function Tw(o){var l=io(o.target);if(l!==null){var p=ao(l);if(p!==null){if(l=p.tag,l===13){if(l=dw(p),l!==null){o.blockedOn=l,Ew(o.priority,function(){ww(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $c(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var p=Bm(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var g=new p.constructor(p.type,p);xe=g,p.target.dispatchEvent(g),xe=null}else return l=Rl(p),l!==null&&Mm(l),o.blockedOn=p,!1;l.shift()}return!0}function kw(o,l,p){$c(o)&&p.delete(l)}function yC(){Pm=!1,mi!==null&&$c(mi)&&(mi=null),fi!==null&&$c(fi)&&(fi=null),hi!==null&&$c(hi)&&(hi=null),bl.forEach(kw),vl.forEach(kw)}function xl(o,l){o.blockedOn===l&&(o.blockedOn=null,Pm||(Pm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yC)))}function _l(o){function l(y){return xl(y,o)}if(0<wc.length){xl(wc[0],o);for(var p=1;p<wc.length;p++){var g=wc[p];g.blockedOn===o&&(g.blockedOn=null)}}for(mi!==null&&xl(mi,o),fi!==null&&xl(fi,o),hi!==null&&xl(hi,o),bl.forEach(l),vl.forEach(l),p=0;p<gi.length;p++)g=gi[p],g.blockedOn===o&&(g.blockedOn=null);for(;0<gi.length&&(p=gi[0],p.blockedOn===null);)Tw(p),p.blockedOn===null&&gi.shift()}var jo=R.ReactCurrentBatchConfig,Ec=!0;function xC(o,l,p,g){var y=wt,E=jo.transition;jo.transition=null;try{wt=1,Fm(o,l,p,g)}finally{wt=y,jo.transition=E}}function _C(o,l,p,g){var y=wt,E=jo.transition;jo.transition=null;try{wt=4,Fm(o,l,p,g)}finally{wt=y,jo.transition=E}}function Fm(o,l,p,g){if(Ec){var y=Bm(o,l,p,g);if(y===null)r0(o,l,g,Sc,p),Sw(o,g);else if(vC(y,o,l,p,g))g.stopPropagation();else if(Sw(o,g),l&4&&-1<bC.indexOf(o)){for(;y!==null;){var E=Rl(y);if(E!==null&&_w(E),E=Bm(o,l,p,g),E===null&&r0(o,l,g,Sc,p),E===y)break;y=E}y!==null&&g.stopPropagation()}else r0(o,l,g,null,p)}}var Sc=null;function Bm(o,l,p,g){if(Sc=null,o=He(g),o=io(o),o!==null)if(l=ao(o),l===null)o=null;else if(p=l.tag,p===13){if(o=dw(l),o!==null)return o;o=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Sc=o,null}function Aw(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case Rm:return 1;case bw:return 4;case bc:case uC:return 16;case vw:return 536870912;default:return 16}default:return 16}}var bi=null,zm=null,Tc=null;function Nw(){if(Tc)return Tc;var o,l=zm,p=l.length,g,y="value"in bi?bi.value:bi.textContent,E=y.length;for(o=0;o<p&&l[o]===y[o];o++);var L=p-o;for(g=1;g<=L&&l[p-g]===y[E-g];g++);return Tc=y.slice(o,1<g?1-g:void 0)}function kc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ac(){return!0}function Cw(){return!1}function xr(o){function l(p,g,y,E,L){this._reactName=p,this._targetInst=y,this.type=g,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(p=o[V],this[V]=p?p(E):E[V]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ac:Cw,this.isPropagationStopped=Cw,this}return O(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),l}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=xr(Go),wl=O({},Go,{view:0,detail:0}),wC=xr(wl),Gm,Hm,$l,Nc=O({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$l&&($l&&o.type==="mousemove"?(Gm=o.screenX-$l.screenX,Hm=o.screenY-$l.screenY):Hm=Gm=0,$l=o),Gm)},movementY:function(o){return"movementY"in o?o.movementY:Hm}}),Iw=xr(Nc),$C=O({},Nc,{dataTransfer:0}),EC=xr($C),SC=O({},wl,{relatedTarget:0}),Vm=xr(SC),TC=O({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),kC=xr(TC),AC=O({},Go,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),NC=xr(AC),CC=O({},Go,{data:0}),Lw=xr(CC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=RC[o])?!!l[o]:!1}function qm(){return DC}var OC=O({},wl,{key:function(o){if(o.key){var l=IC[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=kc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?LC[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(o){return o.type==="keypress"?kc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),UC=xr(OC),MC=O({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rw=xr(MC),PC=O({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),FC=xr(PC),BC=O({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),zC=xr(BC),jC=O({},Nc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GC=xr(jC),HC=[9,13,27,32],Wm=u&&"CompositionEvent"in window,El=null;u&&"documentMode"in document&&(El=document.documentMode);var VC=u&&"TextEvent"in window&&!El,Dw=u&&(!Wm||El&&8<El&&11>=El),Ow=" ",Uw=!1;function Mw(o,l){switch(o){case"keyup":return HC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ho=!1;function qC(o,l){switch(o){case"compositionend":return Pw(l);case"keypress":return l.which!==32?null:(Uw=!0,Ow);case"textInput":return o=l.data,o===Ow&&Uw?null:o;default:return null}}function WC(o,l){if(Ho)return o==="compositionend"||!Wm&&Mw(o,l)?(o=Nw(),Tc=zm=bi=null,Ho=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Dw&&l.locale!=="ko"?null:l.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!YC[o.type]:l==="textarea"}function Bw(o,l,p,g){tn(g),l=Dc(l,"onChange"),0<l.length&&(p=new jm("onChange","change",null,p,g),o.push({event:p,listeners:l}))}var Sl=null,Tl=null;function KC(o){a4(o,0)}function Cc(o){var l=Ko(o);if(jn(l))return o}function XC(o,l){if(o==="change")return l}var zw=!1;if(u){var Ym;if(u){var Km="oninput"in document;if(!Km){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Km=typeof jw.oninput=="function"}Ym=Km}else Ym=!1;zw=Ym&&(!document.documentMode||9<document.documentMode)}function Gw(){Sl&&(Sl.detachEvent("onpropertychange",Hw),Tl=Sl=null)}function Hw(o){if(o.propertyName==="value"&&Cc(Tl)){var l=[];Bw(l,Tl,o,He(o)),yr(KC,l)}}function QC(o,l,p){o==="focusin"?(Gw(),Sl=l,Tl=p,Sl.attachEvent("onpropertychange",Hw)):o==="focusout"&&Gw()}function ZC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cc(Tl)}function JC(o,l){if(o==="click")return Cc(l)}function eI(o,l){if(o==="input"||o==="change")return Cc(l)}function tI(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ea=typeof Object.is=="function"?Object.is:tI;function kl(o,l){if(ea(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var p=Object.keys(o),g=Object.keys(l);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var y=p[g];if(!c.call(l,y)||!ea(o[y],l[y]))return!1}return!0}function Vw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qw(o,l){var p=Vw(o);o=0;for(var g;p;){if(p.nodeType===3){if(g=o+p.textContent.length,o<=l&&g>=l)return{node:p,offset:l-o};o=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Vw(p)}}function Ww(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Ww(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Yw(){for(var o=window,l=qe();l instanceof o.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)o=l.contentWindow;else break;l=qe(o.document)}return l}function Xm(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function nI(o){var l=Yw(),p=o.focusedElem,g=o.selectionRange;if(l!==p&&p&&p.ownerDocument&&Ww(p.ownerDocument.documentElement,p)){if(g!==null&&Xm(p)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(o,p.value.length);else if(o=(l=p.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=p.textContent.length,E=Math.min(g.start,y);g=g.end===void 0?E:Math.min(g.end,y),!o.extend&&E>g&&(y=g,g=E,E=y),y=qw(p,E);var L=qw(p,g);y&&L&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),E>g?(o.addRange(l),o.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),o.addRange(l)))}}for(l=[],o=p;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)o=l[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rI=u&&"documentMode"in document&&11>=document.documentMode,Vo=null,Qm=null,Al=null,Zm=!1;function Kw(o,l,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Zm||Vo==null||Vo!==qe(g)||(g=Vo,"selectionStart"in g&&Xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Al&&kl(Al,g)||(Al=g,g=Dc(Qm,"onSelect"),0<g.length&&(l=new jm("onSelect","select",null,l,p),o.push({event:l,listeners:g}),l.target=Vo)))}function Ic(o,l){var p={};return p[o.toLowerCase()]=l.toLowerCase(),p["Webkit"+o]="webkit"+l,p["Moz"+o]="moz"+l,p}var qo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Jm={},Xw={};u&&(Xw=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Lc(o){if(Jm[o])return Jm[o];if(!qo[o])return o;var l=qo[o],p;for(p in l)if(l.hasOwnProperty(p)&&p in Xw)return Jm[o]=l[p];return o}var Qw=Lc("animationend"),Zw=Lc("animationiteration"),Jw=Lc("animationstart"),e4=Lc("transitionend"),t4=new Map,n4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(o,l){t4.set(o,l),i(l,[o])}for(var e0=0;e0<n4.length;e0++){var t0=n4[e0],aI=t0.toLowerCase(),iI=t0[0].toUpperCase()+t0.slice(1);vi(aI,"on"+iI)}vi(Qw,"onAnimationEnd"),vi(Zw,"onAnimationIteration"),vi(Jw,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(e4,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function r4(o,l,p){var g=o.type||"unknown-event";o.currentTarget=p,aC(g,l,void 0,o),o.currentTarget=null}function a4(o,l){l=(l&4)!==0;for(var p=0;p<o.length;p++){var g=o[p],y=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var L=g.length-1;0<=L;L--){var V=g[L],X=V.instance,de=V.currentTarget;if(V=V.listener,X!==E&&y.isPropagationStopped())break e;r4(y,V,de),E=X}else for(L=0;L<g.length;L++){if(V=g[L],X=V.instance,de=V.currentTarget,V=V.listener,X!==E&&y.isPropagationStopped())break e;r4(y,V,de),E=X}}}if(gc)throw o=Lm,gc=!1,Lm=null,o}function Lt(o,l){var p=l[u0];p===void 0&&(p=l[u0]=new Set);var g=o+"__bubble";p.has(g)||(i4(l,o,2,!1),p.add(g))}function n0(o,l,p){var g=0;l&&(g|=4),i4(p,o,g,l)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Cl(o){if(!o[Rc]){o[Rc]=!0,r.forEach(function(p){p!=="selectionchange"&&(oI.has(p)||n0(p,!1,o),n0(p,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Rc]||(l[Rc]=!0,n0("selectionchange",!1,l))}}function i4(o,l,p,g){switch(Aw(l)){case 1:var y=xC;break;case 4:y=_C;break;default:y=Fm}p=y.bind(null,l,p,o),y=void 0,!zo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?o.addEventListener(l,p,{capture:!0,passive:y}):o.addEventListener(l,p,!0):y!==void 0?o.addEventListener(l,p,{passive:y}):o.addEventListener(l,p,!1)}function r0(o,l,p,g,y){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var V=g.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(L===4)for(L=g.return;L!==null;){var X=L.tag;if((X===3||X===4)&&(X=L.stateNode.containerInfo,X===y||X.nodeType===8&&X.parentNode===y))return;L=L.return}for(;V!==null;){if(L=io(V),L===null)return;if(X=L.tag,X===5||X===6){g=E=L;continue e}V=V.parentNode}}g=g.return}yr(function(){var de=E,we=He(p),$e=[];e:{var ve=t4.get(o);if(ve!==void 0){var Oe=jm,Be=o;switch(o){case"keypress":if(kc(p)===0)break e;case"keydown":case"keyup":Oe=UC;break;case"focusin":Be="focus",Oe=Vm;break;case"focusout":Be="blur",Oe=Vm;break;case"beforeblur":case"afterblur":Oe=Vm;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=EC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=FC;break;case Qw:case Zw:case Jw:Oe=kC;break;case e4:Oe=zC;break;case"scroll":Oe=wC;break;case"wheel":Oe=GC;break;case"copy":case"cut":case"paste":Oe=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=Rw}var ze=(l&4)!==0,Qt=!ze&&o==="scroll",oe=ze?ve!==null?ve+"Capture":null:ve;ze=[];for(var te=de,ue;te!==null;){ue=te;var Ce=ue.stateNode;if(ue.tag===5&&Ce!==null&&(ue=Ce,oe!==null&&(Ce=ba(te,oe),Ce!=null&&ze.push(Il(te,Ce,ue)))),Qt)break;te=te.return}0<ze.length&&(ve=new Oe(ve,Be,null,p,we),$e.push({event:ve,listeners:ze}))}}if((l&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",Oe=o==="mouseout"||o==="pointerout",ve&&p!==xe&&(Be=p.relatedTarget||p.fromElement)&&(io(Be)||Be[Ga]))break e;if((Oe||ve)&&(ve=we.window===we?we:(ve=we.ownerDocument)?ve.defaultView||ve.parentWindow:window,Oe?(Be=p.relatedTarget||p.toElement,Oe=de,Be=Be?io(Be):null,Be!==null&&(Qt=ao(Be),Be!==Qt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Oe=null,Be=de),Oe!==Be)){if(ze=Iw,Ce="onMouseLeave",oe="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(ze=Rw,Ce="onPointerLeave",oe="onPointerEnter",te="pointer"),Qt=Oe==null?ve:Ko(Oe),ue=Be==null?ve:Ko(Be),ve=new ze(Ce,te+"leave",Oe,p,we),ve.target=Qt,ve.relatedTarget=ue,Ce=null,io(we)===de&&(ze=new ze(oe,te+"enter",Be,p,we),ze.target=ue,ze.relatedTarget=Qt,Ce=ze),Qt=Ce,Oe&&Be)t:{for(ze=Oe,oe=Be,te=0,ue=ze;ue;ue=Wo(ue))te++;for(ue=0,Ce=oe;Ce;Ce=Wo(Ce))ue++;for(;0<te-ue;)ze=Wo(ze),te--;for(;0<ue-te;)oe=Wo(oe),ue--;for(;te--;){if(ze===oe||oe!==null&&ze===oe.alternate)break t;ze=Wo(ze),oe=Wo(oe)}ze=null}else ze=null;Oe!==null&&o4($e,ve,Oe,ze,!1),Be!==null&&Qt!==null&&o4($e,Qt,Be,ze,!0)}}e:{if(ve=de?Ko(de):window,Oe=ve.nodeName&&ve.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ve.type==="file")var je=XC;else if(Fw(ve))if(zw)je=eI;else{je=ZC;var Xe=QC}else(Oe=ve.nodeName)&&Oe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(je=JC);if(je&&(je=je(o,de))){Bw($e,je,p,we);break e}Xe&&Xe(o,ve,de),o==="focusout"&&(Xe=ve._wrapperState)&&Xe.controlled&&ve.type==="number"&&_t(ve,"number",ve.value)}switch(Xe=de?Ko(de):window,o){case"focusin":(Fw(Xe)||Xe.contentEditable==="true")&&(Vo=Xe,Qm=de,Al=null);break;case"focusout":Al=Qm=Vo=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,Kw($e,p,we);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":Kw($e,p,we)}var Qe;if(Wm)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Ho?Mw(o,p)&&(at="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(at="onCompositionStart");at&&(Dw&&p.locale!=="ko"&&(Ho||at!=="onCompositionStart"?at==="onCompositionEnd"&&Ho&&(Qe=Nw()):(bi=we,zm="value"in bi?bi.value:bi.textContent,Ho=!0)),Xe=Dc(de,at),0<Xe.length&&(at=new Lw(at,o,null,p,we),$e.push({event:at,listeners:Xe}),Qe?at.data=Qe:(Qe=Pw(p),Qe!==null&&(at.data=Qe)))),(Qe=VC?qC(o,p):WC(o,p))&&(de=Dc(de,"onBeforeInput"),0<de.length&&(we=new Lw("onBeforeInput","beforeinput",null,p,we),$e.push({event:we,listeners:de}),we.data=Qe))}a4($e,l)})}function Il(o,l,p){return{instance:o,listener:l,currentTarget:p}}function Dc(o,l){for(var p=l+"Capture",g=[];o!==null;){var y=o,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=ba(o,p),E!=null&&g.unshift(Il(o,E,y)),E=ba(o,l),E!=null&&g.push(Il(o,E,y))),o=o.return}return g}function Wo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function o4(o,l,p,g,y){for(var E=l._reactName,L=[];p!==null&&p!==g;){var V=p,X=V.alternate,de=V.stateNode;if(X!==null&&X===g)break;V.tag===5&&de!==null&&(V=de,y?(X=ba(p,E),X!=null&&L.unshift(Il(p,X,V))):y||(X=ba(p,E),X!=null&&L.push(Il(p,X,V)))),p=p.return}L.length!==0&&o.push({event:l,listeners:L})}var sI=/\r\n?/g,lI=/\u0000|\uFFFD/g;function s4(o){return(typeof o=="string"?o:""+o).replace(sI,`
`).replace(lI,"")}function Oc(o,l,p){if(l=s4(l),s4(o)!==l&&p)throw Error(n(425))}function Uc(){}var a0=null,i0=null;function o0(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,uI=typeof clearTimeout=="function"?clearTimeout:void 0,l4=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof l4<"u"?function(o){return l4.resolve(null).then(o).catch(dI)}:s0;function dI(o){setTimeout(function(){throw o})}function l0(o,l){var p=l,g=0;do{var y=p.nextSibling;if(o.removeChild(p),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(g===0){o.removeChild(y),_l(l);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=y}while(p);_l(l)}function yi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function u4(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return o;l--}else p==="/$"&&l++}o=o.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),ya="__reactFiber$"+Yo,Ll="__reactProps$"+Yo,Ga="__reactContainer$"+Yo,u0="__reactEvents$"+Yo,pI="__reactListeners$"+Yo,mI="__reactHandles$"+Yo;function io(o){var l=o[ya];if(l)return l;for(var p=o.parentNode;p;){if(l=p[Ga]||p[ya]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(o=u4(o);o!==null;){if(p=o[ya])return p;o=u4(o)}return l}o=p,p=o.parentNode}return null}function Rl(o){return o=o[ya]||o[Ga],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ko(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Mc(o){return o[Ll]||null}var c0=[],Xo=-1;function xi(o){return{current:o}}function Rt(o){0>Xo||(o.current=c0[Xo],c0[Xo]=null,Xo--)}function kt(o,l){Xo++,c0[Xo]=o.current,o.current=l}var _i={},Ln=xi(_i),ar=xi(!1),oo=_i;function Qo(o,l){var p=o.type.contextTypes;if(!p)return _i;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in p)y[E]=l[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function ir(o){return o=o.childContextTypes,o!=null}function Pc(){Rt(ar),Rt(Ln)}function c4(o,l,p){if(Ln.current!==_i)throw Error(n(168));kt(Ln,l),kt(ar,p)}function d4(o,l,p){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(n(108,Ve(o)||"Unknown",y));return O({},p,g)}function Fc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||_i,oo=Ln.current,kt(Ln,o),kt(ar,ar.current),!0}function p4(o,l,p){var g=o.stateNode;if(!g)throw Error(n(169));p?(o=d4(o,l,oo),g.__reactInternalMemoizedMergedChildContext=o,Rt(ar),Rt(Ln),kt(Ln,o)):Rt(ar),kt(ar,p)}var Ha=null,Bc=!1,d0=!1;function m4(o){Ha===null?Ha=[o]:Ha.push(o)}function fI(o){Bc=!0,m4(o)}function wi(){if(!d0&&Ha!==null){d0=!0;var o=0,l=wt;try{var p=Ha;for(wt=1;o<p.length;o++){var g=p[o];do g=g(!0);while(g!==null)}Ha=null,Bc=!1}catch(y){throw Ha!==null&&(Ha=Ha.slice(o+1)),hw(Rm,wi),y}finally{wt=l,d0=!1}}return null}var Zo=[],Jo=0,zc=null,jc=0,Ur=[],Mr=0,so=null,Va=1,qa="";function lo(o,l){Zo[Jo++]=jc,Zo[Jo++]=zc,zc=o,jc=l}function f4(o,l,p){Ur[Mr++]=Va,Ur[Mr++]=qa,Ur[Mr++]=so,so=o;var g=Va;o=qa;var y=32-Jr(g)-1;g&=~(1<<y),p+=1;var E=32-Jr(l)+y;if(30<E){var L=y-y%5;E=(g&(1<<L)-1).toString(32),g>>=L,y-=L,Va=1<<32-Jr(l)+y|p<<y|g,qa=E+o}else Va=1<<E|p<<y|g,qa=o}function p0(o){o.return!==null&&(lo(o,1),f4(o,1,0))}function m0(o){for(;o===zc;)zc=Zo[--Jo],Zo[Jo]=null,jc=Zo[--Jo],Zo[Jo]=null;for(;o===so;)so=Ur[--Mr],Ur[Mr]=null,qa=Ur[--Mr],Ur[Mr]=null,Va=Ur[--Mr],Ur[Mr]=null}var _r=null,wr=null,Ut=!1,ta=null;function h4(o,l){var p=zr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=o,l=o.deletions,l===null?(o.deletions=[p],o.flags|=16):l.push(p)}function g4(o,l){switch(o.tag){case 5:var p=o.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,_r=o,wr=yi(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,_r=o,wr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=so!==null?{id:Va,overflow:qa}:null,o.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=zr(18,null,null,0),p.stateNode=l,p.return=o,o.child=p,_r=o,wr=null,!0):!1;default:return!1}}function f0(o){return(o.mode&1)!==0&&(o.flags&128)===0}function h0(o){if(Ut){var l=wr;if(l){var p=l;if(!g4(o,l)){if(f0(o))throw Error(n(418));l=yi(p.nextSibling);var g=_r;l&&g4(o,l)?h4(g,p):(o.flags=o.flags&-4097|2,Ut=!1,_r=o)}}else{if(f0(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ut=!1,_r=o}}}function b4(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;_r=o}function Gc(o){if(o!==_r)return!1;if(!Ut)return b4(o),Ut=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!o0(o.type,o.memoizedProps)),l&&(l=wr)){if(f0(o))throw v4(),Error(n(418));for(;l;)h4(o,l),l=yi(l.nextSibling)}if(b4(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(l===0){wr=yi(o.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}o=o.nextSibling}wr=null}}else wr=_r?yi(o.stateNode.nextSibling):null;return!0}function v4(){for(var o=wr;o;)o=yi(o.nextSibling)}function es(){wr=_r=null,Ut=!1}function g0(o){ta===null?ta=[o]:ta.push(o)}var hI=R.ReactCurrentBatchConfig;function Dl(o,l,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var g=p.stateNode}if(!g)throw Error(n(147,o));var y=g,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(L){var V=y.refs;L===null?delete V[E]:V[E]=L},l._stringRef=E,l)}if(typeof o!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,o))}return o}function Hc(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function y4(o){var l=o._init;return l(o._payload)}function x4(o){function l(oe,te){if(o){var ue=oe.deletions;ue===null?(oe.deletions=[te],oe.flags|=16):ue.push(te)}}function p(oe,te){if(!o)return null;for(;te!==null;)l(oe,te),te=te.sibling;return null}function g(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function y(oe,te){return oe=Ci(oe,te),oe.index=0,oe.sibling=null,oe}function E(oe,te,ue){return oe.index=ue,o?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<te?(oe.flags|=2,te):ue):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function L(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function V(oe,te,ue,Ce){return te===null||te.tag!==6?(te=lf(ue,oe.mode,Ce),te.return=oe,te):(te=y(te,ue),te.return=oe,te)}function X(oe,te,ue,Ce){var je=ue.type;return je===j?we(oe,te,ue.props.children,Ce,ue.key):te!==null&&(te.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===be&&y4(je)===te.type)?(Ce=y(te,ue.props),Ce.ref=Dl(oe,te,ue),Ce.return=oe,Ce):(Ce=fd(ue.type,ue.key,ue.props,null,oe.mode,Ce),Ce.ref=Dl(oe,te,ue),Ce.return=oe,Ce)}function de(oe,te,ue,Ce){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=uf(ue,oe.mode,Ce),te.return=oe,te):(te=y(te,ue.children||[]),te.return=oe,te)}function we(oe,te,ue,Ce,je){return te===null||te.tag!==7?(te=bo(ue,oe.mode,Ce,je),te.return=oe,te):(te=y(te,ue),te.return=oe,te)}function $e(oe,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=lf(""+te,oe.mode,ue),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return ue=fd(te.type,te.key,te.props,null,oe.mode,ue),ue.ref=Dl(oe,null,te),ue.return=oe,ue;case P:return te=uf(te,oe.mode,ue),te.return=oe,te;case be:var Ce=te._init;return $e(oe,Ce(te._payload),ue)}if(vn(te)||he(te))return te=bo(te,oe.mode,ue,null),te.return=oe,te;Hc(oe,te)}return null}function ve(oe,te,ue,Ce){var je=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return je!==null?null:V(oe,te,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===je?X(oe,te,ue,Ce):null;case P:return ue.key===je?de(oe,te,ue,Ce):null;case be:return je=ue._init,ve(oe,te,je(ue._payload),Ce)}if(vn(ue)||he(ue))return je!==null?null:we(oe,te,ue,Ce,null);Hc(oe,ue)}return null}function Oe(oe,te,ue,Ce,je){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return oe=oe.get(ue)||null,V(te,oe,""+Ce,je);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case M:return oe=oe.get(Ce.key===null?ue:Ce.key)||null,X(te,oe,Ce,je);case P:return oe=oe.get(Ce.key===null?ue:Ce.key)||null,de(te,oe,Ce,je);case be:var Xe=Ce._init;return Oe(oe,te,ue,Xe(Ce._payload),je)}if(vn(Ce)||he(Ce))return oe=oe.get(ue)||null,we(te,oe,Ce,je,null);Hc(te,Ce)}return null}function Be(oe,te,ue,Ce){for(var je=null,Xe=null,Qe=te,at=te=0,_n=null;Qe!==null&&at<ue.length;at++){Qe.index>at?(_n=Qe,Qe=null):_n=Qe.sibling;var xt=ve(oe,Qe,ue[at],Ce);if(xt===null){Qe===null&&(Qe=_n);break}o&&Qe&&xt.alternate===null&&l(oe,Qe),te=E(xt,te,at),Xe===null?je=xt:Xe.sibling=xt,Xe=xt,Qe=_n}if(at===ue.length)return p(oe,Qe),Ut&&lo(oe,at),je;if(Qe===null){for(;at<ue.length;at++)Qe=$e(oe,ue[at],Ce),Qe!==null&&(te=E(Qe,te,at),Xe===null?je=Qe:Xe.sibling=Qe,Xe=Qe);return Ut&&lo(oe,at),je}for(Qe=g(oe,Qe);at<ue.length;at++)_n=Oe(Qe,oe,at,ue[at],Ce),_n!==null&&(o&&_n.alternate!==null&&Qe.delete(_n.key===null?at:_n.key),te=E(_n,te,at),Xe===null?je=_n:Xe.sibling=_n,Xe=_n);return o&&Qe.forEach(function(Ii){return l(oe,Ii)}),Ut&&lo(oe,at),je}function ze(oe,te,ue,Ce){var je=he(ue);if(typeof je!="function")throw Error(n(150));if(ue=je.call(ue),ue==null)throw Error(n(151));for(var Xe=je=null,Qe=te,at=te=0,_n=null,xt=ue.next();Qe!==null&&!xt.done;at++,xt=ue.next()){Qe.index>at?(_n=Qe,Qe=null):_n=Qe.sibling;var Ii=ve(oe,Qe,xt.value,Ce);if(Ii===null){Qe===null&&(Qe=_n);break}o&&Qe&&Ii.alternate===null&&l(oe,Qe),te=E(Ii,te,at),Xe===null?je=Ii:Xe.sibling=Ii,Xe=Ii,Qe=_n}if(xt.done)return p(oe,Qe),Ut&&lo(oe,at),je;if(Qe===null){for(;!xt.done;at++,xt=ue.next())xt=$e(oe,xt.value,Ce),xt!==null&&(te=E(xt,te,at),Xe===null?je=xt:Xe.sibling=xt,Xe=xt);return Ut&&lo(oe,at),je}for(Qe=g(oe,Qe);!xt.done;at++,xt=ue.next())xt=Oe(Qe,oe,at,xt.value,Ce),xt!==null&&(o&&xt.alternate!==null&&Qe.delete(xt.key===null?at:xt.key),te=E(xt,te,at),Xe===null?je=xt:Xe.sibling=xt,Xe=xt);return o&&Qe.forEach(function(YI){return l(oe,YI)}),Ut&&lo(oe,at),je}function Qt(oe,te,ue,Ce){if(typeof ue=="object"&&ue!==null&&ue.type===j&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var je=ue.key,Xe=te;Xe!==null;){if(Xe.key===je){if(je=ue.type,je===j){if(Xe.tag===7){p(oe,Xe.sibling),te=y(Xe,ue.props.children),te.return=oe,oe=te;break e}}else if(Xe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===be&&y4(je)===Xe.type){p(oe,Xe.sibling),te=y(Xe,ue.props),te.ref=Dl(oe,Xe,ue),te.return=oe,oe=te;break e}p(oe,Xe);break}else l(oe,Xe);Xe=Xe.sibling}ue.type===j?(te=bo(ue.props.children,oe.mode,Ce,ue.key),te.return=oe,oe=te):(Ce=fd(ue.type,ue.key,ue.props,null,oe.mode,Ce),Ce.ref=Dl(oe,te,ue),Ce.return=oe,oe=Ce)}return L(oe);case P:e:{for(Xe=ue.key;te!==null;){if(te.key===Xe)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){p(oe,te.sibling),te=y(te,ue.children||[]),te.return=oe,oe=te;break e}else{p(oe,te);break}else l(oe,te);te=te.sibling}te=uf(ue,oe.mode,Ce),te.return=oe,oe=te}return L(oe);case be:return Xe=ue._init,Qt(oe,te,Xe(ue._payload),Ce)}if(vn(ue))return Be(oe,te,ue,Ce);if(he(ue))return ze(oe,te,ue,Ce);Hc(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(p(oe,te.sibling),te=y(te,ue),te.return=oe,oe=te):(p(oe,te),te=lf(ue,oe.mode,Ce),te.return=oe,oe=te),L(oe)):p(oe,te)}return Qt}var ts=x4(!0),_4=x4(!1),Vc=xi(null),qc=null,ns=null,b0=null;function v0(){b0=ns=qc=null}function y0(o){var l=Vc.current;Rt(Vc),o._currentValue=l}function x0(o,l,p){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===p)break;o=o.return}}function rs(o,l){qc=o,b0=ns=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(or=!0),o.firstContext=null)}function Pr(o){var l=o._currentValue;if(b0!==o)if(o={context:o,memoizedValue:l,next:null},ns===null){if(qc===null)throw Error(n(308));ns=o,qc.dependencies={lanes:0,firstContext:o}}else ns=ns.next=o;return l}var uo=null;function _0(o){uo===null?uo=[o]:uo.push(o)}function w4(o,l,p,g){var y=l.interleaved;return y===null?(p.next=p,_0(l)):(p.next=y.next,y.next=p),l.interleaved=p,Wa(o,g)}function Wa(o,l){o.lanes|=l;var p=o.alternate;for(p!==null&&(p.lanes|=l),p=o,o=o.return;o!==null;)o.childLanes|=l,p=o.alternate,p!==null&&(p.childLanes|=l),p=o,o=o.return;return p.tag===3?p.stateNode:null}var $i=!1;function w0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $4(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ya(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ei(o,l,p){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(vt&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,Wa(o,p)}return y=g.interleaved,y===null?(l.next=l,_0(g)):(l.next=y.next,y.next=l),g.interleaved=l,Wa(o,p)}function Wc(o,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,p|=g,l.lanes=p,Um(o,p)}}function E4(o,l){var p=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var y=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var L={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?y=E=L:E=E.next=L,p=p.next}while(p!==null);E===null?y=E=l:E=E.next=l}else y=E=l;p={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=l:o.next=l,p.lastBaseUpdate=l}function Yc(o,l,p,g){var y=o.updateQueue;$i=!1;var E=y.firstBaseUpdate,L=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var X=V,de=X.next;X.next=null,L===null?E=de:L.next=de,L=X;var we=o.alternate;we!==null&&(we=we.updateQueue,V=we.lastBaseUpdate,V!==L&&(V===null?we.firstBaseUpdate=de:V.next=de,we.lastBaseUpdate=X))}if(E!==null){var $e=y.baseState;L=0,we=de=X=null,V=E;do{var ve=V.lane,Oe=V.eventTime;if((g&ve)===ve){we!==null&&(we=we.next={eventTime:Oe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Be=o,ze=V;switch(ve=l,Oe=p,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){$e=Be.call(Oe,$e,ve);break e}$e=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,ve=typeof Be=="function"?Be.call(Oe,$e,ve):Be,ve==null)break e;$e=O({},$e,ve);break e;case 2:$i=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,ve=y.effects,ve===null?y.effects=[V]:ve.push(V))}else Oe={eventTime:Oe,lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},we===null?(de=we=Oe,X=$e):we=we.next=Oe,L|=ve;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ve=V,V=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(we===null&&(X=$e),y.baseState=X,y.firstBaseUpdate=de,y.lastBaseUpdate=we,l=y.shared.interleaved,l!==null){y=l;do L|=y.lane,y=y.next;while(y!==l)}else E===null&&(y.shared.lanes=0);mo|=L,o.lanes=L,o.memoizedState=$e}}function S4(o,l,p){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],y=g.callback;if(y!==null){if(g.callback=null,g=p,typeof y!="function")throw Error(n(191,y));y.call(g)}}}var Ol={},xa=xi(Ol),Ul=xi(Ol),Ml=xi(Ol);function co(o){if(o===Ol)throw Error(n(174));return o}function $0(o,l){switch(kt(Ml,l),kt(Ul,o),kt(xa,Ol),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Te(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Te(l,o)}Rt(xa),kt(xa,l)}function as(){Rt(xa),Rt(Ul),Rt(Ml)}function T4(o){co(Ml.current);var l=co(xa.current),p=Te(l,o.type);l!==p&&(kt(Ul,o),kt(xa,p))}function E0(o){Ul.current===o&&(Rt(xa),Rt(Ul))}var zt=xi(0);function Kc(o){for(var l=o;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var S0=[];function T0(){for(var o=0;o<S0.length;o++)S0[o]._workInProgressVersionPrimary=null;S0.length=0}var Xc=R.ReactCurrentDispatcher,k0=R.ReactCurrentBatchConfig,po=0,jt=null,cn=null,yn=null,Qc=!1,Pl=!1,Fl=0,gI=0;function Rn(){throw Error(n(321))}function A0(o,l){if(l===null)return!1;for(var p=0;p<l.length&&p<o.length;p++)if(!ea(o[p],l[p]))return!1;return!0}function N0(o,l,p,g,y,E){if(po=E,jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Xc.current=o===null||o.memoizedState===null?xI:_I,o=p(g,y),Pl){E=0;do{if(Pl=!1,Fl=0,25<=E)throw Error(n(301));E+=1,yn=cn=null,l.updateQueue=null,Xc.current=wI,o=p(g,y)}while(Pl)}if(Xc.current=ed,l=cn!==null&&cn.next!==null,po=0,yn=cn=jt=null,Qc=!1,l)throw Error(n(300));return o}function C0(){var o=Fl!==0;return Fl=0,o}function _a(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?jt.memoizedState=yn=o:yn=yn.next=o,yn}function Fr(){if(cn===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=cn.next;var l=yn===null?jt.memoizedState:yn.next;if(l!==null)yn=l,cn=o;else{if(o===null)throw Error(n(310));cn=o,o={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},yn===null?jt.memoizedState=yn=o:yn=yn.next=o}return yn}function Bl(o,l){return typeof l=="function"?l(o):l}function I0(o){var l=Fr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var g=cn,y=g.baseQueue,E=p.pending;if(E!==null){if(y!==null){var L=y.next;y.next=E.next,E.next=L}g.baseQueue=y=E,p.pending=null}if(y!==null){E=y.next,g=g.baseState;var V=L=null,X=null,de=E;do{var we=de.lane;if((po&we)===we)X!==null&&(X=X.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),g=de.hasEagerState?de.eagerState:o(g,de.action);else{var $e={lane:we,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};X===null?(V=X=$e,L=g):X=X.next=$e,jt.lanes|=we,mo|=we}de=de.next}while(de!==null&&de!==E);X===null?L=g:X.next=V,ea(g,l.memoizedState)||(or=!0),l.memoizedState=g,l.baseState=L,l.baseQueue=X,p.lastRenderedState=g}if(o=p.interleaved,o!==null){y=o;do E=y.lane,jt.lanes|=E,mo|=E,y=y.next;while(y!==o)}else y===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function L0(o){var l=Fr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var g=p.dispatch,y=p.pending,E=l.memoizedState;if(y!==null){p.pending=null;var L=y=y.next;do E=o(E,L.action),L=L.next;while(L!==y);ea(E,l.memoizedState)||(or=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),p.lastRenderedState=E}return[E,g]}function k4(){}function A4(o,l){var p=jt,g=Fr(),y=l(),E=!ea(g.memoizedState,y);if(E&&(g.memoizedState=y,or=!0),g=g.queue,R0(I4.bind(null,p,g,o),[o]),g.getSnapshot!==l||E||yn!==null&&yn.memoizedState.tag&1){if(p.flags|=2048,zl(9,C4.bind(null,p,g,y,l),void 0,null),xn===null)throw Error(n(349));(po&30)!==0||N4(p,l,y)}return y}function N4(o,l,p){o.flags|=16384,o={getSnapshot:l,value:p},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.stores=[o]):(p=l.stores,p===null?l.stores=[o]:p.push(o))}function C4(o,l,p,g){l.value=p,l.getSnapshot=g,L4(l)&&R4(o)}function I4(o,l,p){return p(function(){L4(l)&&R4(o)})}function L4(o){var l=o.getSnapshot;o=o.value;try{var p=l();return!ea(o,p)}catch{return!0}}function R4(o){var l=Wa(o,1);l!==null&&ia(l,o,1,-1)}function D4(o){var l=_a();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:o},l.queue=o,o=o.dispatch=yI.bind(null,jt,o),[l.memoizedState,o]}function zl(o,l,p,g){return o={tag:o,create:l,destroy:p,deps:g,next:null},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.lastEffect=o.next=o):(p=l.lastEffect,p===null?l.lastEffect=o.next=o:(g=p.next,p.next=o,o.next=g,l.lastEffect=o)),o}function O4(){return Fr().memoizedState}function Zc(o,l,p,g){var y=_a();jt.flags|=o,y.memoizedState=zl(1|l,p,void 0,g===void 0?null:g)}function Jc(o,l,p,g){var y=Fr();g=g===void 0?null:g;var E=void 0;if(cn!==null){var L=cn.memoizedState;if(E=L.destroy,g!==null&&A0(g,L.deps)){y.memoizedState=zl(l,p,E,g);return}}jt.flags|=o,y.memoizedState=zl(1|l,p,E,g)}function U4(o,l){return Zc(8390656,8,o,l)}function R0(o,l){return Jc(2048,8,o,l)}function M4(o,l){return Jc(4,2,o,l)}function P4(o,l){return Jc(4,4,o,l)}function F4(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function B4(o,l,p){return p=p!=null?p.concat([o]):null,Jc(4,4,F4.bind(null,l,o),p)}function D0(){}function z4(o,l){var p=Fr();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&A0(l,g[1])?g[0]:(p.memoizedState=[o,l],o)}function j4(o,l){var p=Fr();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&A0(l,g[1])?g[0]:(o=o(),p.memoizedState=[o,l],o)}function G4(o,l,p){return(po&21)===0?(o.baseState&&(o.baseState=!1,or=!0),o.memoizedState=p):(ea(p,l)||(p=yw(),jt.lanes|=p,mo|=p,o.baseState=!0),l)}function bI(o,l){var p=wt;wt=p!==0&&4>p?p:4,o(!0);var g=k0.transition;k0.transition={};try{o(!1),l()}finally{wt=p,k0.transition=g}}function H4(){return Fr().memoizedState}function vI(o,l,p){var g=Ai(o);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},V4(o))q4(l,p);else if(p=w4(o,l,p,g),p!==null){var y=qn();ia(p,o,g,y),W4(p,l,g)}}function yI(o,l,p){var g=Ai(o),y={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(V4(o))q4(l,y);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var L=l.lastRenderedState,V=E(L,p);if(y.hasEagerState=!0,y.eagerState=V,ea(V,L)){var X=l.interleaved;X===null?(y.next=y,_0(l)):(y.next=X.next,X.next=y),l.interleaved=y;return}}catch{}finally{}p=w4(o,l,y,g),p!==null&&(y=qn(),ia(p,o,g,y),W4(p,l,g))}}function V4(o){var l=o.alternate;return o===jt||l!==null&&l===jt}function q4(o,l){Pl=Qc=!0;var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}function W4(o,l,p){if((p&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,p|=g,l.lanes=p,Um(o,p)}}var ed={readContext:Pr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},xI={readContext:Pr,useCallback:function(o,l){return _a().memoizedState=[o,l===void 0?null:l],o},useContext:Pr,useEffect:U4,useImperativeHandle:function(o,l,p){return p=p!=null?p.concat([o]):null,Zc(4194308,4,F4.bind(null,l,o),p)},useLayoutEffect:function(o,l){return Zc(4194308,4,o,l)},useInsertionEffect:function(o,l){return Zc(4,2,o,l)},useMemo:function(o,l){var p=_a();return l=l===void 0?null:l,o=o(),p.memoizedState=[o,l],o},useReducer:function(o,l,p){var g=_a();return l=p!==void 0?p(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=vI.bind(null,jt,o),[g.memoizedState,o]},useRef:function(o){var l=_a();return o={current:o},l.memoizedState=o},useState:D4,useDebugValue:D0,useDeferredValue:function(o){return _a().memoizedState=o},useTransition:function(){var o=D4(!1),l=o[0];return o=bI.bind(null,o[1]),_a().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,p){var g=jt,y=_a();if(Ut){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),xn===null)throw Error(n(349));(po&30)!==0||N4(g,l,p)}y.memoizedState=p;var E={value:p,getSnapshot:l};return y.queue=E,U4(I4.bind(null,g,E,o),[o]),g.flags|=2048,zl(9,C4.bind(null,g,E,p,l),void 0,null),p},useId:function(){var o=_a(),l=xn.identifierPrefix;if(Ut){var p=qa,g=Va;p=(g&~(1<<32-Jr(g)-1)).toString(32)+p,l=":"+l+"R"+p,p=Fl++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=gI++,l=":"+l+"r"+p.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},_I={readContext:Pr,useCallback:z4,useContext:Pr,useEffect:R0,useImperativeHandle:B4,useInsertionEffect:M4,useLayoutEffect:P4,useMemo:j4,useReducer:I0,useRef:O4,useState:function(){return I0(Bl)},useDebugValue:D0,useDeferredValue:function(o){var l=Fr();return G4(l,cn.memoizedState,o)},useTransition:function(){var o=I0(Bl)[0],l=Fr().memoizedState;return[o,l]},useMutableSource:k4,useSyncExternalStore:A4,useId:H4,unstable_isNewReconciler:!1},wI={readContext:Pr,useCallback:z4,useContext:Pr,useEffect:R0,useImperativeHandle:B4,useInsertionEffect:M4,useLayoutEffect:P4,useMemo:j4,useReducer:L0,useRef:O4,useState:function(){return L0(Bl)},useDebugValue:D0,useDeferredValue:function(o){var l=Fr();return cn===null?l.memoizedState=o:G4(l,cn.memoizedState,o)},useTransition:function(){var o=L0(Bl)[0],l=Fr().memoizedState;return[o,l]},useMutableSource:k4,useSyncExternalStore:A4,useId:H4,unstable_isNewReconciler:!1};function na(o,l){if(o&&o.defaultProps){l=O({},l),o=o.defaultProps;for(var p in o)l[p]===void 0&&(l[p]=o[p]);return l}return l}function O0(o,l,p,g){l=o.memoizedState,p=p(g,l),p=p==null?l:O({},l,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var td={isMounted:function(o){return(o=o._reactInternals)?ao(o)===o:!1},enqueueSetState:function(o,l,p){o=o._reactInternals;var g=qn(),y=Ai(o),E=Ya(g,y);E.payload=l,p!=null&&(E.callback=p),l=Ei(o,E,y),l!==null&&(ia(l,o,y,g),Wc(l,o,y))},enqueueReplaceState:function(o,l,p){o=o._reactInternals;var g=qn(),y=Ai(o),E=Ya(g,y);E.tag=1,E.payload=l,p!=null&&(E.callback=p),l=Ei(o,E,y),l!==null&&(ia(l,o,y,g),Wc(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var p=qn(),g=Ai(o),y=Ya(p,g);y.tag=2,l!=null&&(y.callback=l),l=Ei(o,y,g),l!==null&&(ia(l,o,g,p),Wc(l,o,g))}};function Y4(o,l,p,g,y,E,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,L):l.prototype&&l.prototype.isPureReactComponent?!kl(p,g)||!kl(y,E):!0}function K4(o,l,p){var g=!1,y=_i,E=l.contextType;return typeof E=="object"&&E!==null?E=Pr(E):(y=ir(l)?oo:Ln.current,g=l.contextTypes,E=(g=g!=null)?Qo(o,y):_i),l=new l(p,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=td,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=E),l}function X4(o,l,p,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,g),l.state!==o&&td.enqueueReplaceState(l,l.state,null)}function U0(o,l,p,g){var y=o.stateNode;y.props=p,y.state=o.memoizedState,y.refs={},w0(o);var E=l.contextType;typeof E=="object"&&E!==null?y.context=Pr(E):(E=ir(l)?oo:Ln.current,y.context=Qo(o,E)),y.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(O0(o,l,E,p),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&td.enqueueReplaceState(y,y.state,null),Yc(o,p,y,g),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function is(o,l){try{var p="",g=l;do p+=Pe(g),g=g.return;while(g);var y=p}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:y,digest:null}}function M0(o,l,p){return{value:o,source:null,stack:p??null,digest:l??null}}function P0(o,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var $I=typeof WeakMap=="function"?WeakMap:Map;function Q4(o,l,p){p=Ya(-1,p),p.tag=3,p.payload={element:null};var g=l.value;return p.callback=function(){ld||(ld=!0,J0=g),P0(o,l)},p}function Z4(o,l,p){p=Ya(-1,p),p.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;p.payload=function(){return g(y)},p.callback=function(){P0(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){P0(o,l),typeof g!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),p}function J4(o,l,p){var g=o.pingCache;if(g===null){g=o.pingCache=new $I;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(p)||(y.add(p),o=MI.bind(null,o,l,p),l.then(o,o))}function e$(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function t$(o,l,p,g,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Ya(-1,1),l.tag=2,Ei(p,l,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var EI=R.ReactCurrentOwner,or=!1;function Vn(o,l,p,g){l.child=o===null?_4(l,null,p,g):ts(l,o.child,p,g)}function n$(o,l,p,g,y){p=p.render;var E=l.ref;return rs(l,y),g=N0(o,l,p,g,E,y),p=C0(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ka(o,l,y)):(Ut&&p&&p0(l),l.flags|=1,Vn(o,l,g,y),l.child)}function r$(o,l,p,g,y){if(o===null){var E=p.type;return typeof E=="function"&&!sf(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=E,a$(o,l,E,g,y)):(o=fd(p.type,null,g,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&y)===0){var L=E.memoizedProps;if(p=p.compare,p=p!==null?p:kl,p(L,g)&&o.ref===l.ref)return Ka(o,l,y)}return l.flags|=1,o=Ci(E,g),o.ref=l.ref,o.return=l,l.child=o}function a$(o,l,p,g,y){if(o!==null){var E=o.memoizedProps;if(kl(E,g)&&o.ref===l.ref)if(or=!1,l.pendingProps=g=E,(o.lanes&y)!==0)(o.flags&131072)!==0&&(or=!0);else return l.lanes=o.lanes,Ka(o,l,y)}return F0(o,l,p,g,y)}function i$(o,l,p){var g=l.pendingProps,y=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ss,$r),$r|=p;else{if((p&1073741824)===0)return o=E!==null?E.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,kt(ss,$r),$r|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:p,kt(ss,$r),$r|=g}else E!==null?(g=E.baseLanes|p,l.memoizedState=null):g=p,kt(ss,$r),$r|=g;return Vn(o,l,y,p),l.child}function o$(o,l){var p=l.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function F0(o,l,p,g,y){var E=ir(p)?oo:Ln.current;return E=Qo(l,E),rs(l,y),p=N0(o,l,p,g,E,y),g=C0(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ka(o,l,y)):(Ut&&g&&p0(l),l.flags|=1,Vn(o,l,p,y),l.child)}function s$(o,l,p,g,y){if(ir(p)){var E=!0;Fc(l)}else E=!1;if(rs(l,y),l.stateNode===null)rd(o,l),K4(l,p,g),U0(l,p,g,y),g=!0;else if(o===null){var L=l.stateNode,V=l.memoizedProps;L.props=V;var X=L.context,de=p.contextType;typeof de=="object"&&de!==null?de=Pr(de):(de=ir(p)?oo:Ln.current,de=Qo(l,de));var we=p.getDerivedStateFromProps,$e=typeof we=="function"||typeof L.getSnapshotBeforeUpdate=="function";$e||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(V!==g||X!==de)&&X4(l,L,g,de),$i=!1;var ve=l.memoizedState;L.state=ve,Yc(l,g,L,y),X=l.memoizedState,V!==g||ve!==X||ar.current||$i?(typeof we=="function"&&(O0(l,p,we,g),X=l.memoizedState),(V=$i||Y4(l,p,V,g,ve,X,de))?($e||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),L.props=g,L.state=X,L.context=de,g=V):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{L=l.stateNode,$4(o,l),V=l.memoizedProps,de=l.type===l.elementType?V:na(l.type,V),L.props=de,$e=l.pendingProps,ve=L.context,X=p.contextType,typeof X=="object"&&X!==null?X=Pr(X):(X=ir(p)?oo:Ln.current,X=Qo(l,X));var Oe=p.getDerivedStateFromProps;(we=typeof Oe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(V!==$e||ve!==X)&&X4(l,L,g,X),$i=!1,ve=l.memoizedState,L.state=ve,Yc(l,g,L,y);var Be=l.memoizedState;V!==$e||ve!==Be||ar.current||$i?(typeof Oe=="function"&&(O0(l,p,Oe,g),Be=l.memoizedState),(de=$i||Y4(l,p,de,g,ve,Be,X)||!1)?(we||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,Be,X),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,Be,X)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Be),L.props=g,L.state=Be,L.context=X,g=de):(typeof L.componentDidUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(l.flags|=1024),g=!1)}return B0(o,l,p,g,E,y)}function B0(o,l,p,g,y,E){o$(o,l);var L=(l.flags&128)!==0;if(!g&&!L)return y&&p4(l,p,!1),Ka(o,l,E);g=l.stateNode,EI.current=l;var V=L&&typeof p.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&L?(l.child=ts(l,o.child,null,E),l.child=ts(l,null,V,E)):Vn(o,l,V,E),l.memoizedState=g.state,y&&p4(l,p,!0),l.child}function l$(o){var l=o.stateNode;l.pendingContext?c4(o,l.pendingContext,l.pendingContext!==l.context):l.context&&c4(o,l.context,!1),$0(o,l.containerInfo)}function u$(o,l,p,g,y){return es(),g0(y),l.flags|=256,Vn(o,l,p,g),l.child}var z0={dehydrated:null,treeContext:null,retryLane:0};function j0(o){return{baseLanes:o,cachePool:null,transitions:null}}function c$(o,l,p){var g=l.pendingProps,y=zt.current,E=!1,L=(l.flags&128)!==0,V;if((V=L)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),kt(zt,y&1),o===null)return h0(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=g.children,o=g.fallback,E?(g=l.mode,E=l.child,L={mode:"hidden",children:L},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=L):E=hd(L,g,0,null),o=bo(o,g,p,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=j0(p),l.memoizedState=z0,o):G0(l,L));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return SI(o,l,L,g,V,y,p);if(E){E=g.fallback,L=l.mode,y=o.child,V=y.sibling;var X={mode:"hidden",children:g.children};return(L&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=Ci(y,X),g.subtreeFlags=y.subtreeFlags&14680064),V!==null?E=Ci(V,E):(E=bo(E,L,p,null),E.flags|=2),E.return=l,g.return=l,g.sibling=E,l.child=g,g=E,E=l.child,L=o.child.memoizedState,L=L===null?j0(p):{baseLanes:L.baseLanes|p,cachePool:null,transitions:L.transitions},E.memoizedState=L,E.childLanes=o.childLanes&~p,l.memoizedState=z0,g}return E=o.child,o=E.sibling,g=Ci(E,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=p),g.return=l,g.sibling=null,o!==null&&(p=l.deletions,p===null?(l.deletions=[o],l.flags|=16):p.push(o)),l.child=g,l.memoizedState=null,g}function G0(o,l){return l=hd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function nd(o,l,p,g){return g!==null&&g0(g),ts(l,o.child,null,p),o=G0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function SI(o,l,p,g,y,E,L){if(p)return l.flags&256?(l.flags&=-257,g=M0(Error(n(422))),nd(o,l,L,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=g.fallback,y=l.mode,g=hd({mode:"visible",children:g.children},y,0,null),E=bo(E,y,L,null),E.flags|=2,g.return=l,E.return=l,g.sibling=E,l.child=g,(l.mode&1)!==0&&ts(l,o.child,null,L),l.child.memoizedState=j0(L),l.memoizedState=z0,E);if((l.mode&1)===0)return nd(o,l,L,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var V=g.dgst;return g=V,E=Error(n(419)),g=M0(E,g,void 0),nd(o,l,L,g)}if(V=(L&o.childLanes)!==0,or||V){if(g=xn,g!==null){switch(L&-L){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|L))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Wa(o,y),ia(g,o,y,-1))}return of(),g=M0(Error(n(421))),nd(o,l,L,g)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=PI.bind(null,o),y._reactRetry=l,null):(o=E.treeContext,wr=yi(y.nextSibling),_r=l,Ut=!0,ta=null,o!==null&&(Ur[Mr++]=Va,Ur[Mr++]=qa,Ur[Mr++]=so,Va=o.id,qa=o.overflow,so=l),l=G0(l,g.children),l.flags|=4096,l)}function d$(o,l,p){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),x0(o.return,l,p)}function H0(o,l,p,g,y){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:y}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=p,E.tailMode=y)}function p$(o,l,p){var g=l.pendingProps,y=g.revealOrder,E=g.tail;if(Vn(o,l,g.children,p),g=zt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&d$(o,p,l);else if(o.tag===19)d$(o,p,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(kt(zt,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(p=l.child,y=null;p!==null;)o=p.alternate,o!==null&&Kc(o)===null&&(y=p),p=p.sibling;p=y,p===null?(y=l.child,l.child=null):(y=p.sibling,p.sibling=null),H0(l,!1,y,p,E);break;case"backwards":for(p=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Kc(o)===null){l.child=y;break}o=y.sibling,y.sibling=p,p=y,y=o}H0(l,!0,p,null,E);break;case"together":H0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function rd(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ka(o,l,p){if(o!==null&&(l.dependencies=o.dependencies),mo|=l.lanes,(p&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,p=Ci(o,o.pendingProps),l.child=p,p.return=l;o.sibling!==null;)o=o.sibling,p=p.sibling=Ci(o,o.pendingProps),p.return=l;p.sibling=null}return l.child}function TI(o,l,p){switch(l.tag){case 3:l$(l),es();break;case 5:T4(l);break;case 1:ir(l.type)&&Fc(l);break;case 4:$0(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;kt(Vc,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(kt(zt,zt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?c$(o,l,p):(kt(zt,zt.current&1),o=Ka(o,l,p),o!==null?o.sibling:null);kt(zt,zt.current&1);break;case 19:if(g=(p&l.childLanes)!==0,(o.flags&128)!==0){if(g)return p$(o,l,p);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),kt(zt,zt.current),g)break;return null;case 22:case 23:return l.lanes=0,i$(o,l,p)}return Ka(o,l,p)}var m$,V0,f$,h$;m$=function(o,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},V0=function(){},f$=function(o,l,p,g){var y=o.memoizedProps;if(y!==g){o=l.stateNode,co(xa.current);var E=null;switch(p){case"input":y=Gn(o,y),g=Gn(o,g),E=[];break;case"select":y=O({},y,{value:void 0}),g=O({},g,{value:void 0}),E=[];break;case"textarea":y=br(o,y),g=br(o,g),E=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Uc)}Et(p,g);var L;p=null;for(de in y)if(!g.hasOwnProperty(de)&&y.hasOwnProperty(de)&&y[de]!=null)if(de==="style"){var V=y[de];for(L in V)V.hasOwnProperty(L)&&(p||(p={}),p[L]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(a.hasOwnProperty(de)?E||(E=[]):(E=E||[]).push(de,null));for(de in g){var X=g[de];if(V=y?.[de],g.hasOwnProperty(de)&&X!==V&&(X!=null||V!=null))if(de==="style")if(V){for(L in V)!V.hasOwnProperty(L)||X&&X.hasOwnProperty(L)||(p||(p={}),p[L]="");for(L in X)X.hasOwnProperty(L)&&V[L]!==X[L]&&(p||(p={}),p[L]=X[L])}else p||(E||(E=[]),E.push(de,p)),p=X;else de==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(E=E||[]).push(de,X)):de==="children"?typeof X!="string"&&typeof X!="number"||(E=E||[]).push(de,""+X):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(a.hasOwnProperty(de)?(X!=null&&de==="onScroll"&&Lt("scroll",o),E||V===X||(E=[])):(E=E||[]).push(de,X))}p&&(E=E||[]).push("style",p);var de=E;(l.updateQueue=de)&&(l.flags|=4)}},h$=function(o,l,p,g){p!==g&&(l.flags|=4)};function jl(o,l){if(!Ut)switch(o.tailMode){case"hidden":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Dn(o){var l=o.alternate!==null&&o.alternate.child===o.child,p=0,g=0;if(l)for(var y=o.child;y!==null;)p|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)p|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=g,o.childLanes=p,l}function kI(o,l,p){var g=l.pendingProps;switch(m0(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(l),null;case 1:return ir(l.type)&&Pc(),Dn(l),null;case 3:return g=l.stateNode,as(),Rt(ar),Rt(Ln),T0(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Gc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ta!==null&&(nf(ta),ta=null))),V0(o,l),Dn(l),null;case 5:E0(l);var y=co(Ml.current);if(p=l.type,o!==null&&l.stateNode!=null)f$(o,l,p,g,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Dn(l),null}if(o=co(xa.current),Gc(l)){g=l.stateNode,p=l.type;var E=l.memoizedProps;switch(g[ya]=l,g[Ll]=E,o=(l.mode&1)!==0,p){case"dialog":Lt("cancel",g),Lt("close",g);break;case"iframe":case"object":case"embed":Lt("load",g);break;case"video":case"audio":for(y=0;y<Nl.length;y++)Lt(Nl[y],g);break;case"source":Lt("error",g);break;case"img":case"image":case"link":Lt("error",g),Lt("load",g);break;case"details":Lt("toggle",g);break;case"input":er(g,E),Lt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},Lt("invalid",g);break;case"textarea":Zr(g,E),Lt("invalid",g)}Et(p,E),y=null;for(var L in E)if(E.hasOwnProperty(L)){var V=E[L];L==="children"?typeof V=="string"?g.textContent!==V&&(E.suppressHydrationWarning!==!0&&Oc(g.textContent,V,o),y=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(E.suppressHydrationWarning!==!0&&Oc(g.textContent,V,o),y=["children",""+V]):a.hasOwnProperty(L)&&V!=null&&L==="onScroll"&&Lt("scroll",g)}switch(p){case"input":Ot(g),gr(g,E,!0);break;case"textarea":Ot(g),ja(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=Uc)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{L=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ge(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=L.createElement(p,{is:g.is}):(o=L.createElement(p),p==="select"&&(L=o,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):o=L.createElementNS(o,p),o[ya]=l,o[Ll]=g,m$(o,l,!1,!1),l.stateNode=o;e:{switch(L=nr(p,g),p){case"dialog":Lt("cancel",o),Lt("close",o),y=g;break;case"iframe":case"object":case"embed":Lt("load",o),y=g;break;case"video":case"audio":for(y=0;y<Nl.length;y++)Lt(Nl[y],o);y=g;break;case"source":Lt("error",o),y=g;break;case"img":case"image":case"link":Lt("error",o),Lt("load",o),y=g;break;case"details":Lt("toggle",o),y=g;break;case"input":er(o,g),y=Gn(o,g),Lt("invalid",o);break;case"option":y=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},y=O({},g,{value:void 0}),Lt("invalid",o);break;case"textarea":Zr(o,g),y=br(o,g),Lt("invalid",o);break;default:y=g}Et(p,y),V=y;for(E in V)if(V.hasOwnProperty(E)){var X=V[E];E==="style"?Dr(o,X):E==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&tt(o,X)):E==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&pt(o,X):typeof X=="number"&&pt(o,""+X):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?X!=null&&E==="onScroll"&&Lt("scroll",o):X!=null&&C(o,E,X,L))}switch(p){case"input":Ot(o),gr(o,g,!1);break;case"textarea":Ot(o),ja(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Fe(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?Rr(o,!!g.multiple,E,!1):g.defaultValue!=null&&Rr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Uc)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Dn(l),null;case 6:if(o&&l.stateNode!=null)h$(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(p=co(Ml.current),co(xa.current),Gc(l)){if(g=l.stateNode,p=l.memoizedProps,g[ya]=l,(E=g.nodeValue!==p)&&(o=_r,o!==null))switch(o.tag){case 3:Oc(g.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Oc(g.nodeValue,p,(o.mode&1)!==0)}E&&(l.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[ya]=l,l.stateNode=g}return Dn(l),null;case 13:if(Rt(zt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ut&&wr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)v4(),es(),l.flags|=98560,E=!1;else if(E=Gc(l),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ya]=l}else es(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dn(l),E=!1}else ta!==null&&(nf(ta),ta=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(zt.current&1)!==0?dn===0&&(dn=3):of())),l.updateQueue!==null&&(l.flags|=4),Dn(l),null);case 4:return as(),V0(o,l),o===null&&Cl(l.stateNode.containerInfo),Dn(l),null;case 10:return y0(l.type._context),Dn(l),null;case 17:return ir(l.type)&&Pc(),Dn(l),null;case 19:if(Rt(zt),E=l.memoizedState,E===null)return Dn(l),null;if(g=(l.flags&128)!==0,L=E.rendering,L===null)if(g)jl(E,!1);else{if(dn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(L=Kc(o),L!==null){for(l.flags|=128,jl(E,!1),g=L.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=p,p=l.child;p!==null;)E=p,o=g,E.flags&=14680066,L=E.alternate,L===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=L.childLanes,E.lanes=L.lanes,E.child=L.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=L.memoizedProps,E.memoizedState=L.memoizedState,E.updateQueue=L.updateQueue,E.type=L.type,o=L.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return kt(zt,zt.current&1|2),l.child}o=o.sibling}E.tail!==null&&Xt()>ls&&(l.flags|=128,g=!0,jl(E,!1),l.lanes=4194304)}else{if(!g)if(o=Kc(L),o!==null){if(l.flags|=128,g=!0,p=o.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),jl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!L.alternate&&!Ut)return Dn(l),null}else 2*Xt()-E.renderingStartTime>ls&&p!==1073741824&&(l.flags|=128,g=!0,jl(E,!1),l.lanes=4194304);E.isBackwards?(L.sibling=l.child,l.child=L):(p=E.last,p!==null?p.sibling=L:l.child=L,E.last=L)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Xt(),l.sibling=null,p=zt.current,kt(zt,g?p&1|2:p&1),l):(Dn(l),null);case 22:case 23:return af(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?($r&1073741824)!==0&&(Dn(l),l.subtreeFlags&6&&(l.flags|=8192)):Dn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function AI(o,l){switch(m0(l),l.tag){case 1:return ir(l.type)&&Pc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return as(),Rt(ar),Rt(Ln),T0(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return E0(l),null;case 13:if(Rt(zt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));es()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Rt(zt),null;case 4:return as(),null;case 10:return y0(l.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var ad=!1,On=!1,NI=typeof WeakSet=="function"?WeakSet:Set,Me=null;function os(o,l){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){Wt(o,l,g)}else p.current=null}function q0(o,l,p){try{p()}catch(g){Wt(o,l,g)}}var g$=!1;function CI(o,l){if(a0=Ec,o=Yw(),Xm(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var y=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var L=0,V=-1,X=-1,de=0,we=0,$e=o,ve=null;t:for(;;){for(var Oe;$e!==p||y!==0&&$e.nodeType!==3||(V=L+y),$e!==E||g!==0&&$e.nodeType!==3||(X=L+g),$e.nodeType===3&&(L+=$e.nodeValue.length),(Oe=$e.firstChild)!==null;)ve=$e,$e=Oe;for(;;){if($e===o)break t;if(ve===p&&++de===y&&(V=L),ve===E&&++we===g&&(X=L),(Oe=$e.nextSibling)!==null)break;$e=ve,ve=$e.parentNode}$e=Oe}p=V===-1||X===-1?null:{start:V,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(i0={focusedElem:o,selectionRange:p},Ec=!1,Me=l;Me!==null;)if(l=Me,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Me=o;else for(;Me!==null;){l=Me;try{var Be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,Qt=Be.memoizedState,oe=l.stateNode,te=oe.getSnapshotBeforeUpdate(l.elementType===l.type?ze:na(l.type,ze),Qt);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=l.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ce){Wt(l,l.return,Ce)}if(o=l.sibling,o!==null){o.return=l.return,Me=o;break}Me=l.return}return Be=g$,g$=!1,Be}function Gl(o,l,p){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&o)===o){var E=y.destroy;y.destroy=void 0,E!==void 0&&q0(l,p,E)}y=y.next}while(y!==g)}}function id(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&o)===o){var g=p.create;p.destroy=g()}p=p.next}while(p!==l)}}function W0(o){var l=o.ref;if(l!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof l=="function"?l(o):l.current=o}}function b$(o){var l=o.alternate;l!==null&&(o.alternate=null,b$(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ya],delete l[Ll],delete l[u0],delete l[pI],delete l[mI])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function v$(o){return o.tag===5||o.tag===3||o.tag===4}function y$(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||v$(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Y0(o,l,p){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(o,l):p.insertBefore(o,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(o,p)):(l=p,l.appendChild(o)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Uc));else if(g!==4&&(o=o.child,o!==null))for(Y0(o,l,p),o=o.sibling;o!==null;)Y0(o,l,p),o=o.sibling}function K0(o,l,p){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?p.insertBefore(o,l):p.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(K0(o,l,p),o=o.sibling;o!==null;)K0(o,l,p),o=o.sibling}var Tn=null,ra=!1;function Si(o,l,p){for(p=p.child;p!==null;)x$(o,l,p),p=p.sibling}function x$(o,l,p){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(vc,p)}catch{}switch(p.tag){case 5:On||os(p,l);case 6:var g=Tn,y=ra;Tn=null,Si(o,l,p),Tn=g,ra=y,Tn!==null&&(ra?(o=Tn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Tn.removeChild(p.stateNode));break;case 18:Tn!==null&&(ra?(o=Tn,p=p.stateNode,o.nodeType===8?l0(o.parentNode,p):o.nodeType===1&&l0(o,p),_l(o)):l0(Tn,p.stateNode));break;case 4:g=Tn,y=ra,Tn=p.stateNode.containerInfo,ra=!0,Si(o,l,p),Tn=g,ra=y;break;case 0:case 11:case 14:case 15:if(!On&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var E=y,L=E.destroy;E=E.tag,L!==void 0&&((E&2)!==0||(E&4)!==0)&&q0(p,l,L),y=y.next}while(y!==g)}Si(o,l,p);break;case 1:if(!On&&(os(p,l),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(V){Wt(p,l,V)}Si(o,l,p);break;case 21:Si(o,l,p);break;case 22:p.mode&1?(On=(g=On)||p.memoizedState!==null,Si(o,l,p),On=g):Si(o,l,p);break;default:Si(o,l,p)}}function _$(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new NI),l.forEach(function(g){var y=FI.bind(null,o,g);p.has(g)||(p.add(g),g.then(y,y))})}}function aa(o,l){var p=l.deletions;if(p!==null)for(var g=0;g<p.length;g++){var y=p[g];try{var E=o,L=l,V=L;e:for(;V!==null;){switch(V.tag){case 5:Tn=V.stateNode,ra=!1;break e;case 3:Tn=V.stateNode.containerInfo,ra=!0;break e;case 4:Tn=V.stateNode.containerInfo,ra=!0;break e}V=V.return}if(Tn===null)throw Error(n(160));x$(E,L,y),Tn=null,ra=!1;var X=y.alternate;X!==null&&(X.return=null),y.return=null}catch(de){Wt(y,l,de)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)w$(l,o),l=l.sibling}function w$(o,l){var p=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(aa(l,o),wa(o),g&4){try{Gl(3,o,o.return),id(3,o)}catch(ze){Wt(o,o.return,ze)}try{Gl(5,o,o.return)}catch(ze){Wt(o,o.return,ze)}}break;case 1:aa(l,o),wa(o),g&512&&p!==null&&os(p,p.return);break;case 5:if(aa(l,o),wa(o),g&512&&p!==null&&os(p,p.return),o.flags&32){var y=o.stateNode;try{pt(y,"")}catch(ze){Wt(o,o.return,ze)}}if(g&4&&(y=o.stateNode,y!=null)){var E=o.memoizedProps,L=p!==null?p.memoizedProps:E,V=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{V==="input"&&E.type==="radio"&&E.name!=null&&un(y,E),nr(V,L);var de=nr(V,E);for(L=0;L<X.length;L+=2){var we=X[L],$e=X[L+1];we==="style"?Dr(y,$e):we==="dangerouslySetInnerHTML"?tt(y,$e):we==="children"?pt(y,$e):C(y,we,$e,de)}switch(V){case"input":tr(y,E);break;case"textarea":za(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?Rr(y,!!E.multiple,Oe,!1):ve!==!!E.multiple&&(E.defaultValue!=null?Rr(y,!!E.multiple,E.defaultValue,!0):Rr(y,!!E.multiple,E.multiple?[]:"",!1))}y[Ll]=E}catch(ze){Wt(o,o.return,ze)}}break;case 6:if(aa(l,o),wa(o),g&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,E=o.memoizedProps;try{y.nodeValue=E}catch(ze){Wt(o,o.return,ze)}}break;case 3:if(aa(l,o),wa(o),g&4&&p!==null&&p.memoizedState.isDehydrated)try{_l(l.containerInfo)}catch(ze){Wt(o,o.return,ze)}break;case 4:aa(l,o),wa(o);break;case 13:aa(l,o),wa(o),y=o.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Z0=Xt())),g&4&&_$(o);break;case 22:if(we=p!==null&&p.memoizedState!==null,o.mode&1?(On=(de=On)||we,aa(l,o),On=de):aa(l,o),wa(o),g&8192){if(de=o.memoizedState!==null,(o.stateNode.isHidden=de)&&!we&&(o.mode&1)!==0)for(Me=o,we=o.child;we!==null;){for($e=Me=we;Me!==null;){switch(ve=Me,Oe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Gl(4,ve,ve.return);break;case 1:os(ve,ve.return);var Be=ve.stateNode;if(typeof Be.componentWillUnmount=="function"){g=ve,p=ve.return;try{l=g,Be.props=l.memoizedProps,Be.state=l.memoizedState,Be.componentWillUnmount()}catch(ze){Wt(g,p,ze)}}break;case 5:os(ve,ve.return);break;case 22:if(ve.memoizedState!==null){S$($e);continue}}Oe!==null?(Oe.return=ve,Me=Oe):S$($e)}we=we.sibling}e:for(we=null,$e=o;;){if($e.tag===5){if(we===null){we=$e;try{y=$e.stateNode,de?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(V=$e.stateNode,X=$e.memoizedProps.style,L=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=Sn("display",L))}catch(ze){Wt(o,o.return,ze)}}}else if($e.tag===6){if(we===null)try{$e.stateNode.nodeValue=de?"":$e.memoizedProps}catch(ze){Wt(o,o.return,ze)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===o)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===o)break e;for(;$e.sibling===null;){if($e.return===null||$e.return===o)break e;we===$e&&(we=null),$e=$e.return}we===$e&&(we=null),$e.sibling.return=$e.return,$e=$e.sibling}}break;case 19:aa(l,o),wa(o),g&4&&_$(o);break;case 21:break;default:aa(l,o),wa(o)}}function wa(o){var l=o.flags;if(l&2){try{e:{for(var p=o.return;p!==null;){if(v$(p)){var g=p;break e}p=p.return}throw Error(n(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(pt(y,""),g.flags&=-33);var E=y$(o);K0(o,E,y);break;case 3:case 4:var L=g.stateNode.containerInfo,V=y$(o);Y0(o,V,L);break;default:throw Error(n(161))}}catch(X){Wt(o,o.return,X)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function II(o,l,p){Me=o,$$(o)}function $$(o,l,p){for(var g=(o.mode&1)!==0;Me!==null;){var y=Me,E=y.child;if(y.tag===22&&g){var L=y.memoizedState!==null||ad;if(!L){var V=y.alternate,X=V!==null&&V.memoizedState!==null||On;V=ad;var de=On;if(ad=L,(On=X)&&!de)for(Me=y;Me!==null;)L=Me,X=L.child,L.tag===22&&L.memoizedState!==null?T$(y):X!==null?(X.return=L,Me=X):T$(y);for(;E!==null;)Me=E,$$(E),E=E.sibling;Me=y,ad=V,On=de}E$(o)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Me=E):E$(o)}}function E$(o){for(;Me!==null;){var l=Me;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:On||id(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!On)if(p===null)g.componentDidMount();else{var y=l.elementType===l.type?p.memoizedProps:na(l.type,p.memoizedProps);g.componentDidUpdate(y,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&S4(l,E,g);break;case 3:var L=l.updateQueue;if(L!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}S4(l,L,p)}break;case 5:var V=l.stateNode;if(p===null&&l.flags&4){p=V;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var de=l.alternate;if(de!==null){var we=de.memoizedState;if(we!==null){var $e=we.dehydrated;$e!==null&&_l($e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}On||l.flags&512&&W0(l)}catch(ve){Wt(l,l.return,ve)}}if(l===o){Me=null;break}if(p=l.sibling,p!==null){p.return=l.return,Me=p;break}Me=l.return}}function S$(o){for(;Me!==null;){var l=Me;if(l===o){Me=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Me=p;break}Me=l.return}}function T$(o){for(;Me!==null;){var l=Me;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{id(4,l)}catch(X){Wt(l,p,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(X){Wt(l,y,X)}}var E=l.return;try{W0(l)}catch(X){Wt(l,E,X)}break;case 5:var L=l.return;try{W0(l)}catch(X){Wt(l,L,X)}}}catch(X){Wt(l,l.return,X)}if(l===o){Me=null;break}var V=l.sibling;if(V!==null){V.return=l.return,Me=V;break}Me=l.return}}var LI=Math.ceil,od=R.ReactCurrentDispatcher,X0=R.ReactCurrentOwner,Br=R.ReactCurrentBatchConfig,vt=0,xn=null,nn=null,kn=0,$r=0,ss=xi(0),dn=0,Hl=null,mo=0,sd=0,Q0=0,Vl=null,sr=null,Z0=0,ls=1/0,Xa=null,ld=!1,J0=null,Ti=null,ud=!1,ki=null,cd=0,ql=0,ef=null,dd=-1,pd=0;function qn(){return(vt&6)!==0?Xt():dd!==-1?dd:dd=Xt()}function Ai(o){return(o.mode&1)===0?1:(vt&2)!==0&&kn!==0?kn&-kn:hI.transition!==null?(pd===0&&(pd=yw()),pd):(o=wt,o!==0||(o=window.event,o=o===void 0?16:Aw(o.type)),o)}function ia(o,l,p,g){if(50<ql)throw ql=0,ef=null,Error(n(185));gl(o,p,g),((vt&2)===0||o!==xn)&&(o===xn&&((vt&2)===0&&(sd|=p),dn===4&&Ni(o,kn)),lr(o,g),p===1&&vt===0&&(l.mode&1)===0&&(ls=Xt()+500,Bc&&wi()))}function lr(o,l){var p=o.callbackNode;hC(o,l);var g=_c(o,o===xn?kn:0);if(g===0)p!==null&&gw(p),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(p!=null&&gw(p),l===1)o.tag===0?fI(A$.bind(null,o)):m4(A$.bind(null,o)),cI(function(){(vt&6)===0&&wi()}),p=null;else{switch(xw(g)){case 1:p=Rm;break;case 4:p=bw;break;case 16:p=bc;break;case 536870912:p=vw;break;default:p=bc}p=U$(p,k$.bind(null,o))}o.callbackPriority=l,o.callbackNode=p}}function k$(o,l){if(dd=-1,pd=0,(vt&6)!==0)throw Error(n(327));var p=o.callbackNode;if(us()&&o.callbackNode!==p)return null;var g=_c(o,o===xn?kn:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=md(o,g);else{l=g;var y=vt;vt|=2;var E=C$();(xn!==o||kn!==l)&&(Xa=null,ls=Xt()+500,ho(o,l));do try{OI();break}catch(V){N$(o,V)}while(!0);v0(),od.current=E,vt=y,nn!==null?l=0:(xn=null,kn=0,l=dn)}if(l!==0){if(l===2&&(y=Dm(o),y!==0&&(g=y,l=tf(o,y))),l===1)throw p=Hl,ho(o,0),Ni(o,g),lr(o,Xt()),p;if(l===6)Ni(o,g);else{if(y=o.current.alternate,(g&30)===0&&!RI(y)&&(l=md(o,g),l===2&&(E=Dm(o),E!==0&&(g=E,l=tf(o,E))),l===1))throw p=Hl,ho(o,0),Ni(o,g),lr(o,Xt()),p;switch(o.finishedWork=y,o.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:go(o,sr,Xa);break;case 3:if(Ni(o,g),(g&130023424)===g&&(l=Z0+500-Xt(),10<l)){if(_c(o,0)!==0)break;if(y=o.suspendedLanes,(y&g)!==g){qn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=s0(go.bind(null,o,sr,Xa),l);break}go(o,sr,Xa);break;case 4:if(Ni(o,g),(g&4194240)===g)break;for(l=o.eventTimes,y=-1;0<g;){var L=31-Jr(g);E=1<<L,L=l[L],L>y&&(y=L),g&=~E}if(g=y,g=Xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*LI(g/1960))-g,10<g){o.timeoutHandle=s0(go.bind(null,o,sr,Xa),g);break}go(o,sr,Xa);break;case 5:go(o,sr,Xa);break;default:throw Error(n(329))}}}return lr(o,Xt()),o.callbackNode===p?k$.bind(null,o):null}function tf(o,l){var p=Vl;return o.current.memoizedState.isDehydrated&&(ho(o,l).flags|=256),o=md(o,l),o!==2&&(l=sr,sr=p,l!==null&&nf(l)),o}function nf(o){sr===null?sr=o:sr.push.apply(sr,o)}function RI(o){for(var l=o;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var y=p[g],E=y.getSnapshot;y=y.value;try{if(!ea(E(),y))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ni(o,l){for(l&=~Q0,l&=~sd,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var p=31-Jr(l),g=1<<p;o[p]=-1,l&=~g}}function A$(o){if((vt&6)!==0)throw Error(n(327));us();var l=_c(o,0);if((l&1)===0)return lr(o,Xt()),null;var p=md(o,l);if(o.tag!==0&&p===2){var g=Dm(o);g!==0&&(l=g,p=tf(o,g))}if(p===1)throw p=Hl,ho(o,0),Ni(o,l),lr(o,Xt()),p;if(p===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,go(o,sr,Xa),lr(o,Xt()),null}function rf(o,l){var p=vt;vt|=1;try{return o(l)}finally{vt=p,vt===0&&(ls=Xt()+500,Bc&&wi())}}function fo(o){ki!==null&&ki.tag===0&&(vt&6)===0&&us();var l=vt;vt|=1;var p=Br.transition,g=wt;try{if(Br.transition=null,wt=1,o)return o()}finally{wt=g,Br.transition=p,vt=l,(vt&6)===0&&wi()}}function af(){$r=ss.current,Rt(ss)}function ho(o,l){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,uI(p)),nn!==null)for(p=nn.return;p!==null;){var g=p;switch(m0(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Pc();break;case 3:as(),Rt(ar),Rt(Ln),T0();break;case 5:E0(g);break;case 4:as();break;case 13:Rt(zt);break;case 19:Rt(zt);break;case 10:y0(g.type._context);break;case 22:case 23:af()}p=p.return}if(xn=o,nn=o=Ci(o.current,null),kn=$r=l,dn=0,Hl=null,Q0=sd=mo=0,sr=Vl=null,uo!==null){for(l=0;l<uo.length;l++)if(p=uo[l],g=p.interleaved,g!==null){p.interleaved=null;var y=g.next,E=p.pending;if(E!==null){var L=E.next;E.next=y,g.next=L}p.pending=g}uo=null}return o}function N$(o,l){do{var p=nn;try{if(v0(),Xc.current=ed,Qc){for(var g=jt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Qc=!1}if(po=0,yn=cn=jt=null,Pl=!1,Fl=0,X0.current=null,p===null||p.return===null){dn=1,Hl=l,nn=null;break}e:{var E=o,L=p.return,V=p,X=l;if(l=kn,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=X,we=V,$e=we.tag;if((we.mode&1)===0&&($e===0||$e===11||$e===15)){var ve=we.alternate;ve?(we.updateQueue=ve.updateQueue,we.memoizedState=ve.memoizedState,we.lanes=ve.lanes):(we.updateQueue=null,we.memoizedState=null)}var Oe=e$(L);if(Oe!==null){Oe.flags&=-257,t$(Oe,L,V,E,l),Oe.mode&1&&J4(E,de,l),l=Oe,X=de;var Be=l.updateQueue;if(Be===null){var ze=new Set;ze.add(X),l.updateQueue=ze}else Be.add(X);break e}else{if((l&1)===0){J4(E,de,l),of();break e}X=Error(n(426))}}else if(Ut&&V.mode&1){var Qt=e$(L);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),t$(Qt,L,V,E,l),g0(is(X,V));break e}}E=X=is(X,V),dn!==4&&(dn=2),Vl===null?Vl=[E]:Vl.push(E),E=L;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var oe=Q4(E,X,l);E4(E,oe);break e;case 1:V=X;var te=E.type,ue=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Ti===null||!Ti.has(ue)))){E.flags|=65536,l&=-l,E.lanes|=l;var Ce=Z4(E,V,l);E4(E,Ce);break e}}E=E.return}while(E!==null)}L$(p)}catch(je){l=je,nn===p&&p!==null&&(nn=p=p.return);continue}break}while(!0)}function C$(){var o=od.current;return od.current=ed,o===null?ed:o}function of(){(dn===0||dn===3||dn===2)&&(dn=4),xn===null||(mo&268435455)===0&&(sd&268435455)===0||Ni(xn,kn)}function md(o,l){var p=vt;vt|=2;var g=C$();(xn!==o||kn!==l)&&(Xa=null,ho(o,l));do try{DI();break}catch(y){N$(o,y)}while(!0);if(v0(),vt=p,od.current=g,nn!==null)throw Error(n(261));return xn=null,kn=0,dn}function DI(){for(;nn!==null;)I$(nn)}function OI(){for(;nn!==null&&!oC();)I$(nn)}function I$(o){var l=O$(o.alternate,o,$r);o.memoizedProps=o.pendingProps,l===null?L$(o):nn=l,X0.current=null}function L$(o){var l=o;do{var p=l.alternate;if(o=l.return,(l.flags&32768)===0){if(p=kI(p,l,$r),p!==null){nn=p;return}}else{if(p=AI(p,l),p!==null){p.flags&=32767,nn=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{dn=6,nn=null;return}}if(l=l.sibling,l!==null){nn=l;return}nn=l=o}while(l!==null);dn===0&&(dn=5)}function go(o,l,p){var g=wt,y=Br.transition;try{Br.transition=null,wt=1,UI(o,l,p,g)}finally{Br.transition=y,wt=g}return null}function UI(o,l,p,g){do us();while(ki!==null);if((vt&6)!==0)throw Error(n(327));p=o.finishedWork;var y=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=p.lanes|p.childLanes;if(gC(o,E),o===xn&&(nn=xn=null,kn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||ud||(ud=!0,U$(bc,function(){return us(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=Br.transition,Br.transition=null;var L=wt;wt=1;var V=vt;vt|=4,X0.current=null,CI(o,p),w$(p,o),nI(i0),Ec=!!a0,i0=a0=null,o.current=p,II(p),sC(),vt=V,wt=L,Br.transition=E}else o.current=p;if(ud&&(ud=!1,ki=o,cd=y),E=o.pendingLanes,E===0&&(Ti=null),cC(p.stateNode),lr(o,Xt()),l!==null)for(g=o.onRecoverableError,p=0;p<l.length;p++)y=l[p],g(y.value,{componentStack:y.stack,digest:y.digest});if(ld)throw ld=!1,o=J0,J0=null,o;return(cd&1)!==0&&o.tag!==0&&us(),E=o.pendingLanes,(E&1)!==0?o===ef?ql++:(ql=0,ef=o):ql=0,wi(),null}function us(){if(ki!==null){var o=xw(cd),l=Br.transition,p=wt;try{if(Br.transition=null,wt=16>o?16:o,ki===null)var g=!1;else{if(o=ki,ki=null,cd=0,(vt&6)!==0)throw Error(n(331));var y=vt;for(vt|=4,Me=o.current;Me!==null;){var E=Me,L=E.child;if((Me.flags&16)!==0){var V=E.deletions;if(V!==null){for(var X=0;X<V.length;X++){var de=V[X];for(Me=de;Me!==null;){var we=Me;switch(we.tag){case 0:case 11:case 15:Gl(8,we,E)}var $e=we.child;if($e!==null)$e.return=we,Me=$e;else for(;Me!==null;){we=Me;var ve=we.sibling,Oe=we.return;if(b$(we),we===de){Me=null;break}if(ve!==null){ve.return=Oe,Me=ve;break}Me=Oe}}}var Be=E.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var Qt=ze.sibling;ze.sibling=null,ze=Qt}while(ze!==null)}}Me=E}}if((E.subtreeFlags&2064)!==0&&L!==null)L.return=E,Me=L;else e:for(;Me!==null;){if(E=Me,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Gl(9,E,E.return)}var oe=E.sibling;if(oe!==null){oe.return=E.return,Me=oe;break e}Me=E.return}}var te=o.current;for(Me=te;Me!==null;){L=Me;var ue=L.child;if((L.subtreeFlags&2064)!==0&&ue!==null)ue.return=L,Me=ue;else e:for(L=te;Me!==null;){if(V=Me,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:id(9,V)}}catch(je){Wt(V,V.return,je)}if(V===L){Me=null;break e}var Ce=V.sibling;if(Ce!==null){Ce.return=V.return,Me=Ce;break e}Me=V.return}}if(vt=y,wi(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(vc,o)}catch{}g=!0}return g}finally{wt=p,Br.transition=l}}return!1}function R$(o,l,p){l=is(p,l),l=Q4(o,l,1),o=Ei(o,l,1),l=qn(),o!==null&&(gl(o,1,l),lr(o,l))}function Wt(o,l,p){if(o.tag===3)R$(o,o,p);else for(;l!==null;){if(l.tag===3){R$(l,o,p);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ti===null||!Ti.has(g))){o=is(p,o),o=Z4(l,o,1),l=Ei(l,o,1),o=qn(),l!==null&&(gl(l,1,o),lr(l,o));break}}l=l.return}}function MI(o,l,p){var g=o.pingCache;g!==null&&g.delete(l),l=qn(),o.pingedLanes|=o.suspendedLanes&p,xn===o&&(kn&p)===p&&(dn===4||dn===3&&(kn&130023424)===kn&&500>Xt()-Z0?ho(o,0):Q0|=p),lr(o,l)}function D$(o,l){l===0&&((o.mode&1)===0?l=1:(l=xc,xc<<=1,(xc&130023424)===0&&(xc=4194304)));var p=qn();o=Wa(o,l),o!==null&&(gl(o,l,p),lr(o,p))}function PI(o){var l=o.memoizedState,p=0;l!==null&&(p=l.retryLane),D$(o,p)}function FI(o,l){var p=0;switch(o.tag){case 13:var g=o.stateNode,y=o.memoizedState;y!==null&&(p=y.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),D$(o,p)}var O$;O$=function(o,l,p){if(o!==null)if(o.memoizedProps!==l.pendingProps||ar.current)or=!0;else{if((o.lanes&p)===0&&(l.flags&128)===0)return or=!1,TI(o,l,p);or=(o.flags&131072)!==0}else or=!1,Ut&&(l.flags&1048576)!==0&&f4(l,jc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;rd(o,l),o=l.pendingProps;var y=Qo(l,Ln.current);rs(l,p),y=N0(null,l,g,o,y,p);var E=C0();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ir(g)?(E=!0,Fc(l)):E=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,w0(l),y.updater=td,l.stateNode=y,y._reactInternals=l,U0(l,g,o,p),l=B0(null,l,g,!0,E,p)):(l.tag=0,Ut&&E&&p0(l),Vn(null,l,y,p),l=l.child),l;case 16:g=l.elementType;e:{switch(rd(o,l),o=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=zI(g),o=na(g,o),y){case 0:l=F0(null,l,g,o,p);break e;case 1:l=s$(null,l,g,o,p);break e;case 11:l=n$(null,l,g,o,p);break e;case 14:l=r$(null,l,g,na(g.type,o),p);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:na(g,y),F0(o,l,g,y,p);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:na(g,y),s$(o,l,g,y,p);case 3:e:{if(l$(l),o===null)throw Error(n(387));g=l.pendingProps,E=l.memoizedState,y=E.element,$4(o,l),Yc(l,g,null,p);var L=l.memoizedState;if(g=L.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){y=is(Error(n(423)),l),l=u$(o,l,g,p,y);break e}else if(g!==y){y=is(Error(n(424)),l),l=u$(o,l,g,p,y);break e}else for(wr=yi(l.stateNode.containerInfo.firstChild),_r=l,Ut=!0,ta=null,p=_4(l,null,g,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(es(),g===y){l=Ka(o,l,p);break e}Vn(o,l,g,p)}l=l.child}return l;case 5:return T4(l),o===null&&h0(l),g=l.type,y=l.pendingProps,E=o!==null?o.memoizedProps:null,L=y.children,o0(g,y)?L=null:E!==null&&o0(g,E)&&(l.flags|=32),o$(o,l),Vn(o,l,L,p),l.child;case 6:return o===null&&h0(l),null;case 13:return c$(o,l,p);case 4:return $0(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=ts(l,null,g,p):Vn(o,l,g,p),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:na(g,y),n$(o,l,g,y,p);case 7:return Vn(o,l,l.pendingProps,p),l.child;case 8:return Vn(o,l,l.pendingProps.children,p),l.child;case 12:return Vn(o,l,l.pendingProps.children,p),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,E=l.memoizedProps,L=y.value,kt(Vc,g._currentValue),g._currentValue=L,E!==null)if(ea(E.value,L)){if(E.children===y.children&&!ar.current){l=Ka(o,l,p);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var V=E.dependencies;if(V!==null){L=E.child;for(var X=V.firstContext;X!==null;){if(X.context===g){if(E.tag===1){X=Ya(-1,p&-p),X.tag=2;var de=E.updateQueue;if(de!==null){de=de.shared;var we=de.pending;we===null?X.next=X:(X.next=we.next,we.next=X),de.pending=X}}E.lanes|=p,X=E.alternate,X!==null&&(X.lanes|=p),x0(E.return,p,l),V.lanes|=p;break}X=X.next}}else if(E.tag===10)L=E.type===l.type?null:E.child;else if(E.tag===18){if(L=E.return,L===null)throw Error(n(341));L.lanes|=p,V=L.alternate,V!==null&&(V.lanes|=p),x0(L,p,l),L=E.sibling}else L=E.child;if(L!==null)L.return=E;else for(L=E;L!==null;){if(L===l){L=null;break}if(E=L.sibling,E!==null){E.return=L.return,L=E;break}L=L.return}E=L}Vn(o,l,y.children,p),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,rs(l,p),y=Pr(y),g=g(y),l.flags|=1,Vn(o,l,g,p),l.child;case 14:return g=l.type,y=na(g,l.pendingProps),y=na(g.type,y),r$(o,l,g,y,p);case 15:return a$(o,l,l.type,l.pendingProps,p);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:na(g,y),rd(o,l),l.tag=1,ir(g)?(o=!0,Fc(l)):o=!1,rs(l,p),K4(l,g,y),U0(l,g,y,p),B0(null,l,g,!0,o,p);case 19:return p$(o,l,p);case 22:return i$(o,l,p)}throw Error(n(156,l.tag))};function U$(o,l){return hw(o,l)}function BI(o,l,p,g){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(o,l,p,g){return new BI(o,l,p,g)}function sf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function zI(o){if(typeof o=="function")return sf(o)?1:0;if(o!=null){if(o=o.$$typeof,o===re)return 11;if(o===me)return 14}return 2}function Ci(o,l){var p=o.alternate;return p===null?(p=zr(o.tag,l,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=l,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,l=o.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function fd(o,l,p,g,y,E){var L=2;if(g=o,typeof o=="function")sf(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case j:return bo(p.children,y,E,l);case K:L=8,y|=8;break;case ee:return o=zr(12,p,l,y|2),o.elementType=ee,o.lanes=E,o;case ae:return o=zr(13,p,l,y),o.elementType=ae,o.lanes=E,o;case ne:return o=zr(19,p,l,y),o.elementType=ne,o.lanes=E,o;case fe:return hd(p,y,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:L=10;break e;case Q:L=9;break e;case re:L=11;break e;case me:L=14;break e;case be:L=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=zr(L,p,l,y),l.elementType=o,l.type=g,l.lanes=E,l}function bo(o,l,p,g){return o=zr(7,o,g,l),o.lanes=p,o}function hd(o,l,p,g){return o=zr(22,o,g,l),o.elementType=fe,o.lanes=p,o.stateNode={isHidden:!1},o}function lf(o,l,p){return o=zr(6,o,null,l),o.lanes=p,o}function uf(o,l,p){return l=zr(4,o.children!==null?o.children:[],o.key,l),l.lanes=p,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function jI(o,l,p,g,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function cf(o,l,p,g,y,E,L,V,X){return o=new jI(o,l,p,V,X),l===1?(l=1,E===!0&&(l|=8)):l=0,E=zr(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},w0(E),o}function GI(o,l,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:o,containerInfo:l,implementation:p}}function M$(o){if(!o)return _i;o=o._reactInternals;e:{if(ao(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ir(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var p=o.type;if(ir(p))return d4(o,p,l)}return l}function P$(o,l,p,g,y,E,L,V,X){return o=cf(p,g,!0,o,y,E,L,V,X),o.context=M$(null),p=o.current,g=qn(),y=Ai(p),E=Ya(g,y),E.callback=l??null,Ei(p,E,y),o.current.lanes=y,gl(o,y,g),lr(o,g),o}function gd(o,l,p,g){var y=l.current,E=qn(),L=Ai(y);return p=M$(p),l.context===null?l.context=p:l.pendingContext=p,l=Ya(E,L),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Ei(y,l,L),o!==null&&(ia(o,y,L,E),Wc(o,y,L)),L}function bd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function F$(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<l?p:l}}function df(o,l){F$(o,l),(o=o.alternate)&&F$(o,l)}function HI(){return null}var B$=typeof reportError=="function"?reportError:function(o){console.error(o)};function pf(o){this._internalRoot=o}vd.prototype.render=pf.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));gd(o,l,null,null)},vd.prototype.unmount=pf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;fo(function(){gd(null,o,null,null)}),l[Ga]=null}};function vd(o){this._internalRoot=o}vd.prototype.unstable_scheduleHydration=function(o){if(o){var l=$w();o={blockedOn:null,target:o,priority:l};for(var p=0;p<gi.length&&l!==0&&l<gi[p].priority;p++);gi.splice(p,0,o),p===0&&Tw(o)}};function mf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function yd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function z$(){}function VI(o,l,p,g,y){if(y){if(typeof g=="function"){var E=g;g=function(){var de=bd(L);E.call(de)}}var L=P$(l,g,o,0,null,!1,!1,"",z$);return o._reactRootContainer=L,o[Ga]=L.current,Cl(o.nodeType===8?o.parentNode:o),fo(),L}for(;y=o.lastChild;)o.removeChild(y);if(typeof g=="function"){var V=g;g=function(){var de=bd(X);V.call(de)}}var X=cf(o,0,!1,null,null,!1,!1,"",z$);return o._reactRootContainer=X,o[Ga]=X.current,Cl(o.nodeType===8?o.parentNode:o),fo(function(){gd(l,X,p,g)}),X}function xd(o,l,p,g,y){var E=p._reactRootContainer;if(E){var L=E;if(typeof y=="function"){var V=y;y=function(){var X=bd(L);V.call(X)}}gd(l,L,o,y)}else L=VI(p,l,o,y,g);return bd(L)}_w=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var p=hl(l.pendingLanes);p!==0&&(Um(l,p|1),lr(l,Xt()),(vt&6)===0&&(ls=Xt()+500,wi()))}break;case 13:fo(function(){var g=Wa(o,1);if(g!==null){var y=qn();ia(g,o,1,y)}}),df(o,1)}},Mm=function(o){if(o.tag===13){var l=Wa(o,134217728);if(l!==null){var p=qn();ia(l,o,134217728,p)}df(o,134217728)}},ww=function(o){if(o.tag===13){var l=Ai(o),p=Wa(o,l);if(p!==null){var g=qn();ia(p,o,l,g)}df(o,l)}},$w=function(){return wt},Ew=function(o,l){var p=wt;try{return wt=o,l()}finally{wt=p}},We=function(o,l,p){switch(l){case"input":if(tr(o,p),l=p.name,p.type==="radio"&&l!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var g=p[l];if(g!==o&&g.form===o.form){var y=Mc(g);if(!y)throw Error(n(90));jn(g),tr(g,y)}}}break;case"textarea":za(o,p);break;case"select":l=p.value,l!=null&&Rr(o,!!p.multiple,l,!1)}},rr=rf,ga=fo;var qI={usingClientEntryPoint:!1,Events:[Rl,Ko,Mc,tn,In,rf]},Wl={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WI={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=mw(o),o===null?null:o.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||HI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{vc=_d.inject(WI),va=_d}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qI,ur.createPortal=function(o,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(l))throw Error(n(200));return GI(o,l,null,p)},ur.createRoot=function(o,l){if(!mf(o))throw Error(n(299));var p=!1,g="",y=B$;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=cf(o,1,!1,null,null,p,!1,g,y),o[Ga]=l.current,Cl(o.nodeType===8?o.parentNode:o),new pf(l)},ur.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=mw(l),o=o===null?null:o.stateNode,o},ur.flushSync=function(o){return fo(o)},ur.hydrate=function(o,l,p){if(!yd(l))throw Error(n(200));return xd(null,o,l,!0,p)},ur.hydrateRoot=function(o,l,p){if(!mf(o))throw Error(n(405));var g=p!=null&&p.hydratedSources||null,y=!1,E="",L=B$;if(p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(L=p.onRecoverableError)),l=P$(l,null,o,1,p??null,y,!1,E,L),o[Ga]=l.current,Cl(o),g)for(o=0;o<g.length;o++)p=g[o],y=p._getVersion,y=y(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,y]:l.mutableSourceEagerHydrationData.push(p,y);return new vd(l)},ur.render=function(o,l,p){if(!yd(l))throw Error(n(200));return xd(null,o,l,!1,p)},ur.unmountComponentAtNode=function(o){if(!yd(o))throw Error(n(40));return o._reactRootContainer?(fo(function(){xd(null,null,o,!1,function(){o._reactRootContainer=null,o[Ga]=null})}),!0):!1},ur.unstable_batchedUpdates=rf,ur.unstable_renderSubtreeIntoContainer=function(o,l,p,g){if(!yd(p))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return xd(o,l,p,!1,g)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var K$;function f8(){if(K$)return gf.exports;K$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gf.exports=tL(),gf.exports}var X$;function nL(){if(X$)return wd;X$=1;var e=f8();return wd.createRoot=e.createRoot,wd.hydrateRoot=e.hydrateRoot,wd}var rL=nL(),N=a1();const ce=Pp(N),h8=KI({__proto__:null,default:ce},[N]),aL=1,iL=1e6;let yf=0;function oL(){return yf=(yf+1)%Number.MAX_SAFE_INTEGER,yf.toString()}const xf=new Map,Q$=e=>{if(xf.has(e))return;const t=setTimeout(()=>{xf.delete(e),uu({type:"REMOVE_TOAST",toastId:e})},iL);xf.set(e,t)},sL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Q$(n):e.toasts.forEach(r=>{Q$(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Jd=[];let ep={toasts:[]};function uu(e){ep=sL(ep,e),Jd.forEach(t=>{t(ep)})}function lL({...e}){const t=oL(),n=a=>uu({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>uu({type:"DISMISS_TOAST",toastId:t});return uu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function g8(){const[e,t]=N.useState(ep);return N.useEffect(()=>(Jd.push(t),()=>{const n=Jd.indexOf(t);n>-1&&Jd.splice(n,1)}),[e]),{...e,toast:lL,dismiss:n=>uu({type:"DISMISS_TOAST",toastId:n})}}var Fp=f8();const b8=Pp(Fp);function Pt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function uL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function v8(...e){return t=>e.forEach(n=>uL(n,t))}function Zn(...e){return N.useCallback(v8(...e),e)}function cL(e,t=[]){let n=[];function r(i,s){const u=N.createContext(s),c=n.length;n=[...n,s];function d(f){const{scope:h,children:b,..._}=f,x=h?.[e][c]||u,T=N.useMemo(()=>_,Object.values(_));return $.jsx(x.Provider,{value:T,children:b})}function m(f,h){const b=h?.[e][c]||u,_=N.useContext(b);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=n.map(s=>N.createContext(s));return function(u){const c=u?.[e]||i;return N.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return a.scopeName=e,[r,dL(a,...t)]}function dL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=r.reduce((u,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...u,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Os=N.forwardRef((e,t)=>{const{children:n,...r}=e,a=N.Children.toArray(n),i=a.find(pL);if(i){const s=i.props.children,u=a.map(c=>c===i?N.Children.count(s)>1?N.Children.only(null):N.isValidElement(s)?s.props.children:null:c);return $.jsx(Mh,{...r,ref:t,children:N.isValidElement(s)?N.cloneElement(s,void 0,u):null})}return $.jsx(Mh,{...r,ref:t,children:n})});Os.displayName="Slot";var Mh=N.forwardRef((e,t)=>{const{children:n,...r}=e;if(N.isValidElement(n)){const a=fL(n);return N.cloneElement(n,{...mL(r,n.props),ref:t?v8(t,a):a})}return N.Children.count(n)>1?N.Children.only(null):null});Mh.displayName="SlotClone";var y8=({children:e})=>$.jsx($.Fragment,{children:e});function pL(e){return N.isValidElement(e)&&e.type===y8}function mL(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...u)=>{i(...u),a(...u)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function fL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hL(e){const t=e+"CollectionProvider",[n,r]=cL(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:_,children:x}=b,T=ce.useRef(null),S=ce.useRef(new Map).current;return $.jsx(a,{scope:_,itemMap:S,collectionRef:T,children:x})};s.displayName=t;const u=e+"CollectionSlot",c=ce.forwardRef((b,_)=>{const{scope:x,children:T}=b,S=i(u,x),A=Zn(_,S.collectionRef);return $.jsx(Os,{ref:A,children:T})});c.displayName=u;const d=e+"CollectionItemSlot",m="data-radix-collection-item",f=ce.forwardRef((b,_)=>{const{scope:x,children:T,...S}=b,A=ce.useRef(null),C=Zn(_,A),R=i(d,x);return ce.useEffect(()=>(R.itemMap.set(A,{ref:A,...S}),()=>void R.itemMap.delete(A))),$.jsx(Os,{[m]:"",ref:C,children:T})});f.displayName=d;function h(b){const _=i(e+"CollectionConsumer",b);return ce.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const S=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((R,M)=>S.indexOf(R.ref.current)-S.indexOf(M.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:c,ItemSlot:f},h,r]}function gL(e,t){const n=N.createContext(t),r=i=>{const{children:s,...u}=i,c=N.useMemo(()=>u,Object.values(u));return $.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function a(i){const s=N.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function i1(e,t=[]){let n=[];function r(i,s){const u=N.createContext(s),c=n.length;n=[...n,s];const d=f=>{const{scope:h,children:b,..._}=f,x=h?.[e]?.[c]||u,T=N.useMemo(()=>_,Object.values(_));return $.jsx(x.Provider,{value:T,children:b})};d.displayName=i+"Provider";function m(f,h){const b=h?.[e]?.[c]||u,_=N.useContext(b);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,m]}const a=()=>{const i=n.map(s=>N.createContext(s));return function(u){const c=u?.[e]||i;return N.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return a.scopeName=e,[r,bL(a,...t)]}function bL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=r.reduce((u,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...u,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var vL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sn=vL.reduce((e,t)=>{const n=N.forwardRef((r,a)=>{const{asChild:i,...s}=r,u=i?Os:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(u,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function x8(e,t){e&&Fp.flushSync(()=>e.dispatchEvent(t))}function Yr(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>t.current?.(...n),[])}function yL(e,t=globalThis?.document){const n=Yr(e);N.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var xL="DismissableLayer",Ph="dismissableLayer.update",_L="dismissableLayer.pointerDownOutside",wL="dismissableLayer.focusOutside",Z$,_8=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bp=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:u,...c}=e,d=N.useContext(_8),[m,f]=N.useState(null),h=m?.ownerDocument??globalThis?.document,[,b]=N.useState({}),_=Zn(t,j=>f(j)),x=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(T),A=m?x.indexOf(m):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,R=A>=S,M=EL(j=>{const K=j.target,ee=[...d.branches].some(G=>G.contains(K));!R||ee||(a?.(j),s?.(j),j.defaultPrevented||u?.())},h),P=SL(j=>{const K=j.target;[...d.branches].some(G=>G.contains(K))||(i?.(j),s?.(j),j.defaultPrevented||u?.())},h);return yL(j=>{A===d.layers.size-1&&(r?.(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},h),N.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Z$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),J$(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Z$)}},[m,h,n,d]),N.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),J$())},[m,d]),N.useEffect(()=>{const j=()=>b({});return document.addEventListener(Ph,j),()=>document.removeEventListener(Ph,j)},[]),$.jsx(sn.div,{...c,ref:_,style:{pointerEvents:C?R?"auto":"none":void 0,...e.style},onFocusCapture:Pt(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Pt(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Pt(e.onPointerDownCapture,M.onPointerDownCapture)})});Bp.displayName=xL;var $L="DismissableLayerBranch",w8=N.forwardRef((e,t)=>{const n=N.useContext(_8),r=N.useRef(null),a=Zn(t,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),$.jsx(sn.div,{...e,ref:a})});w8.displayName=$L;function EL(e,t=globalThis?.document){const n=Yr(e),r=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){$8(_L,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function SL(e,t=globalThis?.document){const n=Yr(e),r=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!r.current&&$8(wL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J$(){const e=new CustomEvent(Ph);document.dispatchEvent(e)}function $8(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?x8(a,i):a.dispatchEvent(i)}var TL=Bp,kL=w8,Vi=globalThis?.document?N.useLayoutEffect:()=>{},AL="Portal",o1=N.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=N.useState(!1);Vi(()=>i(!0),[]);const s=n||a&&globalThis?.document?.body;return s?b8.createPortal($.jsx(sn.div,{...r,ref:t}),s):null});o1.displayName=AL;function NL(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var Hs=e=>{const{present:t,children:n}=e,r=CL(t),a=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Zn(r.ref,IL(a));return typeof n=="function"||r.isPresent?N.cloneElement(a,{ref:i}):null};Hs.displayName="Presence";function CL(e){const[t,n]=N.useState(),r=N.useRef({}),a=N.useRef(e),i=N.useRef("none"),s=e?"mounted":"unmounted",[u,c]=NL(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=$d(r.current);i.current=u==="mounted"?d:"none"},[u]),Vi(()=>{const d=r.current,m=a.current;if(m!==e){const h=i.current,b=$d(d);e?c("MOUNT"):b==="none"||d?.display==="none"?c("UNMOUNT"):c(m&&h!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Vi(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,f=b=>{const x=$d(r.current).includes(b.animationName);if(b.target===t&&x&&(c("ANIMATION_END"),!a.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},h=b=>{b.target===t&&(i.current=$d(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function $d(e){return e?.animationName||"none"}function IL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function E8({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=LL({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,u=Yr(n),c=N.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&u(f)}else a(d)},[i,e,a,u]);return[s,c]}function LL({defaultProp:e,onChange:t}){const n=N.useState(e),[r]=n,a=N.useRef(r),i=Yr(t);return N.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var RL="VisuallyHidden",zp=N.forwardRef((e,t)=>$.jsx(sn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));zp.displayName=RL;var DL=zp,s1="ToastProvider",[l1,OL,UL]=hL("Toast"),[S8]=i1("Toast",[UL]),[ML,jp]=S8(s1),T8=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[u,c]=N.useState(null),[d,m]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${s1}\`. Expected non-empty \`string\`.`),$.jsx(l1.Provider,{scope:t,children:$.jsx(ML,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:u,onViewportChange:c,onToastAdd:N.useCallback(()=>m(b=>b+1),[]),onToastRemove:N.useCallback(()=>m(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};T8.displayName=s1;var k8="ToastViewport",PL=["F8"],Fh="toast.viewportPause",Bh="toast.viewportResume",A8=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=PL,label:a="Notifications ({hotkey})",...i}=e,s=jp(k8,n),u=OL(n),c=N.useRef(null),d=N.useRef(null),m=N.useRef(null),f=N.useRef(null),h=Zn(t,f,s.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=s.toastCount>0;N.useEffect(()=>{const T=S=>{r.length!==0&&r.every(C=>S[C]||S.code===C)&&f.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),N.useEffect(()=>{const T=c.current,S=f.current;if(_&&T&&S){const A=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(Fh);S.dispatchEvent(P),s.isClosePausedRef.current=!0}},C=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(Bh);S.dispatchEvent(P),s.isClosePausedRef.current=!1}},R=P=>{!T.contains(P.relatedTarget)&&C()},M=()=>{T.contains(document.activeElement)||C()};return T.addEventListener("focusin",A),T.addEventListener("focusout",R),T.addEventListener("pointermove",A),T.addEventListener("pointerleave",M),window.addEventListener("blur",A),window.addEventListener("focus",C),()=>{T.removeEventListener("focusin",A),T.removeEventListener("focusout",R),T.removeEventListener("pointermove",A),T.removeEventListener("pointerleave",M),window.removeEventListener("blur",A),window.removeEventListener("focus",C)}}},[_,s.isClosePausedRef]);const x=N.useCallback(({tabbingDirection:T})=>{const A=u().map(C=>{const R=C.ref.current,M=[R,...QL(R)];return T==="forwards"?M:M.reverse()});return(T==="forwards"?A.reverse():A).flat()},[u]);return N.useEffect(()=>{const T=f.current;if(T){const S=A=>{const C=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!C){const M=document.activeElement,P=A.shiftKey;if(A.target===T&&P){d.current?.focus();return}const ee=x({tabbingDirection:P?"backwards":"forwards"}),G=ee.findIndex(Q=>Q===M);_f(ee.slice(G+1))?A.preventDefault():P?d.current?.focus():m.current?.focus()}};return T.addEventListener("keydown",S),()=>T.removeEventListener("keydown",S)}},[u,x]),$.jsxs(kL,{ref:c,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&$.jsx(zh,{ref:d,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"forwards"});_f(T)}}),$.jsx(l1.Slot,{scope:n,children:$.jsx(sn.ol,{tabIndex:-1,...i,ref:h})}),_&&$.jsx(zh,{ref:m,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"backwards"});_f(T)}})]})});A8.displayName=k8;var N8="ToastFocusProxy",zh=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=jp(N8,n);return $.jsx(zp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{const u=s.relatedTarget;!i.viewport?.contains(u)&&r()}})});zh.displayName=N8;var Gp="Toast",FL="toast.swipeStart",BL="toast.swipeMove",zL="toast.swipeCancel",jL="toast.swipeEnd",C8=N.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...s}=e,[u=!0,c]=E8({prop:r,defaultProp:a,onChange:i});return $.jsx(Hs,{present:n||u,children:$.jsx(VL,{open:u,...s,ref:t,onClose:()=>c(!1),onPause:Yr(e.onPause),onResume:Yr(e.onResume),onSwipeStart:Pt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(e.onSwipeMove,d=>{const{x:m,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(e.onSwipeEnd,d=>{const{x:m,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});C8.displayName=Gp;var[GL,HL]=S8(Gp,{onClose(){}}),VL=N.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:u,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:b,..._}=e,x=jp(Gp,n),[T,S]=N.useState(null),A=Zn(t,ne=>S(ne)),C=N.useRef(null),R=N.useRef(null),M=a||x.duration,P=N.useRef(0),j=N.useRef(M),K=N.useRef(0),{onToastAdd:ee,onToastRemove:G}=x,Q=Yr(()=>{T?.contains(document.activeElement)&&x.viewport?.focus(),s()}),re=N.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(K.current),P.current=new Date().getTime(),K.current=window.setTimeout(Q,ne))},[Q]);N.useEffect(()=>{const ne=x.viewport;if(ne){const me=()=>{re(j.current),d?.()},be=()=>{const fe=new Date().getTime()-P.current;j.current=j.current-fe,window.clearTimeout(K.current),c?.()};return ne.addEventListener(Fh,be),ne.addEventListener(Bh,me),()=>{ne.removeEventListener(Fh,be),ne.removeEventListener(Bh,me)}}},[x.viewport,M,c,d,re]),N.useEffect(()=>{i&&!x.isClosePausedRef.current&&re(M)},[i,M,x.isClosePausedRef,re]),N.useEffect(()=>(ee(),()=>G()),[ee,G]);const ae=N.useMemo(()=>T?M8(T):null,[T]);return x.viewport?$.jsxs($.Fragment,{children:[ae&&$.jsx(qL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ae}),$.jsx(GL,{scope:n,onClose:Q,children:Fp.createPortal($.jsx(l1.ItemSlot,{scope:n,children:$.jsx(TL,{asChild:!0,onEscapeKeyDown:Pt(u,()=>{x.isFocusedToastEscapeKeyDownRef.current||Q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:$.jsx(sn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,..._,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pt(e.onKeyDown,ne=>{ne.key==="Escape"&&(u?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Pt(e.onPointerDown,ne=>{ne.button===0&&(C.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:Pt(e.onPointerMove,ne=>{if(!C.current)return;const me=ne.clientX-C.current.x,be=ne.clientY-C.current.y,fe=!!R.current,J=["left","right"].includes(x.swipeDirection),he=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,O=J?he(0,me):0,H=J?0:he(0,be),ie=ne.pointerType==="touch"?10:2,B={x:O,y:H},Re={originalEvent:ne,delta:B};fe?(R.current=B,Ed(BL,f,Re,{discrete:!1})):eE(B,x.swipeDirection,ie)?(R.current=B,Ed(FL,m,Re,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(me)>ie||Math.abs(be)>ie)&&(C.current=null)}),onPointerUp:Pt(e.onPointerUp,ne=>{const me=R.current,be=ne.target;if(be.hasPointerCapture(ne.pointerId)&&be.releasePointerCapture(ne.pointerId),R.current=null,C.current=null,me){const fe=ne.currentTarget,J={originalEvent:ne,delta:me};eE(me,x.swipeDirection,x.swipeThreshold)?Ed(jL,b,J,{discrete:!0}):Ed(zL,h,J,{discrete:!0}),fe.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),qL=e=>{const{__scopeToast:t,children:n,...r}=e,a=jp(Gp,t),[i,s]=N.useState(!1),[u,c]=N.useState(!1);return KL(()=>s(!0)),N.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),u?null:$.jsx(o1,{asChild:!0,children:$.jsx(zp,{...r,children:i&&$.jsxs($.Fragment,{children:[a.label," ",n]})})})},WL="ToastTitle",I8=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return $.jsx(sn.div,{...r,ref:t})});I8.displayName=WL;var YL="ToastDescription",L8=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return $.jsx(sn.div,{...r,ref:t})});L8.displayName=YL;var R8="ToastAction",D8=N.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?$.jsx(U8,{altText:n,asChild:!0,children:$.jsx(u1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${R8}\`. Expected non-empty \`string\`.`),null)});D8.displayName=R8;var O8="ToastClose",u1=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=HL(O8,n);return $.jsx(U8,{asChild:!0,children:$.jsx(sn.button,{type:"button",...r,ref:t,onClick:Pt(e.onClick,a.onClose)})})});u1.displayName=O8;var U8=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return $.jsx(sn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function M8(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),XL(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...M8(r))}}),t}function Ed(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?x8(a,i):a.dispatchEvent(i)}var eE=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function KL(e=()=>{}){const t=Yr(e);Vi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function XL(e){return e.nodeType===e.ELEMENT_NODE}function QL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _f(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var ZL=T8,P8=A8,F8=C8,B8=I8,z8=L8,j8=D8,G8=u1;function H8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=H8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function V8(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=H8(e))&&(r&&(r+=" "),r+=t);return r}const tE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nE=V8,q8=(e,t)=>n=>{var r;if(t?.variants==null)return nE(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(d=>{const m=n?.[d],f=i?.[d];if(m===null)return null;const h=tE(m)||tE(f);return a[d][h]}),u=n&&Object.entries(n).reduce((d,m)=>{let[f,h]=m;return h===void 0||(d[f]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:f,className:h,...b}=m;return Object.entries(b).every(_=>{let[x,T]=_;return Array.isArray(T)?T.includes({...i,...u}[x]):{...i,...u}[x]===T})?[...d,f,h]:d},[]);return nE(e,s,c,n?.class,n?.className)};const JL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W8=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var eR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tR=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...u},c)=>N.createElement("svg",{ref:c,...eR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:W8("lucide",a),...u},[...s.map(([d,m])=>N.createElement(d,m)),...Array.isArray(i)?i:[i]]));const bn=(e,t)=>{const n=N.forwardRef(({className:r,...a},i)=>N.createElement(tR,{ref:i,iconNode:t,className:W8(`lucide-${JL(e)}`,r),...a}));return n.displayName=`${e}`,n};const Y8=bn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const nR=bn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const c1=bn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const d1=bn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const p1=bn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const rR=bn("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const K8=bn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const aR=bn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const m1=bn("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const iR=bn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const X8=bn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const jh=bn("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const f1=bn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Q8=bn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const rE=bn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const oR=bn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const aE=bn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const sR=bn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Hp=bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h1="-",lR=e=>{const t=cR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const u=s.split(h1);return u[0]===""&&u.length!==1&&u.shift(),Z8(u,t)||uR(s)},getConflictingClassGroupIds:(s,u)=>{const c=n[s]||[];return u&&r[s]?[...c,...r[s]]:c}}},Z8=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?Z8(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(h1);return t.validators.find(({validator:s})=>s(i))?.classGroupId},iE=/^\[(.+)\]$/,uR=e=>{if(iE.test(e)){const t=iE.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return pR(Object.entries(e.classGroups),n).forEach(([i,s])=>{Gh(s,r,i,t)}),r},Gh=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:oE(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(dR(a)){Gh(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,s])=>{Gh(s,oE(t,i),n,r)})})},oE=(e,t)=>{let n=e;return t.split(h1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dR=e=>e.isThemeGetter,pR=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,u])=>[t+s,u])):i);return[n,a]}):e,mR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return a(i,s),s},set(i,s){n.has(i)?n.set(i,s):a(i,s)}}},J8="!",fR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,s=u=>{const c=[];let d=0,m=0,f;for(let T=0;T<u.length;T++){let S=u[T];if(d===0){if(S===a&&(r||u.slice(T,T+i)===t)){c.push(u.slice(m,T)),m=T+i;continue}if(S==="/"){f=T;continue}}S==="["?d++:S==="]"&&d--}const h=c.length===0?u:u.substring(m),b=h.startsWith(J8),_=b?h.substring(1):h,x=f&&f>m?f-m:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:x}};return n?u=>n({className:u,parseClassName:s}):s},hR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},gR=e=>({cache:mR(e.cacheSize),parseClassName:fR(e),...lR(e)}),bR=/\s+/,vR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(bR);let u="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{modifiers:m,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:b}=n(d);let _=!!b,x=r(_?h.substring(0,b):h);if(!x){if(!_){u=d+(u.length>0?" "+u:u);continue}if(x=r(h),!x){u=d+(u.length>0?" "+u:u);continue}_=!1}const T=hR(m).join(":"),S=f?T+J8:T,A=S+x;if(i.includes(A))continue;i.push(A);const C=a(x,_);for(let R=0;R<C.length;++R){const M=C[R];i.push(S+M)}u=d+(u.length>0?" "+u:u)}return u};function yR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ek(t))&&(r&&(r+=" "),r+=n);return r}const ek=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ek(e[r]))&&(n&&(n+=" "),n+=t);return n};function xR(e,...t){let n,r,a,i=s;function s(c){const d=t.reduce((m,f)=>f(m),e());return n=gR(d),r=n.cache.get,a=n.cache.set,i=u,u(c)}function u(c){const d=r(c);if(d)return d;const m=vR(c,n);return a(c,m),m}return function(){return i(yR.apply(null,arguments))}}const Dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},tk=/^\[(?:([a-z-]+):)?(.+)\]$/i,_R=/^\d+\/\d+$/,wR=new Set(["px","full","screen"]),$R=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ER=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qa=e=>ks(e)||wR.has(e)||_R.test(e),Li=e=>Vs(e,"length",OR),ks=e=>!!e&&!Number.isNaN(Number(e)),wf=e=>Vs(e,"number",ks),Kl=e=>!!e&&Number.isInteger(Number(e)),AR=e=>e.endsWith("%")&&ks(e.slice(0,-1)),lt=e=>tk.test(e),Ri=e=>$R.test(e),NR=new Set(["length","size","percentage"]),CR=e=>Vs(e,NR,nk),IR=e=>Vs(e,"position",nk),LR=new Set(["image","url"]),RR=e=>Vs(e,LR,MR),DR=e=>Vs(e,"",UR),Xl=()=>!0,Vs=(e,t,n)=>{const r=tk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},OR=e=>ER.test(e)&&!SR.test(e),nk=()=>!1,UR=e=>TR.test(e),MR=e=>kR.test(e),PR=()=>{const e=Dt("colors"),t=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),a=Dt("borderColor"),i=Dt("borderRadius"),s=Dt("borderSpacing"),u=Dt("borderWidth"),c=Dt("contrast"),d=Dt("grayscale"),m=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),b=Dt("gradientColorStops"),_=Dt("gradientColorStopPositions"),x=Dt("inset"),T=Dt("margin"),S=Dt("opacity"),A=Dt("padding"),C=Dt("saturate"),R=Dt("scale"),M=Dt("sepia"),P=Dt("skew"),j=Dt("space"),K=Dt("translate"),ee=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",lt,t],re=()=>[lt,t],ae=()=>["",Qa,Li],ne=()=>["auto",ks,lt],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],be=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",lt],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ks,lt];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[Qa,Li],blur:["none","",Ri,lt],brightness:H(),borderColor:[e],borderRadius:["none","","full",Ri,lt],borderSpacing:re(),borderWidth:ae(),contrast:H(),grayscale:he(),hueRotate:H(),invert:he(),gap:re(),gradientColorStops:[e],gradientColorStopPositions:[AR,Li],inset:Q(),margin:Q(),opacity:H(),padding:re(),saturate:H(),scale:H(),sepia:he(),skew:H(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),lt]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kl,lt]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",Kl,lt]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Kl,lt]},lt]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Kl,lt]},lt]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,Li]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wf]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",ks,wf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qa,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qa,Li]}],"underline-offset":[{"underline-offset":["auto",Qa,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),IR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...be(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:be()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...be()]}],"outline-offset":[{"outline-offset":[Qa,lt]}],"outline-w":[{outline:[Qa,Li]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Qa,Li]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ri,DR]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ri,lt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Kl,lt]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qa,Li,wf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FR=xR(PR);function $t(...e){return FR(V8(e))}const BR=ZL,rk=N.forwardRef(({className:e,...t},n)=>$.jsx(P8,{ref:n,className:$t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rk.displayName=P8.displayName;const zR=q8("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ak=N.forwardRef(({className:e,variant:t,...n},r)=>$.jsx(F8,{ref:r,className:$t(zR({variant:t}),e),...n}));ak.displayName=F8.displayName;const jR=N.forwardRef(({className:e,...t},n)=>$.jsx(j8,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jR.displayName=j8.displayName;const ik=N.forwardRef(({className:e,...t},n)=>$.jsx(G8,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:$.jsx(Hp,{className:"h-4 w-4"})}));ik.displayName=G8.displayName;const ok=N.forwardRef(({className:e,...t},n)=>$.jsx(B8,{ref:n,className:$t("text-sm font-semibold",e),...t}));ok.displayName=B8.displayName;const sk=N.forwardRef(({className:e,...t},n)=>$.jsx(z8,{ref:n,className:$t("text-sm opacity-90",e),...t}));sk.displayName=z8.displayName;function GR(){const{toasts:e}=g8();return $.jsxs(BR,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return $.jsxs(ak,{...i,children:[$.jsxs("div",{className:"grid gap-1",children:[n&&$.jsx(ok,{children:n}),r&&$.jsx(sk,{children:r})]}),a,$.jsx(ik,{})]},t)}),$.jsx(rk,{})]})}var sE=["light","dark"],HR="(prefers-color-scheme: dark)",VR=N.createContext(void 0),qR={setTheme:e=>{},themes:[]},WR=()=>{var e;return(e=N.useContext(VR))!=null?e:qR};N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:s,attrs:u,nonce:c})=>{let d=i==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?sE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,x=!1,T=!0)=>{let S=s?s[_]:_,A=x?_+"|| ''":`'${S}'`,C="";return a&&T&&!x&&sE.includes(_)&&(C+=`d.style.colorScheme = '${_}';`),n==="class"?x||S?C+=`c.add(${A})`:C+="null":S&&(C+=`d[s](n,${A})`),C},b=e?`!function(){${m}${h(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${HR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return N.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:b}})});var YR=e=>{switch(e){case"success":return QR;case"info":return JR;case"warning":return ZR;case"error":return eD;default:return null}},KR=Array(12).fill(0),XR=({visible:e})=>ce.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ce.createElement("div",{className:"sonner-spinner"},KR.map((t,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),QR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ZR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),JR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eD=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tD=()=>{let[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Hh=1,nD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hh++,i=this.toasts.find(u=>u.id===a),s=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:n}),{...u,...e,id:a,dismissible:s,title:n}):u):this.addToast({title:n,...r,dismissible:s,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0;return r.then(async i=>{if(aD(i)&&!i.ok){a=!1;let s=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:s,description:u})}else if(t.success!==void 0){a=!1;let s=typeof t.success=="function"?await t.success(i):t.success,u=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:s,description:u})}}).catch(async i=>{if(t.error!==void 0){a=!1;let s=typeof t.error=="function"?await t.error(i):t.error,u=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:s,description:u})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=t?.id||Hh++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Tr=new nD,rD=(e,t)=>{let n=t?.id||Hh++;return Tr.addToast({title:e,...t,id:n}),n},aD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",iD=rD,oD=()=>Tr.toasts;Object.assign(iD,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:oD});function sD(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}sD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sd(e){return e.label!==void 0}var lD=3,uD="32px",cD=4e3,dD=356,pD=14,mD=20,fD=200;function hD(...e){return e.filter(Boolean).join(" ")}var gD=e=>{var t,n,r,a,i,s,u,c,d,m;let{invert:f,toast:h,unstyled:b,interacting:_,setHeights:x,visibleToasts:T,heights:S,index:A,toasts:C,expanded:R,removeToast:M,defaultRichColors:P,closeButton:j,style:K,cancelButtonStyle:ee,actionButtonStyle:G,className:Q="",descriptionClassName:re="",duration:ae,position:ne,gap:me,loadingIcon:be,expandByDefault:fe,classNames:J,icons:he,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:H,cn:ie}=e,[B,Re]=ce.useState(!1),[Pe,Le]=ce.useState(!1),[Ve,Fe]=ce.useState(!1),[et,dt]=ce.useState(!1),[Ot,jn]=ce.useState(0),[qe,Gn]=ce.useState(0),er=ce.useRef(null),un=ce.useRef(null),tr=A===0,gr=A+1<=T,_t=h.type,vn=h.dismissible!==!1,Rr=h.className||"",br=h.descriptionClassName||"",Zr=ce.useMemo(()=>S.findIndex(xe=>xe.toastId===h.id)||0,[S,h.id]),za=ce.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:j},[h.closeButton,j]),ja=ce.useMemo(()=>h.duration||ae||cD,[h.duration,ae]),ge=ce.useRef(0),Te=ce.useRef(0),Ke=ce.useRef(0),tt=ce.useRef(null),[pt,It]=ne.split("-"),Hn=ce.useMemo(()=>S.reduce((xe,He,We)=>We>=Zr?xe:xe+He.height,0),[S,Zr]),Sn=tD(),Dr=h.invert||f,vr=_t==="loading";Te.current=ce.useMemo(()=>Zr*me+Hn,[Zr,Hn]),ce.useEffect(()=>{Re(!0)},[]),ce.useLayoutEffect(()=>{if(!B)return;let xe=un.current,He=xe.style.height;xe.style.height="auto";let We=xe.getBoundingClientRect().height;xe.style.height=He,Gn(We),x(ot=>ot.find(it=>it.toastId===h.id)?ot.map(it=>it.toastId===h.id?{...it,height:We}:it):[{toastId:h.id,height:We,position:h.position},...ot])},[B,h.title,h.description,x,h.id]);let Et=ce.useCallback(()=>{Le(!0),jn(Te.current),x(xe=>xe.filter(He=>He.toastId!==h.id)),setTimeout(()=>{M(h)},fD)},[h,M,x,Te]);ce.useEffect(()=>{if(h.promise&&_t==="loading"||h.duration===1/0||h.type==="loading")return;let xe,He=ja;return R||_||H&&Sn?(()=>{if(Ke.current<ge.current){let We=new Date().getTime()-ge.current;He=He-We}Ke.current=new Date().getTime()})():He!==1/0&&(ge.current=new Date().getTime(),xe=setTimeout(()=>{var We;(We=h.onAutoClose)==null||We.call(h,h),Et()},He)),()=>clearTimeout(xe)},[R,_,fe,h,ja,Et,h.promise,_t,H,Sn]),ce.useEffect(()=>{let xe=un.current;if(xe){let He=xe.getBoundingClientRect().height;return Gn(He),x(We=>[{toastId:h.id,height:He,position:h.position},...We]),()=>x(We=>We.filter(ot=>ot.toastId!==h.id))}},[x,h.id]),ce.useEffect(()=>{h.delete&&Et()},[Et,h.delete]);function nr(){return he!=null&&he.loading?ce.createElement("div",{className:"sonner-loader","data-visible":_t==="loading"},he.loading):be?ce.createElement("div",{className:"sonner-loader","data-visible":_t==="loading"},be):ce.createElement(XR,{visible:_t==="loading"})}return ce.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:un,className:ie(Q,Rr,J?.toast,(t=h?.classNames)==null?void 0:t.toast,J?.default,J?.[_t],(n=h?.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:P,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":B,"data-promise":!!h.promise,"data-removed":Pe,"data-visible":gr,"data-y-position":pt,"data-x-position":It,"data-index":A,"data-front":tr,"data-swiping":Ve,"data-dismissible":vn,"data-type":_t,"data-invert":Dr,"data-swipe-out":et,"data-expanded":!!(R||fe&&B),style:{"--index":A,"--toasts-before":A,"--z-index":C.length-A,"--offset":`${Pe?Ot:Te.current}px`,"--initial-height":fe?"auto":`${qe}px`,...K,...h.style},onPointerDown:xe=>{vr||!vn||(er.current=new Date,jn(Te.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Fe(!0),tt.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,He,We,ot;if(et||!vn)return;tt.current=null;let it=Number(((xe=un.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),en=new Date().getTime()-((He=er.current)==null?void 0:He.getTime()),tn=Math.abs(it)/en;if(Math.abs(it)>=mD||tn>.11){jn(Te.current),(We=h.onDismiss)==null||We.call(h,h),Et(),dt(!0);return}(ot=un.current)==null||ot.style.setProperty("--swipe-amount","0px"),Fe(!1)},onPointerMove:xe=>{var He;if(!tt.current||!vn)return;let We=xe.clientY-tt.current.y,ot=xe.clientX-tt.current.x,it=(pt==="top"?Math.min:Math.max)(0,We),en=xe.pointerType==="touch"?10:2;Math.abs(it)>en?(He=un.current)==null||He.style.setProperty("--swipe-amount",`${We}px`):Math.abs(ot)>en&&(tt.current=null)}},za&&!h.jsx?ce.createElement("button",{"aria-label":O,"data-disabled":vr,"data-close-button":!0,onClick:vr||!vn?()=>{}:()=>{var xe;Et(),(xe=h.onDismiss)==null||xe.call(h,h)},className:ie(J?.closeButton,(a=h?.classNames)==null?void 0:a.closeButton)},ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||ce.isValidElement(h.title)?h.jsx||h.title:ce.createElement(ce.Fragment,null,_t||h.icon||h.promise?ce.createElement("div",{"data-icon":"",className:ie(J?.icon,(i=h?.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||nr():null,h.type!=="loading"?h.icon||he?.[_t]||YR(_t):null):null,ce.createElement("div",{"data-content":"",className:ie(J?.content,(s=h?.classNames)==null?void 0:s.content)},ce.createElement("div",{"data-title":"",className:ie(J?.title,(u=h?.classNames)==null?void 0:u.title)},h.title),h.description?ce.createElement("div",{"data-description":"",className:ie(re,br,J?.description,(c=h?.classNames)==null?void 0:c.description)},h.description):null),ce.isValidElement(h.cancel)?h.cancel:h.cancel&&Sd(h.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||ee,onClick:xe=>{var He,We;Sd(h.cancel)&&vn&&((We=(He=h.cancel).onClick)==null||We.call(He,xe),Et())},className:ie(J?.cancelButton,(d=h?.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,ce.isValidElement(h.action)?h.action:h.action&&Sd(h.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||G,onClick:xe=>{var He,We;Sd(h.action)&&(xe.defaultPrevented||((We=(He=h.action).onClick)==null||We.call(He,xe),Et()))},className:ie(J?.actionButton,(m=h?.classNames)==null?void 0:m.actionButton)},h.action.label):null))};function lE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var bD=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:s,offset:u,theme:c="light",richColors:d,duration:m,style:f,visibleToasts:h=lD,toastOptions:b,dir:_=lE(),gap:x=pD,loadingIcon:T,icons:S,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:C,cn:R=hD}=e,[M,P]=ce.useState([]),j=ce.useMemo(()=>Array.from(new Set([n].concat(M.filter(H=>H.position).map(H=>H.position)))),[M,n]),[K,ee]=ce.useState([]),[G,Q]=ce.useState(!1),[re,ae]=ce.useState(!1),[ne,me]=ce.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),be=ce.useRef(null),fe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=ce.useRef(null),he=ce.useRef(!1),O=ce.useCallback(H=>{var ie;(ie=M.find(B=>B.id===H.id))!=null&&ie.delete||Tr.dismiss(H.id),P(B=>B.filter(({id:Re})=>Re!==H.id))},[M]);return ce.useEffect(()=>Tr.subscribe(H=>{if(H.dismiss){P(ie=>ie.map(B=>B.id===H.id?{...B,delete:!0}:B));return}setTimeout(()=>{b8.flushSync(()=>{P(ie=>{let B=ie.findIndex(Re=>Re.id===H.id);return B!==-1?[...ie.slice(0,B),{...ie[B],...H},...ie.slice(B+1)]:[H,...ie]})})})}),[]),ce.useEffect(()=>{if(c!=="system"){me(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{me(H?"dark":"light")})},[c]),ce.useEffect(()=>{M.length<=1&&Q(!1)},[M]),ce.useEffect(()=>{let H=ie=>{var B,Re;r.every(Pe=>ie[Pe]||ie.code===Pe)&&(Q(!0),(B=be.current)==null||B.focus()),ie.code==="Escape"&&(document.activeElement===be.current||(Re=be.current)!=null&&Re.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),ce.useEffect(()=>{if(be.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,he.current=!1)}},[be.current]),M.length?ce.createElement("section",{"aria-label":`${A} ${fe}`,tabIndex:-1},j.map((H,ie)=>{var B;let[Re,Pe]=H.split("-");return ce.createElement("ol",{key:H,dir:_==="auto"?lE():_,tabIndex:-1,ref:be,className:s,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Re,"data-x-position":Pe,style:{"--front-toast-height":`${((B=K[0])==null?void 0:B.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||uD,"--width":`${dD}px`,"--gap":`${x}px`,...f},onBlur:Le=>{he.current&&!Le.currentTarget.contains(Le.relatedTarget)&&(he.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||he.current||(he.current=!0,J.current=Le.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{re||Q(!1)},onPointerDown:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},M.filter(Le=>!Le.position&&ie===0||Le.position===H).map((Le,Ve)=>{var Fe,et;return ce.createElement(gD,{key:Le.id,icons:S,index:Ve,toast:Le,defaultRichColors:d,duration:(Fe=b?.duration)!=null?Fe:m,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:t,visibleToasts:h,closeButton:(et=b?.closeButton)!=null?et:i,interacting:re,position:H,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:O,toasts:M.filter(dt=>dt.position==Le.position),heights:K.filter(dt=>dt.position==Le.position),setHeights:ee,expandByDefault:a,gap:x,loadingIcon:T,expanded:G,pauseWhenPageIsHidden:C,cn:R})}))})):null};const vD=({...e})=>{const{theme:t="system"}=WR();return $.jsx(bD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yD=h8.useId||(()=>{}),xD=0;function $f(e){const[t,n]=N.useState(yD());return Vi(()=>{n(r=>r??String(xD++))},[e]),e||(t?`radix-${t}`:"")}const _D=["top","right","bottom","left"],qi=Math.min,Ar=Math.max,hp=Math.round,Td=Math.floor,Wi=e=>({x:e,y:e}),wD={left:"right",right:"left",bottom:"top",top:"bottom"},$D={start:"end",end:"start"};function Vh(e,t,n){return Ar(e,qi(t,n))}function ai(e,t){return typeof e=="function"?e(t):e}function ii(e){return e.split("-")[0]}function qs(e){return e.split("-")[1]}function g1(e){return e==="x"?"y":"x"}function b1(e){return e==="y"?"height":"width"}function Yi(e){return["top","bottom"].includes(ii(e))?"y":"x"}function v1(e){return g1(Yi(e))}function ED(e,t,n){n===void 0&&(n=!1);const r=qs(e),a=v1(e),i=b1(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gp(s)),[s,gp(s)]}function SD(e){const t=gp(e);return[qh(e),t,qh(t)]}function qh(e){return e.replace(/start|end/g,t=>$D[t])}function TD(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:s;default:return[]}}function kD(e,t,n,r){const a=qs(e);let i=TD(ii(e),n==="start",r);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(qh)))),i}function gp(e){return e.replace(/left|right|bottom|top/g,t=>wD[t])}function AD(e){return{top:0,right:0,bottom:0,left:0,...e}}function lk(e){return typeof e!="number"?AD(e):{top:e,right:e,bottom:e,left:e}}function bp(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function uE(e,t,n){let{reference:r,floating:a}=e;const i=Yi(t),s=v1(t),u=b1(s),c=ii(t),d=i==="y",m=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[u]/2-a[u]/2;let b;switch(c){case"top":b={x:m,y:r.y-a.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:f};break;case"left":b={x:r.x-a.width,y:f};break;default:b={x:r.x,y:r.y}}switch(qs(t)){case"start":b[s]-=h*(n&&d?-1:1);break;case"end":b[s]+=h*(n&&d?-1:1);break}return b}const ND=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,u=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:f}=uE(d,r,c),h=r,b={},_=0;for(let x=0;x<u.length;x++){const{name:T,fn:S}=u[x],{x:A,y:C,data:R,reset:M}=await S({x:m,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:b,rects:d,platform:s,elements:{reference:e,floating:t}});m=A??m,f=C??f,b={...b,[T]:{...b[T],...R}},M&&_<=50&&(_++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(d=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):M.rects),{x:m,y:f}=uE(d,h,c)),x=-1)}return{x:m,y:f,placement:h,strategy:a,middlewareData:b}};async function Eu(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:s,elements:u,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:h=!1,padding:b=0}=ai(t,e),_=lk(b),T=u[h?f==="floating"?"reference":"floating":f],S=bp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:c})),A=f==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),R=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},M=bp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:C,strategy:c}):A);return{top:(S.top-M.top+_.top)/R.y,bottom:(M.bottom-S.bottom+_.bottom)/R.y,left:(S.left-M.left+_.left)/R.x,right:(M.right-S.right+_.right)/R.x}}const CD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:s,elements:u,middlewareData:c}=t,{element:d,padding:m=0}=ai(e,t)||{};if(d==null)return{};const f=lk(m),h={x:n,y:r},b=v1(a),_=b1(b),x=await s.getDimensions(d),T=b==="y",S=T?"top":"left",A=T?"bottom":"right",C=T?"clientHeight":"clientWidth",R=i.reference[_]+i.reference[b]-h[b]-i.floating[_],M=h[b]-i.reference[b],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let j=P?P[C]:0;(!j||!await(s.isElement==null?void 0:s.isElement(P)))&&(j=u.floating[C]||i.floating[_]);const K=R/2-M/2,ee=j/2-x[_]/2-1,G=qi(f[S],ee),Q=qi(f[A],ee),re=G,ae=j-x[_]-Q,ne=j/2-x[_]/2+K,me=Vh(re,ne,ae),be=!c.arrow&&qs(a)!=null&&ne!==me&&i.reference[_]/2-(ne<re?G:Q)-x[_]/2<0,fe=be?ne<re?ne-re:ne-ae:0;return{[b]:h[b]+fe,data:{[b]:me,centerOffset:ne-me-fe,...be&&{alignmentOffset:fe}},reset:be}}}),ID=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:u,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...T}=ai(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=ii(a),A=Yi(u),C=ii(u)===u,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=h||(C||!x?[gp(u)]:SD(u)),P=_!=="none";!h&&P&&M.push(...kD(u,x,_,R));const j=[u,...M],K=await Eu(t,T),ee=[];let G=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&ee.push(K[S]),f){const ne=ED(a,s,R);ee.push(K[ne[0]],K[ne[1]])}if(G=[...G,{placement:a,overflows:ee}],!ee.every(ne=>ne<=0)){var Q,re;const ne=(((Q=i.flip)==null?void 0:Q.index)||0)+1,me=j[ne];if(me)return{data:{index:ne,overflows:G},reset:{placement:me}};let be=(re=G.filter(fe=>fe.overflows[0]<=0).sort((fe,J)=>fe.overflows[1]-J.overflows[1])[0])==null?void 0:re.placement;if(!be)switch(b){case"bestFit":{var ae;const fe=(ae=G.filter(J=>{if(P){const he=Yi(J.placement);return he===A||he==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(he=>he>0).reduce((he,O)=>he+O,0)]).sort((J,he)=>J[1]-he[1])[0])==null?void 0:ae[0];fe&&(be=fe);break}case"initialPlacement":be=u;break}if(a!==be)return{reset:{placement:be}}}return{}}}};function cE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dE(e){return _D.some(t=>e[t]>=0)}const LD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ai(e,t);switch(r){case"referenceHidden":{const i=await Eu(t,{...a,elementContext:"reference"}),s=cE(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:dE(s)}}}case"escaped":{const i=await Eu(t,{...a,altBoundary:!0}),s=cE(i,n.floating);return{data:{escapedOffsets:s,escaped:dE(s)}}}default:return{}}}}};async function RD(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=ii(n),u=qs(n),c=Yi(n)==="y",d=["left","top"].includes(s)?-1:1,m=i&&c?-1:1,f=ai(t,e);let{mainAxis:h,crossAxis:b,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return u&&typeof _=="number"&&(b=u==="end"?_*-1:_),c?{x:b*m,y:h*d}:{x:h*d,y:b*m}}const DD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:u}=t,c=await RD(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},OD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:T=>{let{x:S,y:A}=T;return{x:S,y:A}}},...c}=ai(e,t),d={x:n,y:r},m=await Eu(t,c),f=Yi(ii(a)),h=g1(f);let b=d[h],_=d[f];if(i){const T=h==="y"?"top":"left",S=h==="y"?"bottom":"right",A=b+m[T],C=b-m[S];b=Vh(A,b,C)}if(s){const T=f==="y"?"top":"left",S=f==="y"?"bottom":"right",A=_+m[T],C=_-m[S];_=Vh(A,_,C)}const x=u.fn({...t,[h]:b,[f]:_});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:i,[f]:s}}}}}},UD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:s}=t,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=ai(e,t),m={x:n,y:r},f=Yi(a),h=g1(f);let b=m[h],_=m[f];const x=ai(u,t),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const C=h==="y"?"height":"width",R=i.reference[h]-i.floating[C]+T.mainAxis,M=i.reference[h]+i.reference[C]-T.mainAxis;b<R?b=R:b>M&&(b=M)}if(d){var S,A;const C=h==="y"?"width":"height",R=["top","left"].includes(ii(a)),M=i.reference[f]-i.floating[C]+(R&&((S=s.offset)==null?void 0:S[f])||0)+(R?0:T.crossAxis),P=i.reference[f]+i.reference[C]+(R?0:((A=s.offset)==null?void 0:A[f])||0)-(R?T.crossAxis:0);_<M?_=M:_>P&&(_=P)}return{[h]:b,[f]:_}}}},MD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:s,elements:u}=t,{apply:c=()=>{},...d}=ai(e,t),m=await Eu(t,d),f=ii(a),h=qs(a),b=Yi(a)==="y",{width:_,height:x}=i.floating;let T,S;f==="top"||f==="bottom"?(T=f,S=h===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(S=f,T=h==="end"?"top":"bottom");const A=x-m.top-m.bottom,C=_-m.left-m.right,R=qi(x-m[T],A),M=qi(_-m[S],C),P=!t.middlewareData.shift;let j=R,K=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(K=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=A),P&&!h){const G=Ar(m.left,0),Q=Ar(m.right,0),re=Ar(m.top,0),ae=Ar(m.bottom,0);b?K=_-2*(G!==0||Q!==0?G+Q:Ar(m.left,m.right)):j=x-2*(re!==0||ae!==0?re+ae:Ar(m.top,m.bottom))}await c({...t,availableWidth:K,availableHeight:j});const ee=await s.getDimensions(u.floating);return _!==ee.width||x!==ee.height?{reset:{rects:!0}}:{}}}};function Vp(){return typeof window<"u"}function Ws(e){return uk(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Da(e){var t;return(t=(uk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uk(e){return Vp()?e instanceof Node||e instanceof Cr(e).Node:!1}function da(e){return Vp()?e instanceof Element||e instanceof Cr(e).Element:!1}function Ra(e){return Vp()?e instanceof HTMLElement||e instanceof Cr(e).HTMLElement:!1}function pE(e){return!Vp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cr(e).ShadowRoot}function Hu(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function PD(e){return["table","td","th"].includes(Ws(e))}function qp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function y1(e){const t=x1(),n=da(e)?pa(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function FD(e){let t=Ki(e);for(;Ra(t)&&!Us(t);){if(y1(t))return t;if(qp(t))return null;t=Ki(t)}return null}function x1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Us(e){return["html","body","#document"].includes(Ws(e))}function pa(e){return Cr(e).getComputedStyle(e)}function Wp(e){return da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ki(e){if(Ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pE(e)&&e.host||Da(e);return pE(t)?t.host:t}function ck(e){const t=Ki(e);return Us(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ra(t)&&Hu(t)?t:ck(t)}function Su(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=ck(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),s=Cr(a);if(i){const u=Wh(s);return t.concat(s,s.visualViewport||[],Hu(a)?a:[],u&&n?Su(u):[])}return t.concat(a,Su(a,[],n))}function Wh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dk(e){const t=pa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ra(e),i=a?e.offsetWidth:n,s=a?e.offsetHeight:r,u=hp(n)!==i||hp(r)!==s;return u&&(n=i,r=s),{width:n,height:r,$:u}}function _1(e){return da(e)?e:e.contextElement}function As(e){const t=_1(e);if(!Ra(t))return Wi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=dk(t);let s=(i?hp(n.width):n.width)/r,u=(i?hp(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const BD=Wi(0);function pk(e){const t=Cr(e);return!x1()||!t.visualViewport?BD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cr(e)?!1:t}function Co(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=_1(e);let s=Wi(1);t&&(r?da(r)&&(s=As(r)):s=As(e));const u=zD(i,n,r)?pk(i):Wi(0);let c=(a.left+u.x)/s.x,d=(a.top+u.y)/s.y,m=a.width/s.x,f=a.height/s.y;if(i){const h=Cr(i),b=r&&da(r)?Cr(r):r;let _=h,x=Wh(_);for(;x&&r&&b!==_;){const T=As(x),S=x.getBoundingClientRect(),A=pa(x),C=S.left+(x.clientLeft+parseFloat(A.paddingLeft))*T.x,R=S.top+(x.clientTop+parseFloat(A.paddingTop))*T.y;c*=T.x,d*=T.y,m*=T.x,f*=T.y,c+=C,d+=R,_=Cr(x),x=Wh(_)}}return bp({width:m,height:f,x:c,y:d})}function jD(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",s=Da(r),u=t?qp(t.floating):!1;if(r===s||u&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Wi(1);const m=Wi(0),f=Ra(r);if((f||!f&&!i)&&((Ws(r)!=="body"||Hu(s))&&(c=Wp(r)),Ra(r))){const h=Co(r);d=As(r),m.x=h.x+r.clientLeft,m.y=h.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x,y:n.y*d.y-c.scrollTop*d.y+m.y}}function GD(e){return Array.from(e.getClientRects())}function Yh(e,t){const n=Wp(e).scrollLeft;return t?t.left+n:Co(Da(e)).left+n}function HD(e){const t=Da(e),n=Wp(e),r=e.ownerDocument.body,a=Ar(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ar(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Yh(e);const u=-n.scrollTop;return pa(r).direction==="rtl"&&(s+=Ar(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:s,y:u}}function VD(e,t){const n=Cr(e),r=Da(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,u=0,c=0;if(a){i=a.width,s=a.height;const d=x1();(!d||d&&t==="fixed")&&(u=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:u,y:c}}function qD(e,t){const n=Co(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ra(e)?As(e):Wi(1),s=e.clientWidth*i.x,u=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:s,height:u,x:c,y:d}}function mE(e,t,n){let r;if(t==="viewport")r=VD(e,n);else if(t==="document")r=HD(Da(e));else if(da(t))r=qD(t,n);else{const a=pk(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return bp(r)}function mk(e,t){const n=Ki(e);return n===t||!da(n)||Us(n)?!1:pa(n).position==="fixed"||mk(n,t)}function WD(e,t){const n=t.get(e);if(n)return n;let r=Su(e,[],!1).filter(u=>da(u)&&Ws(u)!=="body"),a=null;const i=pa(e).position==="fixed";let s=i?Ki(e):e;for(;da(s)&&!Us(s);){const u=pa(s),c=y1(s);!c&&u.position==="fixed"&&(a=null),(i?!c&&!a:!c&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hu(s)&&!c&&mk(e,s))?r=r.filter(m=>m!==s):a=u,s=Ki(s)}return t.set(e,r),r}function YD(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?qp(t)?[]:WD(t,this._c):[].concat(n),r],u=s[0],c=s.reduce((d,m)=>{const f=mE(t,m,a);return d.top=Ar(f.top,d.top),d.right=qi(f.right,d.right),d.bottom=qi(f.bottom,d.bottom),d.left=Ar(f.left,d.left),d},mE(t,u,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KD(e){const{width:t,height:n}=dk(e);return{width:t,height:n}}function XD(e,t,n){const r=Ra(t),a=Da(t),i=n==="fixed",s=Co(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const c=Wi(0);if(r||!r&&!i)if((Ws(t)!=="body"||Hu(a))&&(u=Wp(t)),r){const b=Co(t,!0,i,t);c.x=b.x+t.clientLeft,c.y=b.y+t.clientTop}else a&&(c.x=Yh(a));let d=0,m=0;if(a&&!r&&!i){const b=a.getBoundingClientRect();m=b.top+u.scrollTop,d=b.left+u.scrollLeft-Yh(a,b)}const f=s.left+u.scrollLeft-c.x-d,h=s.top+u.scrollTop-c.y-m;return{x:f,y:h,width:s.width,height:s.height}}function Ef(e){return pa(e).position==="static"}function fE(e,t){if(!Ra(e)||pa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Da(e)===n&&(n=n.ownerDocument.body),n}function fk(e,t){const n=Cr(e);if(qp(e))return n;if(!Ra(e)){let a=Ki(e);for(;a&&!Us(a);){if(da(a)&&!Ef(a))return a;a=Ki(a)}return n}let r=fE(e,t);for(;r&&PD(r)&&Ef(r);)r=fE(r,t);return r&&Us(r)&&Ef(r)&&!y1(r)?n:r||FD(e)||n}const QD=async function(e){const t=this.getOffsetParent||fk,n=this.getDimensions,r=await n(e.floating);return{reference:XD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZD(e){return pa(e).direction==="rtl"}const JD={convertOffsetParentRelativeRectToViewportRelativeRect:jD,getDocumentElement:Da,getClippingRect:YD,getOffsetParent:fk,getElementRects:QD,getClientRects:GD,getDimensions:KD,getScale:As,isElement:da,isRTL:ZD};function eO(e,t){let n=null,r;const a=Da(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const{left:d,top:m,width:f,height:h}=e.getBoundingClientRect();if(u||t(),!f||!h)return;const b=Td(m),_=Td(a.clientWidth-(d+f)),x=Td(a.clientHeight-(m+h)),T=Td(d),A={rootMargin:-b+"px "+-_+"px "+-x+"px "+-T+"px",threshold:Ar(0,qi(1,c))||1};let C=!0;function R(M){const P=M[0].intersectionRatio;if(P!==c){if(!C)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(R,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(R,A)}n.observe(e)}return s(!0),i}function tO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=_1(e),m=a||i?[...d?Su(d):[],...Su(t)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const f=d&&u?eO(d,n):null;let h=-1,b=null;s&&(b=new ResizeObserver(S=>{let[A]=S;A&&A.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),d&&!c&&b.observe(d),b.observe(t));let _,x=c?Co(e):null;c&&T();function T(){const S=Co(e);x&&(S.x!==x.x||S.y!==x.y||S.width!==x.width||S.height!==x.height)&&n(),x=S,_=requestAnimationFrame(T)}return n(),()=>{var S;m.forEach(A=>{a&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),f?.(),(S=b)==null||S.disconnect(),b=null,c&&cancelAnimationFrame(_)}}const nO=DD,rO=OD,aO=ID,iO=MD,oO=LD,hE=CD,sO=UD,lO=(e,t,n)=>{const r=new Map,a={platform:JD,...n},i={...a.platform,_c:r};return ND(e,t,{...a,platform:i})};var tp=typeof document<"u"?N.useLayoutEffect:N.useEffect;function vp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vp(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!vp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function hk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gE(e,t){const n=hk(e);return Math.round(t*n)/n}function Sf(e){const t=N.useRef(e);return tp(()=>{t.current=e}),t}function uO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:c,open:d}=e,[m,f]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,b]=N.useState(r);vp(h,r)||b(r);const[_,x]=N.useState(null),[T,S]=N.useState(null),A=N.useCallback(J=>{J!==P.current&&(P.current=J,x(J))},[]),C=N.useCallback(J=>{J!==j.current&&(j.current=J,S(J))},[]),R=i||_,M=s||T,P=N.useRef(null),j=N.useRef(null),K=N.useRef(m),ee=c!=null,G=Sf(c),Q=Sf(a),re=Sf(d),ae=N.useCallback(()=>{if(!P.current||!j.current)return;const J={placement:t,strategy:n,middleware:h};Q.current&&(J.platform=Q.current),lO(P.current,j.current,J).then(he=>{const O={...he,isPositioned:re.current!==!1};ne.current&&!vp(K.current,O)&&(K.current=O,Fp.flushSync(()=>{f(O)}))})},[h,t,n,Q,re]);tp(()=>{d===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,f(J=>({...J,isPositioned:!1})))},[d]);const ne=N.useRef(!1);tp(()=>(ne.current=!0,()=>{ne.current=!1}),[]),tp(()=>{if(R&&(P.current=R),M&&(j.current=M),R&&M){if(G.current)return G.current(R,M,ae);ae()}},[R,M,ae,G,ee]);const me=N.useMemo(()=>({reference:P,floating:j,setReference:A,setFloating:C}),[A,C]),be=N.useMemo(()=>({reference:R,floating:M}),[R,M]),fe=N.useMemo(()=>{const J={position:n,left:0,top:0};if(!be.floating)return J;const he=gE(be.floating,m.x),O=gE(be.floating,m.y);return u?{...J,transform:"translate("+he+"px, "+O+"px)",...hk(be.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:O}},[n,u,be.floating,m.x,m.y]);return N.useMemo(()=>({...m,update:ae,refs:me,elements:be,floatingStyles:fe}),[m,ae,me,be,fe])}const cO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?hE({element:r.current,padding:a}).fn(n):{}:r?hE({element:r,padding:a}).fn(n):{}}}},dO=(e,t)=>({...nO(e),options:[e,t]}),pO=(e,t)=>({...rO(e),options:[e,t]}),mO=(e,t)=>({...sO(e),options:[e,t]}),fO=(e,t)=>({...aO(e),options:[e,t]}),hO=(e,t)=>({...iO(e),options:[e,t]}),gO=(e,t)=>({...oO(e),options:[e,t]}),bO=(e,t)=>({...cO(e),options:[e,t]});var vO="Arrow",gk=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return $.jsx(sn.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});gk.displayName=vO;var yO=gk;function xO(e,t=[]){let n=[];function r(i,s){const u=N.createContext(s),c=n.length;n=[...n,s];function d(f){const{scope:h,children:b,..._}=f,x=h?.[e][c]||u,T=N.useMemo(()=>_,Object.values(_));return $.jsx(x.Provider,{value:T,children:b})}function m(f,h){const b=h?.[e][c]||u,_=N.useContext(b);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=n.map(s=>N.createContext(s));return function(u){const c=u?.[e]||i;return N.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return a.scopeName=e,[r,_O(a,...t)]}function _O(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=r.reduce((u,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...u,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function wO(e){const[t,n]=N.useState(void 0);return Vi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,u;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;s=d.inlineSize,u=d.blockSize}else s=e.offsetWidth,u=e.offsetHeight;n({width:s,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bk="Popper",[vk,yk]=xO(bk),[Yae,xk]=vk(bk),_k="PopperAnchor",wk=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=xk(_k,n),s=N.useRef(null),u=Zn(t,s);return N.useEffect(()=>{i.onAnchorChange(r?.current||s.current)}),r?null:$.jsx(sn.div,{...a,ref:u})});wk.displayName=_k;var w1="PopperContent",[$O,EO]=vk(w1),$k=N.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:b="optimized",onPlaced:_,...x}=e,T=xk(w1,n),[S,A]=N.useState(null),C=Zn(t,Ve=>A(Ve)),[R,M]=N.useState(null),P=wO(R),j=P?.width??0,K=P?.height??0,ee=r+(i!=="center"?"-"+i:""),G=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(d)?d:[d],re=Q.length>0,ae={padding:G,boundary:Q.filter(TO),altBoundary:re},{refs:ne,floatingStyles:me,placement:be,isPositioned:fe,middlewareData:J}=uO({strategy:"fixed",placement:ee,whileElementsMounted:(...Ve)=>tO(...Ve,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[dO({mainAxis:a+K,alignmentAxis:s}),c&&pO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mO():void 0,...ae}),c&&fO({...ae}),hO({...ae,apply:({elements:Ve,rects:Fe,availableWidth:et,availableHeight:dt})=>{const{width:Ot,height:jn}=Fe.reference,qe=Ve.floating.style;qe.setProperty("--radix-popper-available-width",`${et}px`),qe.setProperty("--radix-popper-available-height",`${dt}px`),qe.setProperty("--radix-popper-anchor-width",`${Ot}px`),qe.setProperty("--radix-popper-anchor-height",`${jn}px`)}}),R&&bO({element:R,padding:u}),kO({arrowWidth:j,arrowHeight:K}),h&&gO({strategy:"referenceHidden",...ae})]}),[he,O]=Tk(be),H=Yr(_);Vi(()=>{fe&&H?.()},[fe,H]);const ie=J.arrow?.x,B=J.arrow?.y,Re=J.arrow?.centerOffset!==0,[Pe,Le]=N.useState();return Vi(()=>{S&&Le(window.getComputedStyle(S).zIndex)},[S]),$.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:fe?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:$.jsx($O,{scope:n,placedSide:he,onArrowChange:M,arrowX:ie,arrowY:B,shouldHideArrow:Re,children:$.jsx(sn.div,{"data-side":he,"data-align":O,...x,ref:C,style:{...x.style,animation:fe?void 0:"none"}})})})});$k.displayName=w1;var Ek="PopperArrow",SO={top:"bottom",right:"left",bottom:"top",left:"right"},Sk=N.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=EO(Ek,r),s=SO[i.placedSide];return $.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:$.jsx(yO,{...a,ref:n,style:{...a.style,display:"block"}})})});Sk.displayName=Ek;function TO(e){return e!==null}var kO=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,s=a.arrow?.centerOffset!==0,u=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[d,m]=Tk(n),f={start:"0%",center:"50%",end:"100%"}[m],h=(a.arrow?.x??0)+u/2,b=(a.arrow?.y??0)+c/2;let _="",x="";return d==="bottom"?(_=s?f:`${h}px`,x=`${-c}px`):d==="top"?(_=s?f:`${h}px`,x=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,x=s?f:`${b}px`):d==="left"&&(_=`${r.floating.width+c}px`,x=s?f:`${b}px`),{data:{x:_,y:x}}}});function Tk(e){const[t,n="center"]=e.split("-");return[t,n]}var AO=wk,NO=$k,CO=Sk,[Yp]=i1("Tooltip",[yk]),$1=yk(),kk="TooltipProvider",IO=700,bE="tooltip.open",[LO,Ak]=Yp(kk),Nk=e=>{const{__scopeTooltip:t,delayDuration:n=IO,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[s,u]=N.useState(!0),c=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const m=d.current;return()=>window.clearTimeout(m)},[]),$.jsx(LO,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),u(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:N.useCallback(m=>{c.current=m},[]),disableHoverableContent:a,children:i})};Nk.displayName=kk;var Ck="Tooltip",[Kae,Kp]=Yp(Ck),Kh="TooltipTrigger",RO=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Kp(Kh,n),i=Ak(Kh,n),s=$1(n),u=N.useRef(null),c=Zn(t,u,a.onTriggerChange),d=N.useRef(!1),m=N.useRef(!1),f=N.useCallback(()=>d.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),$.jsx(AO,{asChild:!0,...s,children:$.jsx(sn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:Pt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Pt(e.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Pt(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pt(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Pt(e.onBlur,a.onClose),onClick:Pt(e.onClick,a.onClose)})})});RO.displayName=Kh;var DO="TooltipPortal",[Xae,OO]=Yp(DO,{forceMount:void 0}),Ms="TooltipContent",Ik=N.forwardRef((e,t)=>{const n=OO(Ms,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,s=Kp(Ms,e.__scopeTooltip);return $.jsx(Hs,{present:r||s.open,children:s.disableHoverableContent?$.jsx(Lk,{side:a,...i,ref:t}):$.jsx(UO,{side:a,...i,ref:t})})}),UO=N.forwardRef((e,t)=>{const n=Kp(Ms,e.__scopeTooltip),r=Ak(Ms,e.__scopeTooltip),a=N.useRef(null),i=Zn(t,a),[s,u]=N.useState(null),{trigger:c,onClose:d}=n,m=a.current,{onPointerInTransitChange:f}=r,h=N.useCallback(()=>{u(null),f(!1)},[f]),b=N.useCallback((_,x)=>{const T=_.currentTarget,S={x:_.clientX,y:_.clientY},A=BO(S,T.getBoundingClientRect()),C=zO(S,A),R=jO(x.getBoundingClientRect()),M=HO([...C,...R]);u(M),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&m){const _=T=>b(T,m),x=T=>b(T,c);return c.addEventListener("pointerleave",_),m.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",x)}}},[c,m,b,h]),N.useEffect(()=>{if(s){const _=x=>{const T=x.target,S={x:x.clientX,y:x.clientY},A=c?.contains(T)||m?.contains(T),C=!GO(S,s);A?h():C&&(h(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,m,s,d,h]),$.jsx(Lk,{...e,ref:i})}),[MO,PO]=Yp(Ck,{isInside:!1}),Lk=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...u}=e,c=Kp(Ms,n),d=$1(n),{onClose:m}=c;return N.useEffect(()=>(document.addEventListener(bE,m),()=>document.removeEventListener(bE,m)),[m]),N.useEffect(()=>{if(c.trigger){const f=h=>{h.target?.contains(c.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,m]),$.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:$.jsxs(NO,{"data-state":c.stateAttribute,...d,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(y8,{children:r}),$.jsx(MO,{scope:n,isInside:!0,children:$.jsx(DL,{id:c.contentId,role:"tooltip",children:a||r})})]})})});Ik.displayName=Ms;var Rk="TooltipArrow",FO=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=$1(n);return PO(Rk,n).isInside?null:$.jsx(CO,{...a,...r,ref:t})});FO.displayName=Rk;function BO(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function jO(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function GO(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const u=t[i].x,c=t[i].y,d=t[s].x,m=t[s].y;c>r!=m>r&&n<(d-u)*(r-c)/(m-c)+u&&(a=!a)}return a}function HO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),VO(t)}function VO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var qO=Nk,Dk=Ik;const WO=qO,YO=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>$.jsx(Dk,{ref:r,sideOffset:t,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));YO.displayName=Dk.displayName;var Xp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qp=typeof window>"u"||"Deno"in globalThis;function la(){}function KO(e,t){return typeof e=="function"?e(t):e}function XO(e){return typeof e=="number"&&e>=0&&e!==1/0}function QO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vE(e,t){return typeof e=="function"?e(t):e}function ZO(e,t){return typeof e=="function"?e(t):e}function yE(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:u}=e;if(s){if(r){if(t.queryHash!==E1(s,t.options))return!1}else if(!ku(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||i&&!i(t))}function xE(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Tu(t.options.mutationKey)!==Tu(i))return!1}else if(!ku(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function E1(e,t){return(t?.queryKeyHashFn||Tu)(e)}function Tu(e){return JSON.stringify(e,(t,n)=>Xh(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function ku(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ku(e[n],t[n])):!1}function Ok(e,t){if(e===t)return e;const n=_E(e)&&_E(t);if(n||Xh(e)&&Xh(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),s=i.length,u=n?[]:{};let c=0;for(let d=0;d<s;d++){const m=n?d:i[d];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,c++):(u[m]=Ok(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&c++)}return a===s&&c===a?e:u}return t}function _E(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xh(e){if(!wE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!wE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wE(e){return Object.prototype.toString.call(e)==="[object Object]"}function JO(e){return new Promise(t=>{setTimeout(t,e)})}function eU(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ok(e,t):t}function tU(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nU(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var S1=Symbol();function Uk(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===S1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var rU=class extends Xp{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Qp&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mk=new rU,aU=class extends Xp{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Qp&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},yp=new aU;function iU(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function oU(e){return Math.min(1e3*2**e,3e4)}function Pk(e){return(e??"online")==="online"?yp.isOnline():!0}var Fk=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Tf(e){return e instanceof Fk}function Bk(e){let t=!1,n=0,r=!1,a;const i=iU(),s=x=>{r||(h(new Fk(x)),e.abort?.())},u=()=>{t=!0},c=()=>{t=!1},d=()=>Mk.isFocused()&&(e.networkMode==="always"||yp.isOnline())&&e.canRun(),m=()=>Pk(e.networkMode)&&e.canRun(),f=x=>{r||(r=!0,e.onSuccess?.(x),a?.(),i.resolve(x))},h=x=>{r||(r=!0,e.onError?.(x),a?.(),i.reject(x))},b=()=>new Promise(x=>{a=T=>{(r||d())&&x(T)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),_=()=>{if(r)return;let x;const T=n===0?e.initialPromise:void 0;try{x=T??e.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(f).catch(S=>{if(r)return;const A=e.retry??(Qp?0:3),C=e.retryDelay??oU,R=typeof C=="function"?C(n,S):C,M=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,S);if(t||!M){h(S);return}n++,e.onFail?.(n,S),JO(R).then(()=>d()?void 0:b()).then(()=>{t?h(S):_()})})};return{promise:i,cancel:s,continue:()=>(a?.(),i),cancelRetry:u,continueRetry:c,canStart:m,start:()=>(m()?_():b().then(_),i)}}function sU(){let e=[],t=0,n=u=>{u()},r=u=>{u()},a=u=>setTimeout(u,0);const i=u=>{t?e.push(u):a(()=>{n(u)})},s=()=>{const u=e;e=[],u.length&&a(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||s()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{a=u}}}var Yn=sU(),zk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XO(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qp?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},lU=class extends zk{#e;#t;#n;#r;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=cU(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=eU(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(la).catch(la):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ZO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!QO(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},a=()=>{const u=Uk(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#i=!1,this.options.persister?this.options.persister(u,c,this):u(c)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#a({type:"fetch",meta:i.fetchOptions?.meta});const s=u=>{Tf(u)&&u.silent||this.#a({type:"error",error:u}),Tf(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#r=Bk({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){s(c);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:s,onFail:(u,c)=>{this.#a({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uU(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Tf(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Yn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function uU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dU=class extends Xp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,a=t.queryHash??E1(r,t);let i=this.get(a);return i||(i=new lU({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>yE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>yE(e,n)):t}notify(e){Yn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pU=class extends zk{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||mU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=Bk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#r({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Yn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function mU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fU=class extends Xp{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new pU({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=kd(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=kd(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(kd(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(kd(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>xE(t,n))}findAll(e={}){return this.getAll().filter(t=>xE(e,t))}notify(e){Yn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Yn.batch(()=>Promise.all(e.map(t=>t.continue().catch(la))))}};function kd(e){return e.options.scope?.id??String(e.mutationId)}function $E(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const f=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},h=Uk(t.options,t.fetchOptions),b=async(_,x,T)=>{if(m)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const S={queryKey:t.queryKey,pageParam:x,direction:T?"backward":"forward",meta:t.options.meta};f(S);const A=await h(S),{maxPages:C}=t.options,R=T?nU:tU;return{pages:R(_.pages,A,C),pageParams:R(_.pageParams,x,C)}};if(a&&i.length){const _=a==="backward",x=_?hU:EE,T={pages:i,pageParams:s},S=x(r,T);u=await b(T,S,_)}else{const _=e??i.length;do{const x=c===0?s[0]??r.initialPageParam:EE(r,u);if(c>0&&x==null)break;u=await b(u,x),c++}while(c<_)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function EE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hU(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var gU=class{#e;#t;#n;#r;#o;#i;#a;#s;constructor(e={}){this.#e=e.queryCache||new dU,this.#t=e.mutationCache||new fU,this.#n=e.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=Mk.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=yp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(vE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,s=KO(t,i);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Yn.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Yn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return Yn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Yn.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(la).catch(la)}invalidateQueries(e={},t={}){return Yn.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=Yn.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(la)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(la)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(vE(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(la).catch(la)}fetchInfiniteQuery(e){return e.behavior=$E(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(la).catch(la)}ensureInfiniteQueryData(e){return e.behavior=$E(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Tu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()];let n={};return t.forEach(r=>{ku(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#o.set(Tu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let n={};return t.forEach(r=>{ku(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=E1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===S1&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bU=N.createContext(void 0),vU=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),$.jsx(bU.Provider,{value:e,children:t}));function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}var zi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zi||(zi={}));const SE="popstate";function yU(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:s,hash:u}=r.location;return Qh("",{pathname:i,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:jk(a)}return _U(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xU(){return Math.random().toString(36).substr(2,8)}function TE(e,t){return{usr:e.state,key:e.key,idx:t}}function Qh(e,t,n,r){return n===void 0&&(n=null),Au({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ys(t):t,{state:n,key:t&&t.key||r||xU()})}function jk(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ys(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _U(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,u=zi.Pop,c=null,d=m();d==null&&(d=0,s.replaceState(Au({},s.state,{idx:d}),""));function m(){return(s.state||{idx:null}).idx}function f(){u=zi.Pop;let T=m(),S=T==null?null:T-d;d=T,c&&c({action:u,location:x.location,delta:S})}function h(T,S){u=zi.Push;let A=Qh(x.location,T,S);d=m()+1;let C=TE(A,d),R=x.createHref(A);try{s.pushState(C,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(R)}i&&c&&c({action:u,location:x.location,delta:1})}function b(T,S){u=zi.Replace;let A=Qh(x.location,T,S);d=m();let C=TE(A,d),R=x.createHref(A);s.replaceState(C,"",R),i&&c&&c({action:u,location:x.location,delta:0})}function _(T){let S=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof T=="string"?T:jk(T);return A=A.replace(/ $/,"%20"),hn(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let x={get action(){return u},get location(){return e(a,s)},listen(T){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(SE,f),c=T,()=>{a.removeEventListener(SE,f),c=null}},createHref(T){return t(a,T)},createURL:_,encodeLocation(T){let S=_(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:h,replace:b,go(T){return s.go(T)}};return x}var kE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kE||(kE={}));function wU(e,t,n){return n===void 0&&(n="/"),$U(e,t,n)}function $U(e,t,n,r){let a=typeof t=="string"?Ys(t):t,i=Vk(a.pathname||"/",n);if(i==null)return null;let s=Gk(e);EU(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let d=UU(i);u=RU(s[c],d)}return u}function Gk(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,s,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=To([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(hn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Gk(i.children,t,m,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:IU(d,i.index),routesMeta:m})};return e.forEach((i,s)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,s);else for(let c of Hk(i.path))a(i,s,c)}),t}function Hk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=Hk(r.join("/")),u=[];return u.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&u.push(...s),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function EU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:LU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SU=/^:[\w-]+$/,TU=3,kU=2,AU=1,NU=10,CU=-2,AE=e=>e==="*";function IU(e,t){let n=e.split("/"),r=n.length;return n.some(AE)&&(r+=CU),t&&(r+=kU),n.filter(a=>!AE(a)).reduce((a,i)=>a+(SU.test(i)?TU:i===""?AU:NU),r)}function LU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function RU(e,t,n){let{routesMeta:r}=e,a={},i="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=DU({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:To([i,f.pathname]),pathnameBase:GU(To([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=To([i,f.pathnameBase]))}return s}function DU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=OU(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((d,m,f)=>{let{paramName:h,isOptional:b}=m;if(h==="*"){let x=u[f]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=u[f];return b&&!_?d[h]=void 0:d[h]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function OU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),T1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function UU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const MU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PU=e=>MU.test(e);function FU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ys(e):e,i;if(n)if(PU(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),T1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?i=NE(n.substring(1),"/"):i=NE(n,t)}else i=t;return{pathname:i,search:HU(r),hash:VU(a)}}function NE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zU(e,t){let n=BU(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jU(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ys(e):(a=Au({},e),hn(!a.pathname||!a.pathname.includes("?"),kf("?","pathname","search",a)),hn(!a.pathname||!a.pathname.includes("#"),kf("#","pathname","hash",a)),hn(!a.search||!a.search.includes("#"),kf("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,u;if(s==null)u=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}u=f>=0?t[f]:"/"}let c=FU(a,u),d=s&&s!=="/"&&s.endsWith("/"),m=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),GU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qk=["post","put","patch","delete"];new Set(qk);const WU=["get",...qk];new Set(WU);function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nu.apply(this,arguments)}const k1=N.createContext(null),YU=N.createContext(null),Zp=N.createContext(null),Jp=N.createContext(null),Ro=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Wk=N.createContext(null);function em(){return N.useContext(Jp)!=null}function Vu(){return em()||hn(!1),N.useContext(Jp).location}function Yk(e){N.useContext(Zp).static||N.useLayoutEffect(e)}function qu(){let{isDataRoute:e}=N.useContext(Ro);return e?lM():KU()}function KU(){em()||hn(!1);let e=N.useContext(k1),{basename:t,future:n,navigator:r}=N.useContext(Zp),{matches:a}=N.useContext(Ro),{pathname:i}=Vu(),s=JSON.stringify(zU(a,n.v7_relativeSplatPath)),u=N.useRef(!1);return Yk(()=>{u.current=!0}),N.useCallback(function(d,m){if(m===void 0&&(m={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let f=jU(d,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:To([t,f.pathname])),(m.replace?r.replace:r.push)(f,m.state,m)},[t,r,s,i,e])}function XU(){let{matches:e}=N.useContext(Ro),t=e[e.length-1];return t?t.params:{}}function QU(e,t){return ZU(e,t)}function ZU(e,t,n,r){em()||hn(!1);let{navigator:a}=N.useContext(Zp),{matches:i}=N.useContext(Ro),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=Vu(),m;if(t){var f;let T=typeof t=="string"?Ys(t):t;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||hn(!1),m=T}else m=d;let h=m.pathname||"/",b=h;if(c!=="/"){let T=c.replace(/^\//,"").split("/");b="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=wU(e,{pathname:b}),x=rM(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:To([c,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:To([c,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return t&&x?N.createElement(Jp.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:zi.Pop}},x):x}function JU(){let e=sM(),t=qU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,null)}const eM=N.createElement(JU,null);class tM extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Ro.Provider,{value:this.props.routeContext},N.createElement(Wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nM(e){let{routeContext:t,match:n,children:r}=e,a=N.useContext(k1);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ro.Provider,{value:t},r)}function rM(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,u=(a=n)==null?void 0:a.errors;if(u!=null){let m=s.findIndex(f=>f.route.id&&u?.[f.route.id]!==void 0);m>=0||hn(!1),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<s.length;m++){let f=s[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:h,errors:b}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||_){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,f,h)=>{let b,_=!1,x=null,T=null;n&&(b=u&&f.route.id?u[f.route.id]:void 0,x=f.route.errorElement||eM,c&&(d<0&&h===0?(uM("route-fallback"),_=!0,T=null):d===h&&(_=!0,T=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,h+1)),A=()=>{let C;return b?C=x:_?C=T:f.route.Component?C=N.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=m,N.createElement(nM,{match:f,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(tM,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var Kk=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Kk||{}),Xk=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Xk||{});function aM(e){let t=N.useContext(k1);return t||hn(!1),t}function iM(e){let t=N.useContext(YU);return t||hn(!1),t}function oM(e){let t=N.useContext(Ro);return t||hn(!1),t}function Qk(e){let t=oM(),n=t.matches[t.matches.length-1];return n.route.id||hn(!1),n.route.id}function sM(){var e;let t=N.useContext(Wk),n=iM(),r=Qk();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lM(){let{router:e}=aM(Kk.UseNavigateStable),t=Qk(Xk.UseNavigateStable),n=N.useRef(!1);return Yk(()=>{n.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Nu({fromRouteId:t},i)))},[e,t])}const CE={};function uM(e,t,n){CE[e]||(CE[e]=!0)}function cM(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function gs(e){hn(!1)}function dM(e){let{basename:t="/",children:n=null,location:r,navigationType:a=zi.Pop,navigator:i,static:s=!1,future:u}=e;em()&&hn(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:s,future:Nu({v7_relativeSplatPath:!1},u)}),[c,u,i,s]);typeof r=="string"&&(r=Ys(r));let{pathname:m="/",search:f="",hash:h="",state:b=null,key:_="default"}=r,x=N.useMemo(()=>{let T=Vk(m,c);return T==null?null:{location:{pathname:T,search:f,hash:h,state:b,key:_},navigationType:a}},[c,m,f,h,b,_,a]);return x==null?null:N.createElement(Zp.Provider,{value:d},N.createElement(Jp.Provider,{children:n,value:x}))}function pM(e){let{children:t,location:n}=e;return QU(Zh(t),n)}new Promise(()=>{});function Zh(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let i=[...t,a];if(r.type===N.Fragment){n.push.apply(n,Zh(r.props.children,i));return}r.type!==gs&&hn(!1),!r.props.index||!r.props.children||hn(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zh(r.props.children,i)),n.push(s)}),n}const mM="6";try{window.__reactRouterVersion=mM}catch{}const fM="startTransition",IE=h8[fM];function hM(e){let{basename:t,children:n,future:r,window:a}=e,i=N.useRef();i.current==null&&(i.current=yU({window:a,v5Compat:!0}));let s=i.current,[u,c]=N.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},m=N.useCallback(f=>{d&&IE?IE(()=>c(f)):c(f)},[c,d]);return N.useLayoutEffect(()=>s.listen(m),[s,m]),N.useEffect(()=>cM(r),[r]),N.createElement(dM,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}var LE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(LE||(LE={}));var RE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(RE||(RE={}));const gM=()=>$.jsx("section",{className:"pt-32 pb-16",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsx("div",{className:"max-w-4xl mx-auto",children:$.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12 items-start",children:[$.jsx("div",{className:"flex-shrink-0",children:$.jsx("img",{src:"https://avatars.githubusercontent.com/u/201962047?v=4",alt:"Junyoung Park",className:"w-40 h-40 rounded-full object-cover"})}),$.jsxs("div",{className:"flex-1",children:[$.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2 mt-6",children:"Junyoung Park"}),$.jsx("p",{className:"text-sm text-foreground/70 mb-4",children:"AI Researcher @ SBS (Seoul Broadcasting System)"}),$.jsxs("div",{className:"flex flex-wrap gap-3",children:[$.jsxs("a",{href:"mailto:junia1997@gmail.com",className:"inline-flex items-center gap-1.5 text-xs text-foreground/70 hover:text-[hsl(var(--theme-primary))] transition-colors",children:[$.jsx(f1,{className:"w-4 h-4"})," Email"]}),$.jsxs("a",{href:"https://github.com/6unoyunr",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-foreground/70 hover:text-[hsl(var(--theme-primary))] transition-colors",children:[$.jsx(m1,{className:"w-4 h-4"})," GitHub"]}),$.jsxs("a",{href:"https://www.linkedin.com/in/junyoung-park-490597344/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-foreground/70 hover:text-[hsl(var(--theme-primary))] transition-colors",children:[$.jsx(X8,{className:"w-4 h-4"})," LinkedIn"]}),$.jsxs("a",{href:"https://scholar.google.com/citations?user=QQVxhyUAAAAJ&hl",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-foreground/70 hover:text-[hsl(var(--theme-primary))] transition-colors",children:[$.jsx(iR,{className:"w-4 h-4"})," Scholar"]}),$.jsxs("a",{href:"https://drive.google.com/file/d/15Su_ZN3SYaTgWl91Cqq-GJ4pHJgKbW1w/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-foreground/70 hover:text-[hsl(var(--theme-primary))] transition-colors",children:[$.jsx(aR,{className:"w-4 h-4"})," CV"]})]})]})]})})})}),ti=({blogPageMode:e=!1})=>{const[t,n]=N.useState(()=>{if(typeof window<"u"){const m=localStorage.getItem("darkMode");return m?JSON.parse(m):!1}return!1}),[r,a]=N.useState(!1),i=qu(),s=Vu();N.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",JSON.stringify(t))},[t]);const u=m=>new Promise(f=>{let h=0;const b=()=>{const _=document.querySelector(m);if(_){_.scrollIntoView({behavior:"smooth",block:"start"}),f(!0);return}if(h>=12){f(!1);return}h+=1,setTimeout(b,80)};requestAnimationFrame(b)}),c=m=>{if(a(!1),m.startsWith("#")){if(s.pathname!=="/"){i({pathname:"/",hash:m});return}window.location.hash!==m&&window.history.pushState(null,"",m),u(m)}else i(m)},d=[{href:"#about",label:"About"},{href:"#research",label:"Research"},{href:"#publications",label:"Publications"},{href:"#projects",label:"Projects"},{href:"/blog",label:"Blog"},{href:"/cv",label:"CV"},{href:"#contact",label:"Contact"}];return $.jsxs("nav",{className:"fixed inset-x-0 top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border font-serif",children:[$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"flex items-center justify-between h-14",children:[$.jsx("button",{onClick:()=>i("/"),className:"text-base font-semibold text-foreground hover:text-[hsl(var(--theme-primary))] transition-colors",children:"Junyoung Park"}),$.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[d.map(({href:m,label:f})=>$.jsx("button",{onClick:()=>c(m),className:"px-3 py-1.5 text-sm text-foreground/70 hover:text-foreground transition-colors",children:f},m)),$.jsx("button",{onClick:()=>n(!t),className:"ml-2 p-1.5 text-foreground/70 hover:text-foreground transition-colors","aria-label":"Toggle dark mode",children:t?$.jsx(aE,{className:"w-4 h-4"}):$.jsx(rE,{className:"w-4 h-4"})})]}),$.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[$.jsx("button",{onClick:()=>n(!t),className:"p-1.5 text-foreground/70 hover:text-foreground transition-colors","aria-label":"Toggle dark mode",children:t?$.jsx(aE,{className:"w-4 h-4"}):$.jsx(rE,{className:"w-4 h-4"})}),$.jsx("button",{onClick:()=>a(!r),className:"p-1.5 text-foreground/70 hover:text-foreground transition-colors","aria-label":"Toggle menu",children:r?$.jsx(Hp,{className:"w-5 h-5"}):$.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),r&&$.jsx("div",{className:"md:hidden border-t border-border bg-background",children:$.jsx("div",{className:"container mx-auto px-6 py-2",children:d.map(({href:m,label:f})=>$.jsx("button",{onClick:()=>c(m),className:"block w-full text-left px-3 py-2 text-sm text-foreground/70 hover:text-foreground transition-colors",children:f},m))})})]})},tm=[{title:"Source-Free Domain Adaptation for Remote-Sensing Object Detection Using Low-confidence Pseudo Labels",authors:"Jin Kim, Junyoung Park, Hyunsung Jang, Namkoo Ha, Kwanghoon Sohn",venue:"IEEE Geoscience and Remote Sensing Letters (GRSL)",year:"2025",type:"Journal",citations:4,link:"https://ieeexplore.ieee.org/abstract/document/10949131",github:"",status:"accepted"},{title:"Enhancing Source-Free Domain Adaptive Object Detection with Low-confidence Pseudo Label Distillation",authors:"Ilhoon Yoon, Hyeongjun Kwon, Jin Kim, Junyoung Park, Kwanghoon Sohn",venue:"European Conference on Computer Vision (ECCV)",year:"2024",type:"Conference",citations:24,link:"https://arxiv.org/abs/2407.13524",github:"https://github.com/junia3/LPLD",status:"accepted"},{title:"Layer-wise Auto-Weighting for Non-Stationary Test-Time Adaptation",authors:"Junyoung Park, Jin Kim, Hyeongjun Kwon, Ilhoon Yoon, Kwanghoon Sohn",venue:"IEEE/CVF Winter Conference on Applications of Computer Vision (WACV)",year:"2024",type:"Conference",citations:18,link:"https://arxiv.org/pdf/2311.05858.pdf",github:"https://github.com/junia3/LayerwiseTTA",status:"accepted"}],DE="Junyoung Park",bM=()=>tm.length,vM=()=>tm.reduce((e,t)=>e+t.citations,0),yM=()=>{const e=t=>t.replace(new RegExp(`\\b${DE}\\b`,"g"),`<span class="font-bold underline">${DE}</span>`);return $.jsx("section",{id:"publications",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"Publications"}),$.jsx("div",{className:"space-y-6",children:tm.map((t,n)=>$.jsxs("div",{className:"pb-4 border-b border-border/50 last:border-0",children:[$.jsxs("div",{className:"flex items-center gap-2 mb-1 text-xs",children:[$.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.type==="Journal"?"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200"}`,children:t.type}),$.jsx("span",{className:"text-foreground/50",children:t.year})]}),$.jsx("h3",{className:"font-semibold text-foreground mb-1",children:t.title}),$.jsx("p",{className:"text-xs text-foreground/70 mb-1",dangerouslySetInnerHTML:{__html:e(t.authors)}}),$.jsx("p",{className:"text-xs text-[hsl(var(--theme-primary))] mb-2",children:t.venue}),$.jsxs("div",{className:"flex items-center gap-3 text-xs text-foreground/50",children:[$.jsxs("span",{children:["Cited by ",t.citations]}),t.link&&t.link.trim()!==""&&$.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"Paper"}),t.github&&t.github.trim()!==""&&$.jsx("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"Code"})]})]},n))}),$.jsx("div",{className:"mt-8",children:$.jsx("a",{href:"https://scholar.google.com/citations?user=QQVxhyUAAAAJ&hl",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[hsl(var(--theme-primary))] hover:underline",children:" View all on Google Scholar"})})]})})})},xM=()=>{const e=[{year:"2024.09 ~ Now",title:"AI Researcher",place:"SBS"},{year:"2022.09 ~ 2024.08",title:"M.S. in EEE",place:"Yonsei Univ. DIML Lab"},{year:"2022.01 ~ 2022.08",title:"Lab Intern",place:"Yonsei Univ. DIML Lab"},{year:"2016.03 ~ 2022.08",title:"B.S. in EEE",place:"Yonsei Univ."},{year:"2021.06 ~ 2021.08",title:"Lab Intern",place:"Yonsei Univ. DSP Lab"}];return $.jsx("section",{id:"about",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"About"}),$.jsx("div",{className:"space-y-4 text-xs text-foreground/85 leading-relaxed mb-8",children:$.jsxs("p",{children:["I received my M.S. in Electrical and Electronic Engineering from"," ",$.jsx("a",{href:"https://diml.yonsei.ac.kr/",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"Yonsei University's DIML Lab"}),", under the supervision of Professor Kwanghoon Sohn. Currently, as an AI Researcher at"," ",$.jsx("a",{href:"https://www.sbs.co.kr/",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"SBS"}),", I am dedicated to driving innovation and pushing the boundaries of artificial intelligence. Working within a content-creation environment provides me with unique satisfaction, as I witness firsthand how AI enhances storytelling and production. My primary research focus lies in advancing video-based AI technologies, continuously exploring novel approaches to analyze, generate, and enhance visual content. With expertise spanning computer vision, natural language processing, and audio processing, I strive to create AI systems that are both powerful and executable in real-world scenarios."]})}),$.jsxs("div",{className:"flex gap-8 mb-8 text-sm",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-semibold text-foreground",children:bM()})," ",$.jsx("span",{className:"text-xs text-foreground/60",children:"Publications"})]}),$.jsxs("div",{children:[$.jsx("span",{className:"font-semibold text-foreground",children:vM()})," ",$.jsx("span",{className:"text-xs text-foreground/60",children:"Citations"})]})]}),$.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Timeline"}),$.jsx("div",{className:"space-y-2",children:e.map(t=>$.jsxs("div",{className:"flex gap-4 text-sm",children:[$.jsx("span",{className:"text-xs text-foreground/50 font-mono w-40 flex-shrink-0",children:t.year}),$.jsx("span",{className:"text-xs text-foreground font-medium",children:t.title}),$.jsxs("span",{className:"text-xs text-foreground/60",children:["@ ",t.place]})]},t.year))})]})})})},_M=()=>{const e=[{title:"Video/Audio Representation Learning",description:"Learning robust video and audio representations and speaker-aware features for downstream retrieval, diarization, and recommendation in real-world media environments."},{title:"Multimodal Alignment & Scene-Aware Boundary Detection",description:"Aligning video/audio with text, metadata, and scene structure for scene-aware boundary detection and fine-grained multimodal search."},{title:"Video Understanding/Grounding for Highlights",description:"Modeling narrative flow, key moments, and event structures to detect and ground highlights and important scenes in long-form video content."},{title:"Efficient Transfer Learning & Foundation Model Personalization",description:"Adapting large foundation models efficiently to domain-specific data via transfer learning, parameter-efficient tuning, and lightweight personalization."}];return $.jsx("section",{id:"research",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"Research Interests"}),$.jsx("ul",{className:"space-y-4",children:e.map((t,n)=>$.jsxs("li",{children:[$.jsx("h3",{className:"font-semibold text-foreground",children:t.title}),$.jsx("p",{className:"text-xs text-foreground/70 mt-1",children:t.description})]},n))})]})})})},A1=N.createContext({});function N1(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const C1=typeof window<"u",Zk=C1?N.useLayoutEffect:N.useEffect,nm=N.createContext(null);function I1(e,t){e.indexOf(t)===-1&&e.push(t)}function L1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oi=(e,t,n)=>n>t?t:n<e?e:n;let R1=()=>{};const si={},Jk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function e6(e){return typeof e=="object"&&e!==null}const t6=e=>/^0[^.\s]+$/u.test(e);function D1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wr=e=>e,wM=(e,t)=>n=>t(e(n)),Wu=(...e)=>e.reduce(wM),Cu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class O1{constructor(){this.subscriptions=[]}add(t){return I1(this.subscriptions,t),()=>L1(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ca=e=>e*1e3,Vr=e=>e/1e3;function n6(e,t){return t?e*(1e3/t):0}const r6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$M=1e-7,EM=12;function SM(e,t,n,r,a){let i,s,u=0;do s=t+(n-t)/2,i=r6(s,r,a)-e,i>0?n=s:t=s;while(Math.abs(i)>$M&&++u<EM);return s}function Yu(e,t,n,r){if(e===t&&n===r)return Wr;const a=i=>SM(i,0,1,e,n);return i=>i===0||i===1?i:r6(a(i),t,r)}const a6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,i6=e=>t=>1-e(1-t),o6=Yu(.33,1.53,.69,.99),U1=i6(o6),s6=a6(U1),l6=e=>(e*=2)<1?.5*U1(e):.5*(2-Math.pow(2,-10*(e-1))),M1=e=>1-Math.sin(Math.acos(e)),u6=i6(M1),c6=a6(M1),TM=Yu(.42,0,1,1),kM=Yu(0,0,.58,1),d6=Yu(.42,0,.58,1),AM=e=>Array.isArray(e)&&typeof e[0]!="number",p6=e=>Array.isArray(e)&&typeof e[0]=="number",NM={linear:Wr,easeIn:TM,easeInOut:d6,easeOut:kM,circIn:M1,circInOut:c6,circOut:u6,backIn:U1,backInOut:s6,backOut:o6,anticipate:l6},CM=e=>typeof e=="string",OE=e=>{if(p6(e)){R1(e.length===4);const[t,n,r,a]=e;return Yu(t,n,r,a)}else if(CM(e))return NM[e];return e},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IM(e,t){let n=new Set,r=new Set,a=!1,i=!1;const s=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(m){s.has(m)&&(d.schedule(m),e()),m(u)}const d={schedule:(m,f=!1,h=!1)=>{const _=h&&a?n:r;return f&&s.add(m),_.has(m)||_.add(m),m},cancel:m=>{r.delete(m),s.delete(m)},process:m=>{if(u=m,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,d.process(m))}};return d}const LM=40;function m6(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Ad.reduce((C,R)=>(C[R]=IM(i),C),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:m,update:f,preRender:h,render:b,postRender:_}=s,x=()=>{const C=si.useManualTiming?a.timestamp:performance.now();n=!1,si.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(C-a.timestamp,LM),1)),a.timestamp=C,a.isProcessing=!0,u.process(a),c.process(a),d.process(a),m.process(a),f.process(a),h.process(a),b.process(a),_.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(x))},T=()=>{n=!0,r=!0,a.isProcessing||e(x)};return{schedule:Ad.reduce((C,R)=>{const M=s[R];return C[R]=(P,j=!1,K=!1)=>(n||T(),M.schedule(P,j,K)),C},{}),cancel:C=>{for(let R=0;R<Ad.length;R++)s[Ad[R]].cancel(C)},state:a,steps:s}}const{schedule:Ft,cancel:Xi,state:An,steps:Af}=m6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0);let np;function RM(){np=void 0}const mr={now:()=>(np===void 0&&mr.set(An.isProcessing||si.useManualTiming?An.timestamp:performance.now()),np),set:e=>{np=e,queueMicrotask(RM)}},f6=e=>t=>typeof t=="string"&&t.startsWith(e),h6=f6("--"),DM=f6("var(--"),P1=e=>DM(e)?OM.test(e.split("/*")[0].trim()):!1,OM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Iu={...Ks,transform:e=>oi(0,1,e)},Nd={...Ks,default:1},cu=e=>Math.round(e*1e5)/1e5,F1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UM(e){return e==null}const MM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B1=(e,t)=>n=>!!(typeof n=="string"&&MM.test(n)&&n.startsWith(e)||t&&!UM(n)&&Object.prototype.hasOwnProperty.call(n,t)),g6=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,s,u]=r.match(F1);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:u!==void 0?parseFloat(u):1}},PM=e=>oi(0,255,e),Nf={...Ks,transform:e=>Math.round(PM(e))},Eo={test:B1("rgb","red"),parse:g6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nf.transform(e)+", "+Nf.transform(t)+", "+Nf.transform(n)+", "+cu(Iu.transform(r))+")"};function FM(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Jh={test:B1("#"),parse:FM,transform:Eo.transform},Ku=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mi=Ku("deg"),Ia=Ku("%"),rt=Ku("px"),BM=Ku("vh"),zM=Ku("vw"),UE={...Ia,parse:e=>Ia.parse(e)/100,transform:e=>Ia.transform(e*100)},xs={test:B1("hsl","hue"),parse:g6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ia.transform(cu(t))+", "+Ia.transform(cu(n))+", "+cu(Iu.transform(r))+")"},on={test:e=>Eo.test(e)||Jh.test(e)||xs.test(e),parse:e=>Eo.test(e)?Eo.parse(e):xs.test(e)?xs.parse(e):Jh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Eo.transform(e):xs.transform(e),getAnimatableNone:e=>{const t=on.parse(e);return t.alpha=0,on.transform(t)}},jM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GM(e){return isNaN(e)&&typeof e=="string"&&(e.match(F1)?.length||0)+(e.match(jM)?.length||0)>0}const b6="number",v6="color",HM="var",VM="var(",ME="${}",qM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const u=t.replace(qM,c=>(on.test(c)?(r.color.push(i),a.push(v6),n.push(on.parse(c))):c.startsWith(VM)?(r.var.push(i),a.push(HM),n.push(c)):(r.number.push(i),a.push(b6),n.push(parseFloat(c))),++i,ME)).split(ME);return{values:n,split:u,indexes:r,types:a}}function y6(e){return Lu(e).values}function x6(e){const{split:t,types:n}=Lu(e),r=t.length;return a=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],a[s]!==void 0){const u=n[s];u===b6?i+=cu(a[s]):u===v6?i+=on.transform(a[s]):i+=a[s]}return i}}const WM=e=>typeof e=="number"?0:on.test(e)?on.getAnimatableNone(e):e;function YM(e){const t=y6(e);return x6(e)(t.map(WM))}const Qi={test:GM,parse:y6,createTransformer:x6,getAnimatableNone:YM};function Cf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,s=0;if(!t)a=i=s=n;else{const u=n<.5?n*(1+t):n+t-n*t,c=2*n-u;a=Cf(c,u,e+1/3),i=Cf(c,u,e),s=Cf(c,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}function xp(e,t){return n=>n>0?t:e}const qt=(e,t,n)=>e+(t-e)*n,If=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},XM=[Jh,Eo,xs],QM=e=>XM.find(t=>t.test(e));function PE(e){const t=QM(e);if(!t)return!1;let n=t.parse(e);return t===xs&&(n=KM(n)),n}const FE=(e,t)=>{const n=PE(e),r=PE(t);if(!n||!r)return xp(e,t);const a={...n};return i=>(a.red=If(n.red,r.red,i),a.green=If(n.green,r.green,i),a.blue=If(n.blue,r.blue,i),a.alpha=qt(n.alpha,r.alpha,i),Eo.transform(a))},eg=new Set(["none","hidden"]);function ZM(e,t){return eg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function JM(e,t){return n=>qt(e,t,n)}function z1(e){return typeof e=="number"?JM:typeof e=="string"?P1(e)?xp:on.test(e)?FE:nP:Array.isArray(e)?_6:typeof e=="object"?on.test(e)?FE:eP:xp}function _6(e,t){const n=[...e],r=n.length,a=e.map((i,s)=>z1(i)(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=a[s](i);return n}}function eP(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=z1(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function tP(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][r[i]],u=e.values[s]??0;n[a]=u,r[i]++}return n}const nP=(e,t)=>{const n=Qi.createTransformer(t),r=Lu(e),a=Lu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?eg.has(e)&&!a.values.length||eg.has(t)&&!r.values.length?ZM(e,t):Wu(_6(tP(r,a),a.values),n):xp(e,t)};function w6(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qt(e,t,n):z1(e)(e,t)}const rP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ft.update(t,n),stop:()=>Xi(t),now:()=>An.isProcessing?An.timestamp:mr.now()}},$6=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_p=2e4;function j1(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<_p;)t+=n,r=e.next(t);return t>=_p?1/0:t}function aP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(j1(r),_p);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:Vr(a)}}const iP=5;function E6(e,t,n){const r=Math.max(t-iP,0);return n6(n-e(r),t-r)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lf=.001;function oP({duration:e=Kt.duration,bounce:t=Kt.bounce,velocity:n=Kt.velocity,mass:r=Kt.mass}){let a,i,s=1-t;s=oi(Kt.minDamping,Kt.maxDamping,s),e=oi(Kt.minDuration,Kt.maxDuration,Vr(e)),s<1?(a=d=>{const m=d*s,f=m*e,h=m-n,b=tg(d,s),_=Math.exp(-f);return Lf-h/b*_},i=d=>{const f=d*s*e,h=f*n+n,b=Math.pow(s,2)*Math.pow(d,2)*e,_=Math.exp(-f),x=tg(Math.pow(d,2),s);return(-a(d)+Lf>0?-1:1)*((h-b)*_)/x}):(a=d=>{const m=Math.exp(-d*e),f=(d-n)*e+1;return-Lf+m*f},i=d=>{const m=Math.exp(-d*e),f=(n-d)*(e*e);return m*f});const u=5/e,c=lP(a,i,u);if(e=Ca(e),isNaN(c))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const sP=12;function lP(e,t,n){let r=n;for(let a=1;a<sP;a++)r=r-e(r)/t(r);return r}function tg(e,t){return e*Math.sqrt(1-t*t)}const uP=["duration","bounce"],cP=["stiffness","damping","mass"];function BE(e,t){return t.some(n=>e[n]!==void 0)}function dP(e){let t={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...e};if(!BE(e,cP)&&BE(e,uP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*oi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Kt.mass,stiffness:a,damping:i}}else{const n=oP(e);t={...t,...n,mass:Kt.mass},t.isResolvedFromDuration=!0}return t}function wp(e=Kt.visualDuration,t=Kt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:d,mass:m,duration:f,velocity:h,isResolvedFromDuration:b}=dP({...n,velocity:-Vr(n.velocity||0)}),_=h||0,x=d/(2*Math.sqrt(c*m)),T=s-i,S=Vr(Math.sqrt(c/m)),A=Math.abs(T)<5;r||(r=A?Kt.restSpeed.granular:Kt.restSpeed.default),a||(a=A?Kt.restDelta.granular:Kt.restDelta.default);let C;if(x<1){const M=tg(S,x);C=P=>{const j=Math.exp(-x*S*P);return s-j*((_+x*S*T)/M*Math.sin(M*P)+T*Math.cos(M*P))}}else if(x===1)C=M=>s-Math.exp(-S*M)*(T+(_+S*T)*M);else{const M=S*Math.sqrt(x*x-1);C=P=>{const j=Math.exp(-x*S*P),K=Math.min(M*P,300);return s-j*((_+x*S*T)*Math.sinh(K)+M*T*Math.cosh(K))/M}}const R={calculatedDuration:b&&f||null,next:M=>{const P=C(M);if(b)u.done=M>=f;else{let j=M===0?_:0;x<1&&(j=M===0?Ca(_):E6(C,M,P));const K=Math.abs(j)<=r,ee=Math.abs(s-P)<=a;u.done=K&&ee}return u.value=u.done?s:P,u},toString:()=>{const M=Math.min(j1(R),_p),P=$6(j=>R.next(M*j).value,M,30);return M+"ms "+P},toTransition:()=>{}};return R}wp.applyToOptions=e=>{const t=aP(e,100,wp);return e.ease=t.ease,e.duration=Ca(t.duration),e.type="keyframes",e};function ng({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:u,max:c,restDelta:d=.5,restSpeed:m}){const f=e[0],h={done:!1,value:f},b=K=>u!==void 0&&K<u||c!==void 0&&K>c,_=K=>u===void 0?c:c===void 0||Math.abs(u-K)<Math.abs(c-K)?u:c;let x=n*t;const T=f+x,S=s===void 0?T:s(T);S!==T&&(x=S-f);const A=K=>-x*Math.exp(-K/r),C=K=>S+A(K),R=K=>{const ee=A(K),G=C(K);h.done=Math.abs(ee)<=d,h.value=h.done?S:G};let M,P;const j=K=>{b(h.value)&&(M=K,P=wp({keyframes:[h.value,_(h.value)],velocity:E6(C,K,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:m}))};return j(0),{calculatedDuration:null,next:K=>{let ee=!1;return!P&&M===void 0&&(ee=!0,R(K),j(K)),M!==void 0&&K>=M?P.next(K-M):(!ee&&R(K),h)}}}function pP(e,t,n){const r=[],a=n||si.mix||w6,i=e.length-1;for(let s=0;s<i;s++){let u=a(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Wr:t;u=Wu(c,u)}r.push(u)}return r}function mP(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(R1(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=pP(t,r,a),c=u.length,d=m=>{if(s&&m<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(m<e[f+1]);f++);const h=Cu(e[f],e[f+1],m);return u[f](h)};return n?m=>d(oi(e[0],e[i-1],m)):d}function fP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Cu(0,t,r);e.push(qt(n,1,a))}}function hP(e){const t=[0];return fP(t,e.length-1),t}function gP(e,t){return e.map(n=>n*t)}function bP(e,t){return e.map(()=>t||d6).splice(0,e.length-1)}function du({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=AM(r)?r.map(OE):OE(r),i={done:!1,value:t[0]},s=gP(n&&n.length===t.length?n:hP(t),e),u=mP(s,t,{ease:Array.isArray(a)?a:bP(t,a)});return{calculatedDuration:e,next:c=>(i.value=u(c),i.done=c>=e,i)}}const vP=e=>e!==null;function G1(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(vP),u=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const yP={decay:ng,inertia:ng,tween:du,keyframes:du,spring:wp};function S6(e){typeof e.type=="string"&&(e.type=yP[e.type])}class H1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const xP=e=>e/100;class V1 extends H1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mr.now()&&this.tick(mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;S6(t);const{type:n=du,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:u}=t;const c=n||du;c!==du&&typeof u[0]!="number"&&(this.mixKeyframes=Wu(xP,w6(u[0],u[1])),u=[0,100]);const d=c({...t,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...u].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=j1(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:f,repeatType:h,repeatDelay:b,type:_,onUpdate:x,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,R=r;if(f){const K=Math.min(this.currentTime,a)/u;let ee=Math.floor(K),G=K%1;!G&&K>=1&&(G=1),G===1&&ee--,ee=Math.min(ee,f+1),!!(ee%2)&&(h==="reverse"?(G=1-G,b&&(G-=b/u)):h==="mirror"&&(R=s)),C=oi(0,1,G)*u}const M=A?{done:!1,value:m[0]}:R.next(C);i&&(M.value=i(M.value));let{done:P}=M;!A&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return j&&_!==ng&&(M.value=G1(m,this.options,T,this.speed)),x&&x(M.value),j&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return Vr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vr(t)}get time(){return Vr(this.currentTime)}set time(t){t=Ca(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=rP,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _P(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const So=e=>e*180/Math.PI,rg=e=>{const t=So(Math.atan2(e[1],e[0]));return ag(t)},wP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rg,rotateZ:rg,skewX:e=>So(Math.atan(e[1])),skewY:e=>So(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ag=e=>(e=e%360,e<0&&(e+=360),e),zE=rg,jE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),GE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$P={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jE,scaleY:GE,scale:e=>(jE(e)+GE(e))/2,rotateX:e=>ag(So(Math.atan2(e[6],e[5]))),rotateY:e=>ag(So(Math.atan2(-e[2],e[0]))),rotateZ:zE,rotate:zE,skewX:e=>So(Math.atan(e[4])),skewY:e=>So(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ig(e){return e.includes("scale")?1:0}function og(e,t){if(!e||e==="none")return ig(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=$P,a=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wP,a=u}if(!a)return ig(t);const i=r[t],s=a[1].split(",").map(SP);return typeof i=="function"?i(s):s[i]}const EP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return og(n,t)};function SP(e){return parseFloat(e.trim())}const Xs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qs=new Set(Xs),HE=e=>e===Ks||e===rt,TP=new Set(["x","y","z"]),kP=Xs.filter(e=>!TP.has(e));function AP(e){const t=[];return kP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ko={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>og(t,"x"),y:(e,{transform:t})=>og(t,"y")};ko.translateX=ko.x;ko.translateY=ko.y;const Ao=new Set;let sg=!1,lg=!1,ug=!1;function T6(){if(lg){const e=Array.from(Ao).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=AP(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,s])=>{r.getValue(i)?.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lg=!1,sg=!1,Ao.forEach(e=>e.complete(ug)),Ao.clear()}function k6(){Ao.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lg=!0)})}function NP(){ug=!0,k6(),T6(),ug=!1}class q1{constructor(t,n,r,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ao.add(this),sg||(sg=!0,Ft.read(k6),Ft.resolveKeyframes(T6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a?.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const u=r.readValue(n,s);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}_P(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ao.delete(this)}cancel(){this.state==="scheduled"&&(Ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CP=e=>e.startsWith("--");function IP(e,t,n){CP(t)?e.style.setProperty(t,n):e.style[t]=n}const LP=D1(()=>window.ScrollTimeline!==void 0),RP={};function DP(e,t){const n=D1(e);return()=>RP[t]??n()}const A6=DP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,VE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function N6(e,t){if(e)return typeof e=="function"?A6()?$6(e,t):"ease-out":p6(e)?ou(e):Array.isArray(e)?e.map(n=>N6(n,t)||VE.easeOut):VE[e]}function OP(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:u="easeOut",times:c}={},d=void 0){const m={[t]:n};c&&(m.offset=c);const f=N6(u,a);Array.isArray(f)&&(m.easing=f);const h={delay:r,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(m,h)}function C6(e){return typeof e=="function"&&"applyToOptions"in e}function UP({type:e,...t}){return C6(e)&&A6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MP extends H1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:u,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,R1(typeof t.type!="string");const d=UP(t);this.animation=OP(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=G1(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):IP(n,r,m),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vr(t)}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ca(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&LP()?(this.animation.timeline=t,Wr):n(this)}}const I6={anticipate:l6,backInOut:s6,circInOut:c6};function PP(e){return e in I6}function FP(e){typeof e.ease=="string"&&PP(e.ease)&&(e.ease=I6[e.ease])}const qE=10;class BP extends MP{constructor(t){FP(t),S6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new V1({...s,autoplay:!1}),c=Ca(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-qE).value,u.sample(c).value,qE),u.stop()}}const WE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qi.test(e)||e==="0")&&!e.startsWith("url("));function zP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function jP(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=WE(a,t),u=WE(i,t);return!s||!u?!1:zP(e)||(n==="spring"||C6(n))&&r}function cg(e){e.duration=0,e.type="keyframes"}const GP=new Set(["opacity","clipPath","filter","transform"]),HP=D1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VP(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return HP()&&n&&GP.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&i!==0&&s!=="inertia"}const qP=40;class WP extends H1{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:u,name:c,motionValue:d,element:m,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mr.now();const h={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:s,name:c,motionValue:d,element:m,...f},b=m?.KeyframeResolver||q1;this.keyframeResolver=new b(u,(_,x,T)=>this.onKeyframesResolved(_,x,h,!T),c,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:u,delay:c,isHandoff:d,onUpdate:m}=r;this.resolvedAt=mr.now(),jP(t,i,s,u)||((si.instantAnimations||!c)&&m?.(G1(t,r,n)),t[0]=t[t.length-1],cg(r),r.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!d&&VP(h)?new BP({...h,element:h.motionValue.owner.current}):new V1(h);b.finished.then(()=>this.notifyFinished()).catch(Wr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KP(e){const t=YP.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function L6(e,t,n=1){const[r,a]=KP(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Jk(s)?parseFloat(s):s}return P1(a)?L6(a,t,n+1):a}function W1(e,t){return e?.[t]??e?.default??e}const R6=new Set(["width","height","top","left","right","bottom",...Xs]),XP={test:e=>e==="auto",parse:e=>e},D6=e=>t=>t.test(e),O6=[Ks,rt,Ia,Mi,zM,BM,XP],YE=e=>O6.find(D6(e));function QP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||t6(e):!0}const ZP=new Set(["brightness","contrast","saturate","opacity"]);function JP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(F1)||[];if(!r)return e;const a=n.replace(r,"");let i=ZP.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const eF=/\b([a-z-]*)\(.*?\)/gu,dg={...Qi,getAnimatableNone:e=>{const t=e.match(eF);return t?t.map(JP).join(" "):e}},KE={...Ks,transform:Math.round},tF={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Mi,skewX:Mi,skewY:Mi,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Iu,originX:UE,originY:UE,originZ:rt},Y1={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...tF,zIndex:KE,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:KE},nF={...Y1,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:dg,WebkitFilter:dg},U6=e=>nF[e];function M6(e,t){let n=U6(e);return n!==dg&&(n=Qi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rF=new Set(["auto","none","0"]);function aF(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!rF.has(i)&&Lu(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=M6(n,a)}class iF extends q1{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),P1(d))){const m=L6(d,n.current);m!==void 0&&(t[c]=m),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!R6.has(r)||t.length!==2)return;const[a,i]=t,s=YE(a),u=YE(i);if(s!==u)if(HE(s)&&HE(u))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||QP(t[a]))&&r.push(a);r.length&&aF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ko[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=ko[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function oF(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const P6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function F6(e){return e6(e)&&"offsetHeight"in e}const XE=30,sF=e=>!isNaN(parseFloat(e));class lF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=mr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new O1);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XE);return n6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ps(e,t){return new lF(e,t)}const{schedule:K1}=m6(queueMicrotask,!1),sa={x:!1,y:!1};function B6(){return sa.x||sa.y}function uF(e){return e==="x"||e==="y"?sa[e]?null:(sa[e]=!0,()=>{sa[e]=!1}):sa.x||sa.y?null:(sa.x=sa.y=!0,()=>{sa.x=sa.y=!1})}function z6(e,t){const n=oF(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function QE(e){return!(e.pointerType==="touch"||B6())}function cF(e,t,n={}){const[r,a,i]=z6(e,n),s=u=>{if(!QE(u))return;const{target:c}=u,d=t(c,u);if(typeof d!="function"||!c)return;const m=f=>{QE(f)&&(d(f),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,a)};return r.forEach(u=>{u.addEventListener("pointerenter",s,a)}),i}const j6=(e,t)=>t?e===t?!0:j6(e,t.parentElement):!1,X1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pF(e){return dF.has(e.tagName)||e.tabIndex!==-1}const rp=new WeakSet;function ZE(e){return t=>{t.key==="Enter"&&e(t)}}function Rf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ZE(()=>{if(rp.has(n))return;Rf(n,"down");const a=ZE(()=>{Rf(n,"up")}),i=()=>Rf(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function JE(e){return X1(e)&&!B6()}function fF(e,t,n={}){const[r,a,i]=z6(e,n),s=u=>{const c=u.currentTarget;if(!JE(u))return;rp.add(c);const d=t(c,u),m=(b,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),rp.has(c)&&rp.delete(c),JE(b)&&typeof d=="function"&&d(b,{success:_})},f=b=>{m(b,c===window||c===document||n.useGlobalTarget||j6(c,b.target))},h=b=>{m(b,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",s,a),F6(u)&&(u.addEventListener("focus",d=>mF(d,a)),!pF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function G6(e){return e6(e)&&"ownerSVGElement"in e}function hF(e){return G6(e)&&e.tagName==="svg"}const Un=e=>!!(e&&e.getVelocity),gF=[...O6,on,Qi],bF=e=>gF.find(D6(e)),Q1=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function e3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vF(...e){return t=>{let n=!1;const r=e.map(a=>{const i=e3(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():e3(e[a],null)}}}}function yF(...e){return N.useCallback(vF(...e),e)}class xF extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=F6(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _F({children:e,isPresent:t,anchorX:n,root:r}){const a=N.useId(),i=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=N.useContext(Q1),c=yF(i,e?.ref);return N.useInsertionEffect(()=>{const{width:d,height:m,top:f,left:h,right:b}=s.current;if(t||!i.current||!d||!m)return;const _=n==="left"?`left: ${h}`:`right: ${b}`;i.current.dataset.motionPopId=a;const x=document.createElement("style");u&&(x.nonce=u);const T=r??document.head;return T.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{T.contains(x)&&T.removeChild(x)}},[t]),$.jsx(xF,{isPresent:t,childRef:i,sizeRef:s,children:N.cloneElement(e,{ref:c})})}const wF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:s,anchorX:u,root:c})=>{const d=N1($F),m=N.useId();let f=!0,h=N.useMemo(()=>(f=!1,{id:m,initial:t,isPresent:n,custom:a,onExitComplete:b=>{d.set(b,!0);for(const _ of d.values())if(!_)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return i&&f&&(h={...h}),N.useMemo(()=>{d.forEach((b,_)=>d.set(_,!1))},[n]),N.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),s==="popLayout"&&(e=$.jsx(_F,{isPresent:n,anchorX:u,root:c,children:e})),$.jsx(nm.Provider,{value:h,children:e})};function $F(){return new Map}function H6(e=!0){const t=N.useContext(nm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=N.useId();N.useEffect(()=>{if(e)return a(i)},[e]);const s=N.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,s]:[!0]}const Cd=e=>e.key||"";function t3(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const EF=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:u="left",root:c})=>{const[d,m]=H6(s),f=N.useMemo(()=>t3(e),[e]),h=s&&!d?[]:f.map(Cd),b=N.useRef(!0),_=N.useRef(f),x=N1(()=>new Map),[T,S]=N.useState(f),[A,C]=N.useState(f);Zk(()=>{b.current=!1,_.current=f;for(let P=0;P<A.length;P++){const j=Cd(A[P]);h.includes(j)?x.delete(j):x.get(j)!==!0&&x.set(j,!1)}},[A,h.length,h.join("-")]);const R=[];if(f!==T){let P=[...f];for(let j=0;j<A.length;j++){const K=A[j],ee=Cd(K);h.includes(ee)||(P.splice(j,0,K),R.push(K))}return i==="wait"&&R.length&&(P=R),C(t3(P)),S(f),null}const{forceRender:M}=N.useContext(A1);return $.jsx($.Fragment,{children:A.map(P=>{const j=Cd(P),K=s&&!d?!1:f===A||h.includes(j),ee=()=>{if(x.has(j))x.set(j,!0);else return;let G=!0;x.forEach(Q=>{Q||(G=!1)}),G&&(M?.(),C(_.current),s&&m?.(),r&&r())};return $.jsx(wF,{isPresent:K,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:K?void 0:ee,anchorX:u,children:P},j)})})},V6=N.createContext({strict:!1}),n3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fs={};for(const e in n3)Fs[e]={isEnabled:t=>n3[e].some(n=>!!t[n])};function SF(e){for(const t in e)Fs[t]={...Fs[t],...e[t]}}const TF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $p(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TF.has(e)}let q6=e=>!$p(e);function kF(e){typeof e=="function"&&(q6=t=>t.startsWith("on")?!$p(t):e(t))}try{kF(require("@emotion/is-prop-valid").default)}catch{}function AF(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(q6(a)||n===!0&&$p(a)||!t&&!$p(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const rm=N.createContext({});function am(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ru(e){return typeof e=="string"||Array.isArray(e)}const Z1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J1=["initial",...Z1];function im(e){return am(e.animate)||J1.some(t=>Ru(e[t]))}function W6(e){return!!(im(e)||e.variants)}function NF(e,t){if(im(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(r)?r:void 0}}return e.inherit!==!1?t:{}}function CF(e){const{initial:t,animate:n}=NF(e,N.useContext(rm));return N.useMemo(()=>({initial:t,animate:n}),[r3(t),r3(n)])}function r3(e){return Array.isArray(e)?e.join(" "):e}function a3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ql={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const n=a3(e,t.target.x),r=a3(e,t.target.y);return`${n}% ${r}%`}},IF={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Qi.parse(e);if(a.length>5)return r;const i=Qi.createTransformer(e),s=typeof a[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;a[0+s]/=u,a[1+s]/=c;const d=qt(u,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=d),typeof a[3+s]=="number"&&(a[3+s]/=d),i(a)}},pg={borderRadius:{...Ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ql,borderTopRightRadius:Ql,borderBottomLeftRadius:Ql,borderBottomRightRadius:Ql,boxShadow:IF};function Y6(e,{layout:t,layoutId:n}){return Qs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pg[e]||e==="opacity")}const LF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RF=Xs.length;function DF(e,t,n){let r="",a=!0;for(let i=0;i<RF;i++){const s=Xs[i],u=e[s];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(s.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=P6(u,Y1[s]);if(!c){a=!1;const m=LF[s]||s;r+=`${m}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function eb(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,u=!1;for(const c in t){const d=t[c];if(Qs.has(c)){s=!0;continue}else if(h6(c)){a[c]=d;continue}else{const m=P6(d,Y1[c]);c.startsWith("origin")?(u=!0,i[c]=m):r[c]=m}}if(t.transform||(s||n?r.transform=DF(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${c} ${d} ${m}`}}const tb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K6(e,t,n){for(const r in t)!Un(t[r])&&!Y6(r,n)&&(e[r]=t[r])}function OF({transformTemplate:e},t){return N.useMemo(()=>{const n=tb();return eb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function UF(e,t){const n=e.style||{},r={};return K6(r,n,e),Object.assign(r,OF(e,t)),r}function MF(e,t){const n={},r=UF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const PF={offset:"stroke-dashoffset",array:"stroke-dasharray"},FF={offset:"strokeDashoffset",array:"strokeDasharray"};function BF(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?PF:FF;e[i.offset]=rt.transform(-r);const s=rt.transform(t),u=rt.transform(n);e[i.array]=`${s} ${u}`}function X6(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...u},c,d,m){if(eb(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=m?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&BF(f,a,i,s,!1)}const Q6=()=>({...tb(),attrs:{}}),Z6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zF(e,t,n,r){const a=N.useMemo(()=>{const i=Q6();return X6(i,t,Z6(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};K6(i,e.style,e),a.style={...i,...a.style}}return a}const jF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nb(e){return typeof e!="string"||e.includes("-")?!1:!!(jF.indexOf(e)>-1||/[A-Z]/u.test(e))}function GF(e,t,n,{latestValues:r},a,i=!1){const u=(nb(e)?zF:MF)(t,r,a,e),c=AF(t,typeof e=="string",i),d=e!==N.Fragment?{...c,...u,ref:n}:{},{children:m}=t,f=N.useMemo(()=>Un(m)?m.get():m,[m]);return N.createElement(e,{...d,children:f})}function i3(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rb(e,t,n,r){if(typeof t=="function"){const[a,i]=i3(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=i3(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function ap(e){return Un(e)?e.get():e}function HF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:VF(n,r,a,e),renderState:t()}}function VF(e,t,n,r){const a={},i=r(e,{});for(const h in i)a[h]=ap(i[h]);let{initial:s,animate:u}=e;const c=im(e),d=W6(e);t&&d&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||s===!1;const f=m?u:s;if(f&&typeof f!="boolean"&&!am(f)){const h=Array.isArray(f)?f:[f];for(let b=0;b<h.length;b++){const _=rb(e,h[b]);if(_){const{transitionEnd:x,transition:T,...S}=_;for(const A in S){let C=S[A];if(Array.isArray(C)){const R=m?C.length-1:0;C=C[R]}C!==null&&(a[A]=C)}for(const A in x)a[A]=x[A]}}}return a}const J6=e=>(t,n)=>{const r=N.useContext(rm),a=N.useContext(nm),i=()=>HF(e,t,r,a);return n?i():N1(i)};function ab(e,t,n){const{style:r}=e,a={};for(const i in r)(Un(r[i])||t.style&&Un(t.style[i])||Y6(i,e)||n?.getValue(i)?.liveStyle!==void 0)&&(a[i]=r[i]);return a}const qF=J6({scrapeMotionValuesFromProps:ab,createRenderState:tb});function eA(e,t,n){const r=ab(e,t,n);for(const a in e)if(Un(e[a])||Un(t[a])){const i=Xs.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const WF=J6({scrapeMotionValuesFromProps:eA,createRenderState:Q6}),YF=Symbol.for("motionComponentSymbol");function _s(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KF(e,t,n){return N.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):_s(n)&&(n.current=r))},[t])}const ib=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XF="framerAppearId",tA="data-"+ib(XF),nA=N.createContext({});function QF(e,t,n,r,a){const{visualElement:i}=N.useContext(rm),s=N.useContext(V6),u=N.useContext(nm),c=N.useContext(Q1).reducedMotion,d=N.useRef(null);r=r||s.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const m=d.current,f=N.useContext(nA);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&ZF(d.current,n,a,f);const h=N.useRef(!1);N.useInsertionEffect(()=>{m&&h.current&&m.update(n,u)});const b=n[tA],_=N.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return Zk(()=>{m&&(h.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),N.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),_.current=!1),m.enteringChildren=void 0)}),m}function ZF(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rA(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||u&&_s(u),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:d})}function rA(e){if(e)return e.options.allowProjection!==!1?e.projection:rA(e.parent)}function Df(e,{forwardMotionProps:t=!1}={},n,r){n&&SF(n);const a=nb(e)?WF:qF;function i(u,c){let d;const m={...N.useContext(Q1),...u,layoutId:JF(u)},{isStatic:f}=m,h=CF(u),b=a(u,f);if(!f&&C1){eB();const _=tB(m);d=_.MeasureLayout,h.visualElement=QF(e,b,m,r,_.ProjectionNode)}return $.jsxs(rm.Provider,{value:h,children:[d&&h.visualElement?$.jsx(d,{visualElement:h.visualElement,...m}):null,GF(e,u,KF(b,h.visualElement,c),b,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=N.forwardRef(i);return s[YF]=e,s}function JF({layoutId:e}){const t=N.useContext(A1).id;return t&&e!==void 0?t+"-"+e:e}function eB(e,t){N.useContext(V6).strict}function tB(e){const{drag:t,layout:n}=Fs;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nB(e,t){if(typeof Proxy>"u")return Df;const n=new Map,r=(i,s)=>Df(i,s,e,t),a=(i,s)=>r(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?r:(n.has(s)||n.set(s,Df(s,void 0,e,t)),n.get(s))})}function aA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Of(e){return e===void 0||e===1}function mg({scale:e,scaleX:t,scaleY:n}){return!Of(e)||!Of(t)||!Of(n)}function $o(e){return mg(e)||iA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iA(e){return o3(e.x)||o3(e.y)}function o3(e){return e&&e!=="0%"}function Ep(e,t,n){const r=e-n,a=t*r;return n+a}function s3(e,t,n,r,a){return a!==void 0&&(e=Ep(e,a,r)),Ep(e,n,r)+t}function fg(e,t=0,n=1,r,a){e.min=s3(e.min,t,n,r,a),e.max=s3(e.max,t,n,r,a)}function oA(e,{x:t,y:n}){fg(e.x,t.translate,t.scale,t.originPoint),fg(e.y,n.translate,n.scale,n.originPoint)}const l3=.999999999999,u3=1.0000000000001;function iB(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,s;for(let u=0;u<a;u++){i=n[u],s=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$s(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,oA(e,s)),r&&$o(i.latestValues)&&$s(e,i.latestValues))}t.x<u3&&t.x>l3&&(t.x=1),t.y<u3&&t.y>l3&&(t.y=1)}function ws(e,t){e.min=e.min+t,e.max=e.max+t}function c3(e,t,n,r,a=.5){const i=qt(e.min,e.max,a);fg(e,t,n,i,r)}function $s(e,t){c3(e.x,t.x,t.scaleX,t.scale,t.originX),c3(e.y,t.y,t.scaleY,t.scale,t.originY)}function sA(e,t){return aA(aB(e.getBoundingClientRect(),t))}function oB(e,t,n){const r=sA(e,n),{scroll:a}=t;return a&&(ws(r.x,a.offset.x),ws(r.y,a.offset.y)),r}const d3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:d3(),y:d3()}),p3=()=>({min:0,max:0}),pn=()=>({x:p3(),y:p3()}),hg={current:null},lA={current:!1};function sB(){if(lA.current=!0,!!C1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hg.current=e.matches;e.addEventListener("change",t),t()}else hg.current=!1}const lB=new WeakMap;function uB(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Un(a))e.addValue(r,a);else if(Un(i))e.addValue(r,Ps(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(r);e.addValue(r,Ps(s!==void 0?s:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const m3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ft.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=im(n),this.isVariantNode=W6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const b=f[h];c[h]!==void 0&&Un(b)&&b.set(c[h])}}mount(t){this.current=t,lB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lA.current||sB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xi(this.notifyUpdate),Xi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qs.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fs){const n=Fs[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m3.length;r++){const a=m3[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=uB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ps(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Jk(r)||t6(r))?r=parseFloat(r):!bF(r)&&Qi.test(n)&&(r=M6(t,n)),this.setBaseTarget(t,Un(r)?r.get():r)),Un(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=rb(this.props,n,this.presenceContext?.custom);i&&(r=i[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Un(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new O1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){K1.render(this.render)}}class uA extends cB{constructor(){super(...arguments),this.KeyframeResolver=iF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cA(e,{style:t,vars:n},r,a){const i=e.style;let s;for(s in t)i[s]=t[s];a?.applyProjectionStyles(i,r);for(s in n)i.setProperty(s,n[s])}function dB(e){return window.getComputedStyle(e)}class pB extends uA{constructor(){super(...arguments),this.type="html",this.renderInstance=cA}readValueFromInstance(t,n){if(Qs.has(n))return this.projection?.isProjecting?ig(n):EP(t,n);{const r=dB(t),a=(h6(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sA(t,n)}build(t,n,r){eb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ab(t,n,r)}}const dA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mB(e,t,n,r){cA(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(dA.has(a)?a:ib(a),t.attrs[a])}class fB extends uA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qs.has(n)){const r=U6(n);return r&&r.default||0}return n=dA.has(n)?n:ib(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return eA(t,n,r)}build(t,n,r){X6(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){mB(t,n,r,a)}mount(t){this.isSVGTag=Z6(t.tagName),super.mount(t)}}const hB=(e,t)=>nb(e)?new fB(t):new pB(t,{allowProjection:e!==N.Fragment});function Ns(e,t,n){const r=e.getProps();return rb(r,t,n!==void 0?n:r.custom,e)}const gg=e=>Array.isArray(e);function gB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ps(n))}function bB(e){return gg(e)?e[e.length-1]||0:e}function vB(e,t){const n=Ns(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const s in i){const u=bB(i[s]);gB(e,s,u)}}function yB(e){return!!(Un(e)&&e.add)}function bg(e,t){const n=e.getValue("willChange");if(yB(n))return n.add(t);if(!n&&si.WillChange){const r=new si.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function pA(e){return e.props[tA]}const xB=e=>e!==null;function _B(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(xB),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const wB={type:"spring",stiffness:500,damping:25,restSpeed:10},$B=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EB={type:"keyframes",duration:.8},SB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TB=(e,{keyframes:t})=>t.length>2?EB:Qs.has(e)?e.startsWith("scale")?$B(t[1]):wB:SB;function kB({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:u,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const ob=(e,t,n,r={},a,i)=>s=>{const u=W1(r,e)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ca(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:h=>{t.set(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{s(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:i?void 0:a};kB(u)||Object.assign(m,TB(e,m)),m.duration&&(m.duration=Ca(m.duration)),m.repeatDelay&&(m.repeatDelay=Ca(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(cg(m),m.delay===0&&(f=!0)),(si.instantAnimations||si.skipAnimations)&&(f=!0,cg(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,f&&!i&&t.get()!==void 0){const h=_B(m.keyframes,u);if(h!==void 0){Ft.update(()=>{m.onUpdate(h),m.onComplete()});return}}return u.isSync?new V1(m):new WP(m)};function AB({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function mA(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...u}=t;r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const m in u){const f=e.getValue(m,e.latestValues[m]??null),h=u[m];if(h===void 0||d&&AB(d,m))continue;const b={delay:n,...W1(i||{},m)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===_&&!b.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const S=pA(e);if(S){const A=window.MotionHandoffAnimation(S,m,Ft);A!==null&&(b.startTime=A,x=!0)}}bg(e,m),f.start(ob(m,f,h,e.shouldReduceMotion&&R6.has(m)?{type:!1}:b,e,x));const T=f.animation;T&&c.push(T)}return s&&Promise.all(c).then(()=>{Ft.update(()=>{s&&vB(e,s)})}),c}function fA(e,t,n,r=0,a=1){const i=Array.from(e).sort((d,m)=>d.sortNodePosition(m)).indexOf(t),s=e.size,u=(s-1)*r;return typeof n=="function"?n(i,s):a===1?i*r:u-i*r}function vg(e,t,n={}){const r=Ns(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(mA(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=a;return NB(e,t,c,d,m,f,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[c,d]=u==="beforeChildren"?[i,s]:[s,i];return c().then(()=>d())}else return Promise.all([i(),s(n.delay)])}function NB(e,t,n=0,r=0,a=0,i=1,s){const u=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),u.push(vg(c,t,{...s,delay:n+(typeof r=="function"?0:r)+fA(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(u)}function CB(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>vg(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=vg(e,t,n);else{const a=typeof t=="function"?Ns(e,t,n.custom):t;r=Promise.all(mA(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function hA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const IB=J1.length;function gA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<IB;n++){const r=J1[n],a=e.props[r];(Ru(a)||a===!1)&&(t[r]=a)}return t}const LB=[...Z1].reverse(),RB=Z1.length;function DB(e){return t=>Promise.all(t.map(({animation:n,options:r})=>CB(e,n,r)))}function OB(e){let t=DB(e),n=f3(),r=!0;const a=c=>(d,m)=>{const f=Ns(e,m,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:b,..._}=f;d={...d,..._,...b}}return d};function i(c){t=c(e)}function s(c){const{props:d}=e,m=gA(e.parent)||{},f=[],h=new Set;let b={},_=1/0;for(let T=0;T<RB;T++){const S=LB[T],A=n[S],C=d[S]!==void 0?d[S]:m[S],R=Ru(C),M=S===c?A.isActive:null;M===!1&&(_=T);let P=C===m[S]&&C!==d[S]&&R;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...b},!A.isActive&&M===null||!C&&!A.prevProp||am(C)||typeof C=="boolean")continue;const j=UB(A.prevProp,C);let K=j||S===c&&A.isActive&&!P&&R||T>_&&R,ee=!1;const G=Array.isArray(C)?C:[C];let Q=G.reduce(a(S),{});M===!1&&(Q={});const{prevResolvedValues:re={}}=A,ae={...re,...Q},ne=fe=>{K=!0,h.has(fe)&&(ee=!0,h.delete(fe)),A.needsAnimating[fe]=!0;const J=e.getValue(fe);J&&(J.liveStyle=!1)};for(const fe in ae){const J=Q[fe],he=re[fe];if(b.hasOwnProperty(fe))continue;let O=!1;gg(J)&&gg(he)?O=!hA(J,he):O=J!==he,O?J!=null?ne(fe):h.add(fe):J!==void 0&&h.has(fe)?ne(fe):A.protectedKeys[fe]=!0}A.prevProp=C,A.prevResolvedValues=Q,A.isActive&&(b={...b,...Q}),r&&e.blockInitialAnimation&&(K=!1);const me=P&&j;K&&(!me||ee)&&f.push(...G.map(fe=>{const J={type:S};if(typeof fe=="string"&&r&&!me&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,O=Ns(he,fe);if(he.enteringChildren&&O){const{delayChildren:H}=O.transition||{};J.delay=fA(he.enteringChildren,e,H)}}return{animation:fe,options:J}}))}if(h.size){const T={};if(typeof d.initial!="boolean"){const S=Ns(e,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(T.transition=S.transition)}h.forEach(S=>{const A=e.getBaseTarget(S),C=e.getValue(S);C&&(C.liveStyle=!0),T[S]=A??null}),f.push({animation:T})}let x=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function u(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),n[c].isActive=d;const m=s(c);for(const f in n)n[f].protectedKeys={};return m}return{animateChanges:s,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=f3()}}}function UB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hA(t,e):!1}function vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f3(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MB extends to{constructor(t){super(t),t.animationState||(t.animationState=OB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();am(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PB=0;class FB extends to{constructor(){super(...arguments),this.id=PB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BB={animation:{Feature:MB},exit:{Feature:FB}};function Du(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Xu(e){return{point:{x:e.pageX,y:e.pageY}}}const zB=e=>t=>X1(t)&&e(t,Xu(t));function pu(e,t,n,r){return Du(e,t,zB(n),r)}const bA=1e-4,jB=1-bA,GB=1+bA,vA=.01,HB=0-vA,VB=0+vA;function Xn(e){return e.max-e.min}function qB(e,t,n){return Math.abs(e-t)<=n}function h3(e,t,n,r=.5){e.origin=r,e.originPoint=qt(t.min,t.max,e.origin),e.scale=Xn(n)/Xn(t),e.translate=qt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jB&&e.scale<=GB||isNaN(e.scale))&&(e.scale=1),(e.translate>=HB&&e.translate<=VB||isNaN(e.translate))&&(e.translate=0)}function mu(e,t,n,r){h3(e.x,t.x,n.x,r?r.originX:void 0),h3(e.y,t.y,n.y,r?r.originY:void 0)}function g3(e,t,n){e.min=n.min+t.min,e.max=e.min+Xn(t)}function WB(e,t,n){g3(e.x,t.x,n.x),g3(e.y,t.y,n.y)}function b3(e,t,n){e.min=t.min-n.min,e.max=e.min+Xn(t)}function Sp(e,t,n){b3(e.x,t.x,n.x),b3(e.y,t.y,n.y)}function jr(e){return[e("x"),e("y")]}const yA=({current:e})=>e?e.ownerDocument.defaultView:null,v3=(e,t)=>Math.abs(e-t);function YB(e,t){const n=v3(e.x,t.x),r=v3(e.y,t.y);return Math.sqrt(n**2+r**2)}class xA{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=YB(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:x}=h,{timestamp:T}=An;this.history.push({...x,timestamp:T});const{onStart:S,onMove:A}=this.handlers;b||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,h)},this.handlePointerMove=(h,b)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Uf(b,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(h,b)=>{this.end();const{onEnd:_,onSessionEnd:x,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Mf(h.type==="pointercancel"?this.lastMoveEventInfo:Uf(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(h,S),x&&x(h,S)},!X1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=a||window;const u=Xu(t),c=Uf(u,this.transformPagePoint),{point:d}=c,{timestamp:m}=An;this.history=[{...d,timestamp:m}];const{onSessionStart:f}=n;f&&f(t,Mf(c,this.history)),this.removeListeners=Wu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xi(this.updatePoint)}}function Uf(e,t){return t?{point:t(e.point)}:e}function y3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mf({point:e},t){return{point:e,delta:y3(e,_A(t)),offset:y3(e,KB(t)),velocity:XB(t,.1)}}function KB(e){return e[0]}function _A(e){return e[e.length-1]}function XB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=_A(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ca(t)));)n--;if(!r)return{x:0,y:0};const i=Vr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function QB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?qt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?qt(n,e,r.max):Math.min(e,n)),e}function x3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ZB(e,{top:t,left:n,bottom:r,right:a}){return{x:x3(e.x,n,a),y:x3(e.y,t,r)}}function _3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function JB(e,t){return{x:_3(e.x,t.x),y:_3(e.y,t.y)}}function ez(e,t){let n=.5;const r=Xn(e),a=Xn(t);return a>r?n=Cu(t.min,t.max-r,e.min):r>a&&(n=Cu(e.min,e.max-a,t.min)),oi(0,1,n)}function tz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const yg=.35;function nz(e=yg){return e===!1?e=0:e===!0&&(e=yg),{x:w3(e,"left","right"),y:w3(e,"top","bottom")}}function w3(e,t,n){return{min:$3(e,t),max:$3(e,n)}}function $3(e,t){return typeof e=="number"?e:e[t]||0}const rz=new WeakMap;class az{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xu(f).point)},s=(f,h)=>{const{drag:b,dragPropagation:_,onDragStart:x}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uF(b),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(S=>{let A=this.getAxisMotionValue(S).get()||0;if(Ia.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const R=C.layout.layoutBox[S];R&&(A=Xn(R)*(parseFloat(A)/100))}}this.originPoint[S]=A}),x&&Ft.postRender(()=>x(f,h)),bg(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:x,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=h;if(_&&this.currentDirection===null){this.currentDirection=iz(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),T&&T(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>jr(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new xA(t,{onSessionStart:i,onStart:s,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:yA(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:u}=this.getProps();u&&Ft.postRender(()=>u(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Id(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=QB(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&_s(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ZB(r.layoutBox,t):this.constraints=!1,this.elastic=nz(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=tz(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_s(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=oB(r,a.root,this.visualElement.getTransformPagePoint());let s=JB(a.layout.layoutBox,i);if(n){const u=n(rB(s));this.hasMutatedConstraints=!!u,u&&(s=aA(u))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=jr(m=>{if(!Id(m,n,this.currentDirection))return;let f=c&&c[m]||{};s&&(f={min:0,max:0});const h=a?200:1e6,b=a?40:1e7,_={type:"inertia",velocity:r?t[m]:0,bounceStiffness:h,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return bg(this.visualElement,t),r.start(ob(t,r,0,n,this.visualElement,!1))}stopAnimation(){jr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){jr(n=>{const{drag:r}=this.getProps();if(!Id(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:s,max:u}=a.layout.layoutBox[n];i.set(t[n]-qt(s,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_s(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jr(s=>{const u=this.getAxisMotionValue(s);if(u&&this.constraints!==!1){const c=u.get();a[s]=ez({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jr(s=>{if(!Id(s,t,null))return;const u=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];u.set(qt(c,d,a[s]))})}addListeners(){if(!this.visualElement.current)return;rz.set(this.visualElement,this);const t=this.visualElement.current,n=pu(t,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();_s(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(r);const s=Du(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(jr(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=c[m].translate,f.set(f.get()+c[m].translate))}),this.visualElement.render())}));return()=>{s(),n(),i(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=yg,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:u}}}function Id(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function iz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oz extends to{constructor(t){super(t),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new az(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const E3=e=>(t,n)=>{e&&Ft.postRender(()=>e(t,n))};class sz extends to{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(t){this.session=new xA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:E3(t),onStart:E3(n),onMove:r,onEnd:(i,s)=>{delete this.session,a&&Ft.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pf=!1;class lz extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),Pf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:s}=r;return s&&(s.isPresent=i,Pf=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Ft.postRender(()=>{const u=s.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),K1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Pf=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wA(e){const[t,n]=H6(),r=N.useContext(A1);return $.jsx(lz,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(nA),isPresent:t,safeToRemove:n})}function uz(e,t,n){const r=Un(e)?e:Ps(e);return r.start(ob("",r,t,n)),r.animation}const cz=(e,t)=>e.depth-t.depth;class dz{constructor(){this.children=[],this.isDirty=!1}add(t){I1(this.children,t),this.isDirty=!0}remove(t){L1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cz),this.isDirty=!1,this.children.forEach(t)}}function pz(e,t){const n=mr.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Xi(r),e(i-t))};return Ft.setup(r,!0),()=>Xi(r)}const $A=["TopLeft","TopRight","BottomLeft","BottomRight"],mz=$A.length,S3=e=>typeof e=="string"?parseFloat(e):e,T3=e=>typeof e=="number"||rt.test(e);function fz(e,t,n,r,a,i){a?(e.opacity=qt(0,n.opacity??1,hz(r)),e.opacityExit=qt(t.opacity??1,0,gz(r))):i&&(e.opacity=qt(t.opacity??1,n.opacity??1,r));for(let s=0;s<mz;s++){const u=`border${$A[s]}Radius`;let c=k3(t,u),d=k3(n,u);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||T3(c)===T3(d)?(e[u]=Math.max(qt(S3(c),S3(d),r),0),(Ia.test(d)||Ia.test(c))&&(e[u]+="%")):e[u]=d}(t.rotate||n.rotate)&&(e.rotate=qt(t.rotate||0,n.rotate||0,r))}function k3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hz=EA(0,.5,u6),gz=EA(.5,.95,Wr);function EA(e,t,n){return r=>r<e?0:r>t?1:n(Cu(e,t,r))}function A3(e,t){e.min=t.min,e.max=t.max}function oa(e,t){A3(e.x,t.x),A3(e.y,t.y)}function N3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function C3(e,t,n,r,a){return e-=t,e=Ep(e,1/n,r),a!==void 0&&(e=Ep(e,1/a,r)),e}function bz(e,t=0,n=1,r=.5,a,i=e,s=e){if(Ia.test(t)&&(t=parseFloat(t),t=qt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let u=qt(i.min,i.max,r);e===i&&(u-=t),e.min=C3(e.min,t,n,u,a),e.max=C3(e.max,t,n,u,a)}function I3(e,t,[n,r,a],i,s){bz(e,t[n],t[r],t[a],t.scale,i,s)}const vz=["x","scaleX","originX"],yz=["y","scaleY","originY"];function L3(e,t,n,r){I3(e.x,t,vz,n?n.x:void 0,r?r.x:void 0),I3(e.y,t,yz,n?n.y:void 0,r?r.y:void 0)}function R3(e){return e.translate===0&&e.scale===1}function SA(e){return R3(e.x)&&R3(e.y)}function D3(e,t){return e.min===t.min&&e.max===t.max}function xz(e,t){return D3(e.x,t.x)&&D3(e.y,t.y)}function O3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TA(e,t){return O3(e.x,t.x)&&O3(e.y,t.y)}function U3(e){return Xn(e.x)/Xn(e.y)}function M3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _z{constructor(){this.members=[]}add(t){I1(this.members,t),t.scheduleRender()}remove(t){if(L1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wz(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=n?.z||0;if((a||i||s)&&(r=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:f,rotateY:h,skewX:b,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),b&&(r+=`skewX(${b}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=e.x.scale*t.x,c=e.y.scale*t.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Ff=["","X","Y","Z"],$z=1e3;let Ez=0;function Bf(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kA(r)}function AA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(s={},u=t?.()){this.id=Ez++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kz),this.nodes.forEach(Iz),this.nodes.forEach(Lz),this.nodes.forEach(Az)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new dz)}addEventListener(s,u){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new O1),this.eventHandlers.get(s).add(u)}notifyListeners(s,...u){const c=this.eventHandlers.get(s);c&&c.notify(...u)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=G6(s)&&!hF(s),this.instance=s;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),e){let m,f=0;const h=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{f=window.innerWidth}),e(s,()=>{const b=window.innerWidth;b!==f&&(f=b,this.root.updateBlockedByResize=!0,m&&m(),m=pz(h,250),ip.hasAnimatedSinceResize&&(ip.hasAnimatedSinceResize=!1,this.nodes.forEach(B3)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||Mz,{onLayoutAnimationStart:x,onLayoutAnimationComplete:T}=d.getProps(),S=!this.targetLayout||!TA(this.targetLayout,b),A=!f&&h;if(this.options.layoutRoot||this.resumeFrom||A||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...W1(_,"layout"),onPlay:x,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,A)}else f||B3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Cz),this.nodes.forEach(Sz),this.nodes.forEach(Tz)):this.nodes.forEach(F3),this.clearAllSnapshots();const u=mr.now();An.delta=oi(0,1e3/60,u-An.timestamp),An.timestamp=u,An.isProcessing=!0,Af.update.process(An),Af.preRender.process(An),Af.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,K1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nz),this.sharedNodes.forEach(Dz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xn(this.snapshot.measuredBox.x)&&!Xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!SA(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;s&&this.instance&&(u||$o(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return s&&(c=this.removeTransform(c)),Pz(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return pn();const u=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fz))){const{scroll:d}=this.root;d&&(ws(u.x,d.offset.x),ws(u.y,d.offset.y))}return u}removeElementScroll(s){const u=pn();if(oa(u,s),this.scroll?.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&oa(u,s),ws(u.x,m.offset.x),ws(u.y,m.offset.y))}return u}applyTransform(s,u=!1){const c=pn();oa(c,s);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$s(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),$o(m.latestValues)&&$s(c,m.latestValues)}return $o(this.latestValues)&&$s(c,this.latestValues),c}removeTransform(s){const u=pn();oa(u,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!$o(d.latestValues))continue;mg(d.latestValues)&&d.updateSnapshot();const m=pn(),f=d.measurePageBox();oa(m,f),L3(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return $o(this.latestValues)&&L3(u,this.latestValues),u}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=An.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oa(this.target,this.layout.layoutBox),oA(this.target,this.targetDelta)):oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mg(this.parent.latestValues)||iA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,u,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Sp(this.relativeTargetOrigin,u,c),oa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),u=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===An.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;oa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;iB(this.layoutCorrected,this.treeScale,this.path,u),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=pn());const{target:b}=s;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N3(this.prevProjectionDelta.x,this.projectionDelta.x),N3(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!M3(this.projectionDelta.x,this.prevProjectionDelta.x)||!M3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Es(),this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es()}setAnimationOrigin(s,u=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},f=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const h=pn(),b=c?c.source:void 0,_=this.layout?this.layout.source:void 0,x=b!==_,T=this.getStack(),S=!T||T.members.length<=1,A=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(Uz));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const M=R/1e3;z3(f.x,s.x,M),z3(f.y,s.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oz(this.relativeTarget,this.relativeTargetOrigin,h,M),C&&xz(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=pn()),oa(C,this.relativeTarget)),x&&(this.animationValues=m,fz(m,d,this.latestValues,M,A,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{ip.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ps(0)),this.currentAnimation=uz(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($z),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:u,target:c,layout:d,latestValues:m}=s;if(!(!u||!c||!d)){if(this!==s&&this.layout&&d&&NA(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||pn();const f=Xn(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Xn(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}oa(u,c),$s(u,m),mu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(s,u){this.sharedNodes.has(s)||this.sharedNodes.set(s,new _z),this.sharedNodes.get(s).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:u,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let u=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const d={};c.z&&Bf("z",s,d,this.animationValues);for(let m=0;m<Ff.length;m++)Bf(`rotate${Ff[m]}`,s,d,this.animationValues),Bf(`skew${Ff[m]}`,s,d,this.animationValues);s.render();for(const m in d)s.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);s.scheduleRender()}applyProjectionStyles(s,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=ap(u?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=ap(u?.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=wz(this.projectionDeltaWithTransform,this.treeScale,m);c&&(f=c(m,f)),s.transform=f;const{x:h,y:b}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${b.origin*100}% 0`,d.animationValues?s.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:s.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in pg){if(m[_]===void 0)continue;const{correct:x,applyTo:T,isCSSVariable:S}=pg[_],A=f==="none"?m[_]:x(m[_],d);if(T){const C=T.length;for(let R=0;R<C;R++)s[T[R]]=A}else S?this.options.visualElement.renderState.vars[_]=A:s[_]=A}this.options.layoutId&&(s.pointerEvents=d===this?ap(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(P3),this.root.sharedNodes.clear()}}}function Sz(e){e.updateLayout()}function Tz(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?jr(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],h=Xn(f);f.min=n[m].min,f.max=f.min+h}):NA(a,t.layoutBox,n)&&jr(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],h=Xn(n[m]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const s=Es();mu(s,n,t.layoutBox);const u=Es();i?mu(u,e.applyTransform(r,!0),t.measuredBox):mu(u,n,t.layoutBox);const c=!SA(s);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:h}=m;if(f&&h){const b=pn();Sp(b,t.layoutBox,f.layoutBox);const _=pn();Sp(_,n,h.layoutBox),TA(b,_)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Az(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nz(e){e.clearSnapshot()}function P3(e){e.clearMeasurements()}function F3(e){e.isLayoutDirty=!1}function Cz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function B3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Iz(e){e.resolveTargetDelta()}function Lz(e){e.calcProjection()}function Rz(e){e.resetSkewAndRotation()}function Dz(e){e.removeLeadSnapshot()}function z3(e,t,n){e.translate=qt(t.translate,0,n),e.scale=qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function j3(e,t,n,r){e.min=qt(t.min,n.min,r),e.max=qt(t.max,n.max,r)}function Oz(e,t,n,r){j3(e.x,t.x,n.x,r),j3(e.y,t.y,n.y,r)}function Uz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mz={duration:.45,ease:[.4,0,.1,1]},G3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),H3=G3("applewebkit/")&&!G3("chrome/")?Math.round:Wr;function V3(e){e.min=H3(e.min),e.max=H3(e.max)}function Pz(e){V3(e.x),V3(e.y)}function NA(e,t,n){return e==="position"||e==="preserve-aspect"&&!qB(U3(t),U3(n),.2)}function Fz(e){return e!==e.root&&e.scroll?.wasRoot}const Bz=AA({attachResizeListener:(e,t)=>Du(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zf={current:void 0},CA=AA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zf.current){const e=new Bz({});e.mount(window),e.setOptions({layoutScroll:!0}),zf.current=e}return zf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zz={pan:{Feature:sz},drag:{Feature:oz,ProjectionNode:CA,MeasureLayout:wA}};function q3(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&Ft.postRender(()=>i(t,Xu(t)))}class jz extends to{mount(){const{current:t}=this.node;t&&(this.unmount=cF(t,(n,r)=>(q3(this.node,r,"Start"),a=>q3(this.node,a,"End"))))}unmount(){}}class Gz extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W3(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&Ft.postRender(()=>i(t,Xu(t)))}class Hz extends to{mount(){const{current:t}=this.node;t&&(this.unmount=fF(t,(n,r)=>(W3(this.node,r,"Start"),(a,{success:i})=>W3(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,jf=new WeakMap,Vz=e=>{const t=xg.get(e.target);t&&t(e)},qz=e=>{e.forEach(Vz)};function Wz({root:e,...t}){const n=e||document;jf.has(n)||jf.set(n,{});const r=jf.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(qz,{root:e,...t})),r[a]}function Yz(e,t,n){const r=Wz(t);return xg.set(e,n),r.observe(e),()=>{xg.delete(e),r.unobserve(e)}}const Kz={some:0,all:1};class Xz extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Kz[a]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),h=d?m:f;h&&h(c)};return Yz(this.node.current,s,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Qz(t,n))&&this.startObserver()}unmount(){}}function Qz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Zz={inView:{Feature:Xz},tap:{Feature:Hz},focus:{Feature:Gz},hover:{Feature:jz}},Jz={layout:{ProjectionNode:CA,MeasureLayout:wA}},ej={...BB,...Zz,...zz,...Jz},Y3=nB(ej,hB);function K3(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const s=n.slice(a,r).trim();(s||!i)&&t.push(s),a=r+1,r=n.indexOf(",",a)}return t}function IA(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rj={};function X3(e,t){return(rj.jsx?nj:tj).test(e)}const aj=/[ \t\n\f\r]/g;function ij(e){return typeof e=="object"?e.type==="text"?Q3(e.value):!1:Q3(e)}function Q3(e){return e.replace(aj,"")===""}let Qu=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Qu.prototype.normal={};Qu.prototype.property={};Qu.prototype.space=void 0;function LA(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Qu(n,r,t)}function Ou(e){return e.toLowerCase()}let fr=class{constructor(t,n){this.attribute=n,this.property=t}};fr.prototype.attribute="";fr.prototype.booleanish=!1;fr.prototype.boolean=!1;fr.prototype.commaOrSpaceSeparated=!1;fr.prototype.commaSeparated=!1;fr.prototype.defined=!1;fr.prototype.mustUseProperty=!1;fr.prototype.number=!1;fr.prototype.overloadedBoolean=!1;fr.prototype.property="";fr.prototype.spaceSeparated=!1;fr.prototype.space=void 0;let oj=0;const ut=Do(),rn=Do(),_g=Do(),Ae=Do(),At=Do(),Cs=Do(),Er=Do();function Do(){return 2**++oj}const wg=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:rn,commaOrSpaceSeparated:Er,commaSeparated:Cs,number:Ae,overloadedBoolean:_g,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),Gf=Object.keys(wg);let sb=class extends fr{constructor(t,n,r,a){let i=-1;if(super(t,n),Z3(this,"space",a),typeof r=="number")for(;++i<Gf.length;){const s=Gf[i];Z3(this,Gf[i],(r&wg[s])===wg[s])}}};sb.prototype.defined=!0;function Z3(e,t,n){n&&(e[t]=n)}function Zs(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new sb(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Ou(r)]=r,n[Ou(i.attribute)]=r}return new Qu(t,n,e.space)}const RA=Zs({properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:At,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:Ae,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:At,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:rn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function DA(e,t){return t in e?e[t]:t}function OA(e,t){return DA(e,t.toLowerCase())}const sj=Zs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cs,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:At,autoFocus:ut,autoPlay:ut,blocking:At,capture:null,charSet:null,checked:ut,cite:null,className:At,cols:Ae,colSpan:null,content:null,contentEditable:rn,controls:ut,controlsList:At,coords:Ae|Cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:_g,draggable:rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:At,height:Ae,hidden:_g,high:Ae,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:ut,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:At,itemRef:At,itemScope:ut,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:Ae,pattern:null,ping:At,placeholder:null,playsInline:ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:At,required:ut,reversed:ut,rows:Ae,rowSpan:Ae,sandbox:At,scope:null,scoped:ut,seamless:ut,selected:ut,shadowRootClonable:ut,shadowRootDelegatesFocus:ut,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:rn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:rn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:OA}),lj=Zs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Er,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cs,g2:Cs,glyphName:Cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Er,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Er,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Er,rev:Er,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Er,requiredFeatures:Er,requiredFonts:Er,requiredFormats:Er,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Er,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Er,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Er,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DA}),UA=Zs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),MA=Zs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OA}),PA=Zs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cj=/[A-Z]/g,J3=/-[a-z]/g,dj=/^data[-\w.:]+$/i;function lb(e,t){const n=Ou(t);let r=t,a=fr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dj.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(J3,mj);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!J3.test(i)){let s=i.replace(cj,pj);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=sb}return new a(r,t)}function pj(e){return"-"+e.toLowerCase()}function mj(e){return e.charAt(1).toUpperCase()}const om=LA([RA,sj,UA,MA,PA],"html"),Js=LA([RA,lj,UA,MA,PA],"svg");function eS(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function FA(e){return e.join(" ").trim()}var cs={},Hf,tS;function fj(){if(tS)return Hf;tS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,d="/",m="*",f="",h="comment",b="declaration";Hf=function(x,T){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];T=T||{};var S=1,A=1;function C(ae){var ne=ae.match(t);ne&&(S+=ne.length);var me=ae.lastIndexOf(c);A=~me?ae.length-me:A+ae.length}function R(){var ae={line:S,column:A};return function(ne){return ne.position=new M(ae),K(),ne}}function M(ae){this.start=ae,this.end={line:S,column:A},this.source=T.source}M.prototype.content=x;function P(ae){var ne=new Error(T.source+":"+S+":"+A+": "+ae);if(ne.reason=ae,ne.filename=T.source,ne.line=S,ne.column=A,ne.source=x,!T.silent)throw ne}function j(ae){var ne=ae.exec(x);if(ne){var me=ne[0];return C(me),x=x.slice(me.length),ne}}function K(){j(n)}function ee(ae){var ne;for(ae=ae||[];ne=G();)ne!==!1&&ae.push(ne);return ae}function G(){var ae=R();if(!(d!=x.charAt(0)||m!=x.charAt(1))){for(var ne=2;f!=x.charAt(ne)&&(m!=x.charAt(ne)||d!=x.charAt(ne+1));)++ne;if(ne+=2,f===x.charAt(ne-1))return P("End of comment missing");var me=x.slice(2,ne-2);return A+=2,C(me),x=x.slice(ne),A+=2,ae({type:h,comment:me})}}function Q(){var ae=R(),ne=j(r);if(ne){if(G(),!j(a))return P("property missing ':'");var me=j(i),be=ae({type:b,property:_(ne[0].replace(e,f)),value:me?_(me[0].replace(e,f)):f});return j(s),be}}function re(){var ae=[];ee(ae);for(var ne;ne=Q();)ne!==!1&&(ae.push(ne),ee(ae));return ae}return K(),re()};function _(x){return x?x.replace(u,f):f}return Hf}var nS;function hj(){if(nS)return cs;nS=1;var e=cs&&cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.default=n;var t=e(fj());function n(r,a){var i=null;if(!r||typeof r!="string")return i;var s=(0,t.default)(r),u=typeof a=="function";return s.forEach(function(c){if(c.type==="declaration"){var d=c.property,m=c.value;u?a(d,m,c):m&&(i=i||{},i[d]=m)}}),i}return cs}var Zl={},rS;function gj(){if(rS)return Zl;rS=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(d){return!d||n.test(d)||e.test(d)},s=function(d,m){return m.toUpperCase()},u=function(d,m){return"".concat(m,"-")},c=function(d,m){return m===void 0&&(m={}),i(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(a,u):d=d.replace(r,u),d.replace(t,s))};return Zl.camelCase=c,Zl}var Jl,aS;function bj(){if(aS)return Jl;aS=1;var e=Jl&&Jl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(hj()),n=gj();function r(a,i){var s={};return!a||typeof a!="string"||(0,t.default)(a,function(u,c){u&&c&&(s[(0,n.camelCase)(u,i)]=c)}),s}return r.default=r,Jl=r,Jl}var vj=bj();const yj=Pp(vj),sm=BA("end"),Oa=BA("start");function BA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function xj(e){const t=Oa(e),n=sm(e);if(t&&n)return{start:t,end:n}}function fu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?iS(e.position):"start"in e||"end"in e?iS(e):"line"in e||"column"in e?$g(e):""}function $g(e){return oS(e&&e.line)+":"+oS(e&&e.column)}function iS(e){return $g(e&&e.start)+"-"+$g(e&&e.end)}function oS(e){return e&&typeof e=="number"?e:1}class Pn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(s=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const u=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=u?u.line:void 0,this.name=fu(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Pn.prototype.file="";Pn.prototype.name="";Pn.prototype.reason="";Pn.prototype.message="";Pn.prototype.stack="";Pn.prototype.column=void 0;Pn.prototype.line=void 0;Pn.prototype.ancestors=void 0;Pn.prototype.cause=void 0;Pn.prototype.fatal=void 0;Pn.prototype.place=void 0;Pn.prototype.ruleId=void 0;Pn.prototype.source=void 0;const ub={}.hasOwnProperty,_j=new Map,wj=/[A-Z]/g,$j=new Set(["table","tbody","thead","tfoot","tr"]),Ej=new Set(["td","th"]),zA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Sj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Rj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Lj(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Js:om,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=jA(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function jA(e,t,n){if(t.type==="element")return Tj(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return kj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Nj(e,t,n);if(t.type==="mdxjsEsm")return Aj(e,t);if(t.type==="root")return Cj(e,t,n);if(t.type==="text")return Ij(e,t)}function Tj(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Js,e.schema=a),e.ancestors.push(t);const i=HA(e,t.tagName,!1),s=Dj(e,t);let u=db(e,t);return $j.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!ij(c):!0})),GA(e,s,i,t),cb(s,u),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function kj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Uu(e,t.position)}function Aj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Uu(e,t.position)}function Nj(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Js,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:HA(e,t.name,!0),s=Oj(e,t),u=db(e,t);return GA(e,s,i,t),cb(s,u),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function Cj(e,t,n){const r={};return cb(r,db(e,t)),e.create(t,e.Fragment,r,n)}function Ij(e,t){return t.value}function GA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function cb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Lj(e,t,n){return r;function r(a,i,s,u){const d=Array.isArray(s.children)?n:t;return u?d(i,s,u):d(i,s)}}function Rj(e,t){return n;function n(r,a,i,s){const u=Array.isArray(i.children),c=Oa(r);return t(a,i,s,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Dj(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&ub.call(t.properties,a)){const i=Uj(e,a,t.properties[a]);if(i){const[s,u]=i;e.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&Ej.has(t.tagName)?r=u:n[s]=u}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Oj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Uu(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,i=e.evaluater.evaluateExpression(u.expression)}else Uu(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function db(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:_j;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const d=a.get(c)||0;s=c+"-"+d,a.set(c,d+1)}}const u=jA(e,i,s);u!==void 0&&n.push(u)}return n}function Uj(e,t,n){const r=lb(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?IA(n):FA(n)),r.property==="style"){let a=typeof n=="object"?n:Mj(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Pj(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?uj[r.property]||r.property:r.attribute,n]}}function Mj(e,t){try{return yj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=zA+"#cannot-parse-style-attribute",a}}function HA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,s;for(;++i<a.length;){const u=X3(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(i&&u.type==="Literal"),optional:!1}:u}r=s}else r=X3(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return ub.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Uu(e)}function Uu(e,t){const n=new Pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Pj(e){const t={};let n;for(n in e)ub.call(e,n)&&(t[Fj(n)]=e[n]);return t}function Fj(e){let t=e.replace(wj,Bj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Bj(e){return"-"+e.toLowerCase()}const Vf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},zj={};function pb(e,t){const n=zj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return VA(e,r,a)}function VA(e,t,n){if(jj(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return sS(e.children,t,n)}return Array.isArray(e)?sS(e,t,n):""}function sS(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=VA(e[a],t,n);return r.join("")}function jj(e){return!!(e&&typeof e=="object")}const lS=document.createElement("i");function Mu(e){const t="&"+e+";";lS.innerHTML=t;const n=lS.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ir(e,t,n,r){const a=e.length;let i=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function Gr(e,t){return e.length>0?(Ir(e,e.length,0,t),e):t}const uS={}.hasOwnProperty;function qA(e){const t={};let n=-1;for(;++n<e.length;)Gj(t,e[n]);return t}function Gj(e,t){let n;for(n in t){const a=(uS.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){uS.call(a,s)||(a[s]=[]);const u=i[s];Hj(a[s],Array.isArray(u)?u:u?[u]:[])}}}function Hj(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ir(e,0,0,r)}function WA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ca(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kn=no(/[A-Za-z]/),Mn=no(/[\dA-Za-z]/),Vj=no(/[#-'*+\--9=?A-Z^-~]/);function Tp(e){return e!==null&&(e<32||e===127)}const Eg=no(/\d/),qj=no(/[\dA-Fa-f]/),Wj=no(/[!-/:-@[-`{-~]/);function Ge(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function gt(e){return e===-2||e===-1||e===32}const lm=no(new RegExp("\\p{P}|\\p{S}","u")),Io=no(/\s/);function no(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function el(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&Mn(e.charCodeAt(n+1))&&Mn(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const u=e.charCodeAt(n+1);i<56320&&u>56319&&u<57344?(s=String.fromCharCode(i,u),a=1):s=""}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+a+1,s=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function ht(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(c){return gt(c)?(e.enter(n),u(c)):t(c)}function u(c){return gt(c)&&i++<a?(e.consume(c),u):(e.exit(n),t(c))}}const Yj={tokenize:Kj};function Kj(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),ht(e,t,"linePrefix")}function a(u){return e.enter("paragraph"),i(u)}function i(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(u)}function s(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Ge(u)?(e.consume(u),e.exit("chunkText"),i):(e.consume(u),s)}}const Xj={tokenize:Qj},cS={tokenize:Zj};function Qj(e){const t=this,n=[];let r=0,a,i,s;return u;function u(C){if(r<n.length){const R=n[r];return t.containerState=R[1],e.attempt(R[0].continuation,c,d)(C)}return d(C)}function c(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&A();const R=t.events.length;let M=R,P;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){P=t.events[M][1].end;break}S(r);let j=R;for(;j<t.events.length;)t.events[j][1].end={...P},j++;return Ir(t.events,M+1,0,t.events.slice(R)),t.events.length=j,d(C)}return u(C)}function d(C){if(r===n.length){if(!a)return h(C);if(a.currentConstruct&&a.currentConstruct.concrete)return _(C);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(cS,m,f)(C)}function m(C){return a&&A(),S(r),h(C)}function f(C){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,_(C)}function h(C){return t.containerState={},e.attempt(cS,b,_)(C)}function b(C){return r++,n.push([t.currentConstruct,t.containerState]),h(C)}function _(C){if(C===null){a&&A(),S(0),e.consume(C);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),x(C)}function x(C){if(C===null){T(e.exit("chunkFlow"),!0),S(0),e.consume(C);return}return Ge(C)?(e.consume(C),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(C),x)}function T(C,R){const M=t.sliceStream(C);if(R&&M.push(null),C.previous=i,i&&(i.next=C),i=C,a.defineSkip(C.start),a.write(M),t.parser.lazy[C.start.line]){let P=a.events.length;for(;P--;)if(a.events[P][1].start.offset<s&&(!a.events[P][1].end||a.events[P][1].end.offset>s))return;const j=t.events.length;let K=j,ee,G;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){if(ee){G=t.events[K][1].end;break}ee=!0}for(S(r),P=j;P<t.events.length;)t.events[P][1].end={...G},P++;Ir(t.events,K+1,0,t.events.slice(j)),t.events.length=P}}function S(C){let R=n.length;for(;R-- >C;){const M=n[R];t.containerState=M[1],M[0].exit.call(t,e)}n.length=C}function A(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Zj(e,t,n){return ht(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bs(e){if(e===null||St(e)||Io(e))return 1;if(lm(e))return 2}function um(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Sg={name:"attention",resolveAll:Jj,tokenize:eG};function Jj(e,t){let n=-1,r,a,i,s,u,c,d,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};dS(f,-c),dS(h,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},e[r][1].end={...s.start},e[n][1].start={...u.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Gr(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Gr(d,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),d=Gr(d,um(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Gr(d,[["exit",i,t],["enter",u,t],["exit",u,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,d=Gr(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,Ir(e,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function eG(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Bs(r);let i;return s;function s(c){return i=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===i)return e.consume(c),u;const d=e.exit("attentionSequence"),m=Bs(c),f=!m||m===2&&a||n.includes(c),h=!a||a===2&&m||n.includes(r);return d._open=!!(i===42?f:f&&(a||!h)),d._close=!!(i===42?h:h&&(m||!f)),t(c)}}function dS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const tG={name:"autolink",tokenize:nG};function nG(e,t,n){let r=0;return a;function a(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(b){return Kn(b)?(e.consume(b),s):b===64?n(b):d(b)}function s(b){return b===43||b===45||b===46||Mn(b)?(r=1,u(b)):d(b)}function u(b){return b===58?(e.consume(b),r=0,c):(b===43||b===45||b===46||Mn(b))&&r++<32?(e.consume(b),u):(r=0,d(b))}function c(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||Tp(b)?n(b):(e.consume(b),c)}function d(b){return b===64?(e.consume(b),m):Vj(b)?(e.consume(b),d):n(b)}function m(b){return Mn(b)?f(b):n(b)}function f(b){return b===46?(e.consume(b),r=0,m):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):h(b)}function h(b){if((b===45||Mn(b))&&r++<63){const _=b===45?h:f;return e.consume(b),_}return n(b)}}const Zu={partial:!0,tokenize:rG};function rG(e,t,n){return r;function r(i){return gt(i)?ht(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Ge(i)?t(i):n(i)}}const YA={continuation:{tokenize:iG},exit:oG,name:"blockQuote",tokenize:aG};function aG(e,t,n){const r=this;return a;function a(s){if(s===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return gt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function iG(e,t,n){const r=this;return a;function a(s){return gt(s)?ht(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(YA,t,n)(s)}}function oG(e){e.exit("blockQuote")}const KA={name:"characterEscape",tokenize:sG};function sG(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Wj(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const XA={name:"characterReference",tokenize:lG};function lG(e,t,n){const r=this;let a=0,i,s;return u;function u(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,s=Mn,m(f))}function d(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=qj,m):(e.enter("characterReferenceValue"),i=7,s=Eg,m(f))}function m(f){if(f===59&&a){const h=e.exit("characterReferenceValue");return s===Mn&&!Mu(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&a++<i?(e.consume(f),m):n(f)}}const pS={partial:!0,tokenize:cG},mS={concrete:!0,name:"codeFenced",tokenize:uG};function uG(e,t,n){const r=this,a={partial:!0,tokenize:M};let i=0,s=0,u;return c;function c(P){return d(P)}function d(P){const j=r.events[r.events.length-1];return i=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,u=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===u?(s++,e.consume(P),m):s<3?n(P):(e.exit("codeFencedFenceSequence"),gt(P)?ht(e,f,"whitespace")(P):f(P))}function f(P){return P===null||Ge(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(pS,x,R)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(P))}function h(P){return P===null||Ge(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(P)):gt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ht(e,b,"whitespace")(P)):P===96&&P===u?n(P):(e.consume(P),h)}function b(P){return P===null||Ge(P)?f(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(P))}function _(P){return P===null||Ge(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(P)):P===96&&P===u?n(P):(e.consume(P),_)}function x(P){return e.attempt(a,R,T)(P)}function T(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),S}function S(P){return i>0&&gt(P)?ht(e,A,"linePrefix",i+1)(P):A(P)}function A(P){return P===null||Ge(P)?e.check(pS,x,R)(P):(e.enter("codeFlowValue"),C(P))}function C(P){return P===null||Ge(P)?(e.exit("codeFlowValue"),A(P)):(e.consume(P),C)}function R(P){return e.exit("codeFenced"),t(P)}function M(P,j,K){let ee=0;return G;function G(me){return P.enter("lineEnding"),P.consume(me),P.exit("lineEnding"),Q}function Q(me){return P.enter("codeFencedFence"),gt(me)?ht(P,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):re(me)}function re(me){return me===u?(P.enter("codeFencedFenceSequence"),ae(me)):K(me)}function ae(me){return me===u?(ee++,P.consume(me),ae):ee>=s?(P.exit("codeFencedFenceSequence"),gt(me)?ht(P,ne,"whitespace")(me):ne(me)):K(me)}function ne(me){return me===null||Ge(me)?(P.exit("codeFencedFence"),j(me)):K(me)}}}function cG(e,t,n){const r=this;return a;function a(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const qf={name:"codeIndented",tokenize:pG},dG={partial:!0,tokenize:mG};function pG(e,t,n){const r=this;return a;function a(d){return e.enter("codeIndented"),ht(e,i,"linePrefix",5)(d)}function i(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):Ge(d)?e.attempt(dG,s,c)(d):(e.enter("codeFlowValue"),u(d))}function u(d){return d===null||Ge(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),u)}function c(d){return e.exit("codeIndented"),t(d)}}function mG(e,t,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):Ge(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):ht(e,i,"linePrefix",5)(s)}function i(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(s):Ge(s)?a(s):n(s)}}const fG={name:"codeText",previous:gG,resolve:hG,tokenize:bG};function hG(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function gG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bG(e,t,n){let r=0,a,i;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),u(f)}function u(f){return f===96?(e.consume(f),r++,u):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(i=e.enter("codeTextSequence"),a=0,m(f)):Ge(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(f))}function d(f){return f===null||f===32||f===96||Ge(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),d)}function m(f){return f===96?(e.consume(f),a++,m):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",d(f))}}class vG{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&eu(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),eu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),eu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);eu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);eu(this.left,n.reverse())}}}function eu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function QA(e){const t={};let n=-1,r,a,i,s,u,c,d;const m=new vG(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,yG(m,n)),n=t[n],d=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(s=m.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(m.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(r[1].end={...m.get(a)[1].start},u=m.slice(a,n),u.unshift(r),m.splice(a,n-a+1,u))}}return Ir(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function yG(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,c=[],d={};let m,f,h=-1,b=n,_=0,x=0;const T=[x];for(;b;){for(;e.get(++a)[1]!==b;);i.push(a),b._tokenizer||(m=r.sliceStream(b),b.next||m.push(null),f&&s.defineSkip(b.start),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(m),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=b,b=b.next}for(b=n;++h<u.length;)u[h][0]==="exit"&&u[h-1][0]==="enter"&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(x=h+1,T.push(x),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(s.events=[],b?(b._tokenizer=void 0,b.previous=void 0):T.pop(),h=T.length;h--;){const S=u.slice(T[h],T[h+1]),A=i.pop();c.push([A,A+S.length-1]),e.splice(A,2,S)}for(c.reverse(),h=-1;++h<c.length;)d[_+c[h][0]]=_+c[h][1],_+=c[h][1]-c[h][0]-1;return d}const xG={resolve:wG,tokenize:$G},_G={partial:!0,tokenize:EG};function wG(e){return QA(e),e}function $G(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(u)}function a(u){return u===null?i(u):Ge(u)?e.check(_G,s,i)(u):(e.consume(u),a)}function i(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function s(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function EG(e,t,n){const r=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ht(e,i,"linePrefix")}function i(s){if(s===null||Ge(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function ZA(e,t,n,r,a,i,s,u,c){const d=c||Number.POSITIVE_INFINITY;let m=0;return f;function f(S){return S===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(S),e.exit(i),h):S===null||S===32||S===41||Tp(S)?n(S):(e.enter(r),e.enter(s),e.enter(u),e.enter("chunkString",{contentType:"string"}),x(S))}function h(S){return S===62?(e.enter(i),e.consume(S),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(e.exit("chunkString"),e.exit(u),h(S)):S===null||S===60||Ge(S)?n(S):(e.consume(S),S===92?_:b)}function _(S){return S===60||S===62||S===92?(e.consume(S),b):b(S)}function x(S){return!m&&(S===null||S===41||St(S))?(e.exit("chunkString"),e.exit(u),e.exit(s),e.exit(r),t(S)):m<d&&S===40?(e.consume(S),m++,x):S===41?(e.consume(S),m--,x):S===null||S===32||S===40||Tp(S)?n(S):(e.consume(S),S===92?T:x)}function T(S){return S===40||S===41||S===92?(e.consume(S),x):x(S)}}function JA(e,t,n,r,a,i){const s=this;let u=0,c;return d;function d(b){return e.enter(r),e.enter(a),e.consume(b),e.exit(a),e.enter(i),m}function m(b){return u>999||b===null||b===91||b===93&&!c||b===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(b):b===93?(e.exit(i),e.enter(a),e.consume(b),e.exit(a),e.exit(r),t):Ge(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===null||b===91||b===93||Ge(b)||u++>999?(e.exit("chunkString"),m(b)):(e.consume(b),c||(c=!gt(b)),b===92?h:f)}function h(b){return b===91||b===92||b===93?(e.consume(b),u++,f):f(b)}}function e5(e,t,n,r,a,i){let s;return u;function u(h){return h===34||h===39||h===40?(e.enter(r),e.enter(a),e.consume(h),e.exit(a),s=h===40?41:h,c):n(h)}function c(h){return h===s?(e.enter(a),e.consume(h),e.exit(a),e.exit(r),t):(e.enter(i),d(h))}function d(h){return h===s?(e.exit(i),c(s)):h===null?n(h):Ge(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ht(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(h))}function m(h){return h===s||h===null||Ge(h)?(e.exit("chunkString"),d(h)):(e.consume(h),h===92?f:m)}function f(h){return h===s||h===92?(e.consume(h),m):m(h)}}function hu(e,t){let n;return r;function r(a){return Ge(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):gt(a)?ht(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const SG={name:"definition",tokenize:kG},TG={partial:!0,tokenize:AG};function kG(e,t,n){const r=this;let a;return i;function i(b){return e.enter("definition"),s(b)}function s(b){return JA.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return a=ca(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),c):n(b)}function c(b){return St(b)?hu(e,d)(b):d(b)}function d(b){return ZA(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function m(b){return e.attempt(TG,f,f)(b)}function f(b){return gt(b)?ht(e,h,"whitespace")(b):h(b)}function h(b){return b===null||Ge(b)?(e.exit("definition"),r.parser.defined.push(a),t(b)):n(b)}}function AG(e,t,n){return r;function r(u){return St(u)?hu(e,a)(u):n(u)}function a(u){return e5(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function i(u){return gt(u)?ht(e,s,"whitespace")(u):s(u)}function s(u){return u===null||Ge(u)?t(u):n(u)}}const NG={name:"hardBreakEscape",tokenize:CG};function CG(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Ge(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const IG={name:"headingAtx",resolve:LG,tokenize:RG};function LG(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ir(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function RG(e,t,n){let r=0;return a;function a(m){return e.enter("atxHeading"),i(m)}function i(m){return e.enter("atxHeadingSequence"),s(m)}function s(m){return m===35&&r++<6?(e.consume(m),s):m===null||St(m)?(e.exit("atxHeadingSequence"),u(m)):n(m)}function u(m){return m===35?(e.enter("atxHeadingSequence"),c(m)):m===null||Ge(m)?(e.exit("atxHeading"),t(m)):gt(m)?ht(e,u,"whitespace")(m):(e.enter("atxHeadingText"),d(m))}function c(m){return m===35?(e.consume(m),c):(e.exit("atxHeadingSequence"),u(m))}function d(m){return m===null||m===35||St(m)?(e.exit("atxHeadingText"),u(m)):(e.consume(m),d)}}const DG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fS=["pre","script","style","textarea"],OG={concrete:!0,name:"htmlFlow",resolveTo:PG,tokenize:FG},UG={partial:!0,tokenize:zG},MG={partial:!0,tokenize:BG};function PG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function FG(e,t,n){const r=this;let a,i,s,u,c;return d;function d(B){return m(B)}function m(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),f}function f(B){return B===33?(e.consume(B),h):B===47?(e.consume(B),i=!0,x):B===63?(e.consume(B),a=3,r.interrupt?t:O):Kn(B)?(e.consume(B),s=String.fromCharCode(B),T):n(B)}function h(B){return B===45?(e.consume(B),a=2,b):B===91?(e.consume(B),a=5,u=0,_):Kn(B)?(e.consume(B),a=4,r.interrupt?t:O):n(B)}function b(B){return B===45?(e.consume(B),r.interrupt?t:O):n(B)}function _(B){const Re="CDATA[";return B===Re.charCodeAt(u++)?(e.consume(B),u===Re.length?r.interrupt?t:re:_):n(B)}function x(B){return Kn(B)?(e.consume(B),s=String.fromCharCode(B),T):n(B)}function T(B){if(B===null||B===47||B===62||St(B)){const Re=B===47,Pe=s.toLowerCase();return!Re&&!i&&fS.includes(Pe)?(a=1,r.interrupt?t(B):re(B)):DG.includes(s.toLowerCase())?(a=6,Re?(e.consume(B),S):r.interrupt?t(B):re(B)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):i?A(B):C(B))}return B===45||Mn(B)?(e.consume(B),s+=String.fromCharCode(B),T):n(B)}function S(B){return B===62?(e.consume(B),r.interrupt?t:re):n(B)}function A(B){return gt(B)?(e.consume(B),A):G(B)}function C(B){return B===47?(e.consume(B),G):B===58||B===95||Kn(B)?(e.consume(B),R):gt(B)?(e.consume(B),C):G(B)}function R(B){return B===45||B===46||B===58||B===95||Mn(B)?(e.consume(B),R):M(B)}function M(B){return B===61?(e.consume(B),P):gt(B)?(e.consume(B),M):C(B)}function P(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),c=B,j):gt(B)?(e.consume(B),P):K(B)}function j(B){return B===c?(e.consume(B),c=null,ee):B===null||Ge(B)?n(B):(e.consume(B),j)}function K(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||St(B)?M(B):(e.consume(B),K)}function ee(B){return B===47||B===62||gt(B)?C(B):n(B)}function G(B){return B===62?(e.consume(B),Q):n(B)}function Q(B){return B===null||Ge(B)?re(B):gt(B)?(e.consume(B),Q):n(B)}function re(B){return B===45&&a===2?(e.consume(B),be):B===60&&a===1?(e.consume(B),fe):B===62&&a===4?(e.consume(B),H):B===63&&a===3?(e.consume(B),O):B===93&&a===5?(e.consume(B),he):Ge(B)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(UG,ie,ae)(B)):B===null||Ge(B)?(e.exit("htmlFlowData"),ae(B)):(e.consume(B),re)}function ae(B){return e.check(MG,ne,ie)(B)}function ne(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),me}function me(B){return B===null||Ge(B)?ae(B):(e.enter("htmlFlowData"),re(B))}function be(B){return B===45?(e.consume(B),O):re(B)}function fe(B){return B===47?(e.consume(B),s="",J):re(B)}function J(B){if(B===62){const Re=s.toLowerCase();return fS.includes(Re)?(e.consume(B),H):re(B)}return Kn(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),J):re(B)}function he(B){return B===93?(e.consume(B),O):re(B)}function O(B){return B===62?(e.consume(B),H):B===45&&a===2?(e.consume(B),O):re(B)}function H(B){return B===null||Ge(B)?(e.exit("htmlFlowData"),ie(B)):(e.consume(B),H)}function ie(B){return e.exit("htmlFlow"),t(B)}}function BG(e,t,n){const r=this;return a;function a(s){return Ge(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function zG(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Zu,t,n)}}const jG={name:"htmlText",tokenize:GG};function GG(e,t,n){const r=this;let a,i,s;return u;function u(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),d):O===47?(e.consume(O),M):O===63?(e.consume(O),C):Kn(O)?(e.consume(O),K):n(O)}function d(O){return O===45?(e.consume(O),m):O===91?(e.consume(O),i=0,_):Kn(O)?(e.consume(O),A):n(O)}function m(O){return O===45?(e.consume(O),b):n(O)}function f(O){return O===null?n(O):O===45?(e.consume(O),h):Ge(O)?(s=f,fe(O)):(e.consume(O),f)}function h(O){return O===45?(e.consume(O),b):f(O)}function b(O){return O===62?be(O):O===45?h(O):f(O)}function _(O){const H="CDATA[";return O===H.charCodeAt(i++)?(e.consume(O),i===H.length?x:_):n(O)}function x(O){return O===null?n(O):O===93?(e.consume(O),T):Ge(O)?(s=x,fe(O)):(e.consume(O),x)}function T(O){return O===93?(e.consume(O),S):x(O)}function S(O){return O===62?be(O):O===93?(e.consume(O),S):x(O)}function A(O){return O===null||O===62?be(O):Ge(O)?(s=A,fe(O)):(e.consume(O),A)}function C(O){return O===null?n(O):O===63?(e.consume(O),R):Ge(O)?(s=C,fe(O)):(e.consume(O),C)}function R(O){return O===62?be(O):C(O)}function M(O){return Kn(O)?(e.consume(O),P):n(O)}function P(O){return O===45||Mn(O)?(e.consume(O),P):j(O)}function j(O){return Ge(O)?(s=j,fe(O)):gt(O)?(e.consume(O),j):be(O)}function K(O){return O===45||Mn(O)?(e.consume(O),K):O===47||O===62||St(O)?ee(O):n(O)}function ee(O){return O===47?(e.consume(O),be):O===58||O===95||Kn(O)?(e.consume(O),G):Ge(O)?(s=ee,fe(O)):gt(O)?(e.consume(O),ee):be(O)}function G(O){return O===45||O===46||O===58||O===95||Mn(O)?(e.consume(O),G):Q(O)}function Q(O){return O===61?(e.consume(O),re):Ge(O)?(s=Q,fe(O)):gt(O)?(e.consume(O),Q):ee(O)}function re(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),a=O,ae):Ge(O)?(s=re,fe(O)):gt(O)?(e.consume(O),re):(e.consume(O),ne)}function ae(O){return O===a?(e.consume(O),a=void 0,me):O===null?n(O):Ge(O)?(s=ae,fe(O)):(e.consume(O),ae)}function ne(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||St(O)?ee(O):(e.consume(O),ne)}function me(O){return O===47||O===62||St(O)?ee(O):n(O)}function be(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):n(O)}function fe(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),J}function J(O){return gt(O)?ht(e,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):he(O)}function he(O){return e.enter("htmlTextData"),s(O)}}const mb={name:"labelEnd",resolveAll:WG,resolveTo:YG,tokenize:KG},HG={tokenize:XG},VG={tokenize:QG},qG={tokenize:ZG};function WG(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ir(e,0,e.length,n),e}function YG(e,t){let n=e.length,r=0,a,i,s,u;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},m={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return u=[["enter",c,t],["enter",d,t]],u=Gr(u,e.slice(i+1,i+r+3)),u=Gr(u,[["enter",m,t]]),u=Gr(u,um(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),u=Gr(u,[["exit",m,t],e[s-2],e[s-1],["exit",d,t]]),u=Gr(u,e.slice(s+1)),u=Gr(u,[["exit",c,t]]),Ir(e,i,e.length,u),e}function KG(e,t,n){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return u;function u(h){return i?i._inactive?f(h):(s=r.parser.defined.includes(ca(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(HG,m,s?m:f)(h):h===91?e.attempt(VG,m,s?d:f)(h):s?m(h):f(h)}function d(h){return e.attempt(qG,m,f)(h)}function m(h){return t(h)}function f(h){return i._balanced=!0,n(h)}}function XG(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return St(f)?hu(e,i)(f):i(f)}function i(f){return f===41?m(f):ZA(e,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return St(f)?hu(e,c)(f):m(f)}function u(f){return n(f)}function c(f){return f===34||f===39||f===40?e5(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function d(f){return St(f)?hu(e,m)(f):m(f)}function m(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function QG(e,t,n){const r=this;return a;function a(u){return JA.call(r,e,i,s,"reference","referenceMarker","referenceString")(u)}function i(u){return r.parser.defined.includes(ca(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function s(u){return n(u)}}function ZG(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const JG={name:"labelStartImage",resolveAll:mb.resolveAll,tokenize:eH};function eH(e,t,n){const r=this;return a;function a(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),i}function i(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const tH={name:"labelStartLink",resolveAll:mb.resolveAll,tokenize:nH};function nH(e,t,n){const r=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Wf={name:"lineEnding",tokenize:rH};function rH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ht(e,t,"linePrefix")}}const op={name:"thematicBreak",tokenize:aH};function aH(e,t,n){let r=0,a;return i;function i(d){return e.enter("thematicBreak"),s(d)}function s(d){return a=d,u(d)}function u(d){return d===a?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||Ge(d))?(e.exit("thematicBreak"),t(d)):n(d)}function c(d){return d===a?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),gt(d)?ht(e,u,"whitespace")(d):u(d))}}const dr={continuation:{tokenize:lH},exit:cH,name:"list",tokenize:sH},iH={partial:!0,tokenize:dH},oH={partial:!0,tokenize:uH};function sH(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return u;function u(b){const _=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:Eg(b)){if(r.containerState.type||(r.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(op,n,d)(b):d(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(b)}return n(b)}function c(b){return Eg(b)&&++s<10?(e.consume(b),c):(!r.interrupt||s<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),d(b)):n(b)}function d(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Zu,r.interrupt?n:m,e.attempt(iH,h,f))}function m(b){return r.containerState.initialBlankLine=!0,i++,h(b)}function f(b){return gt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),h):n(b)}function h(b){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function lH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Zu,a,i);function a(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ht(e,t,"listItemIndent",r.containerState.size+1)(u)}function i(u){return r.containerState.furtherBlankLines||!gt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(oH,t,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,ht(e,e.attempt(dr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function uH(e,t,n){const r=this;return ht(e,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function cH(e){e.exit(this.containerState.type)}function dH(e,t,n){const r=this;return ht(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!gt(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const hS={name:"setextUnderline",resolveTo:pH,tokenize:mH};function pH(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function mH(e,t,n){const r=this;let a;return i;function i(d){let m=r.events.length,f;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){f=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=d,s(d)):n(d)}function s(d){return e.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===a?(e.consume(d),u):(e.exit("setextHeadingLineSequence"),gt(d)?ht(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Ge(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const fH={tokenize:hH};function hH(e){const t=this,n=e.attempt(Zu,r,e.attempt(this.parser.constructs.flowInitial,a,ht(e,e.attempt(this.parser.constructs.flow,a,e.attempt(xG,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gH={resolveAll:n5()},bH=t5("string"),vH=t5("text");function t5(e){return{resolveAll:n5(e==="text"?yH:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,s,u);return s;function s(m){return d(m)?i(m):u(m)}function u(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),c}function c(m){return d(m)?(n.exit("data"),i(m)):(n.consume(m),c)}function d(m){if(m===null)return!0;const f=a[m];let h=-1;if(f)for(;++h<f.length;){const b=f[h];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function n5(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function yH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,s=-1,u=0,c;for(;i--;){const d=a[i];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(d===-2)c=!0,u++;else if(d!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const d={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const xH={42:dr,43:dr,45:dr,48:dr,49:dr,50:dr,51:dr,52:dr,53:dr,54:dr,55:dr,56:dr,57:dr,62:YA},_H={91:SG},wH={[-2]:qf,[-1]:qf,32:qf},$H={35:IG,42:op,45:[hS,op],60:OG,61:hS,95:op,96:mS,126:mS},EH={38:XA,92:KA},SH={[-5]:Wf,[-4]:Wf,[-3]:Wf,33:JG,38:XA,42:Sg,60:[tG,jG],91:tH,92:[NG,KA],93:mb,95:Sg,96:fG},TH={null:[Sg,gH]},kH={null:[42,95]},AH={null:[]},NH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kH,contentInitial:_H,disable:AH,document:xH,flow:$H,flowInitial:wH,insideSpan:TH,string:EH,text:SH},Symbol.toStringTag,{value:"Module"}));function CH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let s=[],u=[];const c={attempt:j(M),check:j(P),consume:A,enter:C,exit:R,interrupt:j(P,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:_,parser:e,previous:null,sliceSerialize:h,sliceStream:b,write:f};let m=t.tokenize.call(d,c);return t.resolveAll&&i.push(t),d;function f(Q){return s=Gr(s,Q),T(),s[s.length-1]!==null?[]:(K(t,0),d.events=um(i,d.events,d),d.events)}function h(Q,re){return LH(b(Q),re)}function b(Q){return IH(s,Q)}function _(){const{_bufferIndex:Q,_index:re,line:ae,column:ne,offset:me}=r;return{_bufferIndex:Q,_index:re,line:ae,column:ne,offset:me}}function x(Q){a[Q.line]=Q.column,G()}function T(){let Q;for(;r._index<s.length;){const re=s[r._index];if(typeof re=="string")for(Q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Q&&r._bufferIndex<re.length;)S(re.charCodeAt(r._bufferIndex));else S(re)}}function S(Q){m=m(Q)}function A(Q){Ge(Q)?(r.line++,r.column=1,r.offset+=Q===-3?2:1,G()):Q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=Q}function C(Q,re){const ae=re||{};return ae.type=Q,ae.start=_(),d.events.push(["enter",ae,d]),u.push(ae),ae}function R(Q){const re=u.pop();return re.end=_(),d.events.push(["exit",re,d]),re}function M(Q,re){K(Q,re.from)}function P(Q,re){re.restore()}function j(Q,re){return ae;function ae(ne,me,be){let fe,J,he,O;return Array.isArray(ne)?ie(ne):"tokenize"in ne?ie([ne]):H(ne);function H(Le){return Ve;function Ve(Fe){const et=Fe!==null&&Le[Fe],dt=Fe!==null&&Le.null,Ot=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(dt)?dt:dt?[dt]:[]];return ie(Ot)(Fe)}}function ie(Le){return fe=Le,J=0,Le.length===0?be:B(Le[J])}function B(Le){return Ve;function Ve(Fe){return O=ee(),he=Le,Le.partial||(d.currentConstruct=Le),Le.name&&d.parser.constructs.disable.null.includes(Le.name)?Pe():Le.tokenize.call(re?Object.assign(Object.create(d),re):d,c,Re,Pe)(Fe)}}function Re(Le){return Q(he,O),me}function Pe(Le){return O.restore(),++J<fe.length?B(fe[J]):be}}}function K(Q,re){Q.resolveAll&&!i.includes(Q)&&i.push(Q),Q.resolve&&Ir(d.events,re,d.events.length-re,Q.resolve(d.events.slice(re),d)),Q.resolveTo&&(d.events=Q.resolveTo(d.events,d))}function ee(){const Q=_(),re=d.previous,ae=d.currentConstruct,ne=d.events.length,me=Array.from(u);return{from:ne,restore:be};function be(){r=Q,d.previous=re,d.currentConstruct=ae,d.events.length=ne,u=me,G()}}function G(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function IH(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let s;if(n===a)s=[e[n].slice(r,i)];else{if(s=e.slice(n,a),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function LH(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function RH(e){const r={constructs:qA([NH,...(e||{}).extensions||[]]),content:a(Yj),defined:[],document:a(Xj),flow:a(fH),lazy:{},string:a(bH),text:a(vH)};return r;function a(i){return s;function s(u){return CH(r,i,u)}}}function DH(e){for(;!QA(e););return e}const gS=/[\0\t\n\r]/g;function OH(){let e=1,t="",n=!0,r;return a;function a(i,s,u){const c=[];let d,m,f,h,b;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(gS.lastIndex=f,d=gS.exec(i),h=d&&d.index!==void 0?d.index:i.length,b=i.charCodeAt(h),!d){t=i.slice(f);break}if(b===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(i.slice(f,h)),e+=h-f),b){case 0:{c.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,c.push(-2);e++<m;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const UH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MH(e){return e.replace(UH,PH)}function PH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return WA(n.slice(i?2:1),i?16:10)}return Mu(n)||e}const r5={}.hasOwnProperty;function FH(e,t,n){return typeof t!="string"&&(n=t,t=void 0),BH(n)(DH(RH(n).document().write(OH()(e,t,!0))))}function BH(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(_t),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:i(er),blockQuote:i(dt),characterEscape:ee,characterReference:ee,codeFenced:i(Ot),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Ot,s),codeText:i(jn,s),codeTextData:ee,data:ee,codeFlowValue:ee,definition:i(qe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(Gn),hardBreakEscape:i(un),hardBreakTrailing:i(un),htmlFlow:i(tr,s),htmlFlowData:ee,htmlText:i(tr,s),htmlTextData:ee,image:i(gr),label:s,link:i(_t),listItem:i(Rr),listItemValue:h,listOrdered:i(vn,f),listUnordered:i(vn),paragraph:i(br),reference:B,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(er),strong:i(Zr),thematicBreak:i(ja)},exit:{atxHeading:c(),atxHeadingSequence:M,autolink:c(),autolinkEmail:et,autolinkProtocol:Fe,blockQuote:c(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:Le,characterReference:Ve,codeFenced:c(T),codeFencedFence:x,codeFencedFenceInfo:b,codeFencedFenceMeta:_,codeFlowValue:G,codeIndented:c(S),codeText:c(me),codeTextData:G,data:G,definition:c(),definitionDestinationString:R,definitionLabelString:A,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(re),hardBreakTrailing:c(re),htmlFlow:c(ae),htmlFlowData:G,htmlText:c(ne),htmlTextData:G,image:c(fe),label:he,labelText:J,lineEnding:Q,link:c(be),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Re,resourceDestinationString:O,resourceTitleString:H,resource:ie,setextHeading:c(K),setextHeadingLineSequence:j,setextHeadingText:P,strong:c(),thematicBreak:c()}};a5(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Ke={stack:[Te],tokenStack:[],config:t,enter:u,exit:d,buffer:s,resume:m,data:n},tt=[];let pt=-1;for(;++pt<ge.length;)if(ge[pt][1].type==="listOrdered"||ge[pt][1].type==="listUnordered")if(ge[pt][0]==="enter")tt.push(pt);else{const It=tt.pop();pt=a(ge,It,pt)}for(pt=-1;++pt<ge.length;){const It=t[ge[pt][0]];r5.call(It,ge[pt][1].type)&&It[ge[pt][1].type].call(Object.assign({sliceSerialize:ge[pt][2].sliceSerialize},Ke),ge[pt][1])}if(Ke.tokenStack.length>0){const It=Ke.tokenStack[Ke.tokenStack.length-1];(It[1]||bS).call(Ke,void 0,It[0])}for(Te.position={start:Di(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Di(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<t.transforms.length;)Te=t.transforms[pt](Te)||Te;return Te}function a(ge,Te,Ke){let tt=Te-1,pt=-1,It=!1,Hn,Sn,Dr,vr;for(;++tt<=Ke;){const Et=ge[tt];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?pt++:pt--,vr=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Hn&&!vr&&!pt&&!Dr&&(Dr=tt),vr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vr=void 0}if(!pt&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||pt===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Hn){let nr=tt;for(Sn=void 0;nr--;){const xe=ge[nr];if(xe[1].type==="lineEnding"||xe[1].type==="lineEndingBlank"){if(xe[0]==="exit")continue;Sn&&(ge[Sn][1].type="lineEndingBlank",It=!0),xe[1].type="lineEnding",Sn=nr}else if(!(xe[1].type==="linePrefix"||xe[1].type==="blockQuotePrefix"||xe[1].type==="blockQuotePrefixWhitespace"||xe[1].type==="blockQuoteMarker"||xe[1].type==="listItemIndent"))break}Dr&&(!Sn||Dr<Sn)&&(Hn._spread=!0),Hn.end=Object.assign({},Sn?ge[Sn][1].start:Et[1].end),ge.splice(Sn||tt,0,["exit",Hn,Et[2]]),tt++,Ke++}if(Et[1].type==="listItemPrefix"){const nr={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Hn=nr,ge.splice(tt,0,["enter",nr,Et[2]]),tt++,Ke++,Dr=void 0,vr=!0}}}return ge[Te][1]._spread=It,Ke}function i(ge,Te){return Ke;function Ke(tt){u.call(this,ge(tt),tt),Te&&Te.call(this,tt)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(ge,Te,Ke){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Ke||void 0]),ge.position={start:Di(Te.start),end:void 0}}function c(ge){return Te;function Te(Ke){ge&&ge.call(this,Ke),d.call(this,Ke)}}function d(ge,Te){const Ke=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==ge.type&&(Te?Te.call(this,ge,tt[0]):(tt[1]||bS).call(this,ge,tt[0]));else throw new Error("Cannot close `"+ge.type+"` ("+fu({start:ge.start,end:ge.end})+"): its not open");Ke.position.end=Di(ge.end)}function m(){return pb(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ge){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function _(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function A(ge){const Te=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Te,Ke.identifier=ca(this.sliceSerialize(ge)).toLowerCase()}function C(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function R(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function M(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ke=this.sliceSerialize(ge).length;Te.depth=Ke}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function j(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(ge){const Ke=this.stack[this.stack.length-1].children;let tt=Ke[Ke.length-1];(!tt||tt.type!=="text")&&(tt=za(),tt.position={start:Di(ge.start),end:void 0},Ke.push(tt)),this.stack.push(tt)}function G(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=Di(ge.end)}function Q(ge){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ke=Te.children[Te.children.length-1];Ke.position.end=Di(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(ee.call(this,ge),G.call(this,ge))}function re(){this.data.atHardBreak=!0}function ae(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function ne(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function me(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function be(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function fe(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function J(ge){const Te=this.sliceSerialize(ge),Ke=this.stack[this.stack.length-2];Ke.label=MH(Te),Ke.identifier=ca(Te).toLowerCase()}function he(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ke.type==="link"){const tt=ge.children;Ke.children=tt}else Ke.alt=Te}function O(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function H(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function ie(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Re(ge){const Te=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Te,Ke.identifier=ca(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function Pe(ge){this.data.characterReferenceType=ge.type}function Le(ge){const Te=this.sliceSerialize(ge),Ke=this.data.characterReferenceType;let tt;Ke?(tt=WA(Te,Ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=Mu(Te);const pt=this.stack[this.stack.length-1];pt.value+=tt}function Ve(ge){const Te=this.stack.pop();Te.position.end=Di(ge.end)}function Fe(ge){G.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function et(ge){G.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function dt(){return{type:"blockquote",children:[]}}function Ot(){return{type:"code",lang:null,meta:null,value:""}}function jn(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gn(){return{type:"emphasis",children:[]}}function er(){return{type:"heading",depth:0,children:[]}}function un(){return{type:"break"}}function tr(){return{type:"html",value:""}}function gr(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function vn(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Rr(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function br(){return{type:"paragraph",children:[]}}function Zr(){return{type:"strong",children:[]}}function za(){return{type:"text",value:""}}function ja(){return{type:"thematicBreak"}}}function Di(e){return{line:e.line,column:e.column,offset:e.offset}}function a5(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?a5(e,r):zH(e,r)}}function zH(e,t){let n;for(n in t)if(r5.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function bS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is still open")}function fb(e){const t=this;t.parser=n;function n(r){return FH(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function jH(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function GH(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function HH(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function VH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qH(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WH(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=el(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function YH(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KH(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function i5(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function XH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i5(e,t);const a={src:el(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function QH(e,t){const n={src:el(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ZH(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function JH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i5(e,t);const a={href:el(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function eV(e,t){const n={href:el(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tV(e,t,n){const r=e.all(t),a=n?nV(n):o5(t),i={},s=[];if(typeof t.checked=="boolean"){const m=r[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const m=r[u];(a||u!==0||m.type!=="element"||m.tagName!=="p")&&s.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!a?s.push(...m.children):s.push(m)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,d),e.applyData(t,d)}function nV(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=o5(n[r])}return t}function o5(e){const t=e.spread;return t??e.children.length>1}function rV(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function aV(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iV(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function oV(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sV(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),a.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Oa(t.children[1]),c=sm(t.children[t.children.length-1]);u&&c&&(s.position={start:u,end:c}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function lV(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:t.children.length;let c=-1;const d=[];for(;++c<u;){const f=t.children[c],h={},b=s?s[c]:void 0;b&&(h.align=b);let _={type:"element",tagName:i,properties:h,children:[]};f&&(_.children=e.all(f),e.patch(f,_),_=e.applyData(f,_)),d.push(_)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,m),e.applyData(t,m)}function uV(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const vS=9,yS=32;function cV(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(xS(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(xS(t.slice(a),a>0,!1)),i.join("")}function xS(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===vS||i===yS;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===vS||i===yS;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function dV(e,t){const n={type:"text",value:cV(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function pV(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const mV={blockquote:jH,break:GH,code:HH,delete:VH,emphasis:qH,footnoteReference:WH,heading:YH,html:KH,imageReference:XH,image:QH,inlineCode:ZH,linkReference:JH,link:eV,listItem:tV,list:rV,paragraph:aV,root:iV,strong:oV,table:sV,tableCell:uV,tableRow:lV,text:dV,thematicBreak:pV,toml:Ld,yaml:Ld,definition:Ld,footnoteDefinition:Ld};function Ld(){}const s5=-1,cm=0,gu=1,kp=2,hb=3,gb=4,bb=5,vb=6,l5=7,u5=8,_S=typeof self=="object"?self:globalThis,fV=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,s]=t[a];switch(i){case cm:case s5:return n(s,a);case gu:{const u=n([],a);for(const c of s)u.push(r(c));return u}case kp:{const u=n({},a);for(const[c,d]of s)u[r(c)]=r(d);return u}case hb:return n(new Date(s),a);case gb:{const{source:u,flags:c}=s;return n(new RegExp(u,c),a)}case bb:{const u=n(new Map,a);for(const[c,d]of s)u.set(r(c),r(d));return u}case vb:{const u=n(new Set,a);for(const c of s)u.add(r(c));return u}case l5:{const{name:u,message:c}=s;return n(new _S[u](c),a)}case u5:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new _S[i](s),a)};return r},wS=e=>fV(new Map,e)(0),ds="",{toString:hV}={},{keys:gV}=Object,tu=e=>{const t=typeof e;if(t!=="object"||!e)return[cm,t];const n=hV.call(e).slice(8,-1);switch(n){case"Array":return[gu,ds];case"Object":return[kp,ds];case"Date":return[hb,ds];case"RegExp":return[gb,ds];case"Map":return[bb,ds];case"Set":return[vb,ds];case"DataView":return[gu,n]}return n.includes("Array")?[gu,n]:n.includes("Error")?[l5,n]:[kp,n]},Rd=([e,t])=>e===cm&&(t==="function"||t==="symbol"),bV=(e,t,n,r)=>{const a=(s,u)=>{const c=r.push(s)-1;return n.set(u,c),c},i=s=>{if(n.has(s))return n.get(s);let[u,c]=tu(s);switch(u){case cm:{let m=s;switch(c){case"bigint":u=u5,m=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);m=null;break;case"undefined":return a([s5],s)}return a([u,m],s)}case gu:{if(c){let h=s;return c==="DataView"?h=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(s)),a([c,[...h]],s)}const m=[],f=a([u,m],s);for(const h of s)m.push(i(h));return f}case kp:{if(c)switch(c){case"BigInt":return a([c,s.toString()],s);case"Boolean":case"Number":case"String":return a([c,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const m=[],f=a([u,m],s);for(const h of gV(s))(e||!Rd(tu(s[h])))&&m.push([i(h),i(s[h])]);return f}case hb:return a([u,s.toISOString()],s);case gb:{const{source:m,flags:f}=s;return a([u,{source:m,flags:f}],s)}case bb:{const m=[],f=a([u,m],s);for(const[h,b]of s)(e||!(Rd(tu(h))||Rd(tu(b))))&&m.push([i(h),i(b)]);return f}case vb:{const m=[],f=a([u,m],s);for(const h of s)(e||!Rd(tu(h)))&&m.push(i(h));return f}}const{message:d}=s;return a([u,{name:c,message:d}],s)};return i},$S=(e,{json:t,lossy:n}={})=>{const r=[];return bV(!(t||n),!!t,new Map,r)(e),r},zs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?wS($S(e,t)):structuredClone(e):(e,t)=>wS($S(e,t));function vV(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yV(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function xV(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||vV,r=e.options.footnoteBackLabel||yV,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const m=e.all(d),f=String(d.identifier).toUpperCase(),h=el(f.toLowerCase());let b=0;const _=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++b<=x;){_.length>0&&_.push({type:"text",value:" "});let A=typeof n=="string"?n:n(c,b);typeof A=="string"&&(A={type:"text",value:A}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,b),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const T=m[m.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const A=T.children[T.children.length-1];A&&A.type==="text"?A.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(..._)}else m.push(..._);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(m,!0)};e.patch(d,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...zs(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Ju=(function(e){if(e==null)return EV;if(typeof e=="function")return dm(e);if(typeof e=="object")return Array.isArray(e)?_V(e):wV(e);if(typeof e=="string")return $V(e);throw new Error("Expected function, string, or object as test")});function _V(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ju(e[n]);return dm(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function wV(e){const t=e;return dm(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function $V(e){return dm(t);function t(n){return n&&n.type===e}}function dm(e){return t;function t(n,r,a){return!!(SV(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function EV(){return!0}function SV(e){return e!==null&&typeof e=="object"&&"type"in e}const c5=[],TV=!0,Tg=!1,d5="skip";function yb(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=Ju(a),s=r?-1:1;u(e,void 0,[])();function u(c,d,m){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const b=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(b?"<"+b+">":""))+")"})}return h;function h(){let b=c5,_,x,T;if((!t||i(c,d,m[m.length-1]||void 0))&&(b=kV(n(c,m)),b[0]===Tg))return b;if("children"in c&&c.children){const S=c;if(S.children&&b[0]!==d5)for(x=(r?S.children.length:-1)+s,T=m.concat(S);x>-1&&x<S.children.length;){const A=S.children[x];if(_=u(A,x,T)(),_[0]===Tg)return _;x=typeof _[1]=="number"?_[1]:x+s}}return b}}}function kV(e){return Array.isArray(e)?e:typeof e=="number"?[TV,e]:e==null?c5:[e]}function Oo(e,t,n,r){let a,i,s;typeof t=="function"&&typeof n!="function"?(i=void 0,s=t,a=n):(i=t,s=n,a=r),yb(e,i,u,a);function u(c,d){const m=d[d.length-1],f=m?m.children.indexOf(c):void 0;return s(c,f,m)}}const kg={}.hasOwnProperty,AV={};function NV(e,t){const n=t||AV,r=new Map,a=new Map,i=new Map,s={...mV,...n.handlers},u={all:d,applyData:IV,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:c,options:n,patch:CV,wrap:RV};return Oo(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?r:a,h=String(m.identifier).toUpperCase();f.has(h)||f.set(h,m)}}),u;function c(m,f){const h=m.type,b=u.handlers[h];if(kg.call(u.handlers,h)&&b)return b(u,m,f);if(u.options.passThrough&&u.options.passThrough.includes(h)){if("children"in m){const{children:x,...T}=m,S=zs(T);return S.children=u.all(m),S}return zs(m)}return(u.options.unknownHandler||LV)(u,m,f)}function d(m){const f=[];if("children"in m){const h=m.children;let b=-1;for(;++b<h.length;){const _=u.one(h[b],m);if(_){if(b&&h[b-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=ES(_.value)),!Array.isArray(_)&&_.type==="element")){const x=_.children[0];x&&x.type==="text"&&(x.value=ES(x.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function CV(e,t){e.position&&(t.position=xj(e))}function IV(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,zs(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function LV(e,t){const n=t.data||{},r="value"in t&&!(kg.call(n,"hProperties")||kg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RV(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ES(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function SS(e,t){const n=NV(e,t),r=n.one(e,void 0),a=xV(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function DV(e,t){return e&&"run"in e?async function(n,r){const a=SS(n,{file:r,...t});await e.run(a,r)}:function(n,r){return SS(n,{file:r,...e||t})}}function TS(e){if(e)throw e}var Yf,kS;function OV(){if(kS)return Yf;kS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},i=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var m=e.call(d,"constructor"),f=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!f)return!1;var h;for(h in d);return typeof h>"u"||e.call(d,h)},s=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},u=function(d,m){if(m==="__proto__")if(e.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return Yf=function c(){var d,m,f,h,b,_,x=arguments[0],T=1,S=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},T=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});T<S;++T)if(d=arguments[T],d!=null)for(m in d)f=u(x,m),h=u(d,m),x!==h&&(A&&h&&(i(h)||(b=a(h)))?(b?(b=!1,_=f&&a(f)?f:[]):_=f&&i(f)?f:{},s(x,{name:m,newValue:c(A,_,h)})):typeof h<"u"&&s(x,{name:m,newValue:h}));return x},Yf}var UV=OV();const Kf=Pp(UV);function Ag(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function MV(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...a);function u(c,...d){const m=e[++i];let f=-1;if(c){s(c);return}for(;++f<a.length;)(d[f]===null||d[f]===void 0)&&(d[f]=a[f]);a=d,m?PV(m,u)(...d):s(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function PV(e,t){let n;return r;function r(...s){const u=e.length>s.length;let c;u&&s.push(a);try{c=e.apply(this,s)}catch(d){const m=d;if(u&&n)throw m;return a(m)}u||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(s,...u){n||(n=!0,t(s,...u))}function i(s){a(null,s)}}const $a={basename:FV,dirname:BV,extname:zV,join:jV,sep:"/"};function FV(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ec(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,u=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else s<0&&(i=!0,s=a+1),u>-1&&(e.codePointAt(a)===t.codePointAt(u--)?u<0&&(r=a):(u=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function BV(e){if(ec(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function zV(e){ec(e);let t=e.length,n=-1,r=0,a=-1,i=0,s;for(;t--;){const u=e.codePointAt(t);if(u===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),u===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function jV(...e){let t=-1,n;for(;++t<e.length;)ec(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":GV(n)}function GV(e){ec(e);const t=e.codePointAt(0)===47;let n=HV(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function HV(e,t){let n="",r=0,a=-1,i=0,s=-1,u,c;for(;++s<=e.length;){if(s<e.length)u=e.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=s,i=0;continue}}else if(n.length>0){n="",r=0,a=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),r=s-a-1;a=s,i=0}else u===46&&i>-1?i++:i=-1}return n}function ec(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const VV={cwd:qV};function qV(){return"/"}function Ng(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WV(e){if(typeof e=="string")e=new URL(e);else if(!Ng(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YV(e)}function YV(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Xf=["history","path","basename","stem","extname","dirname"];class p5{constructor(t){let n;t?Ng(t)?n={path:t}:typeof t=="string"||KV(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":VV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xf.length;){const i=Xf[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Xf.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?$a.basename(this.path):void 0}set basename(t){Zf(t,"basename"),Qf(t,"basename"),this.path=$a.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?$a.dirname(this.path):void 0}set dirname(t){AS(this.basename,"dirname"),this.path=$a.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?$a.extname(this.path):void 0}set extname(t){if(Qf(t,"extname"),AS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$a.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ng(t)&&(t=WV(t)),Zf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?$a.basename(this.path,this.extname):void 0}set stem(t){Zf(t,"stem"),Qf(t,"stem"),this.path=$a.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Pn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Qf(e,t){if(e&&e.includes($a.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+$a.sep+"`")}function Zf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function KV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const XV=(function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),QV={}.hasOwnProperty;class xb extends XV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MV()}copy(){const t=new xb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Kf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(th("data",this.frozen),this.namespace[t]=n,this):QV.call(this.namespace,t)&&this.namespace[t]||void 0:t?(th("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Dd(t),r=this.parser||this.Parser;return Jf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Jf("process",this.parser||this.Parser),eh("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,s){const u=Dd(t),c=r.parse(u);r.run(c,u,function(m,f,h){if(m||!f||!h)return d(m);const b=f,_=r.stringify(b,h);JV(_)?h.value=_:h.result=_,d(m,h)});function d(m,f){m||!f?s(m):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Jf("processSync",this.parser||this.Parser),eh("processSync",this.compiler||this.Compiler),this.process(t,a),CS("processSync","process",n),r;function a(i,s){n=!0,TS(i),r=s}}run(t,n,r){NS(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,u){const c=Dd(n);a.run(t,c,d);function d(m,f,h){const b=f||t;m?u(m):s?s(b):r(void 0,b,h)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),CS("runSync","run",r),a;function i(s,u){TS(s),a=u,r=!0}}stringify(t,n){this.freeze();const r=Dd(n),a=this.compiler||this.Compiler;return eh("stringify",a),NS(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(th("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...f]=d;c(m,f)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(a.settings=Kf(!0,a.settings,d.settings))}function u(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const f=d[m];i(f)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,m){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===d){h=f;break}if(h===-1)r.push([d,...m]);else if(m.length>0){let[b,..._]=m;const x=r[h][1];Ag(x)&&Ag(b)&&(b=Kf(!0,x,b)),r[h]=[d,b,..._]}}}}const _b=new xb().freeze();function Jf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function eh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function th(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function NS(e){if(!Ag(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function CS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Dd(e){return ZV(e)?e:new p5(e)}function ZV(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function JV(e){return typeof e=="string"||eq(e)}function eq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",IS=[],LS={allowDangerousHtml:!0},nq=/^(https?|ircs?|mailto|xmpp)$/i,rq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function aq(e){const t=iq(e),n=oq(e);return sq(t.runSync(t.parse(n),n),e)}function iq(e){const t=e.rehypePlugins||IS,n=e.remarkPlugins||IS,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...LS}:LS;return _b().use(fb).use(n).use(DV,r).use(t)}function oq(e){const t=e.children||"",n=new p5;return typeof t=="string"&&(n.value=t),n}function sq(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,s=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||lq;for(const m of rq)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+tq+m.id,void 0);return Oo(e,d),Sj(e,{Fragment:$.Fragment,components:a,ignoreInvalidStyle:!0,jsx:$.jsx,jsxs:$.jsxs,passKeys:!0,passNode:!0});function d(m,f,h){if(m.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let b;for(b in Vf)if(Object.hasOwn(Vf,b)&&Object.hasOwn(m.properties,b)){const _=m.properties[b],x=Vf[b];(x===null||x.includes(m.tagName))&&(m.properties[b]=c(String(_||""),b,m))}}if(m.type==="element"){let b=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!b&&r&&typeof f=="number"&&(b=!r(m,f,h)),b&&h&&typeof f=="number")return u&&m.children?h.children.splice(f,1,...m.children):h.children.splice(f,1),f}}}function lq(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||nq.test(e.slice(0,t))?e:""}function m5(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>s&&(s=i):i=1,a=r+t.length,r=n.indexOf(t,a);return s}function uq(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:i},exit:{mathFlow:a,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:u,mathText:s,mathTextData:u}};function e(c){const d={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[d]}},c)}function t(){this.buffer()}function n(){const c=this.resume(),d=this.stack[this.stack.length-1];d.type,d.meta=c}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function a(c){const d=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),m=this.stack[this.stack.length-1];m.type,this.exit(c),m.value=d;const f=m.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:d}),this.data.mathFlowInside=void 0}function i(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function s(c){const d=this.resume(),m=this.stack[this.stack.length-1];m.type,this.exit(c),m.value=d,m.data.hChildren.push({type:"text",value:d})}function u(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function cq(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=a,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(i,s,u,c){const d=i.value||"",m=u.createTracker(c),f="$".repeat(Math.max(m5(d,"$")+1,2)),h=u.enter("mathFlow");let b=m.move(f);if(i.meta){const _=u.enter("mathFlowMeta");b+=m.move(u.safe(i.meta,{after:`
`,before:b,encode:["$"],...m.current()})),_()}return b+=m.move(`
`),d&&(b+=m.move(d+`
`)),b+=m.move(f),h(),b}function r(i,s,u){let c=i.value||"",d=1;for(t||d++;new RegExp("(^|[^$])"+"\\$".repeat(d)+"([^$]|$)").test(c);)d++;const m="$".repeat(d);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let f=-1;for(;++f<u.unsafe.length;){const h=u.unsafe[f];if(!h.atBreak)continue;const b=u.compilePattern(h);let _;for(;_=b.exec(c);){let x=_.index;c.codePointAt(x)===10&&c.codePointAt(x-1)===13&&x--,c=c.slice(0,x)+" "+c.slice(_.index+1)}}return m+c+m}function a(){return"$"}}const dq={tokenize:pq,concrete:!0,name:"mathFlow"},RS={tokenize:mq,partial:!0};function pq(e,t,n){const r=this,a=r.events[r.events.length-1],i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let s=0;return u;function u(A){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),c(A)}function c(A){return A===36?(e.consume(A),s++,c):s<2?n(A):(e.exit("mathFlowFenceSequence"),ht(e,d,"whitespace")(A))}function d(A){return A===null||Ge(A)?f(A):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||Ge(A)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(A)):A===36?n(A):(e.consume(A),m)}function f(A){return e.exit("mathFlowFence"),r.interrupt?t(A):e.attempt(RS,h,T)(A)}function h(A){return e.attempt({tokenize:S,partial:!0},T,b)(A)}function b(A){return(i?ht(e,_,"linePrefix",i+1):_)(A)}function _(A){return A===null?T(A):Ge(A)?e.attempt(RS,h,T)(A):(e.enter("mathFlowValue"),x(A))}function x(A){return A===null||Ge(A)?(e.exit("mathFlowValue"),_(A)):(e.consume(A),x)}function T(A){return e.exit("mathFlow"),t(A)}function S(A,C,R){let M=0;return ht(A,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function P(ee){return A.enter("mathFlowFence"),A.enter("mathFlowFenceSequence"),j(ee)}function j(ee){return ee===36?(M++,A.consume(ee),j):M<s?R(ee):(A.exit("mathFlowFenceSequence"),ht(A,K,"whitespace")(ee))}function K(ee){return ee===null||Ge(ee)?(A.exit("mathFlowFence"),C(ee)):R(ee)}}}function mq(e,t,n){const r=this;return a;function a(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function fq(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:hq,previous:gq,name:"mathText"};function r(a,i,s){let u=0,c,d;return m;function m(x){return a.enter("mathText"),a.enter("mathTextSequence"),f(x)}function f(x){return x===36?(a.consume(x),u++,f):u<2&&!n?s(x):(a.exit("mathTextSequence"),h(x))}function h(x){return x===null?s(x):x===36?(d=a.enter("mathTextSequence"),c=0,_(x)):x===32?(a.enter("space"),a.consume(x),a.exit("space"),h):Ge(x)?(a.enter("lineEnding"),a.consume(x),a.exit("lineEnding"),h):(a.enter("mathTextData"),b(x))}function b(x){return x===null||x===32||x===36||Ge(x)?(a.exit("mathTextData"),h(x)):(a.consume(x),b)}function _(x){return x===36?(a.consume(x),c++,_):c===u?(a.exit("mathTextSequence"),a.exit("mathText"),i(x)):(d.type="mathTextData",b(x))}}}function hq(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="mathTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function gq(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function bq(e){return{flow:{36:dq},text:{36:fq(e)}}}class kr{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new kr(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}let La=class f5{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new f5(n,kr.range(this,t))}};class ke{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,a,i,s=n&&n.loc;if(s&&s.start<=s.end){var u=s.lexer.input;a=s.start,i=s.end,a===u.length?r+=" at end of input: ":r+=" at position "+(a+1)+": ";var c=u.slice(a,i).replace(/[^]/g,"$&"),d;a>15?d=""+u.slice(a-15,a):d=u.slice(0,a);var m;i+15<u.length?m=u.slice(i,i+15)+"":m=u.slice(i),r+=d+c+m}var f=new Error(r);return f.name="ParseError",f.__proto__=ke.prototype,f.position=a,a!=null&&i!=null&&(f.length=i-a),f.rawMessage=t,f}}ke.prototype.__proto__=Error.prototype;var vq=function(t,n){return t.indexOf(n)!==-1},yq=function(t,n){return t===void 0?n:t},xq=/([A-Z])/g,_q=function(t){return t.replace(xq,"-$1").toLowerCase()},wq={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$q=/[&><"']/g;function Eq(e){return String(e).replace($q,t=>wq[t])}var h5=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},Sq=function(t){var n=h5(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Tq=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},kq=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ye={contains:vq,deflt:yq,escape:Eq,hyphenate:_q,getBaseElem:h5,isCharacterBox:Sq,protocolFromUrl:kq},sp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function Aq(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class wb{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in sp)if(sp.hasOwnProperty(n)){var r=sp[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:Aq(r)}}reportNonstrict(t,n,r){var a=this.strict;if(typeof a=="function"&&(a=a(t,n,r)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ke("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var a=this.strict;if(typeof a=="function")try{a=a(t,n,r)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Ye.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}let Oi=class{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Ea[Nq[this.id]]}sub(){return Ea[Cq[this.id]]}fracNum(){return Ea[Iq[this.id]]}fracDen(){return Ea[Lq[this.id]]}cramp(){return Ea[Rq[this.id]]}text(){return Ea[Dq[this.id]]}isTight(){return this.size>=2}};var $b=0,Ap=1,Is=2,ni=3,Pu=4,qr=5,js=6,Qn=7,Ea=[new Oi($b,0,!1),new Oi(Ap,0,!0),new Oi(Is,1,!1),new Oi(ni,1,!0),new Oi(Pu,2,!1),new Oi(qr,2,!0),new Oi(js,3,!1),new Oi(Qn,3,!0)],Nq=[Pu,qr,Pu,qr,js,Qn,js,Qn],Cq=[qr,qr,qr,qr,Qn,Qn,Qn,Qn],Iq=[Is,ni,Pu,qr,js,Qn,js,Qn],Lq=[ni,ni,qr,qr,Qn,Qn,Qn,Qn],Rq=[Ap,Ap,ni,ni,qr,qr,Qn,Qn],Dq=[$b,Ap,Is,ni,Is,ni,Is,ni],Je={DISPLAY:Ea[$b],TEXT:Ea[Is],SCRIPT:Ea[Pu],SCRIPTSCRIPT:Ea[js]},Cg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Oq(e){for(var t=0;t<Cg.length;t++)for(var n=Cg[t],r=0;r<n.blocks.length;r++){var a=n.blocks[r];if(e>=a[0]&&e<=a[1])return n.name}return null}var lp=[];Cg.forEach(e=>e.blocks.forEach(t=>lp.push(...t)));function g5(e){for(var t=0;t<lp.length;t+=2)if(e>=lp[t]&&e<=lp[t+1])return!0;return!1}var ps=80,Uq=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Mq=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Pq=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Fq=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},Bq=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},zq=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},jq=function(t,n,r){var a=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},Gq=function(t,n,r){n=1e3*n;var a="";switch(t){case"sqrtMain":a=Uq(n,ps);break;case"sqrtSize1":a=Mq(n,ps);break;case"sqrtSize2":a=Pq(n,ps);break;case"sqrtSize3":a=Fq(n,ps);break;case"sqrtSize4":a=Bq(n,ps);break;case"sqrtTall":a=jq(n,ps,r)}return a},Hq=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},DS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Vq=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class tc{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Ye.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var ka={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Od={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},OS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function qq(e,t){ka[e]=t}function Eb(e,t,n){if(!ka[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),a=ka[t][r];if(!a&&e[0]in OS&&(r=OS[e[0]].charCodeAt(0),a=ka[t][r]),!a&&n==="text"&&g5(r)&&(a=ka[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var nh={};function Wq(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!nh[t]){var n=nh[t]={cssEmPerMu:Od.quad[t]/18};for(var r in Od)Od.hasOwnProperty(r)&&(n[r]=Od[r][t])}return nh[t]}var Yq=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],US=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],MS=function(t,n){return n.size<2?t:Yq[t-1][n.size-1]};class Ja{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ja.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=US[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Ja(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:MS(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:US[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=MS(Ja.BASESIZE,t);return this.size===n&&this.textSize===Ja.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ja.BASESIZE?["sizing","reset-size"+this.size,"size"+Ja.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Wq(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ja.BASESIZE=6;var Ig={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Kq={ex:!0,em:!0,mu:!0},b5=function(t){return typeof t!="string"&&(t=t.unit),t in Ig||t in Kq||t==="ex"},Vt=function(t,n){var r;if(t.unit in Ig)r=Ig[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var a;if(n.style.isTight()?a=n.havingStyle(n.style.text()):a=n,t.unit==="ex")r=a.fontMetrics().xHeight;else if(t.unit==="em")r=a.fontMetrics().quad;else throw new ke("Invalid unit: '"+t.unit+"'");a!==n&&(r*=a.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Ie=function(t){return+t.toFixed(4)+"em"},Zi=function(t){return t.filter(n=>n).join(" ")},v5=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var a=n.getColor();a&&(this.style.color=a)}},y5=function(t){var n=document.createElement(t);n.className=Zi(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&n.setAttribute(a,this.attributes[a]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n},Xq=/[\s"'>/=\x00-\x1f]/,x5=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Ye.escape(Zi(this.classes))+'"');var r="";for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=Ye.hyphenate(a)+":"+this.style[a]+";");r&&(n+=' style="'+Ye.escape(r)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(Xq.test(i))throw new ke("Invalid attribute name '"+i+"'");n+=" "+i+'="'+Ye.escape(this.attributes[i])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class nc{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,v5.call(this,t,r,a),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Ye.contains(this.classes,t)}toNode(){return y5.call(this,"span")}toMarkup(){return x5.call(this,"span")}}class Sb{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,v5.call(this,n,a),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Ye.contains(this.classes,t)}toNode(){return y5.call(this,"a")}toMarkup(){return x5.call(this,"a")}}class Qq{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return Ye.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Ye.escape(this.src)+'"'+(' alt="'+Ye.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ye.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Ye.escape(n)+'"'),t+="'/>",t}}var Zq={:"",:"",:"",:""};class Kr{constructor(t,n,r,a,i,s,u,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=a||0,this.skew=i||0,this.width=s||0,this.classes=u||[],this.style=c||{},this.maxFontSize=0;var d=Oq(this.text.charCodeAt(0));d&&this.classes.push(d+"_fallback"),/[]/.test(this.text)&&(this.text=Zq[this.text])}hasClass(t){return Ye.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Ie(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Zi(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Ye.escape(Zi(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=Ye.hyphenate(a)+":"+this.style[a]+";");r&&(t=!0,n+=' style="'+Ye.escape(r)+'"');var i=Ye.escape(this.text);return t?(n+=">",n+=i,n+="</span>",n):i}}class li{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ye.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class Ji{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",DS[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ye.escape(this.alternate)+'"/>':'<path d="'+Ye.escape(DS[this.pathName])+'"/>'}}class Lg{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ye.escape(this.attributes[n])+'"');return t+="/>",t}}function PS(e){if(e instanceof Kr)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Jq(e){if(e instanceof nc)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var eW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},tW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ct={math:{},text:{}};function w(e,t,n,r,a,i){Ct[e][a]={font:t,group:n,replace:r},i&&r&&(Ct[e][r]=Ct[e][a])}var k="math",ye="text",I="main",q="ams",Bt="accent-token",Ue="bin",Jn="close",tl="inner",Ze="mathord",ln="op-token",Lr="open",pm="punct",W="rel",di="spacing",Z="textord";w(k,I,W,"","\\equiv",!0);w(k,I,W,"","\\prec",!0);w(k,I,W,"","\\succ",!0);w(k,I,W,"","\\sim",!0);w(k,I,W,"","\\perp");w(k,I,W,"","\\preceq",!0);w(k,I,W,"","\\succeq",!0);w(k,I,W,"","\\simeq",!0);w(k,I,W,"","\\mid",!0);w(k,I,W,"","\\ll",!0);w(k,I,W,"","\\gg",!0);w(k,I,W,"","\\asymp",!0);w(k,I,W,"","\\parallel");w(k,I,W,"","\\bowtie",!0);w(k,I,W,"","\\smile",!0);w(k,I,W,"","\\sqsubseteq",!0);w(k,I,W,"","\\sqsupseteq",!0);w(k,I,W,"","\\doteq",!0);w(k,I,W,"","\\frown",!0);w(k,I,W,"","\\ni",!0);w(k,I,W,"","\\propto",!0);w(k,I,W,"","\\vdash",!0);w(k,I,W,"","\\dashv",!0);w(k,I,W,"","\\owns");w(k,I,pm,".","\\ldotp");w(k,I,pm,"","\\cdotp");w(k,I,Z,"#","\\#");w(ye,I,Z,"#","\\#");w(k,I,Z,"&","\\&");w(ye,I,Z,"&","\\&");w(k,I,Z,"","\\aleph",!0);w(k,I,Z,"","\\forall",!0);w(k,I,Z,"","\\hbar",!0);w(k,I,Z,"","\\exists",!0);w(k,I,Z,"","\\nabla",!0);w(k,I,Z,"","\\flat",!0);w(k,I,Z,"","\\ell",!0);w(k,I,Z,"","\\natural",!0);w(k,I,Z,"","\\clubsuit",!0);w(k,I,Z,"","\\wp",!0);w(k,I,Z,"","\\sharp",!0);w(k,I,Z,"","\\diamondsuit",!0);w(k,I,Z,"","\\Re",!0);w(k,I,Z,"","\\heartsuit",!0);w(k,I,Z,"","\\Im",!0);w(k,I,Z,"","\\spadesuit",!0);w(k,I,Z,"","\\S",!0);w(ye,I,Z,"","\\S");w(k,I,Z,"","\\P",!0);w(ye,I,Z,"","\\P");w(k,I,Z,"","\\dag");w(ye,I,Z,"","\\dag");w(ye,I,Z,"","\\textdagger");w(k,I,Z,"","\\ddag");w(ye,I,Z,"","\\ddag");w(ye,I,Z,"","\\textdaggerdbl");w(k,I,Jn,"","\\rmoustache",!0);w(k,I,Lr,"","\\lmoustache",!0);w(k,I,Jn,"","\\rgroup",!0);w(k,I,Lr,"","\\lgroup",!0);w(k,I,Ue,"","\\mp",!0);w(k,I,Ue,"","\\ominus",!0);w(k,I,Ue,"","\\uplus",!0);w(k,I,Ue,"","\\sqcap",!0);w(k,I,Ue,"","\\ast");w(k,I,Ue,"","\\sqcup",!0);w(k,I,Ue,"","\\bigcirc",!0);w(k,I,Ue,"","\\bullet",!0);w(k,I,Ue,"","\\ddagger");w(k,I,Ue,"","\\wr",!0);w(k,I,Ue,"","\\amalg");w(k,I,Ue,"&","\\And");w(k,I,W,"","\\longleftarrow",!0);w(k,I,W,"","\\Leftarrow",!0);w(k,I,W,"","\\Longleftarrow",!0);w(k,I,W,"","\\longrightarrow",!0);w(k,I,W,"","\\Rightarrow",!0);w(k,I,W,"","\\Longrightarrow",!0);w(k,I,W,"","\\leftrightarrow",!0);w(k,I,W,"","\\longleftrightarrow",!0);w(k,I,W,"","\\Leftrightarrow",!0);w(k,I,W,"","\\Longleftrightarrow",!0);w(k,I,W,"","\\mapsto",!0);w(k,I,W,"","\\longmapsto",!0);w(k,I,W,"","\\nearrow",!0);w(k,I,W,"","\\hookleftarrow",!0);w(k,I,W,"","\\hookrightarrow",!0);w(k,I,W,"","\\searrow",!0);w(k,I,W,"","\\leftharpoonup",!0);w(k,I,W,"","\\rightharpoonup",!0);w(k,I,W,"","\\swarrow",!0);w(k,I,W,"","\\leftharpoondown",!0);w(k,I,W,"","\\rightharpoondown",!0);w(k,I,W,"","\\nwarrow",!0);w(k,I,W,"","\\rightleftharpoons",!0);w(k,q,W,"","\\nless",!0);w(k,q,W,"","\\@nleqslant");w(k,q,W,"","\\@nleqq");w(k,q,W,"","\\lneq",!0);w(k,q,W,"","\\lneqq",!0);w(k,q,W,"","\\@lvertneqq");w(k,q,W,"","\\lnsim",!0);w(k,q,W,"","\\lnapprox",!0);w(k,q,W,"","\\nprec",!0);w(k,q,W,"","\\npreceq",!0);w(k,q,W,"","\\precnsim",!0);w(k,q,W,"","\\precnapprox",!0);w(k,q,W,"","\\nsim",!0);w(k,q,W,"","\\@nshortmid");w(k,q,W,"","\\nmid",!0);w(k,q,W,"","\\nvdash",!0);w(k,q,W,"","\\nvDash",!0);w(k,q,W,"","\\ntriangleleft");w(k,q,W,"","\\ntrianglelefteq",!0);w(k,q,W,"","\\subsetneq",!0);w(k,q,W,"","\\@varsubsetneq");w(k,q,W,"","\\subsetneqq",!0);w(k,q,W,"","\\@varsubsetneqq");w(k,q,W,"","\\ngtr",!0);w(k,q,W,"","\\@ngeqslant");w(k,q,W,"","\\@ngeqq");w(k,q,W,"","\\gneq",!0);w(k,q,W,"","\\gneqq",!0);w(k,q,W,"","\\@gvertneqq");w(k,q,W,"","\\gnsim",!0);w(k,q,W,"","\\gnapprox",!0);w(k,q,W,"","\\nsucc",!0);w(k,q,W,"","\\nsucceq",!0);w(k,q,W,"","\\succnsim",!0);w(k,q,W,"","\\succnapprox",!0);w(k,q,W,"","\\ncong",!0);w(k,q,W,"","\\@nshortparallel");w(k,q,W,"","\\nparallel",!0);w(k,q,W,"","\\nVDash",!0);w(k,q,W,"","\\ntriangleright");w(k,q,W,"","\\ntrianglerighteq",!0);w(k,q,W,"","\\@nsupseteqq");w(k,q,W,"","\\supsetneq",!0);w(k,q,W,"","\\@varsupsetneq");w(k,q,W,"","\\supsetneqq",!0);w(k,q,W,"","\\@varsupsetneqq");w(k,q,W,"","\\nVdash",!0);w(k,q,W,"","\\precneqq",!0);w(k,q,W,"","\\succneqq",!0);w(k,q,W,"","\\@nsubseteqq");w(k,q,Ue,"","\\unlhd");w(k,q,Ue,"","\\unrhd");w(k,q,W,"","\\nleftarrow",!0);w(k,q,W,"","\\nrightarrow",!0);w(k,q,W,"","\\nLeftarrow",!0);w(k,q,W,"","\\nRightarrow",!0);w(k,q,W,"","\\nleftrightarrow",!0);w(k,q,W,"","\\nLeftrightarrow",!0);w(k,q,W,"","\\vartriangle");w(k,q,Z,"","\\hslash");w(k,q,Z,"","\\triangledown");w(k,q,Z,"","\\lozenge");w(k,q,Z,"","\\circledS");w(k,q,Z,"","\\circledR");w(ye,q,Z,"","\\circledR");w(k,q,Z,"","\\measuredangle",!0);w(k,q,Z,"","\\nexists");w(k,q,Z,"","\\mho");w(k,q,Z,"","\\Finv",!0);w(k,q,Z,"","\\Game",!0);w(k,q,Z,"","\\backprime");w(k,q,Z,"","\\blacktriangle");w(k,q,Z,"","\\blacktriangledown");w(k,q,Z,"","\\blacksquare");w(k,q,Z,"","\\blacklozenge");w(k,q,Z,"","\\bigstar");w(k,q,Z,"","\\sphericalangle",!0);w(k,q,Z,"","\\complement",!0);w(k,q,Z,"","\\eth",!0);w(ye,I,Z,"","");w(k,q,Z,"","\\diagup");w(k,q,Z,"","\\diagdown");w(k,q,Z,"","\\square");w(k,q,Z,"","\\Box");w(k,q,Z,"","\\Diamond");w(k,q,Z,"","\\yen",!0);w(ye,q,Z,"","\\yen",!0);w(k,q,Z,"","\\checkmark",!0);w(ye,q,Z,"","\\checkmark");w(k,q,Z,"","\\beth",!0);w(k,q,Z,"","\\daleth",!0);w(k,q,Z,"","\\gimel",!0);w(k,q,Z,"","\\digamma",!0);w(k,q,Z,"","\\varkappa");w(k,q,Lr,"","\\@ulcorner",!0);w(k,q,Jn,"","\\@urcorner",!0);w(k,q,Lr,"","\\@llcorner",!0);w(k,q,Jn,"","\\@lrcorner",!0);w(k,q,W,"","\\leqq",!0);w(k,q,W,"","\\leqslant",!0);w(k,q,W,"","\\eqslantless",!0);w(k,q,W,"","\\lesssim",!0);w(k,q,W,"","\\lessapprox",!0);w(k,q,W,"","\\approxeq",!0);w(k,q,Ue,"","\\lessdot");w(k,q,W,"","\\lll",!0);w(k,q,W,"","\\lessgtr",!0);w(k,q,W,"","\\lesseqgtr",!0);w(k,q,W,"","\\lesseqqgtr",!0);w(k,q,W,"","\\doteqdot");w(k,q,W,"","\\risingdotseq",!0);w(k,q,W,"","\\fallingdotseq",!0);w(k,q,W,"","\\backsim",!0);w(k,q,W,"","\\backsimeq",!0);w(k,q,W,"","\\subseteqq",!0);w(k,q,W,"","\\Subset",!0);w(k,q,W,"","\\sqsubset",!0);w(k,q,W,"","\\preccurlyeq",!0);w(k,q,W,"","\\curlyeqprec",!0);w(k,q,W,"","\\precsim",!0);w(k,q,W,"","\\precapprox",!0);w(k,q,W,"","\\vartriangleleft");w(k,q,W,"","\\trianglelefteq");w(k,q,W,"","\\vDash",!0);w(k,q,W,"","\\Vvdash",!0);w(k,q,W,"","\\smallsmile");w(k,q,W,"","\\smallfrown");w(k,q,W,"","\\bumpeq",!0);w(k,q,W,"","\\Bumpeq",!0);w(k,q,W,"","\\geqq",!0);w(k,q,W,"","\\geqslant",!0);w(k,q,W,"","\\eqslantgtr",!0);w(k,q,W,"","\\gtrsim",!0);w(k,q,W,"","\\gtrapprox",!0);w(k,q,Ue,"","\\gtrdot");w(k,q,W,"","\\ggg",!0);w(k,q,W,"","\\gtrless",!0);w(k,q,W,"","\\gtreqless",!0);w(k,q,W,"","\\gtreqqless",!0);w(k,q,W,"","\\eqcirc",!0);w(k,q,W,"","\\circeq",!0);w(k,q,W,"","\\triangleq",!0);w(k,q,W,"","\\thicksim");w(k,q,W,"","\\thickapprox");w(k,q,W,"","\\supseteqq",!0);w(k,q,W,"","\\Supset",!0);w(k,q,W,"","\\sqsupset",!0);w(k,q,W,"","\\succcurlyeq",!0);w(k,q,W,"","\\curlyeqsucc",!0);w(k,q,W,"","\\succsim",!0);w(k,q,W,"","\\succapprox",!0);w(k,q,W,"","\\vartriangleright");w(k,q,W,"","\\trianglerighteq");w(k,q,W,"","\\Vdash",!0);w(k,q,W,"","\\shortmid");w(k,q,W,"","\\shortparallel");w(k,q,W,"","\\between",!0);w(k,q,W,"","\\pitchfork",!0);w(k,q,W,"","\\varpropto");w(k,q,W,"","\\blacktriangleleft");w(k,q,W,"","\\therefore",!0);w(k,q,W,"","\\backepsilon");w(k,q,W,"","\\blacktriangleright");w(k,q,W,"","\\because",!0);w(k,q,W,"","\\llless");w(k,q,W,"","\\gggtr");w(k,q,Ue,"","\\lhd");w(k,q,Ue,"","\\rhd");w(k,q,W,"","\\eqsim",!0);w(k,I,W,"","\\Join");w(k,q,W,"","\\Doteq",!0);w(k,q,Ue,"","\\dotplus",!0);w(k,q,Ue,"","\\smallsetminus");w(k,q,Ue,"","\\Cap",!0);w(k,q,Ue,"","\\Cup",!0);w(k,q,Ue,"","\\doublebarwedge",!0);w(k,q,Ue,"","\\boxminus",!0);w(k,q,Ue,"","\\boxplus",!0);w(k,q,Ue,"","\\divideontimes",!0);w(k,q,Ue,"","\\ltimes",!0);w(k,q,Ue,"","\\rtimes",!0);w(k,q,Ue,"","\\leftthreetimes",!0);w(k,q,Ue,"","\\rightthreetimes",!0);w(k,q,Ue,"","\\curlywedge",!0);w(k,q,Ue,"","\\curlyvee",!0);w(k,q,Ue,"","\\circleddash",!0);w(k,q,Ue,"","\\circledast",!0);w(k,q,Ue,"","\\centerdot");w(k,q,Ue,"","\\intercal",!0);w(k,q,Ue,"","\\doublecap");w(k,q,Ue,"","\\doublecup");w(k,q,Ue,"","\\boxtimes",!0);w(k,q,W,"","\\dashrightarrow",!0);w(k,q,W,"","\\dashleftarrow",!0);w(k,q,W,"","\\leftleftarrows",!0);w(k,q,W,"","\\leftrightarrows",!0);w(k,q,W,"","\\Lleftarrow",!0);w(k,q,W,"","\\twoheadleftarrow",!0);w(k,q,W,"","\\leftarrowtail",!0);w(k,q,W,"","\\looparrowleft",!0);w(k,q,W,"","\\leftrightharpoons",!0);w(k,q,W,"","\\curvearrowleft",!0);w(k,q,W,"","\\circlearrowleft",!0);w(k,q,W,"","\\Lsh",!0);w(k,q,W,"","\\upuparrows",!0);w(k,q,W,"","\\upharpoonleft",!0);w(k,q,W,"","\\downharpoonleft",!0);w(k,I,W,"","\\origof",!0);w(k,I,W,"","\\imageof",!0);w(k,q,W,"","\\multimap",!0);w(k,q,W,"","\\leftrightsquigarrow",!0);w(k,q,W,"","\\rightrightarrows",!0);w(k,q,W,"","\\rightleftarrows",!0);w(k,q,W,"","\\twoheadrightarrow",!0);w(k,q,W,"","\\rightarrowtail",!0);w(k,q,W,"","\\looparrowright",!0);w(k,q,W,"","\\curvearrowright",!0);w(k,q,W,"","\\circlearrowright",!0);w(k,q,W,"","\\Rsh",!0);w(k,q,W,"","\\downdownarrows",!0);w(k,q,W,"","\\upharpoonright",!0);w(k,q,W,"","\\downharpoonright",!0);w(k,q,W,"","\\rightsquigarrow",!0);w(k,q,W,"","\\leadsto");w(k,q,W,"","\\Rrightarrow",!0);w(k,q,W,"","\\restriction");w(k,I,Z,"","`");w(k,I,Z,"$","\\$");w(ye,I,Z,"$","\\$");w(ye,I,Z,"$","\\textdollar");w(k,I,Z,"%","\\%");w(ye,I,Z,"%","\\%");w(k,I,Z,"_","\\_");w(ye,I,Z,"_","\\_");w(ye,I,Z,"_","\\textunderscore");w(k,I,Z,"","\\angle",!0);w(k,I,Z,"","\\infty",!0);w(k,I,Z,"","\\prime");w(k,I,Z,"","\\triangle");w(k,I,Z,"","\\Gamma",!0);w(k,I,Z,"","\\Delta",!0);w(k,I,Z,"","\\Theta",!0);w(k,I,Z,"","\\Lambda",!0);w(k,I,Z,"","\\Xi",!0);w(k,I,Z,"","\\Pi",!0);w(k,I,Z,"","\\Sigma",!0);w(k,I,Z,"","\\Upsilon",!0);w(k,I,Z,"","\\Phi",!0);w(k,I,Z,"","\\Psi",!0);w(k,I,Z,"","\\Omega",!0);w(k,I,Z,"A","");w(k,I,Z,"B","");w(k,I,Z,"E","");w(k,I,Z,"Z","");w(k,I,Z,"H","");w(k,I,Z,"I","");w(k,I,Z,"K","");w(k,I,Z,"M","");w(k,I,Z,"N","");w(k,I,Z,"O","");w(k,I,Z,"P","");w(k,I,Z,"T","");w(k,I,Z,"X","");w(k,I,Z,"","\\neg",!0);w(k,I,Z,"","\\lnot");w(k,I,Z,"","\\top");w(k,I,Z,"","\\bot");w(k,I,Z,"","\\emptyset");w(k,q,Z,"","\\varnothing");w(k,I,Ze,"","\\alpha",!0);w(k,I,Ze,"","\\beta",!0);w(k,I,Ze,"","\\gamma",!0);w(k,I,Ze,"","\\delta",!0);w(k,I,Ze,"","\\epsilon",!0);w(k,I,Ze,"","\\zeta",!0);w(k,I,Ze,"","\\eta",!0);w(k,I,Ze,"","\\theta",!0);w(k,I,Ze,"","\\iota",!0);w(k,I,Ze,"","\\kappa",!0);w(k,I,Ze,"","\\lambda",!0);w(k,I,Ze,"","\\mu",!0);w(k,I,Ze,"","\\nu",!0);w(k,I,Ze,"","\\xi",!0);w(k,I,Ze,"","\\omicron",!0);w(k,I,Ze,"","\\pi",!0);w(k,I,Ze,"","\\rho",!0);w(k,I,Ze,"","\\sigma",!0);w(k,I,Ze,"","\\tau",!0);w(k,I,Ze,"","\\upsilon",!0);w(k,I,Ze,"","\\phi",!0);w(k,I,Ze,"","\\chi",!0);w(k,I,Ze,"","\\psi",!0);w(k,I,Ze,"","\\omega",!0);w(k,I,Ze,"","\\varepsilon",!0);w(k,I,Ze,"","\\vartheta",!0);w(k,I,Ze,"","\\varpi",!0);w(k,I,Ze,"","\\varrho",!0);w(k,I,Ze,"","\\varsigma",!0);w(k,I,Ze,"","\\varphi",!0);w(k,I,Ue,"","*",!0);w(k,I,Ue,"+","+");w(k,I,Ue,"","-",!0);w(k,I,Ue,"","\\cdot",!0);w(k,I,Ue,"","\\circ",!0);w(k,I,Ue,"","\\div",!0);w(k,I,Ue,"","\\pm",!0);w(k,I,Ue,"","\\times",!0);w(k,I,Ue,"","\\cap",!0);w(k,I,Ue,"","\\cup",!0);w(k,I,Ue,"","\\setminus",!0);w(k,I,Ue,"","\\land");w(k,I,Ue,"","\\lor");w(k,I,Ue,"","\\wedge",!0);w(k,I,Ue,"","\\vee",!0);w(k,I,Z,"","\\surd");w(k,I,Lr,"","\\langle",!0);w(k,I,Lr,"","\\lvert");w(k,I,Lr,"","\\lVert");w(k,I,Jn,"?","?");w(k,I,Jn,"!","!");w(k,I,Jn,"","\\rangle",!0);w(k,I,Jn,"","\\rvert");w(k,I,Jn,"","\\rVert");w(k,I,W,"=","=");w(k,I,W,":",":");w(k,I,W,"","\\approx",!0);w(k,I,W,"","\\cong",!0);w(k,I,W,"","\\ge");w(k,I,W,"","\\geq",!0);w(k,I,W,"","\\gets");w(k,I,W,">","\\gt",!0);w(k,I,W,"","\\in",!0);w(k,I,W,"","\\@not");w(k,I,W,"","\\subset",!0);w(k,I,W,"","\\supset",!0);w(k,I,W,"","\\subseteq",!0);w(k,I,W,"","\\supseteq",!0);w(k,q,W,"","\\nsubseteq",!0);w(k,q,W,"","\\nsupseteq",!0);w(k,I,W,"","\\models");w(k,I,W,"","\\leftarrow",!0);w(k,I,W,"","\\le");w(k,I,W,"","\\leq",!0);w(k,I,W,"<","\\lt",!0);w(k,I,W,"","\\rightarrow",!0);w(k,I,W,"","\\to");w(k,q,W,"","\\ngeq",!0);w(k,q,W,"","\\nleq",!0);w(k,I,di,"","\\ ");w(k,I,di,"","\\space");w(k,I,di,"","\\nobreakspace");w(ye,I,di,"","\\ ");w(ye,I,di,""," ");w(ye,I,di,"","\\space");w(ye,I,di,"","\\nobreakspace");w(k,I,di,null,"\\nobreak");w(k,I,di,null,"\\allowbreak");w(k,I,pm,",",",");w(k,I,pm,";",";");w(k,q,Ue,"","\\barwedge",!0);w(k,q,Ue,"","\\veebar",!0);w(k,I,Ue,"","\\odot",!0);w(k,I,Ue,"","\\oplus",!0);w(k,I,Ue,"","\\otimes",!0);w(k,I,Z,"","\\partial",!0);w(k,I,Ue,"","\\oslash",!0);w(k,q,Ue,"","\\circledcirc",!0);w(k,q,Ue,"","\\boxdot",!0);w(k,I,Ue,"","\\bigtriangleup");w(k,I,Ue,"","\\bigtriangledown");w(k,I,Ue,"","\\dagger");w(k,I,Ue,"","\\diamond");w(k,I,Ue,"","\\star");w(k,I,Ue,"","\\triangleleft");w(k,I,Ue,"","\\triangleright");w(k,I,Lr,"{","\\{");w(ye,I,Z,"{","\\{");w(ye,I,Z,"{","\\textbraceleft");w(k,I,Jn,"}","\\}");w(ye,I,Z,"}","\\}");w(ye,I,Z,"}","\\textbraceright");w(k,I,Lr,"{","\\lbrace");w(k,I,Jn,"}","\\rbrace");w(k,I,Lr,"[","\\lbrack",!0);w(ye,I,Z,"[","\\lbrack",!0);w(k,I,Jn,"]","\\rbrack",!0);w(ye,I,Z,"]","\\rbrack",!0);w(k,I,Lr,"(","\\lparen",!0);w(k,I,Jn,")","\\rparen",!0);w(ye,I,Z,"<","\\textless",!0);w(ye,I,Z,">","\\textgreater",!0);w(k,I,Lr,"","\\lfloor",!0);w(k,I,Jn,"","\\rfloor",!0);w(k,I,Lr,"","\\lceil",!0);w(k,I,Jn,"","\\rceil",!0);w(k,I,Z,"\\","\\backslash");w(k,I,Z,"","|");w(k,I,Z,"","\\vert");w(ye,I,Z,"|","\\textbar",!0);w(k,I,Z,"","\\|");w(k,I,Z,"","\\Vert");w(ye,I,Z,"","\\textbardbl");w(ye,I,Z,"~","\\textasciitilde");w(ye,I,Z,"\\","\\textbackslash");w(ye,I,Z,"^","\\textasciicircum");w(k,I,W,"","\\uparrow",!0);w(k,I,W,"","\\Uparrow",!0);w(k,I,W,"","\\downarrow",!0);w(k,I,W,"","\\Downarrow",!0);w(k,I,W,"","\\updownarrow",!0);w(k,I,W,"","\\Updownarrow",!0);w(k,I,ln,"","\\coprod");w(k,I,ln,"","\\bigvee");w(k,I,ln,"","\\bigwedge");w(k,I,ln,"","\\biguplus");w(k,I,ln,"","\\bigcap");w(k,I,ln,"","\\bigcup");w(k,I,ln,"","\\int");w(k,I,ln,"","\\intop");w(k,I,ln,"","\\iint");w(k,I,ln,"","\\iiint");w(k,I,ln,"","\\prod");w(k,I,ln,"","\\sum");w(k,I,ln,"","\\bigotimes");w(k,I,ln,"","\\bigoplus");w(k,I,ln,"","\\bigodot");w(k,I,ln,"","\\oint");w(k,I,ln,"","\\oiint");w(k,I,ln,"","\\oiiint");w(k,I,ln,"","\\bigsqcup");w(k,I,ln,"","\\smallint");w(ye,I,tl,"","\\textellipsis");w(k,I,tl,"","\\mathellipsis");w(ye,I,tl,"","\\ldots",!0);w(k,I,tl,"","\\ldots",!0);w(k,I,tl,"","\\@cdots",!0);w(k,I,tl,"","\\ddots",!0);w(k,I,Z,"","\\varvdots");w(ye,I,Z,"","\\varvdots");w(k,I,Bt,"","\\acute");w(k,I,Bt,"","\\grave");w(k,I,Bt,"","\\ddot");w(k,I,Bt,"~","\\tilde");w(k,I,Bt,"","\\bar");w(k,I,Bt,"","\\breve");w(k,I,Bt,"","\\check");w(k,I,Bt,"^","\\hat");w(k,I,Bt,"","\\vec");w(k,I,Bt,"","\\dot");w(k,I,Bt,"","\\mathring");w(k,I,Ze,"","\\@imath");w(k,I,Ze,"","\\@jmath");w(k,I,Z,"","");w(k,I,Z,"","");w(ye,I,Z,"","\\i",!0);w(ye,I,Z,"","\\j",!0);w(ye,I,Z,"","\\ss",!0);w(ye,I,Z,"","\\ae",!0);w(ye,I,Z,"","\\oe",!0);w(ye,I,Z,"","\\o",!0);w(ye,I,Z,"","\\AE",!0);w(ye,I,Z,"","\\OE",!0);w(ye,I,Z,"","\\O",!0);w(ye,I,Bt,"","\\'");w(ye,I,Bt,"","\\`");w(ye,I,Bt,"","\\^");w(ye,I,Bt,"","\\~");w(ye,I,Bt,"","\\=");w(ye,I,Bt,"","\\u");w(ye,I,Bt,"","\\.");w(ye,I,Bt,"","\\c");w(ye,I,Bt,"","\\r");w(ye,I,Bt,"","\\v");w(ye,I,Bt,"",'\\"');w(ye,I,Bt,"","\\H");w(ye,I,Bt,"","\\textcircled");var _5={"--":!0,"---":!0,"``":!0,"''":!0};w(ye,I,Z,"","--",!0);w(ye,I,Z,"","\\textendash");w(ye,I,Z,"","---",!0);w(ye,I,Z,"","\\textemdash");w(ye,I,Z,"","`",!0);w(ye,I,Z,"","\\textquoteleft");w(ye,I,Z,"","'",!0);w(ye,I,Z,"","\\textquoteright");w(ye,I,Z,"","``",!0);w(ye,I,Z,"","\\textquotedblleft");w(ye,I,Z,"","''",!0);w(ye,I,Z,"","\\textquotedblright");w(k,I,Z,"","\\degree",!0);w(ye,I,Z,"","\\degree");w(ye,I,Z,"","\\textdegree",!0);w(k,I,Z,"","\\pounds");w(k,I,Z,"","\\mathsterling",!0);w(ye,I,Z,"","\\pounds");w(ye,I,Z,"","\\textsterling",!0);w(k,q,Z,"","\\maltese");w(ye,q,Z,"","\\maltese");var FS='0123456789/@."';for(var rh=0;rh<FS.length;rh++){var BS=FS.charAt(rh);w(k,I,Z,BS,BS)}var zS='0123456789!@*()-=+";:?/.,';for(var ah=0;ah<zS.length;ah++){var jS=zS.charAt(ah);w(ye,I,Z,jS,jS)}var Np="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var ih=0;ih<Np.length;ih++){var Ud=Np.charAt(ih);w(k,I,Ze,Ud,Ud),w(ye,I,Z,Ud,Ud)}w(k,q,Z,"C","");w(ye,q,Z,"C","");w(k,q,Z,"H","");w(ye,q,Z,"H","");w(k,q,Z,"N","");w(ye,q,Z,"N","");w(k,q,Z,"P","");w(ye,q,Z,"P","");w(k,q,Z,"Q","");w(ye,q,Z,"Q","");w(k,q,Z,"R","");w(ye,q,Z,"R","");w(k,q,Z,"Z","");w(ye,q,Z,"Z","");w(k,I,Ze,"h","");w(ye,I,Ze,"h","");var nt="";for(var Wn=0;Wn<Np.length;Wn++){var Yt=Np.charAt(Wn);nt=String.fromCharCode(55349,56320+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56372+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56424+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56580+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56684+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56736+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56788+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56840+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56944+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),Wn<26&&(nt=String.fromCharCode(55349,56632+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt),nt=String.fromCharCode(55349,56476+Wn),w(k,I,Ze,Yt,nt),w(ye,I,Z,Yt,nt))}nt="";w(k,I,Ze,"k",nt);w(ye,I,Z,"k",nt);for(var yo=0;yo<10;yo++){var Ui=yo.toString();nt=String.fromCharCode(55349,57294+yo),w(k,I,Ze,Ui,nt),w(ye,I,Z,Ui,nt),nt=String.fromCharCode(55349,57314+yo),w(k,I,Ze,Ui,nt),w(ye,I,Z,Ui,nt),nt=String.fromCharCode(55349,57324+yo),w(k,I,Ze,Ui,nt),w(ye,I,Z,Ui,nt),nt=String.fromCharCode(55349,57334+yo),w(k,I,Ze,Ui,nt),w(ye,I,Z,Ui,nt)}var Rg="";for(var oh=0;oh<Rg.length;oh++){var Md=Rg.charAt(oh);w(k,I,Ze,Md,Md),w(ye,I,Z,Md,Md)}var Pd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],GS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],nW=function(t,n){var r=t.charCodeAt(0),a=t.charCodeAt(1),i=(r-55296)*1024+(a-56320)+65536,s=n==="math"?0:1;if(119808<=i&&i<120484){var u=Math.floor((i-119808)/26);return[Pd[u][2],Pd[u][s]]}else if(120782<=i&&i<=120831){var c=Math.floor((i-120782)/10);return[GS[c][2],GS[c][s]]}else{if(i===120485||i===120486)return[Pd[0][2],Pd[0][s]];if(120486<i&&i<120782)return["",""];throw new ke("Unsupported character: "+t)}},mm=function(t,n,r){return Ct[r][t]&&Ct[r][t].replace&&(t=Ct[r][t].replace),{value:t,metrics:Eb(t,n,r)}},ua=function(t,n,r,a,i){var s=mm(t,n,r),u=s.metrics;t=s.value;var c;if(u){var d=u.italic;(r==="text"||a&&a.font==="mathit")&&(d=0),c=new Kr(t,u.height,u.depth,d,u.skew,u.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),c=new Kr(t,0,0,0,0,0,i);if(a){c.maxFontSize=a.sizeMultiplier,a.style.isTight()&&c.classes.push("mtight");var m=a.getColor();m&&(c.style.color=m)}return c},rW=function(t,n,r,a){return a===void 0&&(a=[]),r.font==="boldsymbol"&&mm(t,"Main-Bold",n).metrics?ua(t,"Main-Bold",n,r,a.concat(["mathbf"])):t==="\\"||Ct[n][t].font==="main"?ua(t,"Main-Regular",n,r,a):ua(t,"AMS-Regular",n,r,a.concat(["amsrm"]))},aW=function(t,n,r,a,i){return i!=="textord"&&mm(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},iW=function(t,n,r){var a=t.mode,i=t.text,s=["mord"],u=a==="math"||a==="text"&&n.font,c=u?n.font:n.fontFamily,d="",m="";if(i.charCodeAt(0)===55349&&([d,m]=nW(i,a)),d.length>0)return ua(i,d,a,n,s.concat(m));if(c){var f,h;if(c==="boldsymbol"){var b=aW(i,a,n,s,r);f=b.fontName,h=[b.fontClass]}else u?(f=E5[c].fontName,h=[c]):(f=Fd(c,n.fontWeight,n.fontShape),h=[c,n.fontWeight,n.fontShape]);if(mm(i,f,a).metrics)return ua(i,f,a,n,s.concat(h));if(_5.hasOwnProperty(i)&&f.slice(0,10)==="Typewriter"){for(var _=[],x=0;x<i.length;x++)_.push(ua(i[x],f,a,n,s.concat(h)));return $5(_)}}if(r==="mathord")return ua(i,"Math-Italic",a,n,s.concat(["mathnormal"]));if(r==="textord"){var T=Ct[a][i]&&Ct[a][i].font;if(T==="ams"){var S=Fd("amsrm",n.fontWeight,n.fontShape);return ua(i,S,a,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var A=Fd("textrm",n.fontWeight,n.fontShape);return ua(i,A,a,n,s.concat(n.fontWeight,n.fontShape))}else{var C=Fd(T,n.fontWeight,n.fontShape);return ua(i,C,a,n,s.concat(C,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},oW=(e,t)=>{if(Zi(e.classes)!==Zi(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},sW=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Kr&&r instanceof Kr&&oW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Tb=function(t){for(var n=0,r=0,a=0,i=0;i<t.children.length;i++){var s=t.children[i];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>a&&(a=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=a},pr=function(t,n,r,a){var i=new nc(t,n,r,a);return Tb(i),i},w5=(e,t,n,r)=>new nc(e,t,n,r),lW=function(t,n,r){var a=pr([t],[],n);return a.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),a.style.borderBottomWidth=Ie(a.height),a.maxFontSize=1,a},uW=function(t,n,r,a){var i=new Sb(t,n,r,a);return Tb(i),i},$5=function(t){var n=new tc(t);return Tb(n),n},cW=function(t,n){return t instanceof tc?pr([],[t],n):t},dW=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],a=-n[0].shift-n[0].elem.depth,i=a,s=1;s<n.length;s++){var u=-n[s].shift-i-n[s].elem.depth,c=u-(n[s-1].elem.height+n[s-1].elem.depth);i=i+u,r.push({type:"kern",size:c}),r.push(n[s])}return{children:r,depth:a}}var d;if(t.positionType==="top"){for(var m=t.positionData,f=0;f<t.children.length;f++){var h=t.children[f];m-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}d=m}else if(t.positionType==="bottom")d=-t.positionData;else{var b=t.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")d=-b.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")d=-b.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:d}},pW=function(t,n){for(var{children:r,depth:a}=dW(t),i=0,s=0;s<r.length;s++){var u=r[s];if(u.type==="elem"){var c=u.elem;i=Math.max(i,c.maxFontSize,c.height)}}i+=2;var d=pr(["pstrut"],[]);d.style.height=Ie(i);for(var m=[],f=a,h=a,b=a,_=0;_<r.length;_++){var x=r[_];if(x.type==="kern")b+=x.size;else{var T=x.elem,S=x.wrapperClasses||[],A=x.wrapperStyle||{},C=pr(S,[d,T],void 0,A);C.style.top=Ie(-i-b-T.depth),x.marginLeft&&(C.style.marginLeft=x.marginLeft),x.marginRight&&(C.style.marginRight=x.marginRight),m.push(C),b+=T.height+T.depth}f=Math.min(f,b),h=Math.max(h,b)}var R=pr(["vlist"],m);R.style.height=Ie(h);var M;if(f<0){var P=pr([],[]),j=pr(["vlist"],[P]);j.style.height=Ie(-f);var K=pr(["vlist-s"],[new Kr("")]);M=[pr(["vlist-r"],[R,K]),pr(["vlist-r"],[j])]}else M=[pr(["vlist-r"],[R])];var ee=pr(["vlist-t"],M);return M.length===2&&ee.classes.push("vlist-t2"),ee.height=h,ee.depth=-f,ee},mW=(e,t)=>{var n=pr(["mspace"],[],t),r=Vt(e,t);return n.style.marginRight=Ie(r),n},Fd=function(t,n,r){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var i;return n==="textbf"&&r==="textit"?i="BoldItalic":n==="textbf"?i="Bold":n==="textit"?i="Italic":i="Regular",a+"-"+i},E5={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},S5={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},fW=function(t,n){var[r,a,i]=S5[t],s=new Ji(r),u=new li([s],{width:Ie(a),height:Ie(i),style:"width:"+Ie(a),viewBox:"0 0 "+1e3*a+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),c=w5(["overlay"],[u],n);return c.height=i,c.style.height=Ie(i),c.style.width=Ie(a),c},le={fontMap:E5,makeSymbol:ua,mathsym:rW,makeSpan:pr,makeSvgSpan:w5,makeLineSpan:lW,makeAnchor:uW,makeFragment:$5,wrapFragment:cW,makeVList:pW,makeOrd:iW,makeGlue:mW,staticSvg:fW,svgData:S5,tryCombineChars:sW},Gt={number:3,unit:"mu"},xo={number:4,unit:"mu"},Za={number:5,unit:"mu"},hW={mord:{mop:Gt,mbin:xo,mrel:Za,minner:Gt},mop:{mord:Gt,mop:Gt,mrel:Za,minner:Gt},mbin:{mord:xo,mop:xo,mopen:xo,minner:xo},mrel:{mord:Za,mop:Za,mopen:Za,minner:Za},mopen:{},mclose:{mop:Gt,mbin:xo,mrel:Za,minner:Gt},mpunct:{mord:Gt,mop:Gt,mrel:Za,mopen:Gt,mclose:Gt,mpunct:Gt,minner:Gt},minner:{mord:Gt,mop:Gt,mbin:xo,mrel:Za,mopen:Gt,mpunct:Gt,minner:Gt}},gW={mord:{mop:Gt},mop:{mord:Gt,mop:Gt},mbin:{},mrel:{},mopen:{},mclose:{mop:Gt},mpunct:{},minner:{mop:Gt}},T5={},Cp={},Ip={};function De(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:i,mathmlBuilder:s}=e,u={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:a},c=0;c<n.length;++c)T5[n[c]]=u;t&&(i&&(Cp[t]=i),s&&(Ip[t]=s))}function Uo(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;De({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Lp=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Jt=function(t){return t.type==="ordgroup"?t.body:[t]},ui=le.makeSpan,bW=["leftmost","mbin","mopen","mrel","mop","mpunct"],vW=["rightmost","mrel","mclose","mpunct"],yW={display:Je.DISPLAY,text:Je.TEXT,script:Je.SCRIPT,scriptscript:Je.SCRIPTSCRIPT},xW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},gn=function(t,n,r,a){a===void 0&&(a=[null,null]);for(var i=[],s=0;s<t.length;s++){var u=yt(t[s],n);if(u instanceof tc){var c=u.children;i.push(...c)}else i.push(u)}if(le.tryCombineChars(i),!r)return i;var d=n;if(t.length===1){var m=t[0];m.type==="sizing"?d=n.havingSize(m.size):m.type==="styling"&&(d=n.havingStyle(yW[m.style]))}var f=ui([a[0]||"leftmost"],[],n),h=ui([a[1]||"rightmost"],[],n),b=r==="root";return HS(i,(_,x)=>{var T=x.classes[0],S=_.classes[0];T==="mbin"&&Ye.contains(vW,S)?x.classes[0]="mord":S==="mbin"&&Ye.contains(bW,T)&&(_.classes[0]="mord")},{node:f},h,b),HS(i,(_,x)=>{var T=Dg(x),S=Dg(_),A=T&&S?_.hasClass("mtight")?gW[T][S]:hW[T][S]:null;if(A)return le.makeGlue(A,d)},{node:f},h,b),i},HS=function e(t,n,r,a,i){a&&t.push(a);for(var s=0;s<t.length;s++){var u=t[s],c=k5(u);if(c){e(c.children,n,r,null,i);continue}var d=!u.hasClass("mspace");if(d){var m=n(u,r.node);m&&(r.insertAfter?r.insertAfter(m):(t.unshift(m),s++))}d?r.node=u:i&&u.hasClass("newline")&&(r.node=ui(["leftmost"])),r.insertAfter=(f=>h=>{t.splice(f+1,0,h),s++})(s)}a&&t.pop()},k5=function(t){return t instanceof tc||t instanceof Sb||t instanceof nc&&t.hasClass("enclosing")?t:null},_W=function e(t,n){var r=k5(t);if(r){var a=r.children;if(a.length){if(n==="right")return e(a[a.length-1],"right");if(n==="left")return e(a[0],"left")}}return t},Dg=function(t,n){return t?(n&&(t=_W(t,n)),xW[t.classes[0]]||null):null},Fu=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return ui(n.concat(r))},yt=function(t,n,r){if(!t)return ui();if(Cp[t.type]){var a=Cp[t.type](t,n);if(r&&n.size!==r.size){a=ui(n.sizingClasses(r),[a],n);var i=n.sizeMultiplier/r.sizeMultiplier;a.height*=i,a.depth*=i}return a}else throw new ke("Got group of unknown type: '"+t.type+"'")};function Bd(e,t){var n=ui(["base"],e,t),r=ui(["strut"]);return r.style.height=Ie(n.height+n.depth),n.depth&&(r.style.verticalAlign=Ie(-n.depth)),n.children.unshift(r),n}function Og(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=gn(e,t,"root"),a;r.length===2&&r[1].hasClass("tag")&&(a=r.pop());for(var i=[],s=[],u=0;u<r.length;u++)if(s.push(r[u]),r[u].hasClass("mbin")||r[u].hasClass("mrel")||r[u].hasClass("allowbreak")){for(var c=!1;u<r.length-1&&r[u+1].hasClass("mspace")&&!r[u+1].hasClass("newline");)u++,s.push(r[u]),r[u].hasClass("nobreak")&&(c=!0);c||(i.push(Bd(s,t)),s=[])}else r[u].hasClass("newline")&&(s.pop(),s.length>0&&(i.push(Bd(s,t)),s=[]),i.push(r[u]));s.length>0&&i.push(Bd(s,t));var d;n?(d=Bd(gn(n,t,!0)),d.classes=["tag"],i.push(d)):a&&i.push(a);var m=ui(["katex-html"],i);if(m.setAttribute("aria-hidden","true"),d){var f=d.children[0];f.style.height=Ie(m.height+m.depth),m.depth&&(f.style.verticalAlign=Ie(-m.depth))}return m}function A5(e){return new tc(e)}class Nr{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Zi(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Aa&&this.children[r+1]instanceof Aa){for(var a=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Aa;)a+=this.children[++r].toText();t.appendChild(new Aa(a).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Ye.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Ye.escape(Zi(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Aa{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ye.escape(this.toText())}toText(){return this.text}}class wW{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Ie(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ie(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Se={MathNode:Nr,TextNode:Aa,SpaceNode:wW,newDocumentFragment:A5},Xr=function(t,n,r){return Ct[n][t]&&Ct[n][t].replace&&t.charCodeAt(0)!==55349&&!(_5.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=Ct[n][t].replace),new Se.TextNode(t)},kb=function(t){return t.length===1?t[0]:new Se.MathNode("mrow",t)},Ab=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var a=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=t.text;if(Ye.contains(["\\imath","\\jmath"],i))return null;Ct[a][i]&&Ct[a][i].replace&&(i=Ct[a][i].replace);var s=le.fontMap[r].fontName;return Eb(i,s,a)?le.fontMap[r].variant:null};function sh(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Aa&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof Aa&&n.text===","}else return!1}var hr=function(t,n,r){if(t.length===1){var a=Tt(t[0],n);return r&&a instanceof Nr&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var i=[],s,u=0;u<t.length;u++){var c=Tt(t[u],n);if(c instanceof Nr&&s instanceof Nr){if(c.type==="mtext"&&s.type==="mtext"&&c.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...c.children);continue}else if(c.type==="mn"&&s.type==="mn"){s.children.push(...c.children);continue}else if(sh(c)&&s.type==="mn"){s.children.push(...c.children);continue}else if(c.type==="mn"&&sh(s))c.children=[...s.children,...c.children],i.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(s.type==="mn"||sh(s))){var d=c.children[0];d instanceof Nr&&d.type==="mn"&&(d.children=[...s.children,...d.children],i.pop())}else if(s.type==="mi"&&s.children.length===1){var m=s.children[0];if(m instanceof Aa&&m.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var f=c.children[0];f instanceof Aa&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),i.pop())}}}i.push(c),s=c}return i},eo=function(t,n,r){return kb(hr(t,n,r))},Tt=function(t,n){if(!t)return new Se.MathNode("mrow");if(Ip[t.type]){var r=Ip[t.type](t,n);return r}else throw new ke("Got group of unknown type: '"+t.type+"'")};function VS(e,t,n,r,a){var i=hr(e,n),s;i.length===1&&i[0]instanceof Nr&&Ye.contains(["mrow","mtable"],i[0].type)?s=i[0]:s=new Se.MathNode("mrow",i);var u=new Se.MathNode("annotation",[new Se.TextNode(t)]);u.setAttribute("encoding","application/x-tex");var c=new Se.MathNode("semantics",[s,u]),d=new Se.MathNode("math",[c]);d.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&d.setAttribute("display","block");var m=a?"katex":"katex-mathml";return le.makeSpan([m],[d])}var N5=function(t){return new Ja({style:t.displayMode?Je.DISPLAY:Je.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},C5=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=le.makeSpan(r,[t])}return t},$W=function(t,n,r){var a=N5(r),i;if(r.output==="mathml")return VS(t,n,a,r.displayMode,!0);if(r.output==="html"){var s=Og(t,a);i=le.makeSpan(["katex"],[s])}else{var u=VS(t,n,a,r.displayMode,!1),c=Og(t,a);i=le.makeSpan(["katex"],[u,c])}return C5(i,r)},EW=function(t,n,r){var a=N5(r),i=Og(t,a),s=le.makeSpan(["katex"],[i]);return C5(s,r)},SW={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},TW=function(t){var n=new Se.MathNode("mo",[new Se.TextNode(SW[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},kW={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},AW=function(t){return t.type==="ordgroup"?t.body.length:1},NW=function(t,n){function r(){var u=4e5,c=t.label.slice(1);if(Ye.contains(["widehat","widecheck","widetilde","utilde"],c)){var d=t,m=AW(d.base),f,h,b;if(m>5)c==="widehat"||c==="widecheck"?(f=420,u=2364,b=.42,h=c+"4"):(f=312,u=2340,b=.34,h="tilde4");else{var _=[1,1,2,2,3,3][m];c==="widehat"||c==="widecheck"?(u=[0,1062,2364,2364,2364][_],f=[0,239,300,360,420][_],b=[0,.24,.3,.3,.36,.42][_],h=c+_):(u=[0,600,1033,2339,2340][_],f=[0,260,286,306,312][_],b=[0,.26,.286,.3,.306,.34][_],h="tilde"+_)}var x=new Ji(h),T=new li([x],{width:"100%",height:Ie(b),viewBox:"0 0 "+u+" "+f,preserveAspectRatio:"none"});return{span:le.makeSvgSpan([],[T],n),minWidth:0,height:b}}else{var S=[],A=kW[c],[C,R,M]=A,P=M/1e3,j=C.length,K,ee;if(j===1){var G=A[3];K=["hide-tail"],ee=[G]}else if(j===2)K=["halfarrow-left","halfarrow-right"],ee=["xMinYMin","xMaxYMin"];else if(j===3)K=["brace-left","brace-center","brace-right"],ee=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+j+" children.");for(var Q=0;Q<j;Q++){var re=new Ji(C[Q]),ae=new li([re],{width:"400em",height:Ie(P),viewBox:"0 0 "+u+" "+M,preserveAspectRatio:ee[Q]+" slice"}),ne=le.makeSvgSpan([K[Q]],[ae],n);if(j===1)return{span:ne,minWidth:R,height:P};ne.style.height=Ie(P),S.push(ne)}return{span:le.makeSpan(["stretchy"],S,n),minWidth:R,height:P}}}var{span:a,minWidth:i,height:s}=r();return a.height=s,a.style.height=Ie(s),i>0&&(a.style.minWidth=Ie(i)),a},CW=function(t,n,r,a,i){var s,u=t.height+t.depth+r+a;if(/fbox|color|angl/.test(n)){if(s=le.makeSpan(["stretchy",n],[],i),n==="fbox"){var c=i.color&&i.getColor();c&&(s.style.borderColor=c)}}else{var d=[];/^[bx]cancel$/.test(n)&&d.push(new Lg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&d.push(new Lg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new li(d,{width:"100%",height:Ie(u)});s=le.makeSvgSpan([],[m],i)}return s.height=u,s.style.height=Ie(u),s},ci={encloseSpan:CW,mathMLnode:TW,svgSpan:NW};function ct(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Nb(e){var t=fm(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function fm(e){return e&&(e.type==="atom"||tW.hasOwnProperty(e.type))?e:null}var Cb=(e,t)=>{var n,r,a;e&&e.type==="supsub"?(r=ct(e.base,"accent"),n=r.base,e.base=n,a=Jq(yt(e,t)),e.base=r):(r=ct(e,"accent"),n=r.base);var i=yt(n,t.havingCrampedStyle()),s=r.isShifty&&Ye.isCharacterBox(n),u=0;if(s){var c=Ye.getBaseElem(n),d=yt(c,t.havingCrampedStyle());u=PS(d).skew}var m=r.label==="\\c",f=m?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=ci.svgSpan(r,t),h=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+Ie(2*u)+")",marginLeft:Ie(2*u)}:void 0}]},t);else{var b,_;r.label==="\\vec"?(b=le.staticSvg("vec",t),_=le.svgData.vec[1]):(b=le.makeOrd({mode:r.mode,text:r.label},t,"textord"),b=PS(b),b.italic=0,_=b.width,m&&(f+=b.depth)),h=le.makeSpan(["accent-body"],[b]);var x=r.label==="\\textcircled";x&&(h.classes.push("accent-full"),f=i.height);var T=u;x||(T-=_/2),h.style.left=Ie(T),r.label==="\\textcircled"&&(h.style.top=".2em"),h=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-f},{type:"elem",elem:h}]},t)}var S=le.makeSpan(["mord","accent"],[h],t);return a?(a.children[0]=S,a.height=Math.max(S.height,a.height),a.classes[0]="mord",a):S},I5=(e,t)=>{var n=e.isStretchy?ci.mathMLnode(e.label):new Se.MathNode("mo",[Xr(e.label,e.mode)]),r=new Se.MathNode("mover",[Tt(e.base,t),n]);return r.setAttribute("accent","true"),r},IW=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));De({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Lp(t[0]),r=!IW.test(e.funcName),a=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:a,base:n}},htmlBuilder:Cb,mathmlBuilder:I5});De({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Cb,mathmlBuilder:I5});De({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:a}},htmlBuilder:(e,t)=>{var n=yt(e.base,t),r=ci.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,i=le.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:n}]},t);return le.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var n=ci.mathMLnode(e.label),r=new Se.MathNode("munder",[Tt(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var zd=e=>{var t=new Se.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};De({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:a}=e;return{type:"xArrow",mode:r.mode,label:a,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),a=le.wrapFragment(yt(e.body,r,t),t),i=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(i+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=le.wrapFragment(yt(e.below,r,t),t),s.classes.push(i+"-arrow-pad"));var u=ci.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*u.height,d=-t.fontMetrics().axisHeight-.5*u.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(d-=a.depth);var m;if(s){var f=-t.fontMetrics().axisHeight+s.height+.5*u.height+.111;m=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:d},{type:"elem",elem:u,shift:c},{type:"elem",elem:s,shift:f}]},t)}else m=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:d},{type:"elem",elem:u,shift:c}]},t);return m.children[0].children[0].children[1].classes.push("svg-align"),le.makeSpan(["mrel","x-arrow"],[m],t)},mathmlBuilder(e,t){var n=ci.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var a=zd(Tt(e.body,t));if(e.below){var i=zd(Tt(e.below,t));r=new Se.MathNode("munderover",[n,i,a])}else r=new Se.MathNode("mover",[n,a])}else if(e.below){var s=zd(Tt(e.below,t));r=new Se.MathNode("munder",[n,s])}else r=zd(),r=new Se.MathNode("mover",[n,r]);return r}});var LW=le.makeSpan;function L5(e,t){var n=gn(e.body,t,!0);return LW([e.mclass],n,t)}function R5(e,t){var n,r=hr(e.body,t);return e.mclass==="minner"?n=new Se.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new Se.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new Se.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}De({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Jt(a),isCharacterBox:Ye.isCharacterBox(a)}},htmlBuilder:L5,mathmlBuilder:R5});var hm=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};De({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:hm(t[0]),body:Jt(t[1]),isCharacterBox:Ye.isCharacterBox(t[1])}}});De({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,a=t[1],i=t[0],s;r!=="\\stackrel"?s=hm(a):s="mrel";var u={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Jt(a)},c={type:"supsub",mode:i.mode,base:u,sup:r==="\\underset"?null:i,sub:r==="\\underset"?i:null};return{type:"mclass",mode:n.mode,mclass:s,body:[c],isCharacterBox:Ye.isCharacterBox(c)}},htmlBuilder:L5,mathmlBuilder:R5});De({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:hm(t[0]),body:Jt(t[0])}},htmlBuilder(e,t){var n=gn(e.body,t,!0),r=le.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=hr(e.body,t),r=new Se.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var RW={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},qS=()=>({type:"styling",body:[],mode:"math",style:"display"}),WS=e=>e.type==="textord"&&e.text==="@",DW=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function OW(e,t,n){var r=RW[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=n.callFunction("\\\\cdleft",[t[0]],[]),i={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[i],[]),u=n.callFunction("\\\\cdright",[t[1]],[]),c={type:"ordgroup",mode:"math",body:[a,s,u]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var d={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[d],[])}default:return{type:"textord",text:" ",mode:"math"}}}function UW(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ke("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],a=[r],i=0;i<t.length;i++){for(var s=t[i],u=qS(),c=0;c<s.length;c++)if(!WS(s[c]))u.body.push(s[c]);else{r.push(u),c+=1;var d=Nb(s[c]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(d)>-1))if("<>AV".indexOf(d)>-1)for(var f=0;f<2;f++){for(var h=!0,b=c+1;b<s.length;b++){if(DW(s[b],d)){h=!1,c=b;break}if(WS(s[b]))throw new ke("Missing a "+d+" character to complete a CD arrow.",s[b]);m[f].body.push(s[b])}if(h)throw new ke("Missing a "+d+" character to complete a CD arrow.",s[c])}else throw new ke('Expected one of "<>AV=|." after @',s[c]);var _=OW(d,m,e),x={type:"styling",body:[_],mode:"math",style:"display"};r.push(x),u=qS()}i%2===0?r.push(u):r.shift(),r=[],a.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var T=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}De({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=le.wrapFragment(yt(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Ie(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Se.MathNode("mrow",[Tt(e.label,t)]);return n=new Se.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Se.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});De({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=le.wrapFragment(yt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new Se.MathNode("mrow",[Tt(e.fragment,t)])}});De({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=ct(t[0],"ordgroup"),a=r.body,i="",s=0;s<a.length;s++){var u=ct(a[s],"textord");i+=u.text}var c=parseInt(i),d;if(isNaN(c))throw new ke("\\@char has non-numeric argument "+i);if(c<0||c>=1114111)throw new ke("\\@char with invalid code point "+i);return c<=65535?d=String.fromCharCode(c):(c-=65536,d=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:d}}});var D5=(e,t)=>{var n=gn(e.body,t.withColor(e.color),!1);return le.makeFragment(n)},O5=(e,t)=>{var n=hr(e.body,t.withColor(e.color)),r=new Se.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};De({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=ct(t[0],"color-token").color,a=t[1];return{type:"color",mode:n.mode,color:r,body:Jt(a)}},htmlBuilder:D5,mathmlBuilder:O5});De({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,a=ct(t[0],"color-token").color;n.gullet.macros.set("\\current@color",a);var i=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:a,body:i}},htmlBuilder:D5,mathmlBuilder:O5});De({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,a=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,i=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:i,size:a&&ct(a,"size").value}},htmlBuilder(e,t){var n=le.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Ie(Vt(e.size,t)))),n},mathmlBuilder(e,t){var n=new Se.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Ie(Vt(e.size,t)))),n}});var Ug={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},U5=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ke("Expected a control sequence",e);return t},MW=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},M5=(e,t,n,r)=>{var a=e.gullet.macros.get(n.text);a==null&&(n.noexpand=!0,a={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,a,r)};De({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(Ug[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Ug[r.text]),ct(t.parseFunction(),"internal");throw new ke("Invalid token after macro prefix",r)}});De({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),a=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ke("Expected a control sequence",r);for(var i=0,s,u=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),u[i].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ke('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==i+1)throw new ke('Argument number "'+r.text+'" out of order');i++,u.push([])}else{if(r.text==="EOF")throw new ke("Expected a macro definition");u[i].push(r.text)}var{tokens:c}=t.gullet.consumeArg();return s&&c.unshift(s),(n==="\\edef"||n==="\\xdef")&&(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(a,{tokens:c,numArgs:i,delimiters:u},n===Ug[n]),{type:"internal",mode:t.mode}}});De({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=U5(t.gullet.popToken());t.gullet.consumeSpaces();var a=MW(t);return M5(t,r,a,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});De({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=U5(t.gullet.popToken()),a=t.gullet.popToken(),i=t.gullet.popToken();return M5(t,r,i,n==="\\\\globalfuture"),t.gullet.pushToken(i),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var su=function(t,n,r){var a=Ct.math[t]&&Ct.math[t].replace,i=Eb(a||t,n,r);if(!i)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return i},Ib=function(t,n,r,a){var i=r.havingBaseStyle(n),s=le.makeSpan(a.concat(i.sizingClasses(r)),[t],r),u=i.sizeMultiplier/r.sizeMultiplier;return s.height*=u,s.depth*=u,s.maxFontSize=i.sizeMultiplier,s},P5=function(t,n,r){var a=n.havingBaseStyle(r),i=(1-n.sizeMultiplier/a.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Ie(i),t.height-=i,t.depth+=i},PW=function(t,n,r,a,i,s){var u=le.makeSymbol(t,"Main-Regular",i,a),c=Ib(u,n,a,s);return r&&P5(c,a,n),c},FW=function(t,n,r,a){return le.makeSymbol(t,"Size"+n+"-Regular",r,a)},F5=function(t,n,r,a,i,s){var u=FW(t,n,i,a),c=Ib(le.makeSpan(["delimsizing","size"+n],[u],a),Je.TEXT,a,s);return r&&P5(c,a,Je.TEXT),c},lh=function(t,n,r){var a;n==="Size1-Regular"?a="delim-size1":a="delim-size4";var i=le.makeSpan(["delimsizinginner",a],[le.makeSpan([],[le.makeSymbol(t,n,r)])]);return{type:"elem",elem:i}},uh=function(t,n,r){var a=ka["Size4-Regular"][t.charCodeAt(0)]?ka["Size4-Regular"][t.charCodeAt(0)][4]:ka["Size1-Regular"][t.charCodeAt(0)][4],i=new Ji("inner",Hq(t,Math.round(1e3*n))),s=new li([i],{width:Ie(a),height:Ie(n),style:"width:"+Ie(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),u=le.makeSvgSpan([],[s],r);return u.height=n,u.style.height=Ie(n),u.style.width=Ie(a),{type:"elem",elem:u}},Mg=.008,jd={type:"kern",size:-1*Mg},BW=["|","\\lvert","\\rvert","\\vert"],zW=["\\|","\\lVert","\\rVert","\\Vert"],B5=function(t,n,r,a,i,s){var u,c,d,m,f="",h=0;u=d=m=t,c=null;var b="Size1-Regular";t==="\\uparrow"?d=m="":t==="\\Uparrow"?d=m="":t==="\\downarrow"?u=d="":t==="\\Downarrow"?u=d="":t==="\\updownarrow"?(u="\\uparrow",d="",m="\\downarrow"):t==="\\Updownarrow"?(u="\\Uparrow",d="",m="\\Downarrow"):Ye.contains(BW,t)?(d="",f="vert",h=333):Ye.contains(zW,t)?(d="",f="doublevert",h=556):t==="["||t==="\\lbrack"?(u="",d="",m="",b="Size4-Regular",f="lbrack",h=667):t==="]"||t==="\\rbrack"?(u="",d="",m="",b="Size4-Regular",f="rbrack",h=667):t==="\\lfloor"||t===""?(d=u="",m="",b="Size4-Regular",f="lfloor",h=667):t==="\\lceil"||t===""?(u="",d=m="",b="Size4-Regular",f="lceil",h=667):t==="\\rfloor"||t===""?(d=u="",m="",b="Size4-Regular",f="rfloor",h=667):t==="\\rceil"||t===""?(u="",d=m="",b="Size4-Regular",f="rceil",h=667):t==="("||t==="\\lparen"?(u="",d="",m="",b="Size4-Regular",f="lparen",h=875):t===")"||t==="\\rparen"?(u="",d="",m="",b="Size4-Regular",f="rparen",h=875):t==="\\{"||t==="\\lbrace"?(u="",c="",m="",d="",b="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(u="",c="",m="",d="",b="Size4-Regular"):t==="\\lgroup"||t===""?(u="",m="",d="",b="Size4-Regular"):t==="\\rgroup"||t===""?(u="",m="",d="",b="Size4-Regular"):t==="\\lmoustache"||t===""?(u="",m="",d="",b="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(u="",m="",d="",b="Size4-Regular");var _=su(u,b,i),x=_.height+_.depth,T=su(d,b,i),S=T.height+T.depth,A=su(m,b,i),C=A.height+A.depth,R=0,M=1;if(c!==null){var P=su(c,b,i);R=P.height+P.depth,M=2}var j=x+C+R,K=Math.max(0,Math.ceil((n-j)/(M*S))),ee=j+K*M*S,G=a.fontMetrics().axisHeight;r&&(G*=a.sizeMultiplier);var Q=ee/2-G,re=[];if(f.length>0){var ae=ee-x-C,ne=Math.round(ee*1e3),me=Vq(f,Math.round(ae*1e3)),be=new Ji(f,me),fe=(h/1e3).toFixed(3)+"em",J=(ne/1e3).toFixed(3)+"em",he=new li([be],{width:fe,height:J,viewBox:"0 0 "+h+" "+ne}),O=le.makeSvgSpan([],[he],a);O.height=ne/1e3,O.style.width=fe,O.style.height=J,re.push({type:"elem",elem:O})}else{if(re.push(lh(m,b,i)),re.push(jd),c===null){var H=ee-x-C+2*Mg;re.push(uh(d,H,a))}else{var ie=(ee-x-C-R)/2+2*Mg;re.push(uh(d,ie,a)),re.push(jd),re.push(lh(c,b,i)),re.push(jd),re.push(uh(d,ie,a))}re.push(jd),re.push(lh(u,b,i))}var B=a.havingBaseStyle(Je.TEXT),Re=le.makeVList({positionType:"bottom",positionData:Q,children:re},B);return Ib(le.makeSpan(["delimsizing","mult"],[Re],B),Je.TEXT,a,s)},ch=80,dh=.08,ph=function(t,n,r,a,i){var s=Gq(t,a,r),u=new Ji(t,s),c=new li([u],{width:"400em",height:Ie(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return le.makeSvgSpan(["hide-tail"],[c],i)},jW=function(t,n){var r=n.havingBaseSizing(),a=H5("\\surd",t*r.sizeMultiplier,G5,r),i=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),u,c=0,d=0,m=0,f;return a.type==="small"?(m=1e3+1e3*s+ch,t<1?i=1:t<1.4&&(i=.7),c=(1+s+dh)/i,d=(1+s)/i,u=ph("sqrtMain",c,m,s,n),u.style.minWidth="0.853em",f=.833/i):a.type==="large"?(m=(1e3+ch)*bu[a.size],d=(bu[a.size]+s)/i,c=(bu[a.size]+s+dh)/i,u=ph("sqrtSize"+a.size,c,m,s,n),u.style.minWidth="1.02em",f=1/i):(c=t+s+dh,d=t+s,m=Math.floor(1e3*t+s)+ch,u=ph("sqrtTall",c,m,s,n),u.style.minWidth="0.742em",f=1.056),u.height=d,u.style.height=Ie(c),{span:u,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*i}},z5=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],GW=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],j5=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],bu=[0,1.2,1.8,2.4,3],HW=function(t,n,r,a,i){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),Ye.contains(z5,t)||Ye.contains(j5,t))return F5(t,n,!1,r,a,i);if(Ye.contains(GW,t))return B5(t,bu[n],!1,r,a,i);throw new ke("Illegal delimiter: '"+t+"'")},VW=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],qW=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"stack"}],G5=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],WW=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},H5=function(t,n,r,a){for(var i=Math.min(2,3-a.style.size),s=i;s<r.length&&r[s].type!=="stack";s++){var u=su(t,WW(r[s]),"math"),c=u.height+u.depth;if(r[s].type==="small"){var d=a.havingBaseStyle(r[s].style);c*=d.sizeMultiplier}if(c>n)return r[s]}return r[r.length-1]},V5=function(t,n,r,a,i,s){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var u;Ye.contains(j5,t)?u=VW:Ye.contains(z5,t)?u=G5:u=qW;var c=H5(t,n,u,a);return c.type==="small"?PW(t,c.style,r,a,i,s):c.type==="large"?F5(t,c.size,r,a,i,s):B5(t,n,r,a,i,s)},YW=function(t,n,r,a,i,s){var u=a.fontMetrics().axisHeight*a.sizeMultiplier,c=901,d=5/a.fontMetrics().ptPerEm,m=Math.max(n-u,r+u),f=Math.max(m/500*c,2*m-d);return V5(t,f,!0,a,i,s)},ri={sqrtImage:jW,sizedDelim:HW,sizeToMaxHeight:bu,customSizedDelim:V5,leftRightDelim:YW},YS={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function gm(e,t){var n=fm(e);if(n&&Ye.contains(KW,n.text))return n;throw n?new ke("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ke("Invalid delimiter type '"+e.type+"'",e)}De({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=gm(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:YS[e.funcName].size,mclass:YS[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?le.makeSpan([e.mclass]):ri.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Xr(e.delim,e.mode));var n=new Se.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Ie(ri.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function KS(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}De({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ke("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:gm(t[0],e).text,color:n}}});De({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=gm(t[0],e),r=e.parser;++r.leftrightDepth;var a=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var i=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:a,left:n.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{KS(e);for(var n=gn(e.body,t,!0,["mopen","mclose"]),r=0,a=0,i=!1,s=0;s<n.length;s++)n[s].isMiddle?i=!0:(r=Math.max(n[s].height,r),a=Math.max(n[s].depth,a));r*=t.sizeMultiplier,a*=t.sizeMultiplier;var u;if(e.left==="."?u=Fu(t,["mopen"]):u=ri.leftRightDelim(e.left,r,a,t,e.mode,["mopen"]),n.unshift(u),i)for(var c=1;c<n.length;c++){var d=n[c],m=d.isMiddle;m&&(n[c]=ri.leftRightDelim(m.delim,r,a,m.options,e.mode,[]))}var f;if(e.right===".")f=Fu(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;f=ri.leftRightDelim(e.right,r,a,h,e.mode,["mclose"])}return n.push(f),le.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{KS(e);var n=hr(e.body,t);if(e.left!=="."){var r=new Se.MathNode("mo",[Xr(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var a=new Se.MathNode("mo",[Xr(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),n.push(a)}return kb(n)}});De({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=gm(t[0],e);if(!e.parser.leftrightDepth)throw new ke("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Fu(t,[]);else{n=ri.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Xr("|","text"):Xr(e.delim,e.mode),r=new Se.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Lb=(e,t)=>{var n=le.wrapFragment(yt(e.body,t),t),r=e.label.slice(1),a=t.sizeMultiplier,i,s=0,u=Ye.isCharacterBox(e.body);if(r==="sout")i=le.makeSpan(["stretchy","sout"]),i.height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var c=Vt({number:.6,unit:"pt"},t),d=Vt({number:.35,unit:"ex"},t),m=t.havingBaseSizing();a=a/m.sizeMultiplier;var f=n.height+n.depth+c+d;n.style.paddingLeft=Ie(f/2+c);var h=Math.floor(1e3*f*a),b=zq(h),_=new li([new Ji("phase",b)],{width:"400em",height:Ie(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});i=le.makeSvgSpan(["hide-tail"],[_],t),i.style.height=Ie(f),s=n.depth+c+d}else{/cancel/.test(r)?u||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var x=0,T=0,S=0;/box/.test(r)?(S=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),x=t.fontMetrics().fboxsep+(r==="colorbox"?0:S),T=x):r==="angl"?(S=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),x=4*S,T=Math.max(0,.25-n.depth)):(x=u?.2:0,T=x),i=ci.encloseSpan(n,r,x,T,t),/fbox|boxed|fcolorbox/.test(r)?(i.style.borderStyle="solid",i.style.borderWidth=Ie(S)):r==="angl"&&S!==.049&&(i.style.borderTopWidth=Ie(S),i.style.borderRightWidth=Ie(S)),s=n.depth+T,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}var A;if(e.backgroundColor)A=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var C=/cancel|phase/.test(r)?["svg-align"]:[];A=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:i,shift:s,wrapperClasses:C}]},t)}return/cancel/.test(r)&&(A.height=n.height,A.depth=n.depth),/cancel/.test(r)&&!u?le.makeSpan(["mord","cancel-lap"],[A],t):le.makeSpan(["mord"],[A],t)},Rb=(e,t)=>{var n=0,r=new Se.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Tt(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};De({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,i=ct(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:a,backgroundColor:i,body:s}},htmlBuilder:Lb,mathmlBuilder:Rb});De({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,i=ct(t[0],"color-token").color,s=ct(t[1],"color-token").color,u=t[2];return{type:"enclose",mode:r.mode,label:a,backgroundColor:s,borderColor:i,body:u}},htmlBuilder:Lb,mathmlBuilder:Rb});De({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});De({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"enclose",mode:n.mode,label:r,body:a}},htmlBuilder:Lb,mathmlBuilder:Rb});De({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var q5={};function Ua(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:i,mathmlBuilder:s}=e,u={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},c=0;c<n.length;++c)q5[n[c]]=u;i&&(Cp[t]=i),s&&(Ip[t]=s)}var W5={};function D(e,t){W5[e]=t}function XS(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var bm=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ke("{"+e.envName+"} can be used only in display mode.")};function Db(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ro(e,t,n){var{hskipBeforeAndAfter:r,addJot:a,cols:i,arraystretch:s,colSeparationType:u,autoTag:c,singleRow:d,emptySingleRow:m,maxNumCols:f,leqno:h}=t;if(e.gullet.beginGroup(),d||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var b=e.gullet.expandMacroAsText("\\arraystretch");if(b==null)s=1;else if(s=parseFloat(b),!s||s<0)throw new ke("Invalid \\arraystretch: "+b)}e.gullet.beginGroup();var _=[],x=[_],T=[],S=[],A=c!=null?[]:void 0;function C(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function R(){A&&(e.gullet.macros.get("\\df@tag")?(A.push(e.subparse([new La("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!c&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(C(),S.push(XS(e));;){var M=e.parseExpression(!1,d?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),M={type:"ordgroup",mode:e.mode,body:M},n&&(M={type:"styling",mode:e.mode,style:n,body:[M]}),_.push(M);var P=e.fetch().text;if(P==="&"){if(f&&_.length===f){if(d||u)throw new ke("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(P==="\\end"){R(),_.length===1&&M.type==="styling"&&M.body[0].body.length===0&&(x.length>1||!m)&&x.pop(),S.length<x.length+1&&S.push([]);break}else if(P==="\\\\"){e.consume();var j=void 0;e.gullet.future().text!==" "&&(j=e.parseSizeGroup(!0)),T.push(j?j.value:null),R(),S.push(XS(e)),_=[],x.push(_),C()}else throw new ke("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:s,body:x,cols:i,rowGaps:T,hskipBeforeAndAfter:r,hLinesBeforeRow:S,colSeparationType:u,tags:A,leqno:h}}function Ob(e){return e.slice(0,1)==="d"?"display":"text"}var Ma=function(t,n){var r,a,i=t.body.length,s=t.hLinesBeforeRow,u=0,c=new Array(i),d=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,h=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var b=n.havingStyle(Je.SCRIPT).sizeMultiplier;h=.2778*(b/n.sizeMultiplier)}var _=t.colSeparationType==="CD"?Vt({number:3,unit:"ex"},n):12*f,x=3*f,T=t.arraystretch*_,S=.7*T,A=.3*T,C=0;function R(gr){for(var _t=0;_t<gr.length;++_t)_t>0&&(C+=.25),d.push({pos:C,isDashed:gr[_t]})}for(R(s[0]),r=0;r<t.body.length;++r){var M=t.body[r],P=S,j=A;u<M.length&&(u=M.length);var K=new Array(M.length);for(a=0;a<M.length;++a){var ee=yt(M[a],n);j<ee.depth&&(j=ee.depth),P<ee.height&&(P=ee.height),K[a]=ee}var G=t.rowGaps[r],Q=0;G&&(Q=Vt(G,n),Q>0&&(Q+=A,j<Q&&(j=Q),Q=0)),t.addJot&&(j+=x),K.height=P,K.depth=j,C+=P,K.pos=C,C+=j+Q,c[r]=K,R(s[r+1])}var re=C/2+n.fontMetrics().axisHeight,ae=t.cols||[],ne=[],me,be,fe=[];if(t.tags&&t.tags.some(gr=>gr))for(r=0;r<i;++r){var J=c[r],he=J.pos-re,O=t.tags[r],H=void 0;O===!0?H=le.makeSpan(["eqn-num"],[],n):O===!1?H=le.makeSpan([],[],n):H=le.makeSpan([],gn(O,n,!0),n),H.depth=J.depth,H.height=J.height,fe.push({type:"elem",elem:H,shift:he})}for(a=0,be=0;a<u||be<ae.length;++a,++be){for(var ie=ae[be]||{},B=!0;ie.type==="separator";){if(B||(me=le.makeSpan(["arraycolsep"],[]),me.style.width=Ie(n.fontMetrics().doubleRuleSep),ne.push(me)),ie.separator==="|"||ie.separator===":"){var Re=ie.separator==="|"?"solid":"dashed",Pe=le.makeSpan(["vertical-separator"],[],n);Pe.style.height=Ie(C),Pe.style.borderRightWidth=Ie(m),Pe.style.borderRightStyle=Re,Pe.style.margin="0 "+Ie(-m/2);var Le=C-re;Le&&(Pe.style.verticalAlign=Ie(-Le)),ne.push(Pe)}else throw new ke("Invalid separator type: "+ie.separator);be++,ie=ae[be]||{},B=!1}if(!(a>=u)){var Ve=void 0;(a>0||t.hskipBeforeAndAfter)&&(Ve=Ye.deflt(ie.pregap,h),Ve!==0&&(me=le.makeSpan(["arraycolsep"],[]),me.style.width=Ie(Ve),ne.push(me)));var Fe=[];for(r=0;r<i;++r){var et=c[r],dt=et[a];if(dt){var Ot=et.pos-re;dt.depth=et.depth,dt.height=et.height,Fe.push({type:"elem",elem:dt,shift:Ot})}}Fe=le.makeVList({positionType:"individualShift",children:Fe},n),Fe=le.makeSpan(["col-align-"+(ie.align||"c")],[Fe]),ne.push(Fe),(a<u-1||t.hskipBeforeAndAfter)&&(Ve=Ye.deflt(ie.postgap,h),Ve!==0&&(me=le.makeSpan(["arraycolsep"],[]),me.style.width=Ie(Ve),ne.push(me)))}}if(c=le.makeSpan(["mtable"],ne),d.length>0){for(var jn=le.makeLineSpan("hline",n,m),qe=le.makeLineSpan("hdashline",n,m),Gn=[{type:"elem",elem:c,shift:0}];d.length>0;){var er=d.pop(),un=er.pos-re;er.isDashed?Gn.push({type:"elem",elem:qe,shift:un}):Gn.push({type:"elem",elem:jn,shift:un})}c=le.makeVList({positionType:"individualShift",children:Gn},n)}if(fe.length===0)return le.makeSpan(["mord"],[c],n);var tr=le.makeVList({positionType:"individualShift",children:fe},n);return tr=le.makeSpan(["tag"],[tr],n),le.makeFragment([c,tr])},XW={c:"center ",l:"left ",r:"right "},Pa=function(t,n){for(var r=[],a=new Se.MathNode("mtd",[],["mtr-glue"]),i=new Se.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var u=t.body[s],c=[],d=0;d<u.length;d++)c.push(new Se.MathNode("mtd",[Tt(u[d],n)]));t.tags&&t.tags[s]&&(c.unshift(a),c.push(a),t.leqno?c.unshift(i):c.push(i)),r.push(new Se.MathNode("mtr",c))}var m=new Se.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);m.setAttribute("rowspacing",Ie(f));var h="",b="";if(t.cols&&t.cols.length>0){var _=t.cols,x="",T=!1,S=0,A=_.length;_[0].type==="separator"&&(h+="top ",S=1),_[_.length-1].type==="separator"&&(h+="bottom ",A-=1);for(var C=S;C<A;C++)_[C].type==="align"?(b+=XW[_[C].align],T&&(x+="none "),T=!0):_[C].type==="separator"&&T&&(x+=_[C].separator==="|"?"solid ":"dashed ",T=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(x)&&m.setAttribute("columnlines",x.trim())}if(t.colSeparationType==="align"){for(var R=t.cols||[],M="",P=1;P<R.length;P++)M+=P%2?"0em ":"1em ";m.setAttribute("columnspacing",M.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var j="",K=t.hLinesBeforeRow;h+=K[0].length>0?"left ":"",h+=K[K.length-1].length>0?"right ":"";for(var ee=1;ee<K.length-1;ee++)j+=K[ee].length===0?"none ":K[ee][0]?"dashed ":"solid ";return/[sd]/.test(j)&&m.setAttribute("rowlines",j.trim()),h!==""&&(m=new Se.MathNode("menclose",[m]),m.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(m=new Se.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},Y5=function(t,n){t.envName.indexOf("ed")===-1&&bm(t);var r=[],a=t.envName.indexOf("at")>-1?"alignat":"align",i=t.envName==="split",s=ro(t.parser,{cols:r,addJot:!0,autoTag:i?void 0:Db(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:i?2:void 0,leqno:t.parser.settings.leqno},"display"),u,c=0,d={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",f=0;f<n[0].body.length;f++){var h=ct(n[0].body[f],"textord");m+=h.text}u=Number(m),c=u*2}var b=!c;s.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var C=ct(S[A],"styling"),R=ct(C.body[0],"ordgroup");R.body.unshift(d)}if(b)c<S.length&&(c=S.length);else{var M=S.length/2;if(u<M)throw new ke("Too many math in a row: "+("expected "+u+", but got "+M),S[0])}});for(var _=0;_<c;++_){var x="r",T=0;_%2===1?x="l":_>0&&b&&(T=1),r[_]={type:"align",align:x,pregap:T,postgap:0}}return s.colSeparationType=b?"align":"alignat",s};Ua({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=fm(t[0]),r=n?[t[0]]:ct(t[0],"ordgroup").body,a=r.map(function(s){var u=Nb(s),c=u.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new ke("Unknown column alignment: "+c,s)}),i={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return ro(e.parser,i,Ob(e.envName))},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),n=a.fetch().text,"lcr".indexOf(n)===-1)throw new ke("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),r.cols=[{type:"align",align:n}]}}var i=ro(e.parser,r,Ob(e.envName)),s=Math.max(0,...i.body.map(u=>u.length));return i.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=ro(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=fm(t[0]),r=n?[t[0]]:ct(t[0],"ordgroup").body,a=r.map(function(s){var u=Nb(s),c=u.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new ke("Unknown column alignment: "+c,s)});if(a.length>1)throw new ke("{subarray} can contain only one column");var i={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=ro(e.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new ke("{subarray} can contain only one column");return i},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ro(e.parser,t,Ob(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Y5,htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Ye.contains(["gather","gather*"],e.envName)&&bm(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Db(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ro(e.parser,t,"display")},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Y5,htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){bm(e);var t={autoTag:Db(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ro(e.parser,t,"display")},htmlBuilder:Ma,mathmlBuilder:Pa});Ua({type:"array",names:["CD"],props:{numArgs:0},handler(e){return bm(e),UW(e.parser)},htmlBuilder:Ma,mathmlBuilder:Pa});D("\\nonumber","\\gdef\\@eqnsw{0}");D("\\notag","\\nonumber");De({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ke(e.funcName+" valid only within array environment")}});var QS=q5;De({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];if(a.type!=="ordgroup")throw new ke("Invalid environment name",a);for(var i="",s=0;s<a.body.length;++s)i+=ct(a.body[s],"textord").text;if(r==="\\begin"){if(!QS.hasOwnProperty(i))throw new ke("No such environment: "+i,a);var u=QS[i],{args:c,optArgs:d}=n.parseArguments("\\begin{"+i+"}",u),m={mode:n.mode,envName:i,parser:n},f=u.handler(m,c,d);n.expect("\\end",!1);var h=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==i)throw new ke("Mismatch: \\begin{"+i+"} matched by \\end{"+b.name+"}",h);return f}return{type:"environment",mode:n.mode,name:i,nameGroup:a}}});var K5=(e,t)=>{var n=e.font,r=t.withFont(n);return yt(e.body,r)},X5=(e,t)=>{var n=e.font,r=t.withFont(n);return Tt(e.body,r)},ZS={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};De({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=Lp(t[0]),i=r;return i in ZS&&(i=ZS[i]),{type:"font",mode:n.mode,font:i.slice(1),body:a}},htmlBuilder:K5,mathmlBuilder:X5});De({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],a=Ye.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:hm(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:a}}});De({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:a}=e,{mode:i}=n,s=n.parseExpression(!0,a),u="math"+r.slice(1);return{type:"font",mode:i,font:u,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:K5,mathmlBuilder:X5});var Q5=(e,t)=>{var n=t;return e==="display"?n=n.id>=Je.SCRIPT.id?n.text():Je.DISPLAY:e==="text"&&n.size===Je.DISPLAY.size?n=Je.TEXT:e==="script"?n=Je.SCRIPT:e==="scriptscript"&&(n=Je.SCRIPTSCRIPT),n},Ub=(e,t)=>{var n=Q5(e.size,t.style),r=n.fracNum(),a=n.fracDen(),i;i=t.havingStyle(r);var s=yt(e.numer,i,t);if(e.continued){var u=8.5/t.fontMetrics().ptPerEm,c=3.5/t.fontMetrics().ptPerEm;s.height=s.height<u?u:s.height,s.depth=s.depth<c?c:s.depth}i=t.havingStyle(a);var d=yt(e.denom,i,t),m,f,h;e.hasBarLine?(e.barSize?(f=Vt(e.barSize,t),m=le.makeLineSpan("frac-line",t,f)):m=le.makeLineSpan("frac-line",t),f=m.height,h=m.height):(m=null,f=0,h=t.fontMetrics().defaultRuleThickness);var b,_,x;n.size===Je.DISPLAY.size||e.size==="display"?(b=t.fontMetrics().num1,f>0?_=3*h:_=7*h,x=t.fontMetrics().denom1):(f>0?(b=t.fontMetrics().num2,_=h):(b=t.fontMetrics().num3,_=3*h),x=t.fontMetrics().denom2);var T;if(m){var A=t.fontMetrics().axisHeight;b-s.depth-(A+.5*f)<_&&(b+=_-(b-s.depth-(A+.5*f))),A-.5*f-(d.height-x)<_&&(x+=_-(A-.5*f-(d.height-x)));var C=-(A-.5*f);T=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:x},{type:"elem",elem:m,shift:C},{type:"elem",elem:s,shift:-b}]},t)}else{var S=b-s.depth-(d.height-x);S<_&&(b+=.5*(_-S),x+=.5*(_-S)),T=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:x},{type:"elem",elem:s,shift:-b}]},t)}i=t.havingStyle(n),T.height*=i.sizeMultiplier/t.sizeMultiplier,T.depth*=i.sizeMultiplier/t.sizeMultiplier;var R;n.size===Je.DISPLAY.size?R=t.fontMetrics().delim1:n.size===Je.SCRIPTSCRIPT.size?R=t.havingStyle(Je.SCRIPT).fontMetrics().delim2:R=t.fontMetrics().delim2;var M,P;return e.leftDelim==null?M=Fu(t,["mopen"]):M=ri.customSizedDelim(e.leftDelim,R,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?P=le.makeSpan([]):e.rightDelim==null?P=Fu(t,["mclose"]):P=ri.customSizedDelim(e.rightDelim,R,!0,t.havingStyle(n),e.mode,["mclose"]),le.makeSpan(["mord"].concat(i.sizingClasses(t)),[M,le.makeSpan(["mfrac"],[T]),P],t)},Mb=(e,t)=>{var n=new Se.MathNode("mfrac",[Tt(e.numer,t),Tt(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=Vt(e.barSize,t);n.setAttribute("linethickness",Ie(r))}var a=Q5(e.size,t.style);if(a.size!==t.style.size){n=new Se.MathNode("mstyle",[n]);var i=a.size===Je.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",i),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var u=new Se.MathNode("mo",[new Se.TextNode(e.leftDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}if(s.push(n),e.rightDelim!=null){var c=new Se.MathNode("mo",[new Se.TextNode(e.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}return kb(s)}return n};De({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],i=t[1],s,u=null,c=null,d="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,u="(",c=")";break;case"\\\\bracefrac":s=!1,u="\\{",c="\\}";break;case"\\\\brackfrac":s=!1,u="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":d="display";break;case"\\tfrac":case"\\tbinom":d="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:i,hasBarLine:s,leftDelim:u,rightDelim:c,size:d,barSize:null}},htmlBuilder:Ub,mathmlBuilder:Mb});De({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],i=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:a,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});De({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,a;switch(n){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:r}}});var JS=["display","text","script","scriptscript"],eT=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};De({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],a=t[5],i=Lp(t[0]),s=i.type==="atom"&&i.family==="open"?eT(i.text):null,u=Lp(t[1]),c=u.type==="atom"&&u.family==="close"?eT(u.text):null,d=ct(t[2],"size"),m,f=null;d.isBlank?m=!0:(f=d.value,m=f.number>0);var h="auto",b=t[3];if(b.type==="ordgroup"){if(b.body.length>0){var _=ct(b.body[0],"textord");h=JS[Number(_.text)]}}else b=ct(b,"textord"),h=JS[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:a,continued:!1,hasBarLine:m,barSize:f,leftDelim:s,rightDelim:c,size:h}},htmlBuilder:Ub,mathmlBuilder:Mb});De({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:a}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(t[0],"size").value,token:a}}});De({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],i=Tq(ct(t[1],"infix").size),s=t[2],u=i.number>0;return{type:"genfrac",mode:n.mode,numer:a,denom:s,continued:!1,hasBarLine:u,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ub,mathmlBuilder:Mb});var Z5=(e,t)=>{var n=t.style,r,a;e.type==="supsub"?(r=e.sup?yt(e.sup,t.havingStyle(n.sup()),t):yt(e.sub,t.havingStyle(n.sub()),t),a=ct(e.base,"horizBrace")):a=ct(e,"horizBrace");var i=yt(a.base,t.havingBaseStyle(Je.DISPLAY)),s=ci.svgSpan(a,t),u;if(a.isOver?(u=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:s}]},t),u.children[0].children[0].children[1].classes.push("svg-align")):(u=le.makeVList({positionType:"bottom",positionData:i.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:i}]},t),u.children[0].children[0].children[0].classes.push("svg-align")),r){var c=le.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t);a.isOver?u=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},t):u=le.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return le.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t)},QW=(e,t)=>{var n=ci.mathMLnode(e.label);return new Se.MathNode(e.isOver?"mover":"munder",[Tt(e.base,t),n])};De({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Z5,mathmlBuilder:QW});De({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],a=ct(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:n.mode,href:a,body:Jt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=gn(e.body,t,!1);return le.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=eo(e.body,t);return n instanceof Nr||(n=new Nr("mrow",[n])),n.setAttribute("href",e.href),n}});De({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=ct(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var a=[],i=0;i<r.length;i++){var s=r[i];s==="~"&&(s="\\textasciitilde"),a.push({type:"textord",mode:"text",text:s})}var u={type:"text",mode:n.mode,font:"\\texttt",body:a};return{type:"href",mode:n.mode,href:r,body:Jt(u)}}});De({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Jt(t[0])}},htmlBuilder(e,t){var n=gn(e.body,t,!1);return le.makeFragment(n)},mathmlBuilder(e,t){return new Se.MathNode("mrow",hr(e.body,t))}});De({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:a}=e,i=ct(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u,c={};switch(r){case"\\htmlClass":c.class=i,u={command:"\\htmlClass",class:i};break;case"\\htmlId":c.id=i,u={command:"\\htmlId",id:i};break;case"\\htmlStyle":c.style=i,u={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var d=i.split(","),m=0;m<d.length;m++){var f=d[m].split("=");if(f.length!==2)throw new ke("Error parsing key-value for \\htmlData");c["data-"+f[0].trim()]=f[1].trim()}u={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(u)?{type:"html",mode:n.mode,attributes:c,body:Jt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=gn(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var a=le.makeSpan(r,n,t);for(var i in e.attributes)i!=="class"&&e.attributes.hasOwnProperty(i)&&a.setAttribute(i,e.attributes[i]);return a},mathmlBuilder:(e,t)=>eo(e.body,t)});De({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Jt(t[0]),mathml:Jt(t[1])}},htmlBuilder:(e,t)=>{var n=gn(e.html,t,!1);return le.makeFragment(n)},mathmlBuilder:(e,t)=>eo(e.mathml,t)});var mh=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ke("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!b5(r))throw new ke("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};De({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,a={number:0,unit:"em"},i={number:.9,unit:"em"},s={number:0,unit:"em"},u="";if(n[0])for(var c=ct(n[0],"raw").string,d=c.split(","),m=0;m<d.length;m++){var f=d[m].split("=");if(f.length===2){var h=f[1].trim();switch(f[0].trim()){case"alt":u=h;break;case"width":a=mh(h);break;case"height":i=mh(h);break;case"totalheight":s=mh(h);break;default:throw new ke("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var b=ct(t[0],"url").url;return u===""&&(u=b,u=u.replace(/^.*[\\/]/,""),u=u.substring(0,u.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:u,width:a,height:i,totalheight:s,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Vt(e.height,t),r=0;e.totalheight.number>0&&(r=Vt(e.totalheight,t)-n);var a=0;e.width.number>0&&(a=Vt(e.width,t));var i={height:Ie(n+r)};a>0&&(i.width=Ie(a)),r>0&&(i.verticalAlign=Ie(-r));var s=new Qq(e.src,e.alt,i);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new Se.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=Vt(e.height,t),a=0;if(e.totalheight.number>0&&(a=Vt(e.totalheight,t)-r,n.setAttribute("valign",Ie(-a))),n.setAttribute("height",Ie(r+a)),e.width.number>0){var i=Vt(e.width,t);n.setAttribute("width",Ie(i))}return n.setAttribute("src",e.src),n}});De({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=ct(t[0],"size");if(n.settings.strict){var i=r[1]==="m",s=a.value.unit==="mu";i?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+a.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:a.value}},htmlBuilder(e,t){return le.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Vt(e.dimension,t);return new Se.SpaceNode(n)}});De({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:a}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=le.makeSpan([],[yt(e.body,t)]),n=le.makeSpan(["inner"],[n],t)):n=le.makeSpan(["inner"],[yt(e.body,t)]);var r=le.makeSpan(["fix"],[]),a=le.makeSpan([e.alignment],[n,r],t),i=le.makeSpan(["strut"]);return i.style.height=Ie(a.height+a.depth),a.depth&&(i.style.verticalAlign=Ie(-a.depth)),a.children.unshift(i),a=le.makeSpan(["thinbox"],[a],t),le.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var n=new Se.MathNode("mpadded",[Tt(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});De({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,a=r.mode;r.switchMode("math");var i=n==="\\("?"\\)":"$",s=r.parseExpression(!1,i);return r.expect(i),r.switchMode(a),{type:"styling",mode:r.mode,style:"text",body:s}}});De({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ke("Mismatched "+e.funcName)}});var tT=(e,t)=>{switch(t.style.size){case Je.DISPLAY.size:return e.display;case Je.TEXT.size:return e.text;case Je.SCRIPT.size:return e.script;case Je.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};De({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Jt(t[0]),text:Jt(t[1]),script:Jt(t[2]),scriptscript:Jt(t[3])}},htmlBuilder:(e,t)=>{var n=tT(e,t),r=gn(n,t,!1);return le.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=tT(e,t);return eo(n,t)}});var J5=(e,t,n,r,a,i,s)=>{e=le.makeSpan([],[e]);var u=n&&Ye.isCharacterBox(n),c,d;if(t){var m=yt(t,r.havingStyle(a.sup()),r);d={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var f=yt(n,r.havingStyle(a.sub()),r);c={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var h;if(d&&c){var b=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+s;h=le.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ie(-i)},{type:"kern",size:c.kern},{type:"elem",elem:e},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:Ie(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var _=e.height-s;h=le.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ie(-i)},{type:"kern",size:c.kern},{type:"elem",elem:e}]},r)}else if(d){var x=e.depth+s;h=le.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:e},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:Ie(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var T=[h];if(c&&i!==0&&!u){var S=le.makeSpan(["mspace"],[],r);S.style.marginRight=Ie(i),T.unshift(S)}return le.makeSpan(["mop","op-limits"],T,r)},e9=["\\smallint"],nl=(e,t)=>{var n,r,a=!1,i;e.type==="supsub"?(n=e.sup,r=e.sub,i=ct(e.base,"op"),a=!0):i=ct(e,"op");var s=t.style,u=!1;s.size===Je.DISPLAY.size&&i.symbol&&!Ye.contains(e9,i.name)&&(u=!0);var c;if(i.symbol){var d=u?"Size2-Regular":"Size1-Regular",m="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(m=i.name.slice(1),i.name=m==="oiint"?"\\iint":"\\iiint"),c=le.makeSymbol(i.name,d,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),m.length>0){var f=c.italic,h=le.staticSvg(m+"Size"+(u?"2":"1"),t);c=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:h,shift:u?.08:0}]},t),i.name="\\"+m,c.classes.unshift("mop"),c.italic=f}}else if(i.body){var b=gn(i.body,t,!0);b.length===1&&b[0]instanceof Kr?(c=b[0],c.classes[0]="mop"):c=le.makeSpan(["mop"],b,t)}else{for(var _=[],x=1;x<i.name.length;x++)_.push(le.mathsym(i.name[x],i.mode,t));c=le.makeSpan(["mop"],_,t)}var T=0,S=0;return(c instanceof Kr||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(T=(c.height-c.depth)/2-t.fontMetrics().axisHeight,S=c.italic),a?J5(c,n,r,t,s,S,T):(T&&(c.style.position="relative",c.style.top=Ie(T)),c)},rc=(e,t)=>{var n;if(e.symbol)n=new Nr("mo",[Xr(e.name,e.mode)]),Ye.contains(e9,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Nr("mo",hr(e.body,t));else{n=new Nr("mi",[new Aa(e.name.slice(1))]);var r=new Nr("mo",[Xr("","text")]);e.parentIsSupSub?n=new Nr("mrow",[n,r]):n=A5([n,r])}return n},ZW={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};De({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=r;return a.length===1&&(a=ZW[a]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:nl,mathmlBuilder:rc});De({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Jt(r)}},htmlBuilder:nl,mathmlBuilder:rc});var JW={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};De({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:nl,mathmlBuilder:rc});De({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:nl,mathmlBuilder:rc});De({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=JW[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:nl,mathmlBuilder:rc});var t9=(e,t)=>{var n,r,a=!1,i;e.type==="supsub"?(n=e.sup,r=e.sub,i=ct(e.base,"operatorname"),a=!0):i=ct(e,"operatorname");var s;if(i.body.length>0){for(var u=i.body.map(f=>{var h=f.text;return typeof h=="string"?{type:"textord",mode:f.mode,text:h}:f}),c=gn(u,t.withFont("mathrm"),!0),d=0;d<c.length;d++){var m=c[d];m instanceof Kr&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=le.makeSpan(["mop"],c,t)}else s=le.makeSpan(["mop"],[],t);return a?J5(s,n,r,t,t.style,0,0):s},eY=(e,t)=>{for(var n=hr(e.body,t.withFont("mathrm")),r=!0,a=0;a<n.length;a++){var i=n[a];if(!(i instanceof Se.SpaceNode))if(i instanceof Se.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=i.children[0];i.children.length===1&&s instanceof Se.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var u=n.map(m=>m.toText()).join("");n=[new Se.TextNode(u)]}var c=new Se.MathNode("mi",n);c.setAttribute("mathvariant","normal");var d=new Se.MathNode("mo",[Xr("","text")]);return e.parentIsSupSub?new Se.MathNode("mrow",[c,d]):Se.newDocumentFragment([c,d])};De({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"operatorname",mode:n.mode,body:Jt(a),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:t9,mathmlBuilder:eY});D("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Uo({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?le.makeFragment(gn(e.body,t,!1)):le.makeSpan(["mord"],gn(e.body,t,!0),t)},mathmlBuilder(e,t){return eo(e.body,t,!0)}});De({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=yt(e.body,t.havingCrampedStyle()),r=le.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,i=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r},{type:"kern",size:a}]},t);return le.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var n=new Se.MathNode("mo",[new Se.TextNode("")]);n.setAttribute("stretchy","true");var r=new Se.MathNode("mover",[Tt(e.body,t),n]);return r.setAttribute("accent","true"),r}});De({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:Jt(r)}},htmlBuilder:(e,t)=>{var n=gn(e.body,t.withPhantom(),!1);return le.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=hr(e.body,t);return new Se.MathNode("mphantom",n)}});De({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=le.makeSpan([],[yt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),le.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=hr(Jt(e.body),t),r=new Se.MathNode("mphantom",n),a=new Se.MathNode("mpadded",[r]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});De({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=le.makeSpan(["inner"],[yt(e.body,t.withPhantom())]),r=le.makeSpan(["fix"],[]);return le.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=hr(Jt(e.body),t),r=new Se.MathNode("mphantom",n),a=new Se.MathNode("mpadded",[r]);return a.setAttribute("width","0px"),a}});De({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=ct(t[0],"size").value,a=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:a}},htmlBuilder(e,t){var n=yt(e.body,t),r=Vt(e.dy,t);return le.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Se.MathNode("mpadded",[Tt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});De({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});De({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,a=n[0],i=ct(t[0],"size"),s=ct(t[1],"size");return{type:"rule",mode:r.mode,shift:a&&ct(a,"size").value,width:i.value,height:s.value}},htmlBuilder(e,t){var n=le.makeSpan(["mord","rule"],[],t),r=Vt(e.width,t),a=Vt(e.height,t),i=e.shift?Vt(e.shift,t):0;return n.style.borderRightWidth=Ie(r),n.style.borderTopWidth=Ie(a),n.style.bottom=Ie(i),n.width=r,n.height=a+i,n.depth=-i,n.maxFontSize=a*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Vt(e.width,t),r=Vt(e.height,t),a=e.shift?Vt(e.shift,t):0,i=t.color&&t.getColor()||"black",s=new Se.MathNode("mspace");s.setAttribute("mathbackground",i),s.setAttribute("width",Ie(n)),s.setAttribute("height",Ie(r));var u=new Se.MathNode("mpadded",[s]);return a>=0?u.setAttribute("height",Ie(a)):(u.setAttribute("height",Ie(a)),u.setAttribute("depth",Ie(-a))),u.setAttribute("voffset",Ie(a)),u}});function n9(e,t,n){for(var r=gn(e,t,!1),a=t.sizeMultiplier/n.sizeMultiplier,i=0;i<r.length;i++){var s=r[i].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[i].classes,t.sizingClasses(n)):r[i].classes[s+1]==="reset-size"+t.size&&(r[i].classes[s+1]="reset-size"+n.size),r[i].height*=a,r[i].depth*=a}return le.makeFragment(r)}var nT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],tY=(e,t)=>{var n=t.havingSize(e.size);return n9(e.body,n,t)};De({type:"sizing",names:nT,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:a}=e,i=a.parseExpression(!1,n);return{type:"sizing",mode:a.mode,size:nT.indexOf(r)+1,body:i}},htmlBuilder:tY,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=hr(e.body,n),a=new Se.MathNode("mstyle",r);return a.setAttribute("mathsize",Ie(n.sizeMultiplier)),a}});De({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,a=!1,i=!1,s=n[0]&&ct(n[0],"ordgroup");if(s)for(var u="",c=0;c<s.body.length;++c){var d=s.body[c];if(u=d.text,u==="t")a=!0;else if(u==="b")i=!0;else{a=!1,i=!1;break}}else a=!0,i=!0;var m=t[0];return{type:"smash",mode:r.mode,body:m,smashHeight:a,smashDepth:i}},htmlBuilder:(e,t)=>{var n=le.makeSpan([],[yt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].depth=0;var i=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return le.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var n=new Se.MathNode("mpadded",[Tt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});De({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,a=n[0],i=t[0];return{type:"sqrt",mode:r.mode,body:i,index:a}},htmlBuilder(e,t){var n=yt(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=le.wrapFragment(n,t);var r=t.fontMetrics(),a=r.defaultRuleThickness,i=a;t.style.id<Je.TEXT.id&&(i=t.fontMetrics().xHeight);var s=a+i/4,u=n.height+n.depth+s+a,{span:c,ruleWidth:d,advanceWidth:m}=ri.sqrtImage(u,t),f=c.height-d;f>n.height+n.depth+s&&(s=(s+f-n.height-n.depth)/2);var h=c.height-n.height-s-d;n.style.paddingLeft=Ie(m);var b=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:c},{type:"kern",size:d}]},t);if(e.index){var _=t.havingStyle(Je.SCRIPTSCRIPT),x=yt(e.index,_,t),T=.6*(b.height-b.depth),S=le.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:x}]},t),A=le.makeSpan(["root"],[S]);return le.makeSpan(["mord","sqrt"],[A,b],t)}else return le.makeSpan(["mord","sqrt"],[b],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Se.MathNode("mroot",[Tt(n,t),Tt(r,t)]):new Se.MathNode("msqrt",[Tt(n,t)])}});var rT={display:Je.DISPLAY,text:Je.TEXT,script:Je.SCRIPT,scriptscript:Je.SCRIPTSCRIPT};De({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:a}=e,i=a.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:a.mode,style:s,body:i}},htmlBuilder(e,t){var n=rT[e.style],r=t.havingStyle(n).withFont("");return n9(e.body,r,t)},mathmlBuilder(e,t){var n=rT[e.style],r=t.havingStyle(n),a=hr(e.body,r),i=new Se.MathNode("mstyle",a),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},u=s[e.style];return i.setAttribute("scriptlevel",u[0]),i.setAttribute("displaystyle",u[1]),i}});var nY=function(t,n){var r=t.base;if(r)if(r.type==="op"){var a=r.limits&&(n.style.size===Je.DISPLAY.size||r.alwaysHandleSupSub);return a?nl:null}else if(r.type==="operatorname"){var i=r.alwaysHandleSupSub&&(n.style.size===Je.DISPLAY.size||r.limits);return i?t9:null}else{if(r.type==="accent")return Ye.isCharacterBox(r.base)?Cb:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?Z5:null}else return null}else return null};Uo({type:"supsub",htmlBuilder(e,t){var n=nY(e,t);if(n)return n(e,t);var{base:r,sup:a,sub:i}=e,s=yt(r,t),u,c,d=t.fontMetrics(),m=0,f=0,h=r&&Ye.isCharacterBox(r);if(a){var b=t.havingStyle(t.style.sup());u=yt(a,b,t),h||(m=s.height-b.fontMetrics().supDrop*b.sizeMultiplier/t.sizeMultiplier)}if(i){var _=t.havingStyle(t.style.sub());c=yt(i,_,t),h||(f=s.depth+_.fontMetrics().subDrop*_.sizeMultiplier/t.sizeMultiplier)}var x;t.style===Je.DISPLAY?x=d.sup1:t.style.cramped?x=d.sup3:x=d.sup2;var T=t.sizeMultiplier,S=Ie(.5/d.ptPerEm/T),A=null;if(c){var C=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Kr||C)&&(A=Ie(-s.italic))}var R;if(u&&c){m=Math.max(m,x,u.depth+.25*d.xHeight),f=Math.max(f,d.sub2);var M=d.defaultRuleThickness,P=4*M;if(m-u.depth-(c.height-f)<P){f=P-(m-u.depth)+c.height;var j=.8*d.xHeight-(m-u.depth);j>0&&(m+=j,f-=j)}var K=[{type:"elem",elem:c,shift:f,marginRight:S,marginLeft:A},{type:"elem",elem:u,shift:-m,marginRight:S}];R=le.makeVList({positionType:"individualShift",children:K},t)}else if(c){f=Math.max(f,d.sub1,c.height-.8*d.xHeight);var ee=[{type:"elem",elem:c,marginLeft:A,marginRight:S}];R=le.makeVList({positionType:"shift",positionData:f,children:ee},t)}else if(u)m=Math.max(m,x,u.depth+.25*d.xHeight),R=le.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:u,marginRight:S}]},t);else throw new Error("supsub must have either sup or sub.");var G=Dg(s,"right")||"mord";return le.makeSpan([G],[s,le.makeSpan(["msupsub"],[R])],t)},mathmlBuilder(e,t){var n=!1,r,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i=[Tt(e.base,t)];e.sub&&i.push(Tt(e.sub,t)),e.sup&&i.push(Tt(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var d=e.base;d&&d.type==="op"&&d.limits&&t.style===Je.DISPLAY||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(t.style===Je.DISPLAY||d.limits)?s="munderover":s="msubsup"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===Je.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===Je.DISPLAY)?s="munder":s="msub"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Je.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Je.DISPLAY)?s="mover":s="msup"}return new Se.MathNode(s,i)}});Uo({type:"atom",htmlBuilder(e,t){return le.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new Se.MathNode("mo",[Xr(e.text,e.mode)]);if(e.family==="bin"){var r=Ab(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var r9={mi:"italic",mn:"normal",mtext:"normal"};Uo({type:"mathord",htmlBuilder(e,t){return le.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new Se.MathNode("mi",[Xr(e.text,e.mode,t)]),r=Ab(e,t)||"italic";return r!==r9[n.type]&&n.setAttribute("mathvariant",r),n}});Uo({type:"textord",htmlBuilder(e,t){return le.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Xr(e.text,e.mode,t),r=Ab(e,t)||"normal",a;return e.mode==="text"?a=new Se.MathNode("mtext",[n]):/[0-9]/.test(e.text)?a=new Se.MathNode("mn",[n]):e.text==="\\prime"?a=new Se.MathNode("mo",[n]):a=new Se.MathNode("mi",[n]),r!==r9[a.type]&&a.setAttribute("mathvariant",r),a}});var fh={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},hh={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Uo({type:"spacing",htmlBuilder(e,t){if(hh.hasOwnProperty(e.text)){var n=hh[e.text].className||"";if(e.mode==="text"){var r=le.makeOrd(e,t,"textord");return r.classes.push(n),r}else return le.makeSpan(["mspace",n],[le.mathsym(e.text,e.mode,t)],t)}else{if(fh.hasOwnProperty(e.text))return le.makeSpan(["mspace",fh[e.text]],[],t);throw new ke('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(hh.hasOwnProperty(e.text))n=new Se.MathNode("mtext",[new Se.TextNode("")]);else{if(fh.hasOwnProperty(e.text))return new Se.MathNode("mspace");throw new ke('Unknown type of space "'+e.text+'"')}return n}});var aT=()=>{var e=new Se.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Uo({type:"tag",mathmlBuilder(e,t){var n=new Se.MathNode("mtable",[new Se.MathNode("mtr",[aT(),new Se.MathNode("mtd",[eo(e.body,t)]),aT(),new Se.MathNode("mtd",[eo(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var iT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},oT={"\\textbf":"textbf","\\textmd":"textmd"},rY={"\\textit":"textit","\\textup":"textup"},sT=(e,t)=>{var n=e.font;if(n){if(iT[n])return t.withTextFontFamily(iT[n]);if(oT[n])return t.withTextFontWeight(oT[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(rY[n])};De({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"text",mode:n.mode,body:Jt(a),font:r}},htmlBuilder(e,t){var n=sT(e,t),r=gn(e.body,n,!0);return le.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=sT(e,t);return eo(e.body,n)}});De({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=yt(e.body,t),r=le.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,i=le.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:a},{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n}]},t);return le.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var n=new Se.MathNode("mo",[new Se.TextNode("")]);n.setAttribute("stretchy","true");var r=new Se.MathNode("munder",[Tt(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});De({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=yt(e.body,t),r=t.fontMetrics().axisHeight,a=.5*(n.height-r-(n.depth+r));return le.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new Se.MathNode("mpadded",[Tt(e.body,t)],["vcenter"])}});De({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ke("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=lT(e),r=[],a=t.havingStyle(t.style.text()),i=0;i<n.length;i++){var s=n[i];s==="~"&&(s="\\textasciitilde"),r.push(le.makeSymbol(s,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return le.makeSpan(["mord","text"].concat(a.sizingClasses(t)),le.tryCombineChars(r),a)},mathmlBuilder(e,t){var n=new Se.TextNode(lT(e)),r=new Se.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var lT=e=>e.body.replace(/ /g,e.star?"":""),ji=T5,a9=`[ \r
	]`,aY="\\\\[a-zA-Z@]+",iY="\\\\[^\uD800-\uDFFF]",oY="("+aY+")"+a9+"*",sY=`\\\\(
|[ \r	]+
?)[ \r	]*`,Pg="[-]",lY=new RegExp(Pg+"+$"),uY="("+a9+"+)|"+(sY+"|")+"([!-\\[\\]---]"+(Pg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Pg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+oY)+("|"+iY+")");class uT{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(uY,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new La("EOF",new kr(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ke("Unexpected character: '"+t[n]+"'",new La(t[n],new kr(this,n,n+1)));var a=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[a]===14){var i=t.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new La(a,new kr(this,n,this.tokenRegex.lastIndex))}}class cY{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ke("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var dY=W5;D("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});D("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});D("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});D("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});D("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});D("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");D("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var cT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};D("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ke("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=cT[t.text],r==null||r>=n)throw new ke("Invalid base-"+n+" digit "+t.text);for(var a;(a=cT[e.future().text])!=null&&a<n;)r*=n,r+=a,e.popToken()}return"\\@char{"+r+"}"});var Pb=(e,t,n,r)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new ke("\\newcommand's first argument must be a macro name");var i=a[0].text,s=e.isDefined(i);if(s&&!t)throw new ke("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new ke("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var u=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var c="",d=e.expandNextToken();d.text!=="]"&&d.text!=="EOF";)c+=d.text,d=e.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new ke("Invalid number of arguments: "+c);u=parseInt(c),a=e.consumeArg().tokens}return s&&r||e.macros.set(i,{tokens:a,numArgs:u}),""};D("\\newcommand",e=>Pb(e,!1,!0,!1));D("\\renewcommand",e=>Pb(e,!0,!1,!1));D("\\providecommand",e=>Pb(e,!0,!0,!0));D("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});D("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});D("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),ji[n],Ct.math[n],Ct.text[n]),""});D("\\bgroup","{");D("\\egroup","}");D("~","\\nobreakspace");D("\\lq","`");D("\\rq","'");D("\\aa","\\r a");D("\\AA","\\r A");D("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");D("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");D("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");D("","\\mathscr{B}");D("","\\mathscr{E}");D("","\\mathscr{F}");D("","\\mathscr{H}");D("","\\mathscr{I}");D("","\\mathscr{L}");D("","\\mathscr{M}");D("","\\mathscr{R}");D("","\\mathfrak{C}");D("","\\mathfrak{H}");D("","\\mathfrak{Z}");D("\\Bbbk","\\Bbb{k}");D("","\\cdotp");D("\\llap","\\mathllap{\\textrm{#1}}");D("\\rlap","\\mathrlap{\\textrm{#1}}");D("\\clap","\\mathclap{\\textrm{#1}}");D("\\mathstrut","\\vphantom{(}");D("\\underbar","\\underline{\\text{#1}}");D("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');D("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");D("\\ne","\\neq");D("","\\neq");D("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");D("","\\notin");D("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");D("","\\perp");D("","\\mathclose{!\\mkern-0.8mu!}");D("","\\notni");D("","\\ulcorner");D("","\\urcorner");D("","\\llcorner");D("","\\lrcorner");D("","\\copyright");D("","\\textregistered");D("","\\textregistered");D("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');D("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');D("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');D("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');D("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");D("","\\vdots");D("\\varGamma","\\mathit{\\Gamma}");D("\\varDelta","\\mathit{\\Delta}");D("\\varTheta","\\mathit{\\Theta}");D("\\varLambda","\\mathit{\\Lambda}");D("\\varXi","\\mathit{\\Xi}");D("\\varPi","\\mathit{\\Pi}");D("\\varSigma","\\mathit{\\Sigma}");D("\\varUpsilon","\\mathit{\\Upsilon}");D("\\varPhi","\\mathit{\\Phi}");D("\\varPsi","\\mathit{\\Psi}");D("\\varOmega","\\mathit{\\Omega}");D("\\substack","\\begin{subarray}{c}#1\\end{subarray}");D("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");D("\\boxed","\\fbox{$\\displaystyle{#1}$}");D("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");D("\\implies","\\DOTSB\\;\\Longrightarrow\\;");D("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");D("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");D("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};D("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in dT?t=dT[n]:(n.slice(0,4)==="\\not"||n in Ct.math&&Ye.contains(["bin","rel"],Ct.math[n].group))&&(t="\\dotsb"),t});var Fb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};D("\\dotso",function(e){var t=e.future().text;return t in Fb?"\\ldots\\,":"\\ldots"});D("\\dotsc",function(e){var t=e.future().text;return t in Fb&&t!==","?"\\ldots\\,":"\\ldots"});D("\\cdots",function(e){var t=e.future().text;return t in Fb?"\\@cdots\\,":"\\@cdots"});D("\\dotsb","\\cdots");D("\\dotsm","\\cdots");D("\\dotsi","\\!\\cdots");D("\\dotsx","\\ldots\\,");D("\\DOTSI","\\relax");D("\\DOTSB","\\relax");D("\\DOTSX","\\relax");D("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");D("\\,","\\tmspace+{3mu}{.1667em}");D("\\thinspace","\\,");D("\\>","\\mskip{4mu}");D("\\:","\\tmspace+{4mu}{.2222em}");D("\\medspace","\\:");D("\\;","\\tmspace+{5mu}{.2777em}");D("\\thickspace","\\;");D("\\!","\\tmspace-{3mu}{.1667em}");D("\\negthinspace","\\!");D("\\negmedspace","\\tmspace-{4mu}{.2222em}");D("\\negthickspace","\\tmspace-{5mu}{.277em}");D("\\enspace","\\kern.5em ");D("\\enskip","\\hskip.5em\\relax");D("\\quad","\\hskip1em\\relax");D("\\qquad","\\hskip2em\\relax");D("\\tag","\\@ifstar\\tag@literal\\tag@paren");D("\\tag@paren","\\tag@literal{({#1})}");D("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ke("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});D("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");D("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");D("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");D("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");D("\\newline","\\\\\\relax");D("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var i9=Ie(ka["Main-Regular"][84][1]-.7*ka["Main-Regular"][65][1]);D("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+i9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");D("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+i9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");D("\\hspace","\\@ifstar\\@hspacer\\@hspace");D("\\@hspace","\\hskip #1\\relax");D("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");D("\\ordinarycolon",":");D("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");D("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');D("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');D("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');D("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');D("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');D("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');D("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');D("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');D("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');D("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');D("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');D("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');D("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');D("","\\dblcolon");D("","\\eqcolon");D("","\\coloneqq");D("","\\eqqcolon");D("","\\Coloneqq");D("\\ratio","\\vcentcolon");D("\\coloncolon","\\dblcolon");D("\\colonequals","\\coloneqq");D("\\coloncolonequals","\\Coloneqq");D("\\equalscolon","\\eqqcolon");D("\\equalscoloncolon","\\Eqqcolon");D("\\colonminus","\\coloneq");D("\\coloncolonminus","\\Coloneq");D("\\minuscolon","\\eqcolon");D("\\minuscoloncolon","\\Eqcolon");D("\\coloncolonapprox","\\Colonapprox");D("\\coloncolonsim","\\Colonsim");D("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");D("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");D("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");D("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");D("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");D("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");D("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");D("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");D("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");D("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");D("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");D("\\ngeqq","\\html@mathml{\\@ngeqq}{}");D("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");D("\\nleqq","\\html@mathml{\\@nleqq}{}");D("\\nleqslant","\\html@mathml{\\@nleqslant}{}");D("\\nshortmid","\\html@mathml{\\@nshortmid}{}");D("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");D("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");D("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");D("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");D("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");D("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");D("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");D("\\imath","\\html@mathml{\\@imath}{}");D("\\jmath","\\html@mathml{\\@jmath}{}");D("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");D("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");D("","\\llbracket");D("","\\rrbracket");D("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");D("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");D("","\\lBrace");D("","\\rBrace");D("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");D("","\\minuso");D("\\darr","\\downarrow");D("\\dArr","\\Downarrow");D("\\Darr","\\Downarrow");D("\\lang","\\langle");D("\\rang","\\rangle");D("\\uarr","\\uparrow");D("\\uArr","\\Uparrow");D("\\Uarr","\\Uparrow");D("\\N","\\mathbb{N}");D("\\R","\\mathbb{R}");D("\\Z","\\mathbb{Z}");D("\\alef","\\aleph");D("\\alefsym","\\aleph");D("\\Alpha","\\mathrm{A}");D("\\Beta","\\mathrm{B}");D("\\bull","\\bullet");D("\\Chi","\\mathrm{X}");D("\\clubs","\\clubsuit");D("\\cnums","\\mathbb{C}");D("\\Complex","\\mathbb{C}");D("\\Dagger","\\ddagger");D("\\diamonds","\\diamondsuit");D("\\empty","\\emptyset");D("\\Epsilon","\\mathrm{E}");D("\\Eta","\\mathrm{H}");D("\\exist","\\exists");D("\\harr","\\leftrightarrow");D("\\hArr","\\Leftrightarrow");D("\\Harr","\\Leftrightarrow");D("\\hearts","\\heartsuit");D("\\image","\\Im");D("\\infin","\\infty");D("\\Iota","\\mathrm{I}");D("\\isin","\\in");D("\\Kappa","\\mathrm{K}");D("\\larr","\\leftarrow");D("\\lArr","\\Leftarrow");D("\\Larr","\\Leftarrow");D("\\lrarr","\\leftrightarrow");D("\\lrArr","\\Leftrightarrow");D("\\Lrarr","\\Leftrightarrow");D("\\Mu","\\mathrm{M}");D("\\natnums","\\mathbb{N}");D("\\Nu","\\mathrm{N}");D("\\Omicron","\\mathrm{O}");D("\\plusmn","\\pm");D("\\rarr","\\rightarrow");D("\\rArr","\\Rightarrow");D("\\Rarr","\\Rightarrow");D("\\real","\\Re");D("\\reals","\\mathbb{R}");D("\\Reals","\\mathbb{R}");D("\\Rho","\\mathrm{P}");D("\\sdot","\\cdot");D("\\sect","\\S");D("\\spades","\\spadesuit");D("\\sub","\\subset");D("\\sube","\\subseteq");D("\\supe","\\supseteq");D("\\Tau","\\mathrm{T}");D("\\thetasym","\\vartheta");D("\\weierp","\\wp");D("\\Zeta","\\mathrm{Z}");D("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");D("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");D("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");D("\\bra","\\mathinner{\\langle{#1}|}");D("\\ket","\\mathinner{|{#1}\\rangle}");D("\\braket","\\mathinner{\\langle{#1}\\rangle}");D("\\Bra","\\left\\langle#1\\right|");D("\\Ket","\\left|#1\\right\\rangle");var o9=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.macros.get("|"),u=t.macros.get("\\|");t.macros.beginGroup();var c=f=>h=>{e&&(h.macros.set("|",s),a.length&&h.macros.set("\\|",u));var b=f;if(!f&&a.length){var _=h.future();_.text==="|"&&(h.popToken(),b=!0)}return{tokens:b?a:r,numArgs:0}};t.macros.set("|",c(!1)),a.length&&t.macros.set("\\|",c(!0));var d=t.consumeArg().tokens,m=t.expandTokens([...i,...d,...n]);return t.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};D("\\bra@ket",o9(!1));D("\\bra@set",o9(!0));D("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");D("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");D("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");D("\\angln","{\\angl n}");D("\\blue","\\textcolor{##6495ed}{#1}");D("\\orange","\\textcolor{##ffa500}{#1}");D("\\pink","\\textcolor{##ff00af}{#1}");D("\\red","\\textcolor{##df0030}{#1}");D("\\green","\\textcolor{##28ae7b}{#1}");D("\\gray","\\textcolor{gray}{#1}");D("\\purple","\\textcolor{##9d38bd}{#1}");D("\\blueA","\\textcolor{##ccfaff}{#1}");D("\\blueB","\\textcolor{##80f6ff}{#1}");D("\\blueC","\\textcolor{##63d9ea}{#1}");D("\\blueD","\\textcolor{##11accd}{#1}");D("\\blueE","\\textcolor{##0c7f99}{#1}");D("\\tealA","\\textcolor{##94fff5}{#1}");D("\\tealB","\\textcolor{##26edd5}{#1}");D("\\tealC","\\textcolor{##01d1c1}{#1}");D("\\tealD","\\textcolor{##01a995}{#1}");D("\\tealE","\\textcolor{##208170}{#1}");D("\\greenA","\\textcolor{##b6ffb0}{#1}");D("\\greenB","\\textcolor{##8af281}{#1}");D("\\greenC","\\textcolor{##74cf70}{#1}");D("\\greenD","\\textcolor{##1fab54}{#1}");D("\\greenE","\\textcolor{##0d923f}{#1}");D("\\goldA","\\textcolor{##ffd0a9}{#1}");D("\\goldB","\\textcolor{##ffbb71}{#1}");D("\\goldC","\\textcolor{##ff9c39}{#1}");D("\\goldD","\\textcolor{##e07d10}{#1}");D("\\goldE","\\textcolor{##a75a05}{#1}");D("\\redA","\\textcolor{##fca9a9}{#1}");D("\\redB","\\textcolor{##ff8482}{#1}");D("\\redC","\\textcolor{##f9685d}{#1}");D("\\redD","\\textcolor{##e84d39}{#1}");D("\\redE","\\textcolor{##bc2612}{#1}");D("\\maroonA","\\textcolor{##ffbde0}{#1}");D("\\maroonB","\\textcolor{##ff92c6}{#1}");D("\\maroonC","\\textcolor{##ed5fa6}{#1}");D("\\maroonD","\\textcolor{##ca337c}{#1}");D("\\maroonE","\\textcolor{##9e034e}{#1}");D("\\purpleA","\\textcolor{##ddd7ff}{#1}");D("\\purpleB","\\textcolor{##c6b9fc}{#1}");D("\\purpleC","\\textcolor{##aa87ff}{#1}");D("\\purpleD","\\textcolor{##7854ab}{#1}");D("\\purpleE","\\textcolor{##543b78}{#1}");D("\\mintA","\\textcolor{##f5f9e8}{#1}");D("\\mintB","\\textcolor{##edf2df}{#1}");D("\\mintC","\\textcolor{##e0e5cc}{#1}");D("\\grayA","\\textcolor{##f6f7f7}{#1}");D("\\grayB","\\textcolor{##f0f1f2}{#1}");D("\\grayC","\\textcolor{##e3e5e6}{#1}");D("\\grayD","\\textcolor{##d6d8da}{#1}");D("\\grayE","\\textcolor{##babec2}{#1}");D("\\grayF","\\textcolor{##888d93}{#1}");D("\\grayG","\\textcolor{##626569}{#1}");D("\\grayH","\\textcolor{##3b3e40}{#1}");D("\\grayI","\\textcolor{##21242c}{#1}");D("\\kaBlue","\\textcolor{##314453}{#1}");D("\\kaGreen","\\textcolor{##71B307}{#1}");var s9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class pY{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new cY(dY,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new uT(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:a,end:r}=this.consumeArg(["]"])}else({tokens:a,start:n,end:r}=this.consumeArg());return this.pushToken(new La("EOF",r.loc)),this.pushTokens(a),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var a=this.future(),i,s=0,u=0;do{if(i=this.popToken(),n.push(i),i.text==="{")++s;else if(i.text==="}"){if(--s,s===-1)throw new ke("Extra }",i)}else if(i.text==="EOF")throw new ke("Unexpected end of input in a macro argument, expected '"+(t&&r?t[u]:"}")+"'",i);if(t&&r)if((s===0||s===1&&t[u]==="{")&&i.text===t[u]){if(++u,u===t.length){n.splice(-u,u);break}}else u=0}while(s!==0||r);return a.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:a,end:i}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ke("The length of delimiters doesn't match the number of args!");for(var r=n[0],a=0;a<r.length;a++){var i=this.popToken();if(r[a]!==i.text)throw new ke("Use of the macro doesn't match its definition",i)}}for(var s=[],u=0;u<t;u++)s.push(this.consumeArg(n&&n[u+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ke("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,a=n.noexpand?null:this._getExpansion(r);if(a==null||t&&a.unexpandable){if(t&&a==null&&r[0]==="\\"&&!this.isDefined(r))throw new ke("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var i=a.tokens,s=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){i=i.slice();for(var u=i.length-1;u>=0;--u){var c=i[u];if(c.text==="#"){if(u===0)throw new ke("Incomplete placeholder at end of macro body",c);if(c=i[--u],c.text==="#")i.splice(u+1,1);else if(/^[1-9]$/.test(c.text))i.splice(u,2,...s[+c.text-1]);else throw new ke("Not a valid argument number",c)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new La(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),n.push(a)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var a=typeof n=="function"?n(this):n;if(typeof a=="string"){var i=0;if(a.indexOf("#")!==-1)for(var s=a.replace(/##/g,"");s.indexOf("#"+(i+1))!==-1;)++i;for(var u=new uT(a,this.settings),c=[],d=u.lex();d.text!=="EOF";)c.push(d),d=u.lex();c.reverse();var m={tokens:c,numArgs:i};return m}return a}isDefined(t){return this.macros.has(t)||ji.hasOwnProperty(t)||Ct.math.hasOwnProperty(t)||Ct.text.hasOwnProperty(t)||s9.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:ji.hasOwnProperty(t)&&!ji[t].primitive}}var pT=/^[]/,Gd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),gh={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},mT={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let l9=class u9{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new pY(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ke("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new La("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(u9.endOfExpression.indexOf(a.text)!==-1||n&&a.text===n||t&&ji[a.text]&&ji[a.text].infix)break;var i=this.parseAtom(n);if(i){if(i.type==="internal")continue}else break;r.push(i)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,a=0;a<t.length;a++)if(t[a].type==="infix"){if(n!==-1)throw new ke("only one infix operator per group",t[a].token);n=a,r=t[a].replaceWith}if(n!==-1&&r){var i,s,u=t.slice(0,n),c=t.slice(n+1);u.length===1&&u[0].type==="ordgroup"?i=u[0]:i={type:"ordgroup",mode:this.mode,body:u},c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c};var d;return r==="\\\\abovefrac"?d=this.callFunction(r,[i,t[n],s],[]):d=this.callFunction(r,[i,s],[]),[d]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var a;do{var i;a=this.parseGroup(t)}while(((i=a)==null?void 0:i.type)==="internal");if(!a)throw new ke("Expected group after '"+r+"'",n);return a}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var a={type:"text",mode:this.mode,body:n},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return i}parseAtom(t){var n=this.parseGroup("atom",t);if(n?.type==="internal"||this.mode==="text")return n;for(var r,a;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(n&&n.type==="op"){var s=i.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=i.text==="\\limits");else throw new ke("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(r)throw new ke("Double superscript",i);r=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(a)throw new ke("Double subscript",i);a=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(r)throw new ke("Double superscript",i);var u={type:"textord",mode:this.mode,text:"\\prime"},c=[u];for(this.consume();this.fetch().text==="'";)c.push(u),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(Gd[i.text]){var d=pT.test(i.text),m=[];for(m.push(new La(Gd[i.text])),this.consume();;){var f=this.fetch().text;if(!Gd[f]||pT.test(f)!==d)break;m.unshift(new La(Gd[f])),this.consume()}var h=this.subparse(m);d?a={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||a?{type:"supsub",mode:this.mode,base:n,sup:r,sub:a}:n}parseFunction(t,n){var r=this.fetch(),a=r.text,i=ji[a];if(!i)return null;if(this.consume(),n&&n!=="atom"&&!i.allowedInArgument)throw new ke("Got function '"+a+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!i.allowedInText)throw new ke("Can't use function '"+a+"' in text mode",r);if(this.mode==="math"&&i.allowedInMath===!1)throw new ke("Can't use function '"+a+"' in math mode",r);var{args:s,optArgs:u}=this.parseArguments(a,i);return this.callFunction(a,s,u,r,t)}callFunction(t,n,r,a,i){var s={funcName:t,parser:this,token:a,breakOnTokenText:i},u=ji[t];if(u&&u.handler)return u.handler(s,n,r);throw new ke("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var a=[],i=[],s=0;s<r;s++){var u=n.argTypes&&n.argTypes[s],c=s<n.numOptionalArgs;(n.primitive&&u==null||n.type==="sqrt"&&s===1&&i[0]==null)&&(u="primitive");var d=this.parseGroupOfType("argument to '"+t+"'",u,c);if(c)i.push(d);else if(d!=null)a.push(d);else throw new ke("Null argument, please report this as a bug")}return{args:a,optArgs:i}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var a=this.parseArgumentGroup(r,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",r);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(r)throw new ke("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ke("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ke("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var a="",i;(i=this.fetch()).text!=="EOF";)a+=i.text,this.consume();return this.consume(),r.text=a,r}parseRegexGroup(t,n){for(var r=this.fetch(),a=r,i="",s;(s=this.fetch()).text!=="EOF"&&t.test(i+s.text);)a=s,i+=a.text,this.consume();if(i==="")throw new ke("Invalid "+n+": '"+r.text+"'",r);return r.range(a,i)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ke("Invalid color: '"+n.text+"'",n);var a=r[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!a)throw new ke("Invalid size: '"+n.text+"'",n);var i={number:+(a[1]+a[2]),unit:a[3]};if(!b5(i))throw new ke("Invalid unit: '"+i.unit+"'",n);return{type:"size",mode:this.mode,value:i,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var a=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:i};return n&&this.switchMode(a),s}parseGroup(t,n){var r=this.fetch(),a=r.text,i;if(a==="{"||a==="\\begingroup"){this.consume();var s=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var u=this.parseExpression(!1,s),c=this.fetch();this.expect(s),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:kr.range(r,c),body:u,semisimple:a==="\\begingroup"||void 0}}else if(i=this.parseFunction(n,t)||this.parseSymbol(),i==null&&a[0]==="\\"&&!s9.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ke("Undefined control sequence: "+a,r);i=this.formatUnsupportedCmd(a),this.consume()}return i}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var a=t[r],i=a.text;i==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:kr.range(a,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:kr.range(a,t[r+1]),text:"--"}),n-=1)),(i==="'"||i==="`")&&t[r+1].text===i&&(t.splice(r,2,{type:"textord",mode:"text",loc:kr.range(a,t[r+1]),text:i+i}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),a=r.charAt(0)==="*";if(a&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ke(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:a}}mT.hasOwnProperty(n[0])&&!Ct[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=mT[n[0]]+n.slice(1));var i=lY.exec(n);i&&(n=n.substring(0,i.index),n==="i"?n="":n==="j"&&(n=""));var s;if(Ct[this.mode][n]){this.settings.strict&&this.mode==="math"&&Rg.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var u=Ct[this.mode][n].group,c=kr.range(t),d;if(eW.hasOwnProperty(u)){var m=u;d={type:"atom",mode:this.mode,family:m,loc:c,text:n}}else d={type:u,mode:this.mode,loc:c,text:n};s=d}else if(n.charCodeAt(0)>=128)this.settings.strict&&(g5(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:kr.range(t),text:n};else return null;if(this.consume(),i)for(var f=0;f<i[0].length;f++){var h=i[0][f];if(!gh[h])throw new ke("Unknown accent ' "+h+"'",t);var b=gh[h][this.mode]||gh[h].text;if(!b)throw new ke("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:kr.range(t),label:b,isStretchy:!1,isShifty:!0,base:s}}return s}};l9.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Bb=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new l9(t,n);delete r.gullet.macros.current["\\df@tag"];var a=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ke("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:r.subparse([new La("\\df@tag")])}]}return a},c9=function(t,n,r){n.textContent="";var a=zb(t,r).toNode();n.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),c9=function(){throw new ke("KaTeX doesn't work in quirks mode.")});var mY=function(t,n){var r=zb(t,n).toMarkup();return r},fY=function(t,n){var r=new wb(n);return Bb(t,r)},d9=function(t,n,r){if(r.throwOnError||!(t instanceof ke))throw t;var a=le.makeSpan(["katex-error"],[new Kr(n)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+r.errorColor),a},zb=function(t,n){var r=new wb(n);try{var a=Bb(t,r);return $W(a,t,r)}catch(i){return d9(i,t,r)}},hY=function(t,n){var r=new wb(n);try{var a=Bb(t,r);return EW(a,t,r)}catch(i){return d9(i,t,r)}},gY="0.16.22",bY={Span:nc,Anchor:Sb,SymbolNode:Kr,SvgNode:li,PathNode:Ji,LineNode:Lg},fT={version:gY,render:c9,renderToString:mY,ParseError:ke,SETTINGS_SCHEMA:sp,__parse:fY,__renderToDomTree:zb,__renderToHTMLTree:hY,__setFontMetrics:qq,__defineSymbol:w,__defineFunction:De,__defineMacro:D,__domTree:bY};const vY={};function jb(e){const t=this,n=e||vY,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(bq(n)),i.push(uq()),s.push(cq(n))}function hT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function yY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function xY(e,t,n){const a=Ju((n||{}).ignore||[]),i=_Y(t);let s=-1;for(;++s<i.length;)yb(e,"text",u);function u(d,m){let f=-1,h;for(;++f<m.length;){const b=m[f],_=h?h.children:void 0;if(a(b,_?_.indexOf(b):void 0,h))return;h=b}if(h)return c(d,m)}function c(d,m){const f=m[m.length-1],h=i[s][0],b=i[s][1];let _=0;const T=f.children.indexOf(d);let S=!1,A=[];h.lastIndex=0;let C=h.exec(d.value);for(;C;){const R=C.index,M={index:C.index,input:C.input,stack:[...m,d]};let P=b(...C,M);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?h.lastIndex=R+1:(_!==R&&A.push({type:"text",value:d.value.slice(_,R)}),Array.isArray(P)?A.push(...P):P&&A.push(P),_=R+C[0].length,S=!0),!h.global)break;C=h.exec(d.value)}return S?(_<d.value.length&&A.push({type:"text",value:d.value.slice(_)}),f.children.splice(T,1,...A)):A=[d],T+A.length}}function _Y(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([wY(a[0]),$Y(a[1])])}return t}function wY(e){return typeof e=="string"?new RegExp(yY(e),"g"):e}function $Y(e){return typeof e=="function"?e:function(){return e}}const bh="phrasing",vh=["autolink","link","image","label"];function EY(){return{transforms:[IY],enter:{literalAutolink:TY,literalAutolinkEmail:yh,literalAutolinkHttp:yh,literalAutolinkWww:yh},exit:{literalAutolink:CY,literalAutolinkEmail:NY,literalAutolinkHttp:kY,literalAutolinkWww:AY}}}function SY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bh,notInConstruct:vh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bh,notInConstruct:vh},{character:":",before:"[ps]",after:"\\/",inConstruct:bh,notInConstruct:vh}]}}function TY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function yh(e){this.config.enter.autolinkProtocol.call(this,e)}function kY(e){this.config.exit.autolinkProtocol.call(this,e)}function AY(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function NY(e){this.config.exit.autolinkEmail.call(this,e)}function CY(e){this.exit(e)}function IY(e){xY(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,LY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),RY]],{ignore:["link","linkReference"]})}function LY(e,t,n,r,a){let i="";if(!p9(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!DY(n)))return!1;const s=OY(n+r);if(!s[0])return!1;const u={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[u,{type:"text",value:s[1]}]:u}function RY(e,t,n,r){return!p9(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function DY(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function OY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=hT(e,"(");let i=hT(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function p9(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Io(n)||lm(n))&&(!t||n!==47)}m9.peek=HY;function UY(){this.buffer()}function MY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function PY(){this.buffer()}function FY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function BY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ca(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zY(e){this.exit(e)}function jY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ca(this.sliceSerialize(e)).toLowerCase(),n.label=t}function GY(e){this.exit(e)}function HY(){return"["}function m9(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const s=n.enter("footnoteReference"),u=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),u(),s(),i+=a.move("]"),i}function VY(){return{enter:{gfmFootnoteCallString:UY,gfmFootnoteCall:MY,gfmFootnoteDefinitionLabelString:PY,gfmFootnoteDefinition:FY},exit:{gfmFootnoteCallString:BY,gfmFootnoteCall:zY,gfmFootnoteDefinitionLabelString:jY,gfmFootnoteDefinition:GY}}}function qY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:m9},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,s){const u=i.createTracker(s);let c=u.move("[^");const d=i.enter("footnoteDefinition"),m=i.enter("label");return c+=u.move(i.safe(i.associationId(r),{before:c,after:"]"})),m(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,u.current()),t?f9:WY))),d(),c}}function WY(e,t,n){return t===0?e:f9(e,t,n)}function f9(e,t,n){return(n?"":"    ")+e}const YY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];h9.peek=JY;function KY(){return{canContainEols:["delete"],enter:{strikethrough:QY},exit:{strikethrough:ZY}}}function XY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:YY}],handlers:{delete:h9}}}function QY(e){this.enter({type:"delete",children:[]},e)}function ZY(e){this.exit(e)}function h9(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let s=a.move("~~");return s+=n.containerPhrasing(e,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function JY(){return"~"}function eK(e){return e.length}function tK(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||eK,i=[],s=[],u=[],c=[];let d=0,m=-1;for(;++m<e.length;){const x=[],T=[];let S=-1;for(e[m].length>d&&(d=e[m].length);++S<e[m].length;){const A=nK(e[m][S]);if(n.alignDelimiters!==!1){const C=a(A);T[S]=C,(c[S]===void 0||C>c[S])&&(c[S]=C)}x.push(A)}s[m]=x,u[m]=T}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<d;)i[f]=gT(r[f]);else{const x=gT(r);for(;++f<d;)i[f]=x}f=-1;const h=[],b=[];for(;++f<d;){const x=i[f];let T="",S="";x===99?(T=":",S=":"):x===108?T=":":x===114&&(S=":");let A=n.alignDelimiters===!1?1:Math.max(1,c[f]-T.length-S.length);const C=T+"-".repeat(A)+S;n.alignDelimiters!==!1&&(A=T.length+A+S.length,A>c[f]&&(c[f]=A),b[f]=A),h[f]=C}s.splice(1,0,h),u.splice(1,0,b),m=-1;const _=[];for(;++m<s.length;){const x=s[m],T=u[m];f=-1;const S=[];for(;++f<d;){const A=x[f]||"";let C="",R="";if(n.alignDelimiters!==!1){const M=c[f]-(T[f]||0),P=i[f];P===114?C=" ".repeat(M):P===99?M%2?(C=" ".repeat(M/2+.5),R=" ".repeat(M/2-.5)):(C=" ".repeat(M/2),R=C):R=" ".repeat(M)}n.delimiterStart!==!1&&!f&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&A==="")&&(n.delimiterStart!==!1||f)&&S.push(" "),n.alignDelimiters!==!1&&S.push(C),S.push(A),n.alignDelimiters!==!1&&S.push(R),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||f!==d-1)&&S.push("|")}_.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return _.join(`
`)}function nK(e){return e==null?"":String(e)}function gT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const bT={}.hasOwnProperty;function g9(e,t){const n=t||{};function r(a,...i){let s=r.invalid;const u=r.handlers;if(a&&bT.call(a,e)){const c=String(a[e]);s=bT.call(u,c)?u[c]:r.unknown}if(s)return s.call(this,a,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function rK(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),aK);return a(),s}function aK(e,t,n){return">"+(n?"":" ")+e}function iK(e,t){return vT(e,t.inConstruct,!0)&&!vT(e,t.notInConstruct,!1)}function vT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function yT(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&iK(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oK(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function sK(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lK(e,t,n,r){const a=sK(n),i=e.value||"",s=a==="`"?"GraveAccent":"Tilde";if(oK(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(i,uK);return f(),h}const u=n.createTracker(r),c=a.repeat(Math.max(m5(i,a)+1,3)),d=n.enter("codeFenced");let m=u.move(c);if(e.lang){const f=n.enter(`codeFencedLang${s}`);m+=u.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...u.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);m+=u.move(" "),m+=u.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...u.current()})),f()}return m+=u.move(`
`),i&&(m+=u.move(i+`
`)),m+=u.move(c),d(),m}function uK(e,t,n){return(n?"":"    ")+e}function Gb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function cK(e,t,n,r){const a=Gb(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("[");return d+=c.move(n.safe(n.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${i}`),d+=c.move(" "+a),d+=c.move(n.safe(e.title,{before:d,after:a,...c.current()})),d+=c.move(a),u()),s(),d}function dK(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Bu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rp(e,t,n){const r=Bs(e),a=Bs(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}b9.peek=pK;function b9(e,t,n,r){const a=dK(n),i=n.enter("emphasis"),s=n.createTracker(r),u=s.move(a);let c=s.move(n.containerPhrasing(e,{after:a,before:u,...s.current()}));const d=c.charCodeAt(0),m=Rp(r.before.charCodeAt(r.before.length-1),d,a);m.inside&&(c=Bu(d)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Rp(r.after.charCodeAt(0),f,a);h.inside&&(c=c.slice(0,-1)+Bu(f));const b=s.move(a);return i(),n.attentionEncodeSurroundingInfo={after:h.outside,before:m.outside},u+c+b}function pK(e,t,n){return n.options.emphasis||"*"}function mK(e,t){let n=!1;return Oo(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Tg}),!!((!e.depth||e.depth<3)&&pb(e)&&(t.options.setext||n))}function fK(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(mK(e,n)){const m=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),m(),h+`
`+(a===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(a),u=n.enter("headingAtx"),c=n.enter("phrasing");i.move(s+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=Bu(d.charCodeAt(0))+d.slice(1)),d=d?s+" "+d:s,n.options.closeAtx&&(d+=" "+s),c(),u(),d}v9.peek=hK;function v9(e){return e.value||""}function hK(){return"<"}y9.peek=gK;function y9(e,t,n,r){const a=Gb(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("![");return d+=c.move(n.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${i}`),d+=c.move(" "+a),d+=c.move(n.safe(e.title,{before:d,after:a,...c.current()})),d+=c.move(a),u()),d+=c.move(")"),s(),d}function gK(){return"!"}x9.peek=bK;function x9(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const d=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),s();const m=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return s(),n.stack=m,i(),a==="full"||!d||d!==f?c+=u.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function bK(){return"!"}_9.peek=vK;function _9(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],u=n.compilePattern(s);let c;if(s.atBreak)for(;c=u.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return a+r+a}function vK(){return"`"}function w9(e,t){const n=pb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}$9.peek=yK;function $9(e,t,n,r){const a=Gb(n),i=a==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let u,c;if(w9(e,n)){const m=n.stack;n.stack=[],u=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),u(),n.stack=m,f}u=n.enter("link"),c=n.enter("label");let d=s.move("[");return d+=s.move(n.containerPhrasing(e,{before:d,after:"](",...s.current()})),d+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),d+=s.move("<"),d+=s.move(n.safe(e.url,{before:d,after:">",...s.current()})),d+=s.move(">")):(c=n.enter("destinationRaw"),d+=s.move(n.safe(e.url,{before:d,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${i}`),d+=s.move(" "+a),d+=s.move(n.safe(e.title,{before:d,after:a,...s.current()})),d+=s.move(a),c()),d+=s.move(")"),u(),d}function yK(e,t,n){return w9(e,n)?"<":"["}E9.peek=xK;function E9(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const d=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),s();const m=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return s(),n.stack=m,i(),a==="full"||!d||d!==f?c+=u.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function xK(){return"["}function Hb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _K(e){const t=Hb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function wK(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function S9(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function $K(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?wK(n):Hb(n);const u=e.ordered?s==="."?")":".":_K(n);let c=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),S9(n)===s&&m){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=u),n.bulletCurrent=s;const d=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,a(),d}function EK(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function SK(e,t,n,r){const a=EK(n);let i=n.bulletCurrent||Hb(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const u=n.createTracker(r);u.move(i+" ".repeat(s-i.length)),u.shift(s);const c=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,u.current()),m);return c(),d;function m(f,h,b){return h?(b?"":" ".repeat(s))+f:(b?i:i+" ".repeat(s-i.length))+f}}function TK(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),a(),s}const kK=Ju(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function AK(e,t,n,r){return(e.children.some(function(s){return kK(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function NK(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}T9.peek=CK;function T9(e,t,n,r){const a=NK(n),i=n.enter("strong"),s=n.createTracker(r),u=s.move(a+a);let c=s.move(n.containerPhrasing(e,{after:a,before:u,...s.current()}));const d=c.charCodeAt(0),m=Rp(r.before.charCodeAt(r.before.length-1),d,a);m.inside&&(c=Bu(d)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Rp(r.after.charCodeAt(0),f,a);h.inside&&(c=c.slice(0,-1)+Bu(f));const b=s.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:h.outside,before:m.outside},u+c+b}function CK(e,t,n){return n.options.strong||"*"}function IK(e,t,n,r){return n.safe(e.value,r)}function LK(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function RK(e,t,n){const r=(S9(n)+(n.options.ruleSpaces?" ":"")).repeat(LK(n));return n.options.ruleSpaces?r.slice(0,-1):r}const k9={blockquote:rK,break:yT,code:lK,definition:cK,emphasis:b9,hardBreak:yT,heading:fK,html:v9,image:y9,imageReference:x9,inlineCode:_9,link:$9,linkReference:E9,list:$K,listItem:SK,paragraph:TK,root:AK,strong:T9,text:IK,thematicBreak:RK};function DK(){return{enter:{table:OK,tableData:xT,tableHeader:xT,tableRow:MK},exit:{codeText:PK,table:UK,tableData:xh,tableHeader:xh,tableRow:xh}}}function OK(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function UK(e){this.exit(e),this.data.inTable=void 0}function MK(e){this.enter({type:"tableRow",children:[]},e)}function xh(e){this.exit(e)}function xT(e){this.enter({type:"tableCell",children:[]},e)}function PK(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,FK));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function FK(e,t){return t==="|"?t:e}function BK(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:c,tableRow:u}};function s(b,_,x,T){return d(m(b,x,T),b.align)}function u(b,_,x,T){const S=f(b,x,T),A=d([S]);return A.slice(0,A.indexOf(`
`))}function c(b,_,x,T){const S=x.enter("tableCell"),A=x.enter("phrasing"),C=x.containerPhrasing(b,{...T,before:i,after:i});return A(),S(),C}function d(b,_){return tK(b,{align:_,alignDelimiters:r,padding:n,stringLength:a})}function m(b,_,x){const T=b.children;let S=-1;const A=[],C=_.enter("table");for(;++S<T.length;)A[S]=f(T[S],_,x);return C(),A}function f(b,_,x){const T=b.children;let S=-1;const A=[],C=_.enter("tableRow");for(;++S<T.length;)A[S]=c(T[S],b,_,x);return C(),A}function h(b,_,x){let T=k9.inlineCode(b,_,x);return x.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function zK(){return{exit:{taskListCheckValueChecked:_T,taskListCheckValueUnchecked:_T,paragraph:GK}}}function jK(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HK}}}function _T(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function GK(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,s;for(;++i<a.length;){const u=a[i];if(u.type==="paragraph"){s=u;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function HK(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);i&&u.move(s);let c=k9.listItem(e,t,n,{...r,...u.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(m){return m+s}}function VK(){return[EY(),VY(),KY(),DK(),zK()]}function qK(e){return{extensions:[SY(),qY(e),XY(),BK(e),jK()]}}const WK={tokenize:JK,partial:!0},A9={tokenize:eX,partial:!0},N9={tokenize:tX,partial:!0},C9={tokenize:nX,partial:!0},YK={tokenize:rX,partial:!0},I9={name:"wwwAutolink",tokenize:QK,previous:R9},L9={name:"protocolAutolink",tokenize:ZK,previous:D9},pi={name:"emailAutolink",tokenize:XK,previous:O9},Fa={};function KK(){return{text:Fa}}let _o=48;for(;_o<123;)Fa[_o]=pi,_o++,_o===58?_o=65:_o===91&&(_o=97);Fa[43]=pi;Fa[45]=pi;Fa[46]=pi;Fa[95]=pi;Fa[72]=[pi,L9];Fa[104]=[pi,L9];Fa[87]=[pi,I9];Fa[119]=[pi,I9];function XK(e,t,n){const r=this;let a,i;return s;function s(f){return!Fg(f)||!O9.call(r,r.previous)||Vb(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(f))}function u(f){return Fg(f)?(e.consume(f),u):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(YK,m,d)(f):f===45||f===95||Mn(f)?(i=!0,e.consume(f),c):m(f)}function d(f){return e.consume(f),a=!0,c}function m(f){return i&&a&&Kn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function QK(e,t,n){const r=this;return a;function a(s){return s!==87&&s!==119||!R9.call(r,r.previous)||Vb(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(WK,e.attempt(A9,e.attempt(N9,i),n),n)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function ZK(e,t,n){const r=this;let a="",i=!1;return s;function s(f){return(f===72||f===104)&&D9.call(r,r.previous)&&!Vb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),u):n(f)}function u(f){if(Kn(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),u;if(f===58){const h=a.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),i?d:(i=!0,c)):n(f)}function d(f){return f===null||Tp(f)||St(f)||Io(f)||lm(f)?n(f):e.attempt(A9,e.attempt(N9,m),n)(f)}function m(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function JK(e,t,n){let r=0;return a;function a(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),a):s===46&&r===3?(e.consume(s),i):n(s)}function i(s){return s===null?n(s):t(s)}}function eX(e,t,n){let r,a,i;return s;function s(d){return d===46||d===95?e.check(C9,c,u)(d):d===null||St(d)||Io(d)||d!==45&&lm(d)?c(d):(i=!0,e.consume(d),s)}function u(d){return d===95?r=!0:(a=r,r=void 0),e.consume(d),s}function c(d){return a||r||!i?n(d):t(d)}}function tX(e,t){let n=0,r=0;return a;function a(s){return s===40?(n++,e.consume(s),a):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(C9,t,i)(s):s===null||St(s)||Io(s)?t(s):(e.consume(s),a)}function i(s){return s===41&&r++,e.consume(s),a}}function nX(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),i):u===93?(e.consume(u),a):u===60||u===null||St(u)||Io(u)?t(u):n(u)}function a(u){return u===null||u===40||u===91||St(u)||Io(u)?t(u):r(u)}function i(u){return Kn(u)?s(u):n(u)}function s(u){return u===59?(e.consume(u),r):Kn(u)?(e.consume(u),s):n(u)}}function rX(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Mn(i)?n(i):t(i)}}function R9(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||St(e)}function D9(e){return!Kn(e)}function O9(e){return!(e===47||Fg(e))}function Fg(e){return e===43||e===45||e===46||e===95||Mn(e)}function Vb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const aX={tokenize:pX,partial:!0};function iX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uX,continuation:{tokenize:cX},exit:dX}},text:{91:{name:"gfmFootnoteCall",tokenize:lX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:oX,resolveTo:sX}}}}function oX(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;a--;){const c=r.events[a][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!s||!s._balanced)return n(c);const d=ca(r.sliceSerialize({start:s.end,end:r.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function sX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function lX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return u;function u(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(f){if(i>999||f===93&&!s||f===null||f===91||St(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return a.includes(ca(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return St(f)||(s=!0),i++,e.consume(f),f===92?m:d}function m(f){return f===91||f===92||f===93?(e.consume(f),i++,d):d(f)}}function uX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,u;return c;function c(_){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(_){return _===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(_)}function m(_){if(s>999||_===93&&!u||_===null||_===91||St(_))return n(_);if(_===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return i=ca(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return St(_)||(u=!0),s++,e.consume(_),_===92?f:m}function f(_){return _===91||_===92||_===93?(e.consume(_),s++,m):m(_)}function h(_){return _===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),a.includes(i)||a.push(i),ht(e,b,"gfmFootnoteDefinitionWhitespace")):n(_)}function b(_){return t(_)}}function cX(e,t,n){return e.check(Zu,t,e.attempt(aX,t,n))}function dX(e){e.exit("gfmFootnoteDefinition")}function pX(e,t,n){const r=this;return ht(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):n(i)}}function mX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(s,u){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let d=c;for(;d--;)if(s[d][0]==="exit"&&s[d][1].type==="strikethroughSequenceTemporary"&&s[d][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[d][1].end.offset-s[d][1].start.offset){s[c][1].type="strikethroughSequence",s[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},s[d][1].start),end:Object.assign({},s[c][1].end)},f={type:"strikethroughText",start:Object.assign({},s[d][1].end),end:Object.assign({},s[c][1].start)},h=[["enter",m,u],["enter",s[d][1],u],["exit",s[d][1],u],["enter",f,u]],b=u.parser.constructs.insideSpan.null;b&&Ir(h,h.length,0,um(b,s.slice(d+1,c),u)),Ir(h,h.length,0,[["exit",f,u],["enter",s[c][1],u],["exit",s[c][1],u],["exit",m,u]]),Ir(s,d-1,c-d+3,h),c=d+h.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function i(s,u,c){const d=this.previous,m=this.events;let f=0;return h;function h(_){return d===126&&m[m.length-1][1].type!=="characterEscape"?c(_):(s.enter("strikethroughSequenceTemporary"),b(_))}function b(_){const x=Bs(d);if(_===126)return f>1?c(_):(s.consume(_),f++,b);if(f<2&&!n)return c(_);const T=s.exit("strikethroughSequenceTemporary"),S=Bs(_);return T._open=!S||S===2&&!!x,T._close=!x||x===2&&!!S,u(_)}}}class fX{constructor(){this.map=[]}add(t,n,r){hX(this,t,n,r)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function hX(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function gX(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function bX(){return{flow:{null:{name:"table",tokenize:vX,resolveAll:yX}}}}function vX(e,t,n){const r=this;let a=0,i=0,s;return u;function u(G){let Q=r.events.length-1;for(;Q>-1;){const ne=r.events[Q][1].type;if(ne==="lineEnding"||ne==="linePrefix")Q--;else break}const re=Q>-1?r.events[Q][1].type:null,ae=re==="tableHead"||re==="tableRow"?P:c;return ae===P&&r.parser.lazy[r.now().line]?n(G):ae(G)}function c(G){return e.enter("tableHead"),e.enter("tableRow"),d(G)}function d(G){return G===124||(s=!0,i+=1),m(G)}function m(G){return G===null?n(G):Ge(G)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),b):n(G):gt(G)?ht(e,m,"whitespace")(G):(i+=1,s&&(s=!1,a+=1),G===124?(e.enter("tableCellDivider"),e.consume(G),e.exit("tableCellDivider"),s=!0,m):(e.enter("data"),f(G)))}function f(G){return G===null||G===124||St(G)?(e.exit("data"),m(G)):(e.consume(G),G===92?h:f)}function h(G){return G===92||G===124?(e.consume(G),f):f(G)}function b(G){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(G):(e.enter("tableDelimiterRow"),s=!1,gt(G)?ht(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):_(G))}function _(G){return G===45||G===58?T(G):G===124?(s=!0,e.enter("tableCellDivider"),e.consume(G),e.exit("tableCellDivider"),x):M(G)}function x(G){return gt(G)?ht(e,T,"whitespace")(G):T(G)}function T(G){return G===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(G),e.exit("tableDelimiterMarker"),S):G===45?(i+=1,S(G)):G===null||Ge(G)?R(G):M(G)}function S(G){return G===45?(e.enter("tableDelimiterFiller"),A(G)):M(G)}function A(G){return G===45?(e.consume(G),A):G===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(G),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(G))}function C(G){return gt(G)?ht(e,R,"whitespace")(G):R(G)}function R(G){return G===124?_(G):G===null||Ge(G)?!s||a!==i?M(G):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(G)):M(G)}function M(G){return n(G)}function P(G){return e.enter("tableRow"),j(G)}function j(G){return G===124?(e.enter("tableCellDivider"),e.consume(G),e.exit("tableCellDivider"),j):G===null||Ge(G)?(e.exit("tableRow"),t(G)):gt(G)?ht(e,j,"whitespace")(G):(e.enter("data"),K(G))}function K(G){return G===null||G===124||St(G)?(e.exit("data"),j(G)):(e.consume(G),G===92?ee:K)}function ee(G){return G===92||G===124?(e.consume(G),K):K(G)}}function yX(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],u=!1,c=0,d,m,f;const h=new fX;for(;++n<e.length;){const b=e[n],_=b[1];b[0]==="enter"?_.type==="tableHead"?(u=!1,c!==0&&(wT(h,t,c,d,m),m=void 0,c=0),d={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},h.add(n,0,[["enter",d,t]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],s=[0,n+1,0,0],u&&(u=!1,m={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},h.add(n,0,[["enter",m,t]])),a=_.type==="tableDelimiterRow"?2:m?3:1):a&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],f=Hd(h,t,i,a,void 0,f),i=[0,0,0,0]),s[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],f=Hd(h,t,i,a,void 0,f)),i=s,s=[i[1],n,0,0])):_.type==="tableHead"?(u=!0,c=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(c=n,i[1]!==0?(s[0]=s[1],f=Hd(h,t,i,a,n,f)):s[1]!==0&&(f=Hd(h,t,s,a,n,f)),a=0):a&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(s[3]=n)}for(c!==0&&wT(h,t,c,d,m),h.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=gX(t.events,n))}return e}function Hd(e,t,n,r,a,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(i.end=Object.assign({},bs(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const c=bs(t.events,n[1]);if(i={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const d=bs(t.events,n[2]),m=bs(t.events,n[3]),f={type:u,start:Object.assign({},d),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],b=t.events[n[3]];if(h[1].end=Object.assign({},b[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,x=n[3]-n[2]-1;e.add(_,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},bs(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function wT(e,t,n,r,a){const i=[],s=bs(t.events,n);a&&(a.end=Object.assign({},s),i.push(["exit",a,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function bs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const xX={name:"tasklistCheck",tokenize:wX};function _X(){return{text:{91:xX}}}function wX(e,t,n){const r=this;return a;function a(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return St(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):n(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return Ge(c)?t(c):gt(c)?e.check({tokenize:$X},t,n)(c):n(c)}}function $X(e,t,n){return ht(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function EX(e){return qA([KK(),iX(),mX(e),bX(),_X()])}const SX={};function qb(e){const t=this,n=e||SX,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(EX(n)),i.push(VK()),s.push(qK(n))}const $T=/[#.]/g;function TX(e,t){const n=e||"",r={};let a=0,i,s;for(;a<n.length;){$T.lastIndex=a;const u=$T.exec(n),c=n.slice(a,u?u.index:n.length);c&&(i?i==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:s=c,a+=c.length),u&&(i=u[0],a++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}function U9(e,t,n){const r=n?CX(n):void 0;function a(i,s,...u){let c;if(i==null){c={type:"root",children:[]};const d=s;u.unshift(d)}else{c=TX(i,t);const d=c.tagName.toLowerCase(),m=r?r.get(d):void 0;if(c.tagName=m||d,kX(s))u.unshift(s);else for(const[f,h]of Object.entries(s))AX(e,c.properties,f,h)}for(const d of u)Bg(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return a}function kX(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const s of i)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function AX(e,t,n,r){const a=lb(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?a.spaceSeparated?i=eS(r):a.commaSeparated?i=K3(r):a.commaOrSpaceSeparated?i=eS(K3(r).join(" ")):i=ET(a,a.property,r):Array.isArray(r)?i=[...r]:i=a.property==="style"?NX(r):String(r);if(Array.isArray(i)){const s=[];for(const u of i)s.push(ET(a,a.property,u));i=s}a.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[a.property]=i}}function Bg(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Bg(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Bg(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function ET(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ou(n)===Ou(t)))return!0}return n}function NX(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function CX(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const IX=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Wb=U9(om,"div"),M9=U9(Js,"g",IX),Na={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LX(e,t){return P9(e,{})||{type:"root",children:[]}}function P9(e,t){const n=RX(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function RX(e,t){switch(e.nodeType){case 1:return MX(e,t);case 3:return OX(e);case 8:return UX(e);case 9:return ST(e,t);case 10:return DX();case 11:return ST(e,t);default:return}}function ST(e,t){return{type:"root",children:F9(e,t)}}function DX(){return{type:"doctype"}}function OX(e){return{type:"text",value:e.nodeValue||""}}function UX(e){return{type:"comment",value:e.nodeValue||""}}function MX(e,t){const n=e.namespaceURI,r=n===Na.svg?M9:Wb,a=n===Na.html?e.tagName.toLowerCase():e.tagName,i=n===Na.html&&a==="template"?e.content:e,s=e.getAttributeNames(),u={};let c=-1;for(;++c<s.length;)u[s[c]]=e.getAttribute(s[c])||"";return r(a,u,F9(i,t))}function F9(e,t){const n=e.childNodes,r=[];let a=-1;for(;++a<n.length;){const i=P9(n[a],t);i!==void 0&&r.push(i)}return r}new DOMParser;function PX(e,t){const n=FX(e);return LX(n)}function FX(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const TT=(function(e,t,n){const r=Ju(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),Mo=(function(e){if(e==null)return jX;if(typeof e=="string")return zX(e);if(typeof e=="object")return BX(e);if(typeof e=="function")return Yb(e);throw new Error("Expected function, string, or array as `test`")});function BX(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Mo(e[n]);return Yb(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function zX(e){return Yb(t);function t(n){return n.tagName===e}}function Yb(e){return t;function t(n,r,a){return!!(GX(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function jX(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function GX(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const kT=/\n/g,AT=/[\t ]+/g,zg=Mo("br"),NT=Mo(QX),HX=Mo("p"),CT=Mo("tr"),VX=Mo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",XX,ZX]),B9=Mo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function qX(e,t){const n=t||{},r="children"in e?e.children:[],a=B9(e),i=G9(e,{whitespace:n.whitespace||"normal"}),s=[];(e.type==="text"||e.type==="comment")&&s.push(...j9(e,{breakBefore:!0,breakAfter:!0}));let u=-1;for(;++u<r.length;)s.push(...z9(r[u],e,{whitespace:i,breakBefore:u?void 0:a,breakAfter:u<r.length-1?zg(r[u+1]):a}));const c=[];let d;for(u=-1;++u<s.length;){const m=s[u];typeof m=="number"?d!==void 0&&m>d&&(d=m):m&&(d!==void 0&&d>-1&&c.push(`
`.repeat(d)||" "),d=-1,c.push(m))}return c.join("")}function z9(e,t,n){return e.type==="element"?WX(e,t,n):e.type==="text"?n.whitespace==="normal"?j9(e,n):YX(e):[]}function WX(e,t,n){const r=G9(e,n),a=e.children||[];let i=-1,s=[];if(VX(e))return s;let u,c;for(zg(e)||CT(e)&&TT(t,e,CT)?c=`
`:HX(e)?(u=2,c=2):B9(e)&&(u=1,c=1);++i<a.length;)s=s.concat(z9(a[i],e,{whitespace:r,breakBefore:i?void 0:u,breakAfter:i<a.length-1?zg(a[i+1]):c}));return NT(e)&&TT(t,e,NT)&&s.push("	"),u&&s.unshift(u),c&&s.push(c),s}function j9(e,t){const n=String(e.value),r=[],a=[];let i=0;for(;i<=n.length;){kT.lastIndex=i;const c=kT.exec(n),d=c&&"index"in c?c.index:n.length;r.push(KX(n.slice(i,d).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),i===0?t.breakBefore:!0,d===n.length?t.breakAfter:!0)),i=d+1}let s=-1,u;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(a.push(r[s]),u=void 0):r[s]?(typeof u=="number"&&a.push(u),a.push(r[s]),u=0):(s===0||s===r.length-1)&&a.push(0);return a}function YX(e){return[String(e.value)]}function KX(e,t,n){const r=[];let a=0,i;for(;a<e.length;){AT.lastIndex=a;const s=AT.exec(e);i=s?s.index:e.length,!a&&!i&&s&&!t&&r.push(""),a!==i&&r.push(e.slice(a,i)),a=s?i+s[0].length:i}return a!==i&&!n&&r.push(""),r.join(" ")}function G9(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function XX(e){return!!(e.properties||{}).hidden}function QX(e){return e.tagName==="td"||e.tagName==="th"}function ZX(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const JX={},eQ=[];function tQ(e){const t=e||JX;return function(n,r){yb(n,"element",function(a,i){const s=Array.isArray(a.properties.className)?a.properties.className:eQ,u=s.includes("language-math"),c=s.includes("math-display"),d=s.includes("math-inline");let m=c;if(!u&&!c&&!d)return;let f=i[i.length-1],h=a;if(a.tagName==="code"&&u&&f&&f.type==="element"&&f.tagName==="pre"&&(h=f,f=i[i.length-2],m=!0),!f)return;const b=qX(h,{whitespace:"pre"});let _;try{_=fT.renderToString(b,{...t,displayMode:m,throwOnError:!0})}catch(T){const S=T,A=S.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...i,a],cause:S,place:a.position,ruleId:A,source:"rehype-katex"});try{_=fT.renderToString(b,{...t,displayMode:m,strict:"ignore",throwOnError:!1})}catch{_=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(T)},children:[{type:"text",value:b}]}]}}typeof _=="string"&&(_=PX(_).children);const x=f.children.indexOf(h);return f.children.splice(x,1,..._),d5})}}function nQ(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let s=0;for(;;){let u=n[s];if(u===void 0){const c=IT(t,n[s-1]);u=c===-1?t.length+1:c+1,n[s]=u}if(u>i)return{line:s+1,column:i-(s>0?n[s-1]:0)+1,offset:i};s++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const u=n[n.length-1],c=IT(t,u),d=c===-1?t.length+1:c+1;if(u===d)break;n.push(d)}const s=(i.line>1?n[i.line-2]:0)+i.column-1;if(s<n[i.line-1])return s}}}function IT(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const H9={}.hasOwnProperty,rQ=Object.prototype;function aQ(e,t){const n=t||{};return Kb({file:n.file||void 0,location:!1,schema:n.space==="svg"?Js:om,verbose:n.verbose||!1},e)}function Kb(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},up(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:V9(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const i=String(e.file),s=nQ(i),u=s.toPoint(0),c=s.toPoint(i.length);n.position={start:u,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},up(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},up(e,r,n),n}default:return n=iQ(e,t),n}}function V9(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=Kb(e,t[n]);r.push(a)}return r}function iQ(e,t){const n=e.schema;e.schema=t.namespaceURI===Na.svg?Js:om;let r=-1;const a={};for(;++r<t.attrs.length;){const u=t.attrs[r],c=(u.prefix?u.prefix+":":"")+u.name;H9.call(rQ,c)||(a[c]=u.value)}const s=(e.schema.space==="svg"?M9:Wb)(t.tagName,a,V9(e,t.childNodes));if(up(e,t,s),s.tagName==="template"){const u=t,c=u.sourceCodeLocation,d=c&&c.startTag&&Ss(c.startTag),m=c&&c.endTag&&Ss(c.endTag),f=Kb(e,u.content);d&&m&&e.file&&(f.position={start:d.end,end:m.start}),s.content=f}return e.schema=n,s}function up(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=oQ(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function oQ(e,t,n){const r=Ss(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const i={};let s;if(n.attrs)for(s in n.attrs)H9.call(n.attrs,s)&&(i[lb(e.schema,s).property]=Ss(n.attrs[s]));n.startTag;const u=Ss(n.startTag),c=n.endTag?Ss(n.endTag):void 0,d={opening:u};c&&(d.closing=c),d.properties=i,t.data={position:d}}}return r}function Ss(e){const t=LT({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=LT({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function LT(e){return e.line&&e.column?e:void 0}class ac{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}ac.prototype.property={};ac.prototype.normal={};ac.prototype.space=null;function q9(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new ac(n,r,t)}function jg(e){return e.toLowerCase()}class Qr{constructor(t,n){this.property=t,this.attribute=n}}Qr.prototype.space=null;Qr.prototype.boolean=!1;Qr.prototype.booleanish=!1;Qr.prototype.overloadedBoolean=!1;Qr.prototype.number=!1;Qr.prototype.commaSeparated=!1;Qr.prototype.spaceSeparated=!1;Qr.prototype.commaOrSpaceSeparated=!1;Qr.prototype.mustUseProperty=!1;Qr.prototype.defined=!1;let sQ=0;const st=Po(),an=Po(),W9=Po(),Ne=Po(),Nt=Po(),Ls=Po(),Sr=Po();function Po(){return 2**++sQ}const Gg=Object.freeze(Object.defineProperty({__proto__:null,boolean:st,booleanish:an,commaOrSpaceSeparated:Sr,commaSeparated:Ls,number:Ne,overloadedBoolean:W9,spaceSeparated:Nt},Symbol.toStringTag,{value:"Module"})),_h=Object.keys(Gg);class Xb extends Qr{constructor(t,n,r,a){let i=-1;if(super(t,n),RT(this,"space",a),typeof r=="number")for(;++i<_h.length;){const s=_h[i];RT(this,_h[i],(r&Gg[s])===Gg[s])}}}Xb.prototype.defined=!0;function RT(e,t,n){n&&(e[t]=n)}const lQ={}.hasOwnProperty;function rl(e){const t={},n={};let r;for(r in e.properties)if(lQ.call(e.properties,r)){const a=e.properties[r],i=new Xb(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[jg(r)]=r,n[jg(i.attribute)]=r}return new ac(t,n,e.space)}const Y9=rl({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),K9=rl({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function X9(e,t){return t in e?e[t]:t}function Q9(e,t){return X9(e,t.toLowerCase())}const Z9=rl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Q9,properties:{xmlns:null,xmlnsXLink:null}}),J9=rl({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:an,ariaAutoComplete:null,ariaBusy:an,ariaChecked:an,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Nt,ariaCurrent:null,ariaDescribedBy:Nt,ariaDetails:null,ariaDisabled:an,ariaDropEffect:Nt,ariaErrorMessage:null,ariaExpanded:an,ariaFlowTo:Nt,ariaGrabbed:an,ariaHasPopup:null,ariaHidden:an,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nt,ariaLevel:Ne,ariaLive:null,ariaModal:an,ariaMultiLine:an,ariaMultiSelectable:an,ariaOrientation:null,ariaOwns:Nt,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:an,ariaReadOnly:an,ariaRelevant:null,ariaRequired:an,ariaRoleDescription:Nt,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:an,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null}}),uQ=rl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Q9,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ls,acceptCharset:Nt,accessKey:Nt,action:null,allow:null,allowFullScreen:st,allowPaymentRequest:st,allowUserMedia:st,alt:null,as:null,async:st,autoCapitalize:null,autoComplete:Nt,autoFocus:st,autoPlay:st,blocking:Nt,capture:null,charSet:null,checked:st,cite:null,className:Nt,cols:Ne,colSpan:null,content:null,contentEditable:an,controls:st,controlsList:Nt,coords:Ne|Ls,crossOrigin:null,data:null,dateTime:null,decoding:null,default:st,defer:st,dir:null,dirName:null,disabled:st,download:W9,draggable:an,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:st,formTarget:null,headers:Nt,height:Ne,hidden:st,high:Ne,href:null,hrefLang:null,htmlFor:Nt,httpEquiv:Nt,id:null,imageSizes:null,imageSrcSet:null,inert:st,inputMode:null,integrity:null,is:null,isMap:st,itemId:null,itemProp:Nt,itemRef:Nt,itemScope:st,itemType:Nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:st,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:st,muted:st,name:null,nonce:null,noModule:st,noValidate:st,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:st,optimum:Ne,pattern:null,ping:Nt,placeholder:null,playsInline:st,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:st,referrerPolicy:null,rel:Nt,required:st,reversed:st,rows:Ne,rowSpan:Ne,sandbox:Nt,scope:null,scoped:st,seamless:st,selected:st,shadowRootClonable:st,shadowRootDelegatesFocus:st,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:an,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:st,useMap:null,value:an,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nt,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:st,declare:st,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:st,noHref:st,noShade:st,noWrap:st,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:an,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:st,disableRemotePlayback:st,prefix:null,property:null,results:Ne,security:null,unselectable:null}}),cQ=rl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:X9,properties:{about:Sr,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:st,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ls,g2:Ls,glyphName:Ls,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Sr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sr,rev:Sr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sr,requiredFeatures:Sr,requiredFonts:Sr,requiredFormats:Sr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Sr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sr,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),dQ=/^data[-\w.:]+$/i,DT=/-[a-z]/g,pQ=/[A-Z]/g;function mQ(e,t){const n=jg(t);let r=t,a=Qr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dQ.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(DT,hQ);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!DT.test(i)){let s=i.replace(pQ,fQ);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=Xb}return new a(r,t)}function fQ(e){return"-"+e.toLowerCase()}function hQ(e){return e.charAt(1).toUpperCase()}const gQ=q9([K9,Y9,Z9,J9,uQ],"html"),eN=q9([K9,Y9,Z9,J9,cQ],"svg"),bQ={},vQ={}.hasOwnProperty,tN=g9("type",{handlers:{root:xQ,element:SQ,text:$Q,comment:EQ,doctype:wQ}});function yQ(e,t){const r=(t||bQ).space;return tN(e,r==="svg"?eN:gQ)}function xQ(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Qb(e.children,n,t),al(e,n),n}function _Q(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Qb(e.children,n,t),al(e,n),n}function wQ(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return al(e,t),t}function $Q(e){const t={nodeName:"#text",value:e.value,parentNode:null};return al(e,t),t}function EQ(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return al(e,t),t}function SQ(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=eN);const a=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&vQ.call(e.properties,i)){const c=TQ(r,i,e.properties[i]);c&&a.push(c)}}const s=r.space,u={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:Na[s],childNodes:[],parentNode:null};return u.childNodes=Qb(e.children,u,r),al(e,u),e.tagName==="template"&&e.content&&(u.content=_Q(e.content,r)),u}function TQ(e,t,n){const r=mQ(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?IA(n):FA(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=r.attribute.slice(0,i)),a.namespace=Na[r.space]}return a}function Qb(e,t,n){let r=-1;const a=[];if(e)for(;++r<e.length;){const i=tN(e[r],n);i.parentNode=t,a.push(i)}return a}function al(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const kQ=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],AQ=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Mt="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(F||(F={}));const cr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function nN(e){return e>=55296&&e<=57343}function NQ(e){return e>=56320&&e<=57343}function CQ(e,t){return(e-55296)*1024+9216+t}function rN(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function aN(e){return e>=64976&&e<=65007||AQ.has(e)}var pe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(pe||(pe={}));const IQ=65536;class LQ{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=IQ,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:i}=this,s=a+n,u=i+n;return{code:t,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:u,endOffset:u}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(NQ(n))return this.pos++,this._addGap(),CQ(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(pe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,nN(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){rN(t)?this._err(pe.controlCharacterInInputStream):aN(t)&&this._err(pe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ft;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ft||(ft={}));function iN(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const RQ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),DQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function OQ(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=DQ.get(e))!==null&&t!==void 0?t:e}var En;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(En||(En={}));const UQ=32;var Gi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gi||(Gi={}));function Hg(e){return e>=En.ZERO&&e<=En.NINE}function MQ(e){return e>=En.UPPER_A&&e<=En.UPPER_F||e>=En.LOWER_A&&e<=En.LOWER_F}function PQ(e){return e>=En.UPPER_A&&e<=En.UPPER_Z||e>=En.LOWER_A&&e<=En.LOWER_Z||Hg(e)}function FQ(e){return e===En.EQUALS||PQ(e)}var wn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(wn||(wn={}));var ei;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ei||(ei={}));class BQ{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=wn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ei.Strict}startEntity(t){this.decodeMode=t,this.state=wn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case wn.EntityStart:return t.charCodeAt(n)===En.NUM?(this.state=wn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=wn.NamedEntity,this.stateNamedEntity(t,n));case wn.NumericStart:return this.stateNumericStart(t,n);case wn.NumericDecimal:return this.stateNumericDecimal(t,n);case wn.NumericHex:return this.stateNumericHex(t,n);case wn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|UQ)===En.LOWER_X?(this.state=wn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=wn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const i=r-n;this.result=this.result*Math.pow(a,i)+Number.parseInt(t.substr(n,i),a),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Hg(a)||MQ(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Hg(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===En.SEMI)this.consumed+=1;else if(this.decodeMode===ei.Strict)return 0;return this.emitCodePoint(OQ(this.result),this.consumed),this.errors&&(t!==En.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],i=(a&Gi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=zQ(r,a,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return this.result===0||this.decodeMode===ei.Attribute&&(i===0||FQ(s))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],i=(a&Gi.VALUE_LENGTH)>>14,i!==0){if(s===En.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==ei.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&Gi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~Gi.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case wn.NamedEntity:return this.result!==0&&(this.decodeMode!==ei.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case wn.NumericDecimal:return this.emitNumericEntity(0,2);case wn.NumericHex:return this.emitNumericEntity(0,3);case wn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case wn.EntityStart:return 0}}}function zQ(e,t,n,r){const a=(t&Gi.BRANCH_LENGTH)>>7,i=t&Gi.JUMP_TABLE;if(a===0)return i!==0&&r===i?n:-1;if(i){const c=r-i;return c<0||c>=a?-1:e[n+c]-1}let s=n,u=s+a-1;for(;s<=u;){const c=s+u>>>1,d=e[c];if(d<r)s=c+1;else if(d>r)u=c-1;else return e[c+a]}return-1}var _e;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(_e||(_e={}));var No;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(No||(No={}));var Hr;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Hr||(Hr={}));var se;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(se||(se={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(v||(v={}));const jQ=new Map([[se.A,v.A],[se.ADDRESS,v.ADDRESS],[se.ANNOTATION_XML,v.ANNOTATION_XML],[se.APPLET,v.APPLET],[se.AREA,v.AREA],[se.ARTICLE,v.ARTICLE],[se.ASIDE,v.ASIDE],[se.B,v.B],[se.BASE,v.BASE],[se.BASEFONT,v.BASEFONT],[se.BGSOUND,v.BGSOUND],[se.BIG,v.BIG],[se.BLOCKQUOTE,v.BLOCKQUOTE],[se.BODY,v.BODY],[se.BR,v.BR],[se.BUTTON,v.BUTTON],[se.CAPTION,v.CAPTION],[se.CENTER,v.CENTER],[se.CODE,v.CODE],[se.COL,v.COL],[se.COLGROUP,v.COLGROUP],[se.DD,v.DD],[se.DESC,v.DESC],[se.DETAILS,v.DETAILS],[se.DIALOG,v.DIALOG],[se.DIR,v.DIR],[se.DIV,v.DIV],[se.DL,v.DL],[se.DT,v.DT],[se.EM,v.EM],[se.EMBED,v.EMBED],[se.FIELDSET,v.FIELDSET],[se.FIGCAPTION,v.FIGCAPTION],[se.FIGURE,v.FIGURE],[se.FONT,v.FONT],[se.FOOTER,v.FOOTER],[se.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[se.FORM,v.FORM],[se.FRAME,v.FRAME],[se.FRAMESET,v.FRAMESET],[se.H1,v.H1],[se.H2,v.H2],[se.H3,v.H3],[se.H4,v.H4],[se.H5,v.H5],[se.H6,v.H6],[se.HEAD,v.HEAD],[se.HEADER,v.HEADER],[se.HGROUP,v.HGROUP],[se.HR,v.HR],[se.HTML,v.HTML],[se.I,v.I],[se.IMG,v.IMG],[se.IMAGE,v.IMAGE],[se.INPUT,v.INPUT],[se.IFRAME,v.IFRAME],[se.KEYGEN,v.KEYGEN],[se.LABEL,v.LABEL],[se.LI,v.LI],[se.LINK,v.LINK],[se.LISTING,v.LISTING],[se.MAIN,v.MAIN],[se.MALIGNMARK,v.MALIGNMARK],[se.MARQUEE,v.MARQUEE],[se.MATH,v.MATH],[se.MENU,v.MENU],[se.META,v.META],[se.MGLYPH,v.MGLYPH],[se.MI,v.MI],[se.MO,v.MO],[se.MN,v.MN],[se.MS,v.MS],[se.MTEXT,v.MTEXT],[se.NAV,v.NAV],[se.NOBR,v.NOBR],[se.NOFRAMES,v.NOFRAMES],[se.NOEMBED,v.NOEMBED],[se.NOSCRIPT,v.NOSCRIPT],[se.OBJECT,v.OBJECT],[se.OL,v.OL],[se.OPTGROUP,v.OPTGROUP],[se.OPTION,v.OPTION],[se.P,v.P],[se.PARAM,v.PARAM],[se.PLAINTEXT,v.PLAINTEXT],[se.PRE,v.PRE],[se.RB,v.RB],[se.RP,v.RP],[se.RT,v.RT],[se.RTC,v.RTC],[se.RUBY,v.RUBY],[se.S,v.S],[se.SCRIPT,v.SCRIPT],[se.SEARCH,v.SEARCH],[se.SECTION,v.SECTION],[se.SELECT,v.SELECT],[se.SOURCE,v.SOURCE],[se.SMALL,v.SMALL],[se.SPAN,v.SPAN],[se.STRIKE,v.STRIKE],[se.STRONG,v.STRONG],[se.STYLE,v.STYLE],[se.SUB,v.SUB],[se.SUMMARY,v.SUMMARY],[se.SUP,v.SUP],[se.TABLE,v.TABLE],[se.TBODY,v.TBODY],[se.TEMPLATE,v.TEMPLATE],[se.TEXTAREA,v.TEXTAREA],[se.TFOOT,v.TFOOT],[se.TD,v.TD],[se.TH,v.TH],[se.THEAD,v.THEAD],[se.TITLE,v.TITLE],[se.TR,v.TR],[se.TRACK,v.TRACK],[se.TT,v.TT],[se.U,v.U],[se.UL,v.UL],[se.SVG,v.SVG],[se.VAR,v.VAR],[se.WBR,v.WBR],[se.XMP,v.XMP]]);function il(e){var t;return(t=jQ.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const Ee=v,GQ={[_e.HTML]:new Set([Ee.ADDRESS,Ee.APPLET,Ee.AREA,Ee.ARTICLE,Ee.ASIDE,Ee.BASE,Ee.BASEFONT,Ee.BGSOUND,Ee.BLOCKQUOTE,Ee.BODY,Ee.BR,Ee.BUTTON,Ee.CAPTION,Ee.CENTER,Ee.COL,Ee.COLGROUP,Ee.DD,Ee.DETAILS,Ee.DIR,Ee.DIV,Ee.DL,Ee.DT,Ee.EMBED,Ee.FIELDSET,Ee.FIGCAPTION,Ee.FIGURE,Ee.FOOTER,Ee.FORM,Ee.FRAME,Ee.FRAMESET,Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6,Ee.HEAD,Ee.HEADER,Ee.HGROUP,Ee.HR,Ee.HTML,Ee.IFRAME,Ee.IMG,Ee.INPUT,Ee.LI,Ee.LINK,Ee.LISTING,Ee.MAIN,Ee.MARQUEE,Ee.MENU,Ee.META,Ee.NAV,Ee.NOEMBED,Ee.NOFRAMES,Ee.NOSCRIPT,Ee.OBJECT,Ee.OL,Ee.P,Ee.PARAM,Ee.PLAINTEXT,Ee.PRE,Ee.SCRIPT,Ee.SECTION,Ee.SELECT,Ee.SOURCE,Ee.STYLE,Ee.SUMMARY,Ee.TABLE,Ee.TBODY,Ee.TD,Ee.TEMPLATE,Ee.TEXTAREA,Ee.TFOOT,Ee.TH,Ee.THEAD,Ee.TITLE,Ee.TR,Ee.TRACK,Ee.UL,Ee.WBR,Ee.XMP]),[_e.MATHML]:new Set([Ee.MI,Ee.MO,Ee.MN,Ee.MS,Ee.MTEXT,Ee.ANNOTATION_XML]),[_e.SVG]:new Set([Ee.TITLE,Ee.FOREIGN_OBJECT,Ee.DESC]),[_e.XLINK]:new Set,[_e.XML]:new Set,[_e.XMLNS]:new Set},Vg=new Set([Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6]);se.STYLE,se.SCRIPT,se.XMP,se.IFRAME,se.NOEMBED,se.NOFRAMES,se.PLAINTEXT;var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(z||(z={}));const Zt={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function HQ(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function lu(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function VQ(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function Pi(e){return VQ(e)||lu(e)}function OT(e){return Pi(e)||HQ(e)}function Vd(e){return e+32}function oN(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function UT(e){return oN(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}function qQ(e){return e===F.NULL?pe.nullCharacterReference:e>1114111?pe.characterReferenceOutsideUnicodeRange:nN(e)?pe.surrogateCharacterReference:aN(e)?pe.noncharacterCharacterReference:rN(e)||e===F.CARRIAGE_RETURN?pe.controlCharacterReference:null}class WQ{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new LQ(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new BQ(RQ,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(pe.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(pe.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=qQ(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ft.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ft.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ft.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ft.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(iN(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(pe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=il(t.tagName),t.type===ft.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(pe.endTagWithAttributes),t.selfClosing&&this._err(pe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ft.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ft.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ft.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ft.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=oN(t)?ft.WHITESPACE_CHARACTER:t===F.NULL?ft.NULL_CHARACTER:ft.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ft.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=z.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ei.Attribute:ei.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this._startCharacterReference();break}case F.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Pi(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(pe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(pe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(pe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Pi(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(pe.missingEndTagName),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(pe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.tagName+=Mt;break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(lu(t)?Vd(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Pi(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Pi(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Pi(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Pi(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Pi(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(cr.SCRIPT,!1)&&UT(this.preprocessor.peek(cr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<cr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Mt);break}case F.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(cr.SCRIPT,!1)&&UT(this.preprocessor.peek(cr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<cr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(pe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(pe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.name+=Mt;break}default:this.currentAttr.name+=String.fromCodePoint(lu(t)?Vd(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Mt;break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Mt;break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Mt;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(pe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._err(pe.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._err(pe.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.data+=Mt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(cr.DASH_DASH,!0)?(this._createCommentToken(cr.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch(cr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(cr.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch(cr.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(pe.cdataInHtmlContent),this._createCommentToken(cr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(pe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptClosingOfEmptyComment),this.state=z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.data+=Mt;break}case F.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(pe.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case F.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=z.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(pe.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(pe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(lu(t))this._createDoctypeToken(String.fromCharCode(Vd(t))),this.state=z.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(pe.unexpectedNullCharacter),this._createDoctypeToken(Mt),this.state=z.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.name+=Mt;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(lu(t)?Vd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(cr.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(cr.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(pe.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(pe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(pe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.publicId+=Mt;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.publicId+=Mt;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(pe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(pe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(pe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(pe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.systemId+=Mt;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(pe.unexpectedNullCharacter),n.systemId+=Mt;break}case F.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.EOF:{this._err(pe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(pe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case F.NULL:{this._err(pe.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(pe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&OT(this.preprocessor.peek(1))?z.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){OT(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(pe.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const sN=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),MT=new Set([...sN,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),Dp=new Set([v.APPLET,v.CAPTION,v.HTML,v.MARQUEE,v.OBJECT,v.TABLE,v.TD,v.TEMPLATE,v.TH]),YQ=new Set([...Dp,v.OL,v.UL]),KQ=new Set([...Dp,v.BUTTON]),PT=new Set([v.ANNOTATION_XML,v.MI,v.MN,v.MO,v.MS,v.MTEXT]),FT=new Set([v.DESC,v.FOREIGN_OBJECT,v.TITLE]),XQ=new Set([v.TR,v.TEMPLATE,v.HTML]),QQ=new Set([v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML]),ZQ=new Set([v.TABLE,v.TEMPLATE,v.HTML]),JQ=new Set([v.TD,v.TH]);class eZ{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===_e.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==_e.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Vg,_e.HTML)}popUntilTableCellPopped(){this.popUntilPopped(JQ,_e.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(ZQ,_e.HTML)}clearBackToTableBodyContext(){this.clearBackTo(QQ,_e.HTML)}clearBackToTableRowContext(){this.clearBackTo(XQ,_e.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case _e.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case _e.SVG:{if(FT.has(a))return!1;break}case _e.MATHML:{if(PT.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Dp)}hasInListItemScope(t){return this.hasInDynamicScope(t,YQ)}hasInButtonScope(t){return this.hasInDynamicScope(t,KQ)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case _e.HTML:{if(Vg.has(n))return!0;if(Dp.has(n))return!1;break}case _e.SVG:{if(FT.has(n))return!1;break}case _e.MATHML:{if(PT.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===_e.HTML)switch(this.tagIDs[n]){case t:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===_e.HTML)switch(this.tagIDs[t]){case v.TBODY:case v.THEAD:case v.TFOOT:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===_e.HTML)switch(this.tagIDs[n]){case t:return!0;case v.OPTION:case v.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&sN.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&MT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&MT.has(this.currentTagId);)this.pop()}}const wh=3;var Sa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Sa||(Sa={}));const BT={type:Sa.Marker};class tZ{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,i=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let u=0;u<this.entries.length;u++){const c=this.entries[u];if(c.type===Sa.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===i&&this.treeAdapter.getNamespaceURI(d)===s){const m=this.treeAdapter.getAttrList(d);m.length===a&&r.push({idx:u,attrs:m})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<wh)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<wh)return;const a=new Map(n.map(s=>[s.name,s.value]));let i=0;for(let s=0;s<r.length;s++){const u=r[s];u.attrs.every(c=>a.get(c.name)===c.value)&&(i+=1,i>=wh&&this.entries.splice(u.idx,1))}}insertMarker(){this.entries.unshift(BT)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Sa.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Sa.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(BT);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Sa.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Sa.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Sa.Element&&n.element===t)}}const Fi={createDocument(){return{nodeName:"#document",mode:Hr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Fi.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Fi.isTextNode(n)){n.value+=t;return}}Fi.appendChild(e,Fi.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Fi.isTextNode(r)?r.value+=t:Fi.insertBefore(e,Fi.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},lN="html",nZ="about:legacy-compat",rZ="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",uN=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],aZ=[...uN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],iZ=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),cN=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],oZ=[...cN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function zT(e,t){return t.some(n=>e.startsWith(n))}function sZ(e){return e.name===lN&&e.publicId===null&&(e.systemId===null||e.systemId===nZ)}function lZ(e){if(e.name!==lN)return Hr.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===rZ)return Hr.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),iZ.has(n))return Hr.QUIRKS;let r=t===null?aZ:uN;if(zT(n,r))return Hr.QUIRKS;if(r=t===null?cN:oZ,zT(n,r))return Hr.LIMITED_QUIRKS}return Hr.NO_QUIRKS}const jT={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},uZ="definitionurl",cZ="definitionURL",dZ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),pZ=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:_e.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:_e.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:_e.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:_e.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:_e.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:_e.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:_e.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:_e.XML}],["xml:space",{prefix:"xml",name:"space",namespace:_e.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:_e.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:_e.XMLNS}]]),mZ=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),fZ=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function hZ(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===No.COLOR||r===No.SIZE||r===No.FACE)||fZ.has(t)}function dN(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===uZ){e.attrs[t].name=cZ;break}}function pN(e){for(let t=0;t<e.attrs.length;t++){const n=dZ.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Zb(e){for(let t=0;t<e.attrs.length;t++){const n=pZ.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function gZ(e){const t=mZ.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=il(e.tagName))}function bZ(e,t){return t===_e.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function vZ(e,t,n){if(t===_e.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===No.ENCODING){const a=n[r].value.toLowerCase();return a===jT.TEXT_HTML||a===jT.APPLICATION_XML}}return t===_e.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function yZ(e,t,n,r){return(!r||r===_e.HTML)&&vZ(e,t,n)||(!r||r===_e.MATHML)&&bZ(e,t)}const xZ="hidden",_Z=8,wZ=3;var Y;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Y||(Y={}));const $Z={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},mN=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),GT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Fi,onParseError:null};class HT{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Y.INITIAL,this.originalInsertionMode=Y.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...GT,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new WQ(this.options,this),this.activeFormattingElements=new tZ(this.treeAdapter),this.fragmentContextID=r?il(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new eZ(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...GT,...n};t??(t=r.treeAdapter.createElement(se.TEMPLATE,_e.HTML,[]));const a=r.treeAdapter.createElement("documentmock",_e.HTML,[]),i=new this(r,a,t);return i.fragmentContextID===v.TEMPLATE&&i.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:$Z,s={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(t,n,r){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let i,s;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,s=this.fragmentContextID):{current:i,currentTagId:s}=this.openElements,this._setContextModes(i,s)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===_e.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,_e.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Y.TEXT}switchToPlaintextParsing(){this.insertionMode=Y.TEXT,this.originalInsertionMode=Y.IN_BODY,this.tokenizer.state=Zt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===se.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==_e.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=Zt.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=Zt.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=Zt.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=Zt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(u=>this.treeAdapter.isDocumentTypeNode(u));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,_e.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,_e.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(se.HTML,_e.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),i=r?a.lastIndexOf(r):a.length,s=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:c,endCol:d,endOffset:m}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:c,endCol:d,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),i=n.type===ft.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===se.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===_e.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,_e.HTML)}_processToken(t){switch(t.type){case ft.CHARACTER:{this.onCharacter(t);break}case ft.NULL_CHARACTER:{this.onNullCharacter(t);break}case ft.COMMENT:{this.onComment(t);break}case ft.DOCTYPE:{this.onDoctype(t);break}case ft.START_TAG:{this._processStartTag(t);break}case ft.END_TAG:{this.onEndTag(t);break}case ft.EOF:{this.onEof(t);break}case ft.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return yZ(t,a,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===Sa.Marker||this.openElements.contains(a.element)),r=n===-1?t-1:n-1;for(let a=r;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Y.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=Y.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=Y.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=Y.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=Y.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=Y.IN_TABLE;return}case v.BODY:{this.insertionMode=Y.IN_BODY;return}case v.FRAMESET:{this.insertionMode=Y.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?Y.AFTER_HEAD:Y.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=Y.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=Y.IN_HEAD;return}break}}this.insertionMode=Y.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=Y.IN_SELECT_IN_TABLE;return}}this.insertionMode=Y.IN_SELECT}_isElementCausesFosterParenting(t){return mN.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===_e.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return GQ[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){JJ(this,t);return}switch(this.insertionMode){case Y.INITIAL:{nu(this,t);break}case Y.BEFORE_HTML:{vu(this,t);break}case Y.BEFORE_HEAD:{yu(this,t);break}case Y.IN_HEAD:{xu(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{_u(this,t);break}case Y.AFTER_HEAD:{wu(this,t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:{hN(this,t);break}case Y.TEXT:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{$h(this,t);break}case Y.IN_TABLE_TEXT:{_N(this,t);break}case Y.IN_COLUMN_GROUP:{Op(this,t);break}case Y.AFTER_BODY:{Up(this,t);break}case Y.AFTER_AFTER_BODY:{cp(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ZJ(this,t);return}switch(this.insertionMode){case Y.INITIAL:{nu(this,t);break}case Y.BEFORE_HTML:{vu(this,t);break}case Y.BEFORE_HEAD:{yu(this,t);break}case Y.IN_HEAD:{xu(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{_u(this,t);break}case Y.AFTER_HEAD:{wu(this,t);break}case Y.TEXT:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{$h(this,t);break}case Y.IN_COLUMN_GROUP:{Op(this,t);break}case Y.AFTER_BODY:{Up(this,t);break}case Y.AFTER_AFTER_BODY:{cp(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){qg(this,t);return}switch(this.insertionMode){case Y.INITIAL:case Y.BEFORE_HTML:case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_TEMPLATE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{qg(this,t);break}case Y.IN_TABLE_TEXT:{ru(this,t);break}case Y.AFTER_BODY:{CZ(this,t);break}case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{IZ(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Y.INITIAL:{LZ(this,t);break}case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:{this._err(t,pe.misplacedDoctype);break}case Y.IN_TABLE_TEXT:{ru(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,pe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?eee(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{nu(this,t);break}case Y.BEFORE_HTML:{RZ(this,t);break}case Y.BEFORE_HEAD:{OZ(this,t);break}case Y.IN_HEAD:{ma(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{PZ(this,t);break}case Y.AFTER_HEAD:{BZ(this,t);break}case Y.IN_BODY:{Fn(this,t);break}case Y.IN_TABLE:{Gs(this,t);break}case Y.IN_TABLE_TEXT:{ru(this,t);break}case Y.IN_CAPTION:{UJ(this,t);break}case Y.IN_COLUMN_GROUP:{tv(this,t);break}case Y.IN_TABLE_BODY:{xm(this,t);break}case Y.IN_ROW:{_m(this,t);break}case Y.IN_CELL:{FJ(this,t);break}case Y.IN_SELECT:{EN(this,t);break}case Y.IN_SELECT_IN_TABLE:{zJ(this,t);break}case Y.IN_TEMPLATE:{GJ(this,t);break}case Y.AFTER_BODY:{VJ(this,t);break}case Y.IN_FRAMESET:{qJ(this,t);break}case Y.AFTER_FRAMESET:{YJ(this,t);break}case Y.AFTER_AFTER_BODY:{XJ(this,t);break}case Y.AFTER_AFTER_FRAMESET:{QJ(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?tee(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{nu(this,t);break}case Y.BEFORE_HTML:{DZ(this,t);break}case Y.BEFORE_HEAD:{UZ(this,t);break}case Y.IN_HEAD:{MZ(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{FZ(this,t);break}case Y.AFTER_HEAD:{zZ(this,t);break}case Y.IN_BODY:{ym(this,t);break}case Y.TEXT:{TJ(this,t);break}case Y.IN_TABLE:{zu(this,t);break}case Y.IN_TABLE_TEXT:{ru(this,t);break}case Y.IN_CAPTION:{MJ(this,t);break}case Y.IN_COLUMN_GROUP:{PJ(this,t);break}case Y.IN_TABLE_BODY:{Wg(this,t);break}case Y.IN_ROW:{$N(this,t);break}case Y.IN_CELL:{BJ(this,t);break}case Y.IN_SELECT:{SN(this,t);break}case Y.IN_SELECT_IN_TABLE:{jJ(this,t);break}case Y.IN_TEMPLATE:{HJ(this,t);break}case Y.AFTER_BODY:{kN(this,t);break}case Y.IN_FRAMESET:{WJ(this,t);break}case Y.AFTER_FRAMESET:{KJ(this,t);break}case Y.AFTER_AFTER_BODY:{cp(this,t);break}}}onEof(t){switch(this.insertionMode){case Y.INITIAL:{nu(this,t);break}case Y.BEFORE_HTML:{vu(this,t);break}case Y.BEFORE_HEAD:{yu(this,t);break}case Y.IN_HEAD:{xu(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{_u(this,t);break}case Y.AFTER_HEAD:{wu(this,t);break}case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{yN(this,t);break}case Y.TEXT:{kJ(this,t);break}case Y.IN_TABLE_TEXT:{ru(this,t);break}case Y.IN_TEMPLATE:{TN(this,t);break}case Y.AFTER_BODY:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{ev(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.TEXT:case Y.IN_COLUMN_GROUP:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{this._insertCharacters(t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:case Y.AFTER_BODY:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{fN(this,t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{$h(this,t);break}case Y.IN_TABLE_TEXT:{xN(this,t);break}}}}function EZ(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):vN(e,t),n}function SZ(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function TZ(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let i=0,s=a;s!==n;i++,s=a){a=e.openElements.getCommonAncestor(s);const u=e.activeFormattingElements.getElementEntry(s),c=u&&i>=wZ;!u||c?(c&&e.activeFormattingElements.removeEntry(u),e.openElements.remove(s)):(s=kZ(e,u),r===t&&(e.activeFormattingElements.bookmark=u),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function kZ(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function AZ(e,t,n){const r=e.treeAdapter.getTagName(t),a=il(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);a===v.TEMPLATE&&i===_e.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function NZ(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,i=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,a.tagID)}function Jb(e,t){for(let n=0;n<_Z;n++){const r=EZ(e,t);if(!r)break;const a=SZ(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const i=TZ(e,a,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),s&&AZ(e,s,i),NZ(e,a,r)}}function qg(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function CZ(e,t){e._appendCommentNode(t,e.openElements.items[0])}function IZ(e,t){e._appendCommentNode(t,e.document)}function ev(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(i);s&&!s.endTag&&e._setEndLocation(i,t)}}}}function LZ(e,t){e._setDocumentType(t);const n=t.forceQuirks?Hr.QUIRKS:lZ(t);sZ(t)||e._err(t,pe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Y.BEFORE_HTML}function nu(e,t){e._err(t,pe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Hr.QUIRKS),e.insertionMode=Y.BEFORE_HTML,e._processToken(t)}function RZ(e,t){t.tagID===v.HTML?(e._insertElement(t,_e.HTML),e.insertionMode=Y.BEFORE_HEAD):vu(e,t)}function DZ(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&vu(e,t)}function vu(e,t){e._insertFakeRootElement(),e.insertionMode=Y.BEFORE_HEAD,e._processToken(t)}function OZ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.HEAD:{e._insertElement(t,_e.HTML),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD;break}default:yu(e,t)}}function UZ(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?yu(e,t):e._err(t,pe.endTagWithoutMatchingOpenElement)}function yu(e,t){e._insertFakeElement(se.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD,e._processToken(t)}function ma(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,_e.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,Zt.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Zt.RAWTEXT):(e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,Zt.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,Zt.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Y.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE);break}case v.HEAD:{e._err(t,pe.misplacedStartTagForHeadElement);break}default:xu(e,t)}}function MZ(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{xu(e,t);break}case v.TEMPLATE:{Fo(e,t);break}default:e._err(t,pe.endTagWithoutMatchingOpenElement)}}function Fo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,pe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,pe.endTagWithoutMatchingOpenElement)}function xu(e,t){e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD,e._processToken(t)}function PZ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{ma(e,t);break}case v.NOSCRIPT:{e._err(t,pe.nestedNoscriptInHead);break}default:_u(e,t)}}function FZ(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Y.IN_HEAD;break}case v.BR:{_u(e,t);break}default:e._err(t,pe.endTagWithoutMatchingOpenElement)}}function _u(e,t){const n=t.type===ft.EOF?pe.openElementsLeftAfterEof:pe.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Y.IN_HEAD,e._processToken(t)}function BZ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.BODY:{e._insertElement(t,_e.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,pe.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),ma(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,pe.misplacedStartTagForHeadElement);break}default:wu(e,t)}}function zZ(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{wu(e,t);break}case v.TEMPLATE:{Fo(e,t);break}default:e._err(t,pe.endTagWithoutMatchingOpenElement)}}function wu(e,t){e._insertFakeElement(se.BODY,v.BODY),e.insertionMode=Y.IN_BODY,vm(e,t)}function vm(e,t){switch(t.type){case ft.CHARACTER:{hN(e,t);break}case ft.WHITESPACE_CHARACTER:{fN(e,t);break}case ft.COMMENT:{qg(e,t);break}case ft.START_TAG:{Fn(e,t);break}case ft.END_TAG:{ym(e,t);break}case ft.EOF:{yN(e,t);break}}}function fN(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function hN(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function jZ(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function GZ(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function HZ(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_FRAMESET)}function VZ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML)}function qZ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Vg.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,_e.HTML)}function WZ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function YZ(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML),n||(e.formElement=e.openElements.current))}function KZ(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===v.LI&&a===v.LI||(n===v.DD||n===v.DT)&&(a===v.DD||a===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==v.ADDRESS&&a!==v.DIV&&a!==v.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML)}function XZ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML),e.tokenizer.state=Zt.PLAINTEXT}function QZ(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML),e.framesetOk=!1}function ZZ(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(se.A);n&&(Jb(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function JZ(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function eJ(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(Jb(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,_e.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function tJ(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function nJ(e,t){e.treeAdapter.getDocumentMode(e.document)!==Hr.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,_e.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_TABLE}function gN(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,_e.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function bN(e){const t=iN(e,No.TYPE);return t!=null&&t.toLowerCase()===xZ}function rJ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,_e.HTML),bN(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function aJ(e,t){e._appendElement(t,_e.HTML),t.ackSelfClosing=!0}function iJ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,_e.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function oJ(e,t){t.tagName=se.IMG,t.tagID=v.IMG,gN(e,t)}function sJ(e,t){e._insertElement(t,_e.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Zt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Y.TEXT}function lJ(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Zt.RAWTEXT)}function uJ(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Zt.RAWTEXT)}function VT(e,t){e._switchToTextParsing(t,Zt.RAWTEXT)}function cJ(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Y.IN_TABLE||e.insertionMode===Y.IN_CAPTION||e.insertionMode===Y.IN_TABLE_BODY||e.insertionMode===Y.IN_ROW||e.insertionMode===Y.IN_CELL?Y.IN_SELECT_IN_TABLE:Y.IN_SELECT}function dJ(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML)}function pJ(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,_e.HTML)}function mJ(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,_e.HTML)}function fJ(e,t){e._reconstructActiveFormattingElements(),dN(t),Zb(t),t.selfClosing?e._appendElement(t,_e.MATHML):e._insertElement(t,_e.MATHML),t.ackSelfClosing=!0}function hJ(e,t){e._reconstructActiveFormattingElements(),pN(t),Zb(t),t.selfClosing?e._appendElement(t,_e.SVG):e._insertElement(t,_e.SVG),t.ackSelfClosing=!0}function qT(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,_e.HTML)}function Fn(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{JZ(e,t);break}case v.A:{ZZ(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{qZ(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{VZ(e,t);break}case v.LI:case v.DD:case v.DT:{KZ(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{gN(e,t);break}case v.HR:{iJ(e,t);break}case v.RB:case v.RTC:{pJ(e,t);break}case v.RT:case v.RP:{mJ(e,t);break}case v.PRE:case v.LISTING:{WZ(e,t);break}case v.XMP:{lJ(e,t);break}case v.SVG:{hJ(e,t);break}case v.HTML:{jZ(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{ma(e,t);break}case v.BODY:{GZ(e,t);break}case v.FORM:{YZ(e,t);break}case v.NOBR:{eJ(e,t);break}case v.MATH:{fJ(e,t);break}case v.TABLE:{nJ(e,t);break}case v.INPUT:{rJ(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{aJ(e,t);break}case v.IMAGE:{oJ(e,t);break}case v.BUTTON:{QZ(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{tJ(e,t);break}case v.IFRAME:{uJ(e,t);break}case v.SELECT:{cJ(e,t);break}case v.OPTION:case v.OPTGROUP:{dJ(e,t);break}case v.NOEMBED:case v.NOFRAMES:{VT(e,t);break}case v.FRAMESET:{HZ(e,t);break}case v.TEXTAREA:{sJ(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?VT(e,t):qT(e,t);break}case v.PLAINTEXT:{XZ(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:qT(e,t)}}function gJ(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=Y.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function bJ(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=Y.AFTER_BODY,kN(e,t))}function vJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function yJ(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function xJ(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(se.P,v.P),e._closePElement()}function _J(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function wJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function $J(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function EJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function SJ(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(se.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function vN(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],s=e.openElements.tagIDs[a];if(r===s&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,s))break}}function ym(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{Jb(e,t);break}case v.P:{xJ(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{vJ(e,t);break}case v.LI:{_J(e);break}case v.DD:case v.DT:{wJ(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{$J(e);break}case v.BR:{SJ(e);break}case v.BODY:{gJ(e,t);break}case v.HTML:{bJ(e,t);break}case v.FORM:{yJ(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{EJ(e,t);break}case v.TEMPLATE:{Fo(e,t);break}default:vN(e,t)}}function yN(e,t){e.tmplInsertionModeStack.length>0?TN(e,t):ev(e,t)}function TJ(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function kJ(e,t){e._err(t,pe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function $h(e,t){if(e.openElements.currentTagId!==void 0&&mN.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Y.IN_TABLE_TEXT,t.type){case ft.CHARACTER:{_N(e,t);break}case ft.WHITESPACE_CHARACTER:{xN(e,t);break}}else ic(e,t)}function AJ(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_CAPTION}function NJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_COLUMN_GROUP}function CJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.COLGROUP,v.COLGROUP),e.insertionMode=Y.IN_COLUMN_GROUP,tv(e,t)}function IJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_TABLE_BODY}function LJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.TBODY,v.TBODY),e.insertionMode=Y.IN_TABLE_BODY,xm(e,t)}function RJ(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function DJ(e,t){bN(t)?e._appendElement(t,_e.HTML):ic(e,t),t.ackSelfClosing=!0}function OJ(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,_e.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gs(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{LJ(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{ma(e,t);break}case v.COL:{CJ(e,t);break}case v.FORM:{OJ(e,t);break}case v.TABLE:{RJ(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{IJ(e,t);break}case v.INPUT:{DJ(e,t);break}case v.CAPTION:{AJ(e,t);break}case v.COLGROUP:{NJ(e,t);break}default:ic(e,t)}}function zu(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{Fo(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:ic(e,t)}}function ic(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,vm(e,t),e.fosterParentingEnabled=n}function xN(e,t){e.pendingCharacterTokens.push(t)}function _N(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ru(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ic(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const wN=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function UJ(e,t){const n=t.tagID;wN.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,Gs(e,t)):Fn(e,t)}function MJ(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,n===v.TABLE&&zu(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:ym(e,t)}}function tv(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.COL:{e._appendElement(t,_e.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{ma(e,t);break}default:Op(e,t)}}function PJ(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case v.TEMPLATE:{Fo(e,t);break}case v.COL:break;default:Op(e,t)}}function Op(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE,e._processToken(t))}function xm(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(se.TR,v.TR),e.insertionMode=Y.IN_ROW,_m(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,Gs(e,t));break}default:Gs(e,t)}}function Wg(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,zu(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:zu(e,t)}}function _m(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,_e.HTML),e.insertionMode=Y.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,xm(e,t));break}default:Gs(e,t)}}function $N(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Wg(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Wg(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:zu(e,t)}}function FJ(e,t){const n=t.tagID;wN.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),_m(e,t)):Fn(e,t)}function BJ(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),$N(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:ym(e,t)}}function EN(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,_e.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,_e.HTML);break}case v.HR:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._appendElement(t,_e.HTML),t.ackSelfClosing=!0;break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{ma(e,t);break}}}function SN(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{Fo(e,t);break}}}function zJ(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):EN(e,t)}function jJ(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):SN(e,t)}function GJ(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{ma(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=Y.IN_TABLE,e.insertionMode=Y.IN_TABLE,Gs(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=Y.IN_COLUMN_GROUP,e.insertionMode=Y.IN_COLUMN_GROUP,tv(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=Y.IN_TABLE_BODY,e.insertionMode=Y.IN_TABLE_BODY,xm(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=Y.IN_ROW,e.insertionMode=Y.IN_ROW,_m(e,t);break}default:e.tmplInsertionModeStack[0]=Y.IN_BODY,e.insertionMode=Y.IN_BODY,Fn(e,t)}}function HJ(e,t){t.tagID===v.TEMPLATE&&Fo(e,t)}function TN(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):ev(e,t)}function VJ(e,t){t.tagID===v.HTML?Fn(e,t):Up(e,t)}function kN(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=Y.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Up(e,t)}function Up(e,t){e.insertionMode=Y.IN_BODY,vm(e,t)}function qJ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.FRAMESET:{e._insertElement(t,_e.HTML);break}case v.FRAME:{e._appendElement(t,_e.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{ma(e,t);break}}}function WJ(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=Y.AFTER_FRAMESET))}function YJ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.NOFRAMES:{ma(e,t);break}}}function KJ(e,t){t.tagID===v.HTML&&(e.insertionMode=Y.AFTER_AFTER_FRAMESET)}function XJ(e,t){t.tagID===v.HTML?Fn(e,t):cp(e,t)}function cp(e,t){e.insertionMode=Y.IN_BODY,vm(e,t)}function QJ(e,t){switch(t.tagID){case v.HTML:{Fn(e,t);break}case v.NOFRAMES:{ma(e,t);break}}}function ZJ(e,t){t.chars=Mt,e._insertCharacters(t)}function JJ(e,t){e._insertCharacters(t),e.framesetOk=!1}function AN(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==_e.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function eee(e,t){if(hZ(t))AN(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===_e.MATHML?dN(t):r===_e.SVG&&(gZ(t),pN(t)),Zb(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function tee(e,t){if(t.tagID===v.P||t.tagID===v.BR){AN(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===_e.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}se.AREA,se.BASE,se.BASEFONT,se.BGSOUND,se.BR,se.COL,se.EMBED,se.FRAME,se.HR,se.IMG,se.INPUT,se.KEYGEN,se.LINK,se.META,se.PARAM,se.SOURCE,se.TRACK,se.WBR;const nee=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ree=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),WT={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function NN(e,t){const n=mee(e),r=g9("type",{handlers:{root:aee,element:iee,text:oee,comment:IN,doctype:see,raw:uee},unknown:cee}),a={parser:n?new HT(WT):HT.getFragmentParser(void 0,WT),handle(u){r(u,a)},stitches:!1,options:t||{}};r(e,a),ol(a,Oa());const i=n?a.parser.document:a.parser.getFragment(),s=aQ(i,{file:a.options.file});return a.stitches&&Oo(s,"comment",function(u,c,d){const m=u;if(m.value.stitch&&d&&c!==void 0){const f=d.children;return f[c]=m.value.stitch,c}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function CN(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function aee(e,t){CN(e.children,t)}function iee(e,t){dee(e,t),CN(e.children,t),pee(e,t)}function oee(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:ft.CHARACTER,chars:e.value,location:oc(e)};ol(t,Oa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function see(e,t){const n={type:ft.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:oc(e)};ol(t,Oa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function lee(e,t){t.stitches=!0;const n=fee(e);if("children"in e&&"children"in n){const r=NN({type:"root",children:e.children},t.options);n.children=r.children}IN({type:"comment",value:{stitch:n}},t)}function IN(e,t){const n=e.value,r={type:ft.COMMENT,data:n,location:oc(e)};ol(t,Oa(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function uee(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,LN(t,Oa(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(nee,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function cee(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))lee(n,t);else{let r="";throw ree.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function ol(e,t){LN(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Zt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function LN(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function dee(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Zt.PLAINTEXT)return;ol(t,Oa(e));const r=t.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:Na.html;a===Na.html&&n==="svg"&&(a=Na.svg);const i=yQ({...e,children:[]},{space:a===Na.svg?"svg":"html"}),s={type:ft.START_TAG,tagName:n,tagID:il(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:oc(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function pee(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&kQ.includes(n)||t.parser.tokenizer.state===Zt.PLAINTEXT)return;ol(t,sm(e));const r={type:ft.END_TAG,tagName:n,tagID:il(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:oc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Zt.RCDATA||t.parser.tokenizer.state===Zt.RAWTEXT||t.parser.tokenizer.state===Zt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Zt.DATA)}function mee(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function oc(e){const t=Oa(e)||{line:void 0,column:void 0,offset:void 0},n=sm(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function fee(e){return"children"in e?zs({...e,children:[]}):zs(e)}function hee(e){return function(t,n){return NN(t,{...e,file:n})}}function gee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bee(e,t){if(e==null)return{};var n,r,a=gee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vee(e){if(Array.isArray(e))return Yg(e)}function yee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xee(e,t){if(e){if(typeof e=="string")return Yg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yg(e,t):void 0}}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kg(e){return vee(e)||yee(e)||xee(e)||_ee()}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function wee(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ee(e){var t=wee(e,"string");return ju(t)=="symbol"?t:t+""}function RN(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(null,arguments)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){RN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eee(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var Eh={};function See(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return Eh[t]||(Eh[t]=Eee(e)),Eh[t]}function Tee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter(function(i){return i!=="token"}),a=See(r);return a.reduce(function(i,s){return Ts(Ts({},i),n[s])},t)}function KT(e){return e.join(" ")}function kee(e,t){var n=0;return function(r){return n+=1,r.map(function(a,i){return DN({node:a,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(i)})})}}function DN(e){var t=e.node,n=e.stylesheet,r=e.style,a=r===void 0?{}:r,i=e.useInlineStyles,s=e.key,u=t.properties,c=t.type,d=t.tagName,m=t.value;if(c==="text")return m;if(d){var f=kee(n,i),h;if(!i)h=Ts(Ts({},u),{},{className:KT(u.className)});else{var b=Object.keys(n).reduce(function(S,A){return A.split(".").forEach(function(C){S.includes(C)||S.push(C)}),S},[]),_=u.className&&u.className.includes("token")?["token"]:[],x=u.className&&_.concat(u.className.filter(function(S){return!b.includes(S)}));h=Ts(Ts({},u),{},{className:KT(x)||void 0,style:Tee(u.className,Object.assign({},u.style,a),n)})}var T=f(t.children);return ce.createElement(d,Xg({key:s},h),T)}}const Aee=(function(e,t){var n=e.listLanguages();return n.indexOf(t)!==-1});var Nee=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){RN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cee=/\n/g;function Iee(e){return e.match(Cee)}function Lee(e){var t=e.lines,n=e.startingLineNumber,r=e.style;return t.map(function(a,i){var s=i+n;return ce.createElement("span",{key:"line-".concat(i),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(s):r},"".concat(s,`
`))})}function Ree(e){var t=e.codeString,n=e.codeStyle,r=e.containerStyle,a=r===void 0?{float:"left",paddingRight:"10px"}:r,i=e.numberStyle,s=i===void 0?{}:i,u=e.startingLineNumber;return ce.createElement("code",{style:Object.assign({},n,a)},Lee({lines:t.replace(/\n$/,"").split(`
`),style:s,startingLineNumber:u}))}function Dee(e){return"".concat(e.toString().length,".25em")}function ON(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function UN(e,t,n){var r={display:"inline-block",minWidth:Dee(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},a=typeof e=="function"?e(t):e,i=Hi(Hi({},r),a);return i}function dp(e){var t=e.children,n=e.lineNumber,r=e.lineNumberStyle,a=e.largestLineNumber,i=e.showInlineLineNumbers,s=e.lineProps,u=s===void 0?{}:s,c=e.className,d=c===void 0?[]:c,m=e.showLineNumbers,f=e.wrapLongLines,h=e.wrapLines,b=h===void 0?!1:h,_=b?Hi({},typeof u=="function"?u(n):u):{};if(_.className=_.className?[].concat(Kg(_.className.trim().split(/\s+/)),Kg(d)):d,n&&i){var x=UN(r,n,a);t.unshift(ON(n,x))}return f&m&&(_.style=Hi({display:"flex"},_.style)),{type:"element",tagName:"span",properties:_,children:t}}function MN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];e.length===void 0&&(e=[e]);for(var r=0;r<e.length;r++){var a=e[r];if(a.type==="text")n.push(dp({children:[a],className:Kg(new Set(t))}));else if(a.children){var i,s=t.concat(((i=a.properties)===null||i===void 0?void 0:i.className)||[]);MN(a.children,s).forEach(function(u){return n.push(u)})}}return n}function Oee(e,t,n,r,a,i,s,u,c){var d,m=MN(e.value),f=[],h=-1,b=0;function _(M,P){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return dp({children:M,lineNumber:P,lineNumberStyle:u,largestLineNumber:s,showInlineLineNumbers:a,lineProps:n,className:j,showLineNumbers:r,wrapLongLines:c,wrapLines:t})}function x(M,P){if(r&&P&&a){var j=UN(u,P,s);M.unshift(ON(P,j))}return M}function T(M,P){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||j.length>0?_(M,P,j):x(M,P)}for(var S=function(){var P=m[b],j=P.children[0].value,K=Iee(j);if(K){var ee=j.split(`
`);ee.forEach(function(G,Q){var re=r&&f.length+i,ae={type:"text",value:"".concat(G,`
`)};if(Q===0){var ne=m.slice(h+1,b).concat(dp({children:[ae],className:P.properties.className})),me=T(ne,re);f.push(me)}else if(Q===ee.length-1){var be=m[b+1]&&m[b+1].children&&m[b+1].children[0],fe={type:"text",value:"".concat(G)};if(be){var J=dp({children:[fe],className:P.properties.className});m.splice(b+1,0,J)}else{var he=[fe],O=T(he,re,P.properties.className);f.push(O)}}else{var H=[ae],ie=T(H,re,P.properties.className);f.push(ie)}}),h=b}b++};b<m.length;)S();if(h!==m.length-1){var A=m.slice(h+1,m.length);if(A&&A.length){var C=r&&f.length+i,R=T(A,C);f.push(R)}}return t?f:(d=[]).concat.apply(d,f)}function Uee(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map(function(a,i){return DN({node:a,stylesheet:n,useInlineStyles:r,key:"code-segment-".concat(i)})})}function PN(e){return e&&typeof e.highlightAuto<"u"}function Mee(e){var t=e.astGenerator,n=e.language,r=e.code,a=e.defaultCodeValue;if(PN(t)){var i=Aee(t,n);return n==="text"?{value:a,language:"text"}:i?t.highlight(n,r):t.highlightAuto(r)}try{return n&&n!=="text"?{value:t.highlight(r,n)}:{value:a}}catch{return{value:a}}}function Pee(e,t){return function(r){var a,i,s=r.language,u=r.children,c=r.style,d=c===void 0?t:c,m=r.customStyle,f=m===void 0?{}:m,h=r.codeTagProps,b=h===void 0?{className:s?"language-".concat(s):void 0,style:Hi(Hi({},d['code[class*="language-"]']),d['code[class*="language-'.concat(s,'"]')])}:h,_=r.useInlineStyles,x=_===void 0?!0:_,T=r.showLineNumbers,S=T===void 0?!1:T,A=r.showInlineLineNumbers,C=A===void 0?!0:A,R=r.startingLineNumber,M=R===void 0?1:R,P=r.lineNumberContainerStyle,j=r.lineNumberStyle,K=j===void 0?{}:j,ee=r.wrapLines,G=r.wrapLongLines,Q=G===void 0?!1:G,re=r.lineProps,ae=re===void 0?{}:re,ne=r.renderer,me=r.PreTag,be=me===void 0?"pre":me,fe=r.CodeTag,J=fe===void 0?"code":fe,he=r.code,O=he===void 0?(Array.isArray(u)?u[0]:u)||"":he,H=r.astGenerator,ie=bee(r,Nee);H=H||e;var B=S?ce.createElement(Ree,{containerStyle:P,codeStyle:b.style||{},numberStyle:K,startingLineNumber:M,codeString:O}):null,Re=d.hljs||d['pre[class*="language-"]']||{backgroundColor:"#fff"},Pe=PN(H)?"hljs":"prismjs",Le=x?Object.assign({},ie,{style:Object.assign({},Re,f)}):Object.assign({},ie,{className:ie.className?"".concat(Pe," ").concat(ie.className):Pe,style:Object.assign({},f)});if(Q?b.style=Hi({whiteSpace:"pre-wrap"},b.style):b.style=Hi({whiteSpace:"pre"},b.style),!H)return ce.createElement(be,Le,B,ce.createElement(J,b,O));(ee===void 0&&ne||Q)&&(ee=!0),ne=ne||Uee;var Ve=[{type:"text",value:O}],Fe=Mee({astGenerator:H,language:s,code:O,defaultCodeValue:Ve});Fe.language===null&&(Fe.value=Ve);var et=(a=(i=O.match(/\n/g))===null||i===void 0?void 0:i.length)!==null&&a!==void 0?a:0,dt=M+et,Ot=Oee(Fe,ee,ae,S,C,M,dt,K,Q);return ce.createElement(be,Le,ce.createElement(J,b,!C&&B,ne({rows:Ot,stylesheet:d,useInlineStyles:x})))}}const Fee=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","armasm","arturo","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","awk","bash","basic","batch","bbcode","bbj","bicep","birb","bison","bnf","bqn","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","cilkc","cilkcpp","clike","clojure","cmake","cobol","coffeescript","concurnas","cooklang","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cue","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gettext","gherkin","git","glsl","gml","gn","go-module","go","gradle","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","linker-script","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","mata","matlab","maxscript","mel","mermaid","metafont","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","odin","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plant-uml","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rescript","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stata","stylus","supercollider","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wgsl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"],Bee=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],QT={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function FN(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function zee(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function jee(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function ZT(e){return jee(e)||FN(e)}const Gee=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Hee(e,t){const n={},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,a=[];let i=0,s=-1,u="",c,d;n.position&&("start"in n.position||"indent"in n.position?(d=n.position.indent,c=n.position.start):c=n.position);let m=(c?c.line:0)||1,f=(c?c.column:0)||1,h=_(),b;for(i--;++i<=e.length;)if(b===10&&(f=(d?d[s]:0)||1),b=e.charCodeAt(i),b===38){const S=e.charCodeAt(i+1);if(S===9||S===10||S===12||S===32||S===38||S===60||Number.isNaN(S)||r&&S===r){u+=String.fromCharCode(b),f++;continue}const A=i+1;let C=A,R=A,M;if(S===35){R=++C;const ae=e.charCodeAt(R);ae===88||ae===120?(M="hexadecimal",R=++C):M="decimal"}else M="named";let P="",j="",K="";const ee=M==="named"?ZT:M==="decimal"?FN:zee;for(R--;++R<=e.length;){const ae=e.charCodeAt(R);if(!ee(ae))break;K+=String.fromCharCode(ae),M==="named"&&Bee.includes(K)&&(P=K,j=Mu(K))}let G=e.charCodeAt(R)===59;if(G){R++;const ae=M==="named"?Mu(K):!1;ae&&(P=K,j=ae)}let Q=1+R-A,re="";if(!(!G&&n.nonTerminated===!1))if(!K)M!=="named"&&x(4,Q);else if(M==="named"){if(G&&!j)x(5,1);else if(P!==K&&(R=C+P.length,Q=1+R-C,G=!1),!G){const ae=P?1:3;if(n.attribute){const ne=e.charCodeAt(R);ne===61?(x(ae,Q),j=""):ZT(ne)?j="":x(ae,Q)}else x(ae,Q)}re=j}else{G||x(2,Q);let ae=Number.parseInt(K,M==="hexadecimal"?16:10);if(Vee(ae))x(7,Q),re="";else if(ae in QT)x(6,Q),re=QT[ae];else{let ne="";qee(ae)&&x(6,Q),ae>65535&&(ae-=65536,ne+=String.fromCharCode(ae>>>10|55296),ae=56320|ae&1023),re=ne+String.fromCharCode(ae)}}if(re){T(),h=_(),i=R-1,f+=R-A+1,a.push(re);const ae=_();ae.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,re,{start:h,end:ae},e.slice(A-1,R)),h=ae}else K=e.slice(A-1,R),u+=K,f+=K.length,i=R-1}else b===10&&(m++,s++,f=0),Number.isNaN(b)?T():(u+=String.fromCharCode(b),f++);return a.join("");function _(){return{line:m,column:f,offset:i+((c?c.offset:0)||0)}}function x(S,A){let C;n.warning&&(C=_(),C.column+=A,C.offset+=A,n.warning.call(n.warningContext||void 0,Gee[S],C,S))}function T(){u&&(a.push(u),n.text&&n.text.call(n.textContext||void 0,u,{start:h,end:_()}),u="")}}function Vee(e){return e>=55296&&e<=57343||e>1114111}function qee(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var Wee=0,qd={},$n={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Wee}),e.__id},clone:function e(t,n){n=n||{};var r,a;switch($n.util.type(t)){case"Object":if(a=$n.util.objId(t),n[a])return n[a];r={},n[a]=r;for(var i in t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r;case"Array":return a=$n.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach(function(s,u){r[u]=e(s,n)}),r);default:return t}}},languages:{plain:qd,plaintext:qd,text:qd,txt:qd,extend:function(e,t){var n=$n.util.clone($n.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||$n.languages;var a=r[e],i={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var u in n)n.hasOwnProperty(u)&&(i[u]=n[u]);n.hasOwnProperty(s)||(i[s]=a[s])}var c=r[e];return r[e]=i,$n.languages.DFS($n.languages,function(d,m){m===c&&d!=e&&(this[d]=i)}),i},DFS:function e(t,n,r,a){a=a||{};var i=$n.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var u=t[s],c=$n.util.type(u);c==="Object"&&!a[i(u)]?(a[i(u)]=!0,e(u,n,null,a)):c==="Array"&&!a[i(u)]&&(a[i(u)]=!0,e(u,n,s,a))}}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if($n.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=$n.tokenize(r.code,r.grammar),$n.hooks.run("after-tokenize",r),$u.stringify($n.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var a=new Yee;return pp(a,a.head,e),BN(e,a,t,a.head,0),Xee(a)},hooks:{all:{},add:function(e,t){var n=$n.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=$n.hooks.all[e];if(!(!n||!n.length))for(var r=0,a;a=n[r++];)a(t)}},Token:$u};function $u(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=(r||"").length|0}function JT(e,t,n,r){e.lastIndex=t;var a=e.exec(n);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function BN(e,t,n,r,a,i){for(var s in n)if(!(!n.hasOwnProperty(s)||!n[s])){var u=n[s];u=Array.isArray(u)?u:[u];for(var c=0;c<u.length;++c){if(i&&i.cause==s+","+c)return;var d=u[c],m=d.inside,f=!!d.lookbehind,h=!!d.greedy,b=d.alias;if(h&&!d.pattern.global){var _=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,_+"g")}for(var x=d.pattern||d,T=r.next,S=a;T!==t.tail&&!(i&&S>=i.reach);S+=T.value.length,T=T.next){var A=T.value;if(t.length>e.length)return;if(!(A instanceof $u)){var C=1,R;if(h){if(R=JT(x,S,e,f),!R||R.index>=e.length)break;var K=R.index,M=R.index+R[0].length,P=S;for(P+=T.value.length;K>=P;)T=T.next,P+=T.value.length;if(P-=T.value.length,S=P,T.value instanceof $u)continue;for(var j=T;j!==t.tail&&(P<M||typeof j.value=="string");j=j.next)C++,P+=j.value.length;C--,A=e.slice(S,P),R.index-=S}else if(R=JT(x,0,A,f),!R)continue;var K=R.index,ee=R[0],G=A.slice(0,K),Q=A.slice(K+ee.length),re=S+A.length;i&&re>i.reach&&(i.reach=re);var ae=T.prev;G&&(ae=pp(t,ae,G),S+=G.length),Kee(t,ae,C);var ne=new $u(s,m?$n.tokenize(ee,m):ee,b,ee);if(T=pp(t,ae,ne),Q&&pp(t,T,Q),C>1){var me={cause:s+","+c,reach:re};BN(e,t,n,T.prev,S,me),i&&me.reach>i.reach&&(i.reach=me.reach)}}}}}}function Yee(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function pp(e,t,n){var r=t.next,a={value:n,prev:t,next:r};return t.next=a,r.prev=a,e.length++,a}function Kee(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;t.next=r,r.prev=t,e.length-=a}function Xee(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}const zN=$n;function jN(){}jN.prototype=zN;const U=new jN;U.highlight=Qee;U.register=Zee;U.alias=Jee;U.registered=ete;U.listLanguages=tte;U.util.encode=nte;U.Token.stringify=Qg;function Qee(e,t){if(typeof e!="string")throw new TypeError("Expected `string` for `value`, got `"+e+"`");let n,r;if(t&&typeof t=="object")n=t;else{if(r=t,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(Object.hasOwn(U.languages,r))n=U.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:zN.highlight.call(U,e,n,r)}}function Zee(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");Object.hasOwn(U.languages,e.displayName)||e(U)}function Jee(e,t){const n=U.languages;let r={};typeof e=="string"?t&&(r[e]=t):r=e;let a;for(a in r)if(Object.hasOwn(r,a)){const i=r[a],s=typeof i=="string"?[i]:i;let u=-1;for(;++u<s.length;)n[s[u]]=n[a]}}function ete(e){if(typeof e!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return Object.hasOwn(U.languages,e)}function tte(){const e=U.languages,t=[];let n;for(n in e)Object.hasOwn(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function Qg(e,t){if(typeof e=="string")return{type:"text",value:e};if(Array.isArray(e)){const r=[];let a=-1;for(;++a<e.length;)e[a]!==null&&e[a]!==void 0&&e[a]!==""&&r.push(Qg(e[a],t));return r}const n={attributes:{},classes:["token",e.type],content:Qg(e.content,t),language:t,tag:"span",type:e.type};return e.alias&&n.classes.push(...typeof e.alias=="string"?[e.alias]:e.alias),U.hooks.run("wrap",n),Wb(n.tag+"."+n.classes.join("."),rte(n.attributes),n.content)}function nte(e){return e}function rte(e){let t;for(t in e)Object.hasOwn(e,t)&&(e[t]=Hee(e[t]));return e}const ate={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},namespace:{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};Cn.displayName="markup";Cn.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function Cn(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var a={};a["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}Bo.displayName="css";Bo.aliases=[];function Bo(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}bt.displayName="clike";bt.aliases=[];function bt(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}nv.displayName="regex";nv.aliases=[];function nv(e){(function(t){var n={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},i={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},s="(?:[^\\\\-]|"+r.source+")",u=RegExp(s+"-"+s),c={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:u,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":n,"char-set":i,escape:r}},"special-escape":n,"char-set":a,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":c}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":c}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}Bn.displayName="javascript";Bn.aliases=["js"];function Bn(e){e.register(bt),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}rv.displayName="abap";rv.aliases=[];function rv(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}av.displayName="abnf";av.aliases=[];function av(e){(function(t){var n="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";t.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+n+"|<"+n+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}iv.displayName="actionscript";iv.aliases=[];function iv(e){e.register(Bn),e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}ov.displayName="ada";ov.aliases=[];function ov(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|or|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}sv.displayName="agda";sv.aliases=[];function sv(e){(function(t){t.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}lv.displayName="al";lv.aliases=[];function lv(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}uv.displayName="antlr4";uv.aliases=["g4"];function uv(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}cv.displayName="apacheconf";cv.aliases=[];function cv(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}sc.displayName="sql";sc.aliases=[];function sc(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}dv.displayName="apex";dv.aliases=[];function dv(e){e.register(bt),e.register(sc),(function(t){var n=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,r=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return n.source});function a(s){return RegExp(s.replace(/<CLASS-NAME>/g,function(){return r}),"i")}var i={keyword:n,punctuation:/[()\[\]{};,:.<>]/};t.languages.apex={comment:t.languages.clike.comment,string:t.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:t.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:a(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:i},{pattern:a(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:i},{pattern:a(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:i}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:n,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}})(e)}pv.displayName="apl";pv.aliases=[];function pv(e){e.languages.apl={comment:/(?:|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/?(?:\d*\.?\b\d+(?:e[+]?\d+)?||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+)?||))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/[A-Z]+/i,alias:"function"},constant:/[#]/,function:/[-+|?*!<=>~,]/,"monadic-operator":{pattern:/[\\\/&]/,alias:"operator"},"dyadic-operator":{pattern:/[.@]/,alias:"operator"},assignment:{pattern://,alias:"keyword"},punctuation:/[\[;\]()]/,dfn:{pattern:/[{}:]/,alias:"builtin"}}}mv.displayName="applescript";mv.aliases=[];function mv(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=*+\-\/^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,]/}}fv.displayName="aql";fv.aliases=[];function fv(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}Ba.displayName="c";Ba.aliases=[];function Ba(e){e.register(bt),e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}sl.displayName="cpp";sl.aliases=[];function sl(e){e.register(Ba),(function(t){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(e)}hv.displayName="arduino";hv.aliases=["ino"];function hv(e){e.register(sl),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}gv.displayName="arff";gv.aliases=[];function gv(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}bv.displayName="armasm";bv.aliases=["arm-asm"];function bv(e){e.languages.armasm={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"/,greedy:!0,inside:{variable:{pattern:/((?:^|[^$])(?:\${2})*)\$\w+/,lookbehind:!0}}},char:{pattern:/'(?:[^'\r\n]{0,4}|'')'/,greedy:!0},"version-symbol":{pattern:/\|[\w@]+\|/,greedy:!0,alias:"property"},boolean:/\b(?:FALSE|TRUE)\b/,directive:{pattern:/\b(?:ALIAS|ALIGN|AREA|ARM|ASSERT|ATTR|CN|CODE|CODE16|CODE32|COMMON|CP|DATA|DCB|DCD|DCDO|DCDU|DCFD|DCFDU|DCI|DCQ|DCQU|DCW|DCWU|DN|ELIF|ELSE|END|ENDFUNC|ENDIF|ENDP|ENTRY|EQU|EXPORT|EXPORTAS|EXTERN|FIELD|FILL|FN|FUNCTION|GBLA|GBLL|GBLS|GET|GLOBAL|IF|IMPORT|INCBIN|INCLUDE|INFO|KEEP|LCLA|LCLL|LCLS|LTORG|MACRO|MAP|MEND|MEXIT|NOFP|OPT|PRESERVE8|PROC|QN|READONLY|RELOC|REQUIRE|REQUIRE8|RLIST|ROUT|SETA|SETL|SETS|SN|SPACE|SUBT|THUMB|THUMBX|TTL|WEND|WHILE)\b/,alias:"property"},instruction:{pattern:/((?:^|(?:^|[^\\])(?:\r\n?|\n))[ \t]*(?:(?:[A-Z][A-Z0-9_]*[a-z]\w*|[a-z]\w*|\d+)[ \t]+)?)\b[A-Z.]+\b/,lookbehind:!0,alias:"keyword"},variable:/\$\w+/,number:/(?:\b[2-9]_\d+|(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e-?\d+)?|\b0(?:[fd]_|x)[0-9a-f]+|&[0-9a-f]+)\b/i,register:{pattern:/\b(?:r\d|lr)\b/,alias:"symbol"},operator:/<>|<<|>>|&&|\|\||[=!<>/]=?|[+\-*%#?&|^]|:[A-Z]+:/,punctuation:/[()[\],]/},e.languages["arm-asm"]=e.languages.armasm}wm.displayName="bash";wm.aliases=["sh","shell"];function wm(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=a.variable[1].inside,u=0;u<i.length;u++)s[i[u]]=t.languages.bash[i[u]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(e)}$m.displayName="yaml";$m.aliases=["yml"];function $m(e){(function(t){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),s=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function u(c,d){d=(d||"").replace(/m/g,"")+"m";var m=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return c});return RegExp(m,d)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+s+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:u(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:u(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:u(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:u(s),lookbehind:!0,greedy:!0},number:{pattern:u(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(e)}vv.displayName="markdown";vv.aliases=["md"];function vv(e){e.register(Cn),(function(t){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(u){return u=u.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+s+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+s+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(c){u!==c&&(t.languages.markdown[u].inside.content.inside[c]=t.languages.markdown[c])})}),t.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function c(d){if(!(!d||typeof d=="string"))for(var m=0,f=d.length;m<f;m++){var h=d[m];if(h.type!=="code"){c(h.content);continue}var b=h.content[1],_=h.content[3];if(b&&_&&b.type==="code-language"&&_.type==="code-block"&&typeof b.content=="string"){var x=b.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");x=(/[a-z][\w-]*/i.exec(x)||[""])[0].toLowerCase();var T="language-"+x;_.alias?typeof _.alias=="string"?_.alias=[_.alias,T]:_.alias.push(T):_.alias=[T]}}}c(u.tokens)}),t.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var c="",d=0,m=u.classes.length;d<m;d++){var f=u.classes[d],h=/language-(.+)/.exec(f);if(h){c=h[1];break}}var b=t.languages[c];if(b)u.content=t.highlight(u.content.value,b,c);else if(c&&c!=="none"&&t.plugins.autoloader){var _="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=_,t.plugins.autoloader.loadLanguages(c,function(){var x=document.getElementById(_);x&&(x.innerHTML=t.highlight(x.textContent,t.languages[c],c))})}}}),RegExp(t.languages.markup.tag.pattern.source,"gi"),t.languages.md=t.languages.markdown})(e)}yv.displayName="arturo";yv.aliases=["art"];function yv(e){(function(t){var n=function(r,a){return{pattern:RegExp(/\{!/.source+"(?:"+(a||r)+")"+/$[\s\S]*\}/.source,"m"),greedy:!0,inside:{embedded:{pattern:/(^\{!\w+\b)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-"+r,inside:t.languages[r]},string:/[\s\S]+/}}};t.languages.arturo={comment:{pattern:/;.*/,greedy:!0},character:{pattern:/`.`/,alias:"char",greedy:!0},number:{pattern:/\b\d+(?:\.\d+(?:\.\d+(?:-[\w+-]+)?)?)?\b/},string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},regex:{pattern:/\{\/.*?\/\}/,greedy:!0},"html-string":n("html"),"css-string":n("css"),"js-string":n("js"),"md-string":n("md"),"sql-string":n("sql"),"sh-string":n("shell","sh"),multistring:{pattern:/.*|\{:[\s\S]*?:\}|\{[\s\S]*?\}|^-{6}$[\s\S]*/m,alias:"string",greedy:!0},label:{pattern:/\w+\b\??:/,alias:"property"},literal:{pattern:/'(?:\w+\b\??:?)/,alias:"constant"},type:{pattern:/:(?:\w+\b\??:?)/,alias:"class-name"},color:/#\w+/,predicate:{pattern:/\b(?:all|and|any|ascii|attr|attribute|attributeLabel|binary|block|char|contains|database|date|dictionary|empty|equal|even|every|exists|false|floating|function|greater|greaterOrEqual|if|in|inline|integer|is|key|label|leap|less|lessOrEqual|literal|logical|lower|nand|negative|nor|not|notEqual|null|numeric|odd|or|path|pathLabel|positive|prefix|prime|regex|same|set|some|sorted|standalone|string|subset|suffix|superset|symbol|symbolLiteral|true|try|type|unless|upper|when|whitespace|word|xnor|xor|zero)\?/,alias:"keyword"},"builtin-function":{pattern:/\b(?:abs|acos|acosh|acsec|acsech|actan|actanh|add|after|alert|alias|and|angle|append|arg|args|arity|array|as|asec|asech|asin|asinh|atan|atan2|atanh|attr|attrs|average|before|benchmark|blend|break|call|capitalize|case|ceil|chop|clear|clip|close|color|combine|conj|continue|copy|cos|cosh|crc|csec|csech|ctan|ctanh|cursor|darken|dec|decode|define|delete|desaturate|deviation|dialog|dictionary|difference|digest|digits|div|do|download|drop|dup|e|else|empty|encode|ensure|env|escape|execute|exit|exp|extend|extract|factors|fdiv|filter|first|flatten|floor|fold|from|function|gamma|gcd|get|goto|hash|hypot|if|inc|indent|index|infinity|info|input|insert|inspect|intersection|invert|jaro|join|keys|kurtosis|last|let|levenshtein|lighten|list|ln|log|loop|lower|mail|map|match|max|median|min|mod|module|mul|nand|neg|new|nor|normalize|not|now|null|open|or|outdent|pad|palette|panic|path|pause|permissions|permutate|pi|pop|popup|pow|powerset|powmod|prefix|print|prints|process|product|query|random|range|read|relative|remove|rename|render|repeat|replace|request|return|reverse|round|sample|saturate|script|sec|sech|select|serve|set|shl|shr|shuffle|sin|sinh|size|skewness|slice|sort|spin|split|sqrt|squeeze|stack|strip|sub|suffix|sum|switch|symbols|symlink|sys|take|tan|tanh|terminal|terminate|to|truncate|try|type|unclip|union|unique|unless|until|unzip|upper|values|var|variance|volume|webview|while|with|wordwrap|write|xnor|xor|zip)\b/,alias:"keyword"},sugar:{pattern:/->|=>|\||::/,alias:"operator"},punctuation:/[()[\],]/,symbol:{pattern:/<:|-:||@|#|\+|\||\*|\$|---|-|%|\/|\.\.|\^|~|=|<|>|\\/},boolean:{pattern:/\b(?:false|maybe|true)\b/}},t.languages.art=t.languages.arturo})(e)}xv.displayName="asciidoc";xv.aliases=["adoc"];function xv(e){(function(t){var n={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},r=t.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})$[\s\S]*?^\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:n,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:n.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:n,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function a(i){i=i.split(" ");for(var s={},u=0,c=i.length;u<c;u++)s[i[u]]=r[i[u]];return s}n.inside.interpreted.inside.rest=a("macro inline replacement entity"),r["passthrough-block"].inside.rest=a("macro"),r["literal-block"].inside.rest=a("callout"),r.table.inside.rest=a("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),r["other-block"].inside.rest=a("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),r.title.inside.rest=a("macro inline replacement entity"),t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.value.replace(/&amp;/,"&"))}),t.languages.adoc=t.languages.asciidoc})(e)}ll.displayName="csharp";ll.aliases=["cs","dotnet"];function ll(e){e.register(bt),(function(t){function n(O,H){return O.replace(/<<(\d+)>>/g,function(ie,B){return"(?:"+H[+B]+")"})}function r(O,H,ie){return RegExp(n(O,H),"")}function a(O,H){for(var ie=0;ie<H;ie++)O=O.replace(/<<self>>/g,function(){return"(?:"+O+")"});return O.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function s(O){return"\\b(?:"+O.trim().replace(/ /g,"|")+")\\b"}var u=s(i.typeDeclaration),c=RegExp(s(i.type+" "+i.typeDeclaration+" "+i.contextual+" "+i.other)),d=s(i.typeDeclaration+" "+i.contextual+" "+i.other),m=s(i.type+" "+i.typeDeclaration+" "+i.other),f=a(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),h=a(/\((?:[^()]|<<self>>)*\)/.source,2),b=/@?\b[A-Za-z_]\w*\b/.source,_=n(/<<0>>(?:\s*<<1>>)?/.source,[b,f]),x=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,_]),T=/\[\s*(?:,\s*)*\]/.source,S=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[x,T]),A=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,h,T]),C=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[A]),R=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[C,x,T]),M={keyword:c,punctuation:/[<>()?,.:[\]]/},P=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,j=/"(?:\\.|[^\\"\r\n])*"/.source,K=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[K]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[j]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[x]),lookbehind:!0,inside:M},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[b,R]),lookbehind:!0,inside:M},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[b]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[u,_]),lookbehind:!0,inside:M},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[x]),lookbehind:!0,inside:M},{pattern:r(/(\bwhere\s+)<<0>>/.source,[b]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[S]),lookbehind:!0,inside:M},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[R,m,b]),inside:M}],keyword:c,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[b]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[b]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[h]),lookbehind:!0,alias:"class-name",inside:M},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[R,x]),inside:M,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[R]),lookbehind:!0,inside:M,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[b,f]),inside:{function:r(/^<<0>>/.source,[b]),generic:{pattern:RegExp(f),alias:"class-name",inside:M}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[u,_,b,R,c.source,h,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[_,h]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:c,"class-name":{pattern:RegExp(R),greedy:!0,inside:M},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var ee=j+"|"+P,G=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[ee]),Q=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),re=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,ae=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[x,Q]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[re,ae]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[re]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[Q]),inside:t.languages.csharp},"class-name":{pattern:RegExp(x),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var ne=/:[^}\r\n]+/.source,me=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),be=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[me,ne]),fe=a(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[ee]),2),J=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[fe,ne]);function he(O,H){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[O]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[H,ne]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[be]),lookbehind:!0,greedy:!0,inside:he(be,me)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[J]),lookbehind:!0,greedy:!0,inside:he(J,fe)}],char:{pattern:RegExp(P),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp})(e)}_v.displayName="aspnet";_v.aliases=[];function _v(e){e.register(ll),e.register(Cn),e.languages.aspnet=e.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:e.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:e.languages.csharp}}}),e.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.insertBefore("inside","punctuation",{directive:e.languages.aspnet.directive},e.languages.aspnet.tag.inside["attr-value"]),e.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),e.languages.insertBefore("aspnet",e.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:e.languages.csharp||{}}})}wv.displayName="asm6502";wv.aliases=[];function wv(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}$v.displayName="asmatmel";$v.aliases=[];function $v(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&[&=]?|\|[\|=]?|[-+*/%^!=<>?]=?/,punctuation:/[(),:]/}}Ev.displayName="autohotkey";Ev.aliases=[];function Ev(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,command:{pattern:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,alias:"selector"},constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,directive:{pattern:/#[a-z]+\b/i,alias:"important"},keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}Sv.displayName="autoit";Sv.aliases=[];function Sv(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}Tv.displayName="avisynth";Tv.aliases=["avs"];function Tv(e){(function(t){function n(d,m){return d.replace(/<<(\d+)>>/g,function(f,h){return m[+h]})}function r(d,m,f){return RegExp(n(d,m),f)}var a=/bool|clip|float|int|string|val/.source,i=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),s=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),u=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),c=[i,s,u].join("|");t.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:r(/\b(?:<<0>>)\s+("?)\w+\1/.source,[a],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:r(/\b(?:<<0>>)\b/.source,[c],"i"),alias:"function"},"type-cast":{pattern:r(/\b(?:<<0>>)(?=\s*\()/.source,[a],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},t.languages.avs=t.languages.avisynth})(e)}kv.displayName="avro-idl";kv.aliases=["avdl"];function kv(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}Av.displayName="awk";Av.aliases=["gawk"];function Av(e){e.languages.awk={hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\\"\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},regex:{pattern:/((?:^|[^\w\s)])\s*)\/(?:[^\/\\\r\n]|\\.)*\//,lookbehind:!0,greedy:!0},variable:/\$\w+/,keyword:/\b(?:BEGIN|BEGINFILE|END|ENDFILE|break|case|continue|default|delete|do|else|exit|for|function|getline|if|in|next|nextfile|printf?|return|switch|while)\b|@(?:include|load)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[a-fA-F0-9]+)\b/,operator:/--|\+\+|!?~|>&|>>|<<|(?:\*\*|[<>!=+\-*/%^])=?|&&|\|[|&]|[?:]/,punctuation:/[()[\]{},;]/},e.languages.gawk=e.languages.awk}Em.displayName="basic";Em.aliases=[];function Em(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}Nv.displayName="batch";Nv.aliases=[];function Nv(e){(function(t){var n=/%%?[~:\w]+%?|!\S+!/,r={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},a=/"(?:[\\"]"|[^"])*"(?!")/,i=/(?:\b|-)\d+\b/;t.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:a,parameter:r,variable:n,number:i,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:a,parameter:r,variable:n,number:i,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:a,parameter:r,variable:[n,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:i,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:a,parameter:r,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:n,number:i,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}Cv.displayName="bbcode";Cv.aliases=["shortcode"];function Cv(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}Iv.displayName="bbj";Iv.aliases=[];function Iv(e){(function(t){t.languages.bbj={comment:{pattern:/(^|[^\\:])rem\s+.*/i,lookbehind:!0,greedy:!0},string:{pattern:/(['"])(?:(?!\1|\\).|\\.)*\1/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:abstract|all|argc|begin|bye|callback|case|chn|class|classend|ctl|day|declare|delete|dim|dom|dread|dsz|else|end|endif|err|exitto|extends|fi|field|for|from|gosub|goto|if|implements|interface|interfaceend|iol|iolist|let|list|load|method|methodend|methodret|on|opts|pfx|print|private|process_events|protected|psz|public|read|read_resource|release|remove_callback|repeat|restore|return|rev|seterr|setesc|sqlchn|sqlunt|ssn|start|static|swend|switch|sys|then|tim|unt|until|use|void|wend|where|while)\b/i,function:/\b\w+(?=\()/,boolean:/\b(?:BBjAPI\.TRUE|BBjAPI\.FALSE)\b/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:and|not|or|xor)\b/i,punctuation:/[.,;:()]/}})(e)}Lv.displayName="bicep";Lv.aliases=[];function Lv(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}Rv.displayName="birb";Rv.aliases=[];function Rv(e){e.register(bt),e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}Dv.displayName="bison";Dv.aliases=[];function Dv(e){e.register(Ba),e.languages.bison=e.languages.extend("c",{}),e.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:e.languages.c}},comment:e.languages.c.comment,string:e.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}Ov.displayName="bnf";Ov.aliases=["rbnf"];function Ov(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}Uv.displayName="bqn";Uv.aliases=[];function Uv(e){e.languages.bqn={shebang:{pattern:/^#![ \t]*\/.*/,alias:"important",greedy:!0},comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/"(?:[^"]|"")*"/,greedy:!0,alias:"string"},"character-literal":{pattern:/'(?:[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])'/,greedy:!0,alias:"char"},function:/[\w.]+[\w.]*/,"dot-notation-on-brackets":{pattern:/\{(?=.*\}\.)|\}\./,alias:"namespace"},"special-name":{pattern:/(?:|||||||||||__|_)/,alias:"keyword"},"dot-notation-on-name":{pattern:/[A-Za-z_][\w]*\./,alias:"namespace"},"word-number-scientific":{pattern:/\d+(?:\.\d+)?[eE]?\d+/,alias:"number"},"word-name":{pattern:/[A-Za-z_][\w]*/,alias:"symbol"},"word-number":{pattern:/[]?(?:\d*\.?\b\d+(?:e[+]?\d+|E[+]?\d+)?|||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+|E[+]?\d+)?|||))?/,alias:"number"},"null-literal":{pattern:/@/,alias:"char"},"primitive-functions":{pattern:/[-+|<>=/!]/,alias:"operator"},"primitive-1-operators":{pattern:/[`]/,alias:"operator"},"primitive-2-operators":{pattern:/[]/,alias:"operator"},punctuation:/[(){}[\],.;:?]/}}Mv.displayName="brainfuck";Mv.aliases=[];function Mv(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}Pv.displayName="brightscript";Pv.aliases=[];function Pv(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}Fv.displayName="bro";Fv.aliases=[];function Fv(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}Bv.displayName="bsl";Bv.aliases=["oscript"];function Bv(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:|||||||||||||||||||||||||||||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}zv.displayName="cfscript";zv.aliases=["cfc"];function zv(e){e.register(bt),e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|:/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}jv.displayName="chaiscript";jv.aliases=[];function jv(e){e.register(bt),e.register(sl),e.languages.chaiscript=e.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[e.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),e.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),e.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}Gv.displayName="cil";Gv.aliases=[];function Gv(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}Hv.displayName="cilkc";Hv.aliases=["cilk-c"];function Hv(e){e.register(Ba),e.languages.cilkc=e.languages.insertBefore("c","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-c"]=e.languages.cilkc}Vv.displayName="cilkcpp";Vv.aliases=["cilk","cilk-cpp"];function Vv(e){e.register(sl),e.languages.cilkcpp=e.languages.insertBefore("cpp","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-cpp"]=e.languages.cilkcpp,e.languages.cilk=e.languages.cilkcpp}qv.displayName="clojure";qv.aliases=[];function qv(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}Wv.displayName="cmake";Wv.aliases=[];function Wv(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}Yv.displayName="cobol";Yv.aliases=[];function Yv(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}Kv.displayName="coffeescript";Kv.aliases=["coffee"];function Kv(e){e.register(Bn),(function(t){var n=/#(?!\{).+/,r={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:n,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:r}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:n,interpolation:r}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:r}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript})(e)}Xv.displayName="concurnas";Xv.aliases=["conc"];function Xv(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}Qv.displayName="csp";Qv.aliases=[];function Qv(e){(function(t){function n(r){return RegExp(/([ \t])/.source+"(?:"+r+")"+/(?=[\s;]|$)/.source,"i")}t.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:n(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:n(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:n(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:n(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:n(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:n(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:n(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}Zv.displayName="cooklang";Zv.aliases=[];function Zv(e){(function(t){var n=/(?:(?!\s)[\d$+<=a-zA-Z\x80-\uFFFF])+/.source,r=/[^{}@#]+/.source,a=/\{[^}#@]*\}/.source,i=r+a,s=/(?:h|hours|hrs|m|min|minutes)/.source,u={pattern:/\{[^{}]*\}/,inside:{amount:{pattern:/([\{|])[^{}|*%]+/,lookbehind:!0,alias:"number"},unit:{pattern:/(%)[^}]+/,lookbehind:!0,alias:"symbol"},"servings-scaler":{pattern:/\*/,alias:"operator"},"servings-alternative-separator":{pattern:/\|/,alias:"operator"},"unit-separator":{pattern:/(?:%|(\*)%)/,lookbehind:!0,alias:"operator"},punctuation:/[{}]/}};t.languages.cooklang={comment:{pattern:/\[-[\s\S]*?-\]|--.*/,greedy:!0},meta:{pattern:/>>.*:.*/,inside:{property:{pattern:/(>>\s*)[^\s:](?:[^:]*[^\s:])?/,lookbehind:!0}}},"cookware-group":{pattern:new RegExp("#(?:"+i+"|"+n+")"),inside:{cookware:{pattern:new RegExp("(^#)(?:"+r+")"),lookbehind:!0,alias:"variable"},"cookware-keyword":{pattern:/^#/,alias:"keyword"},"quantity-group":{pattern:new RegExp(/\{[^{}@#]*\}/),inside:{quantity:{pattern:new RegExp(/(^\{)/.source+r),lookbehind:!0,alias:"number"},punctuation:/[{}]/}}}},"ingredient-group":{pattern:new RegExp("@(?:"+i+"|"+n+")"),inside:{ingredient:{pattern:new RegExp("(^@)(?:"+r+")"),lookbehind:!0,alias:"variable"},"ingredient-keyword":{pattern:/^@/,alias:"keyword"},"amount-group":u}},"timer-group":{pattern:/~(?!\s)[^@#~{}]*\{[^{}]*\}/,inside:{timer:{pattern:/(^~)[^{]+/,lookbehind:!0,alias:"variable"},"duration-group":{pattern:/\{[^{}]*\}/,inside:{punctuation:/[{}]/,unit:{pattern:new RegExp(/(%\s*)/.source+s+/\b/.source),lookbehind:!0,alias:"symbol"},operator:/%/,duration:{pattern:/\d+/,alias:"number"}}},"timer-keyword":{pattern:/^~/,alias:"keyword"}}}}})(e)}Jv.displayName="coq";Jv.aliases=[];function Jv(e){(function(t){for(var n=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,"[]"),t.languages.coq={comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return n})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}ul.displayName="ruby";ul.aliases=["rb"];function ul(e){e.register(bt),(function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby})(e)}ey.displayName="crystal";ey.aliases=[];function ey(e){e.register(ul),(function(t){t.languages.crystal=t.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,t.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),t.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:t.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})})(e)}ty.displayName="css-extras";ty.aliases=[];function ty(e){e.register(Bo),(function(t){var n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r;t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:r={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=r,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var a={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:a,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:a,number:i})})(e)}ny.displayName="csv";ny.aliases=[];function ny(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}ry.displayName="cue";ry.aliases=[];function ry(e){(function(t){var n=/\\(?:(?!\2)|\2(?:[^()\r\n]|\([^()]*\)))/.source,r=/"""(?:[^\\"]|"(?!""\2)|<esc>)*"""/.source+"|"+/'''(?:[^\\']|'(?!''\2)|<esc>)*'''/.source+"|"+/"(?:[^\\\r\n"]|"(?!\2)|<esc>)*"/.source+"|"+/'(?:[^\\\r\n']|'(?!\2)|<esc>)*'/.source,a="(?:"+r.replace(/<esc>/g,n)+")";t.languages.cue={comment:{pattern:/\/\/.*/,greedy:!0},"string-literal":{pattern:RegExp(/(^|[^#"'\\])(#*)/.source+a+/(?!["'])\2/.source),lookbehind:!0,greedy:!0,inside:{escape:{pattern:/(?=[\s\S]*["'](#*)$)\\\1(?:U[a-fA-F0-9]{1,8}|u[a-fA-F0-9]{1,4}|x[a-fA-F0-9]{1,2}|\d{2,3}|[^(])/,greedy:!0,alias:"string"},interpolation:{pattern:/(?=[\s\S]*["'](#*)$)\\\1\([^()]*\)/,greedy:!0,inside:{punctuation:/^\\#*\(|\)$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:{pattern:/(^|[^\w$])(?:for|if|import|in|let|null|package)(?![\w$])/,lookbehind:!0},boolean:{pattern:/(^|[^\w$])(?:false|true)(?![\w$])/,lookbehind:!0},builtin:{pattern:/(^|[^\w$])(?:bool|bytes|float|float(?:32|64)|u?int(?:8|16|32|64|128)?|number|rune|string)(?![\w$])/,lookbehind:!0},attribute:{pattern:/@[\w$]+(?=\s*\()/,alias:"function"},function:{pattern:/(^|[^\w$])[a-z_$][\w$]*(?=\s*\()/i,lookbehind:!0},number:{pattern:/(^|[^\w$.])(?:0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[eE][+-]?\d+(?:_\d+)*)?(?:[KMGTP]i?)?)(?![\w$])/,lookbehind:!0},operator:/\.{3}|_\|_|&&?|\|\|?|[=!]~|[<>=!]=?|[+\-*/?]/,punctuation:/[()[\]{},.:]/},t.languages.cue["string-literal"].inside.interpolation.inside.expression.inside=t.languages.cue})(e)}ay.displayName="cypher";ay.aliases=[];function ay(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}iy.displayName="d";iy.aliases=[];function iy(e){e.register(bt),e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}oy.displayName="dart";oy.aliases=[];function oy(e){e.register(bt),(function(t){var n=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],r=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};t.languages.dart=t.languages.extend("clike",{"class-name":[a,{pattern:RegExp(r+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:n,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),t.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.dart}}},string:/[\s\S]+/}},string:void 0}),t.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),t.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(e)}sy.displayName="dataweave";sy.aliases=[];function sy(e){(function(t){t.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}ly.displayName="dax";ly.aliases=[];function ly(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}uy.displayName="dhall";uy.aliases=[];function uy(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}cy.displayName="diff";cy.aliases=[];function cy(e){(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var n={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(n).forEach(function(r){var a=n[r],i=[];/^\w+$/.test(r)||i.push(/\w+/.exec(r)[0]),r==="diff"&&i.push("bold"),t.languages.diff[r]={pattern:RegExp("^(?:["+a+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}}),Object.defineProperty(t.languages.diff,"PREFIXES",{value:n})})(e)}zn.displayName="markup-templating";zn.aliases=[];function zn(e){e.register(Cn),(function(t){function n(r,a){return"___"+r.toUpperCase()+a+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,a,i,s){if(r.language===a){var u=r.tokenStack=[];r.code=r.code.replace(i,function(c){if(typeof s=="function"&&!s(c))return c;for(var d=u.length,m;r.code.indexOf(m=n(a,d))!==-1;)++d;return u[d]=c,m}),r.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(r,a){if(r.language!==a||!r.tokenStack)return;r.grammar=t.languages[a];var i=0,s=Object.keys(r.tokenStack);function u(c){for(var d=0;d<c.length&&!(i>=s.length);d++){var m=c[d];if(typeof m=="string"||m.content&&typeof m.content=="string"){var f=s[i],h=r.tokenStack[f],b=typeof m=="string"?m:m.content,_=n(a,f),x=b.indexOf(_);if(x>-1){++i;var T=b.substring(0,x),S=new t.Token(a,t.tokenize(h,r.grammar),"language-"+a,h),A=b.substring(x+_.length),C=[];T&&C.push.apply(C,u([T])),C.push(S),A&&C.push.apply(C,u([A])),typeof m=="string"?c.splice.apply(c,[d,1].concat(C)):m.content=C}}else m.content&&u(m.content)}return c}u(r.tokens)}}})})(e)}dy.displayName="django";dy.aliases=["jinja2"];function dy(e){e.register(zn),(function(t){t.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var n=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,r=t.languages["markup-templating"];t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"django",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"django")}),t.languages.jinja2=t.languages.django,t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"jinja2",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"jinja2")})})(e)}py.displayName="dns-zone-file";py.aliases=["dns-zone"];function py(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}my.displayName="docker";my.aliases=["dockerfile"];function my(e){(function(t){var n=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,r=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return n}),a=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,i=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return a}),s={pattern:RegExp(a),greedy:!0},u={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function c(d,m){return d=d.replace(/<OPT>/g,function(){return i}).replace(/<SP>/g,function(){return r}),RegExp(d,m)}t.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:c(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[s,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:c(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:c(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:c(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:u,string:s,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:u},t.languages.dockerfile=t.languages.docker})(e)}fy.displayName="dot";fy.aliases=["gv"];function fy(e){(function(t){var n="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",r={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:t.languages.markup}};function a(i,s){return RegExp(i.replace(/<ID>/g,function(){return n}),s)}t.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:a(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:r},"attr-value":{pattern:a(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:r},"attr-name":{pattern:a(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:r},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:a(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:r},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},t.languages.gv=t.languages.dot})(e)}hy.displayName="ebnf";hy.aliases=[];function hy(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}gy.displayName="editorconfig";gy.aliases=[];function gy(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}by.displayName="eiffel";by.aliases=[];function by(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}vy.displayName="ejs";vy.aliases=["eta"];function vy(e){e.register(Bn),e.register(zn),(function(t){t.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:t.languages.javascript}},t.hooks.add("before-tokenize",function(n){var r=/<%(?!%)[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"ejs",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"ejs")}),t.languages.eta=t.languages.ejs})(e)}yy.displayName="elixir";yy.aliases=[];function yy(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(t){t.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}xy.displayName="elm";xy.aliases=[];function xy(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}Sm.displayName="lua";Sm.aliases=[];function Sm(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}_y.displayName="etlua";_y.aliases=[];function _y(e){e.register(Sm),e.register(zn),(function(t){t.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:t.languages.lua}},t.hooks.add("before-tokenize",function(n){var r=/<%[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"etlua",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"etlua")})})(e)}wy.displayName="erb";wy.aliases=[];function wy(e){e.register(zn),e.register(ul),(function(t){t.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:t.languages.ruby}},t.hooks.add("before-tokenize",function(n){var r=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"erb",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"erb")})})(e)}$y.displayName="erlang";$y.aliases=[];function $y(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|begin|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}Ey.displayName="excel-formula";Ey.aliases=["xls","xlsx"];function Ey(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}Sy.displayName="fsharp";Sy.aliases=[];function Sy(e){e.register(bt),e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}Ty.displayName="factor";Ty.aliases=[];function Ty(e){(function(t){var n={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},r={number:/\\[^\s']|%\w/},a={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:n},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:n}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:r.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:r}},i=function(d){return(d+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},s=function(d){return new RegExp("(^|\\s)(?:"+d.map(i).join("|")+")(?=\\s|$)")},u={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(u).forEach(function(d){a[d].pattern=s(u[d])});var c=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];a.combinators.pattern=s(c),t.languages.factor=a})(e)}ky.displayName="false";ky.aliases=[];function ky(e){(function(t){t.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO]/,alias:"bold"}}})(e)}Ay.displayName="firestore-security-rules";Ay.aliases=[];function Ay(e){e.register(bt),e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}Ny.displayName="flow";Ny.aliases=[];function Ny(e){e.register(Bn),(function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(e)}Cy.displayName="fortran";Cy.aliases=[];function Cy(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}Iy.displayName="ftl";Iy.aliases=[];function Iy(e){e.register(zn),(function(t){for(var n=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,r=0;r<2;r++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var a={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return n})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return n})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};a.string[1].inside.interpolation.inside.rest=a,t.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}}},t.hooks.add("before-tokenize",function(i){var s=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return n}),"gi");t.languages["markup-templating"].buildPlaceholders(i,"ftl",s)}),t.hooks.add("after-tokenize",function(i){t.languages["markup-templating"].tokenizePlaceholders(i,"ftl")})})(e)}Ly.displayName="gml";Ly.aliases=["gamemakerlanguage"];function Ly(e){e.register(bt),e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}Ry.displayName="gap";Ry.aliases=[];function Ry(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}Dy.displayName="gcode";Dy.aliases=[];function Dy(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}Oy.displayName="gdscript";Oy.aliases=[];function Oy(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}Uy.displayName="gedcom";Uy.aliases=[];function Uy(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},record:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"tag"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}My.displayName="gettext";My.aliases=["po"];function My(e){e.languages.gettext={comment:[{pattern:/# .*/,greedy:!0,alias:"translator-comment"},{pattern:/#\..*/,greedy:!0,alias:"extracted-comment"},{pattern:/#:.*/,greedy:!0,alias:"reference-comment"},{pattern:/#,.*/,greedy:!0,alias:"flag-comment"},{pattern:/#\|.*/,greedy:!0,alias:"previously-untranslated-comment"},{pattern:/#.*/,greedy:!0}],string:{pattern:/(^|[^\\])"(?:[^"\\]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/^msg(?:ctxt|id|id_plural|str)\b/m,number:/\b\d+\b/,punctuation:/[\[\]]/},e.languages.po=e.languages.gettext}Py.displayName="gherkin";Py.aliases=[];function Py(e){(function(t){var n=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;t.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Caracterstica|Egenskab|Egenskap|Eiginleiki|Feature|Fa|Fitur|Fonctionnalit|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcionalitate|Funcionalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitte|Funkcionalnost|Funkcja|Funksie|Funktionalitt|Funktionalitit|Funzionalit|Hwaet|Hwt|Jellemz|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogunost|Moznosti|Monosti|OH HAI|Omadus|Ominaisuus|Osobina|zellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Poadavek|Poiadavka|Pretty much|Qap|Qu'meH 'ut|Savyb|Tnh nng|Trajto|Vermo|Vlastnos|Waciwo|Znailnost||||||||||||||||  || || ||||||||||):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|r|Agtergrond|All y'all|Antecedentes|Antecedents|Atburars|Atburarsir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bi cnh|Cefndir|Cenario|Cenrio|Cenario de Fundo|Cenrio de Fundo|Cenarios|Cenrios|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineao do Cenrio|Dis is what went down|D liu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenrio|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatknyv|Forgatknyv vzlat|Fundo|Gemi|Grundlage|Hannergrond|ghantoH|Httr|Heave to|Istorik|Juhtumid|Keadaan|Khung kch bn|Khung tnh hung|Kch bn|Koncept|Konsep skenario|Kontks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lsing Atburarsar|Lsing Dma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Nrt Scenra|Nrt Scne|Nrt Scenru|Oris scenarija|rnekler|Osnova|Osnova Scenra|Osnova scne|Osnutek|Ozadje|Paraugs|Pavyzdiai|Pldk|Piemri|Plan du scnario|Plan du Scnario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozad|Pozadie|Pozadina|Prklady|Pklady|Primer|Primeri|Primjeri|Przykady|Raamstsenaarium|Reckon it's like|Rerefons|Scenr|Scn|Scenarie|Scenarij|Scenarijai|Scenarijaus ablonas|Scenariji|Scenrijs|Scenrijs pc parauga|Scenarijus|Scenario|Scnario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se e|Se the|Se e|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo tasla|Shiver me timbers|Situcija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structur scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwr swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tnh hung|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Zaoenia|| ||||||||||||||||||  || | | || | |||||||| ||| || |||| ||   || ||| |||| |  |||||||||||||||||| ||||||||||||||||||):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+n+")(?:"+n+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(n),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A tak|A taktie|A tie|A zrove|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Ats|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Bit|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Cnd|Cand|Cando|Ce|Cuando|e|a e|a|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Dai fiind|Dai fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitao|Do|Dun|Duota|urh|Eeldades|Ef|Eer ki|Entao|Ento|Entn|E|En|Entonces|Epi|s|Etant donne|Etant donn|Et|tant donnes|tant donne|tant donn|Etant donnes|Etant donns|tant donns|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeli|Jeeli|Kad|Kada|Kadar|Kai|Kaj|Kdy|Ke|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|L sa a|L|Logo|Lorsqu'<|Lorsque|m|Maar|Mais|Majc|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Nr|Nr|Nato|Nhng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Per|Podano|Pokia|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|S|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|i|i|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Th|Thurh|Toda|Too right|Un|Und|ugeholl|V|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za pedpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakadajc|Zaradi|Zatati|a e|a||egar|urh|||||| |||||||||||||||||||||  ||||||||||||, |||||||||||||||||||||| |||||||| |||||||||||||||||||| ||||| ||||||||||||||<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}Fy.displayName="git";Fy.aliases=[];function Fy(e){e.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}By.displayName="glsl";By.aliases=[];function By(e){e.register(Ba),e.languages.glsl=e.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}zy.displayName="gn";zy.aliases=["gni"];function zy(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}jy.displayName="linker-script";jy.aliases=["ld"];function jy(e){e.languages["linker-script"]={comment:{pattern:/(^|\s)\/\*[\s\S]*?(?:$|\*\/)/,lookbehind:!0,greedy:!0},identifier:{pattern:/"[^"\r\n]*"/,greedy:!0},"location-counter":{pattern:/\B\.\B/,alias:"important"},section:{pattern:/(^|[^\w*])\.\w+\b/,lookbehind:!0,alias:"keyword"},function:/\b[A-Z][A-Z_]*(?=\s*\()/,number:/\b(?:0[xX][a-fA-F0-9]+|\d+)[KM]?\b/,operator:/>>=?|<<=?|->|\+\+|--|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?/,punctuation:/[(){},;]/},e.languages.ld=e.languages["linker-script"]}Gy.displayName="go";Gy.aliases=[];function Gy(e){e.register(bt),e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}Hy.displayName="go-module";Hy.aliases=["go-mod"];function Hy(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}Vy.displayName="gradle";Vy.aliases=[];function Vy(e){e.register(bt),(function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.gradle=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.gradle})(e)}qy.displayName="graphql";qy.aliases=[];function qy(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(n){if(n.language!=="graphql")return;var r=n.tokens.filter(function(T){return typeof T!="string"&&T.type!=="comment"&&T.type!=="scalar"}),a=0;function i(T){return r[a+T]}function s(T,S){S=S||0;for(var A=0;A<T.length;A++){var C=i(A+S);if(!C||C.type!==T[A])return!1}return!0}function u(T,S){for(var A=1,C=a;C<r.length;C++){var R=r[C],M=R.content;if(R.type==="punctuation"&&typeof M=="string"){if(T.test(M))A++;else if(S.test(M)&&(A--,A===0))return C}}return-1}function c(T,S){var A=T.alias;A?Array.isArray(A)||(T.alias=A=[A]):T.alias=A=[],A.push(S)}for(;a<r.length;){var d=r[a++];if(d.type==="keyword"&&d.content==="mutation"){var m=[];if(s(["definition-mutation","punctuation"])&&i(1).content==="("){a+=2;var f=u(/^\($/,/^\)$/);if(f===-1)continue;for(;a<f;a++){var h=i(0);h.type==="variable"&&(c(h,"variable-input"),m.push(h.content))}a=f+1}if(s(["punctuation","property-query"])&&i(0).content==="{"&&(a++,c(i(0),"property-mutation"),m.length>0)){var b=u(/^\{$/,/^\}$/);if(b===-1)continue;for(var _=a;_<b;_++){var x=r[_];x.type==="variable"&&m.indexOf(x.content)>=0&&c(x,"variable-input")}}}}})}Wy.displayName="groovy";Wy.aliases=[];function Wy(e){e.register(bt),(function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.groovy=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.groovy})(e)}Yy.displayName="less";Yy.aliases=[];function Yy(e){e.register(Bo),e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}Ky.displayName="scss";Ky.aliases=[];function Ky(e){e.register(Bo),e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}Xy.displayName="textile";Xy.aliases=[];function Xy(e){e.register(Cn),(function(t){var n=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,r=/\)|\((?![^|()\n]+\))/.source;function a(f,h){return RegExp(f.replace(/<MOD>/g,function(){return"(?:"+n+")"}).replace(/<PAR>/g,function(){return"(?:"+r+")"}),h||"")}var i={css:{pattern:/\{[^{}]+\}/,inside:{rest:t.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},s=t.languages.textile=t.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:a(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:a(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:i},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:a(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:a(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/^[*#]+/}},table:{pattern:a(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:a(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:i},punctuation:/\||^\./}},inline:{pattern:a(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:a(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:a(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:a(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:a(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:a(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:a(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:a(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:a(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:a(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:a(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:a(/(^")<MOD>+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:a(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:a(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:a(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),u=s.phrase.inside,c={inline:u.inline,link:u.link,image:u.image,footnote:u.footnote,acronym:u.acronym,mark:u.mark};s.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var d=u.inline.inside;d.bold.inside=c,d.italic.inside=c,d.inserted.inside=c,d.deleted.inside=c,d.span.inside=c;var m=u.table.inside;m.inline=c.inline,m.link=c.link,m.image=c.image,m.footnote=c.footnote,m.acronym=c.acronym,m.mark=c.mark})(e)}Qy.displayName="haml";Qy.aliases=[];function Qy(e){e.register(ul),(function(t){t.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:t.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:t.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:t.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:t.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:t.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:t.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var n="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",r=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],a={},i=0,s=r.length;i<s;i++){var u=r[i];u=typeof u=="string"?{filter:u,language:u}:u,t.languages[u.language]&&(a["filter-"+u.filter]={pattern:RegExp(n.replace("{{filter_name}}",function(){return u.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[u.language,"language-"+u.language],inside:t.languages[u.language]}}})}t.languages.insertBefore("haml","filter",a)})(e)}Zy.displayName="handlebars";Zy.aliases=["hbs","mustache"];function Zy(e){e.register(zn),(function(t){t.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},t.hooks.add("before-tokenize",function(n){var r=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;t.languages["markup-templating"].buildPlaceholders(n,"handlebars",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"handlebars")}),t.languages.hbs=t.languages.handlebars,t.languages.mustache=t.languages.handlebars})(e)}lc.displayName="haskell";lc.aliases=["hs"];function lc(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}Jy.displayName="haxe";Jy.aliases=[];function Jy(e){e.register(bt),e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}e2.displayName="hcl";e2.aliases=[];function e2(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}t2.displayName="hlsl";t2.aliases=[];function t2(e){e.register(Ba),e.languages.hlsl=e.languages.extend("c",{"class-name":[e.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}n2.displayName="hoon";n2.aliases=[];function n2(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}r2.displayName="hpkp";r2.aliases=[];function r2(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}a2.displayName="hsts";a2.aliases=[];function a2(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}uc.displayName="json";uc.aliases=["webmanifest"];function uc(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}i2.displayName="uri";i2.aliases=["url"];function i2(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}o2.displayName="http";o2.aliases=[];function o2(e){(function(t){function n(m){return RegExp("(^(?:"+m+"):[ 	]*(?![ 	]))[^]+","i")}t.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:t.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:n(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:t.languages.csp},{pattern:n(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:t.languages.hpkp},{pattern:n(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:t.languages.hsts},{pattern:n(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var r=t.languages,a={"application/javascript":r.javascript,"application/json":r.json||r.javascript,"application/xml":r.xml,"text/xml":r.xml,"text/html":r.html,"text/css":r.css,"text/plain":r.plain},i={"application/json":!0,"application/xml":!0};function s(m){var f=m.replace(/^[a-z]+\//,""),h="\\w+/(?:[\\w.-]+\\+)+"+f+"(?![+\\w.-])";return"(?:"+m+"|"+h+")"}var u;for(var c in a)if(a[c]){u=u||{};var d=i[c]?s(c):c;u[c.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+d+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:a[c]}}u&&t.languages.insertBefore("http","header",u)})(e)}s2.displayName="ichigojam";s2.aliases=[];function s2(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}l2.displayName="icon";l2.aliases=[];function l2(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}u2.displayName="icu-message-format";u2.aliases=[];function u2(e){(function(t){function n(c,d){return d<=0?/[]/.source:c.replace(/<SELF>/g,function(){return n(c,d-1)})}var r=/'[{}:=,](?:[^']|'')*'(?!')/,a={pattern:/''/,greedy:!0,alias:"operator"},i={pattern:r,greedy:!0,inside:{escape:a}},s=n(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return r.source}),8),u={pattern:RegExp(s),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};t.languages["icu-message-format"]={argument:{pattern:RegExp(s),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":u,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":u,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+n(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:a,string:i},u.inside.message.inside=t.languages["icu-message-format"],t.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=t.languages["icu-message-format"]})(e)}c2.displayName="idris";c2.aliases=["idr"];function c2(e){e.register(lc),e.languages.idris=e.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),e.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.idr=e.languages.idris}d2.displayName="ignore";d2.aliases=["gitignore","hgignore","npmignore"];function d2(e){(function(t){t.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},t.languages.gitignore=t.languages.ignore,t.languages.hgignore=t.languages.ignore,t.languages.npmignore=t.languages.ignore})(e)}p2.displayName="inform7";p2.aliases=[];function p2(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}m2.displayName="ini";m2.aliases=[];function m2(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}f2.displayName="io";f2.aliases=[];function f2(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}h2.displayName="j";h2.aliases=[];function h2(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}cl.displayName="java";cl.aliases=[];function cl(e){e.register(bt),(function(t){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:a.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:a.inside}],keyword:n,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:a.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:a.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(e)}dl.displayName="php";dl.aliases=[];function dl(e){e.register(zn),(function(t){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],a=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,i=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,s=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:a,operator:i,punctuation:s};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},c=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];t.languages.insertBefore("php","variable",{string:c,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:c,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:a,operator:i,punctuation:s}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(d){if(/<\?/.test(d.code)){var m=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;t.languages["markup-templating"].buildPlaceholders(d,"php",m)}}),t.hooks.add("after-tokenize",function(d){t.languages["markup-templating"].tokenizePlaceholders(d,"php")})})(e)}pl.displayName="javadoclike";pl.aliases=[];function pl(e){(function(t){var n=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function r(i,s){var u="doc-comment",c=t.languages[i];if(c){var d=c[u];if(!d){var m={};m[u]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},c=t.languages.insertBefore(i,"comment",m),d=c[u]}if(d instanceof RegExp&&(d=c[u]={pattern:d}),Array.isArray(d))for(var f=0,h=d.length;f<h;f++)d[f]instanceof RegExp&&(d[f]={pattern:d[f]}),s(d[f]);else s(d)}}function a(i,s){typeof i=="string"&&(i=[i]),i.forEach(function(u){r(u,function(c){c.inside||(c.inside={}),c.inside.rest=s})})}Object.defineProperty(n,"addSupport",{value:a}),n.addSupport(["java","javascript","php"],n)})(e)}g2.displayName="scala";g2.aliases=[];function g2(e){e.register(cl),e.languages.scala=e.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),e.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.scala}}},string:/[\s\S]+/}}}),delete e.languages.scala["class-name"],delete e.languages.scala.function,delete e.languages.scala.constant}b2.displayName="javadoc";b2.aliases=[];function b2(e){e.register(cl),e.register(pl),e.register(Cn),(function(t){var n=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,r=/#\s*\w+(?:\s*\([^()]*\))?/.source,a=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return r});t.languages.javadoc=t.languages.extend("javadoclike",{}),t.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+a+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:t.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:n,lookbehind:!0,inside:t.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:n,lookbehind:!0,inside:{tag:t.languages.markup.tag,entity:t.languages.markup.entity,code:{pattern:/.+/,inside:t.languages.java,alias:"language-java"}}}}}],tag:t.languages.markup.tag,entity:t.languages.markup.entity}),t.languages.javadoclike.addSupport("java",t.languages.javadoc)})(e)}v2.displayName="javastacktrace";v2.aliases=[];function v2(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}y2.displayName="jexl";y2.aliases=[];function y2(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}x2.displayName="jolie";x2.aliases=[];function x2(e){e.register(bt),e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}_2.displayName="jq";_2.aliases=[];function _2(e){(function(t){var n=/\\\((?:[^()]|\([^()]*\))*\)/.source,r=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return n})),a={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+n),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},i=t.languages.jq={comment:/#.*/,property:{pattern:RegExp(r.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:a},string:{pattern:r,lookbehind:!0,greedy:!0,inside:a},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};a.interpolation.inside.content.inside=i})(e)}w2.displayName="js-templates";w2.aliases=[];function w2(e){e.register(Bn),(function(t){var n=t.languages.javascript["template-string"],r=n.pattern.source,a=n.inside.interpolation,i=a.inside["interpolation-punctuation"],s=a.pattern.source;function u(_,x){if(t.languages[_])return{pattern:RegExp("((?:"+x+")\\s*)"+r),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:_}}}}t.languages.javascript["template-string"]=[u("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),u("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),u("svg",/\bsvg/.source),u("markdown",/\b(?:markdown|md)/.source),u("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),u("sql",/\bsql/.source),n].filter(Boolean);function c(_,x){return"___"+x.toUpperCase()+"_"+_+"___"}function d(_,x,T){var S={code:_,grammar:x,language:T};return t.hooks.run("before-tokenize",S),S.tokens=t.tokenize(S.code,S.grammar),t.hooks.run("after-tokenize",S),S.tokens}function m(_){var x={};x["interpolation-punctuation"]=i;var T=t.tokenize(_,x);if(T.length===3){var S=[1,1];S.push.apply(S,d(T[1],t.languages.javascript,"javascript")),T.splice.apply(T,S)}return new t.Token("interpolation",T,a.alias,_)}function f(_,x,T){var S=t.tokenize(_,{interpolation:{pattern:RegExp(s),lookbehind:!0}}),A=0,C={},R=S.map(function(K){if(typeof K=="string")return K;for(var ee=K.content,G;_.indexOf(G=c(A++,T))!==-1;);return C[G]=ee,G}).join(""),M=d(R,x,T),P=Object.keys(C);A=0;function j(K){for(var ee=0;ee<K.length;ee++){if(A>=P.length)return;var G=K[ee];if(typeof G=="string"||typeof G.content=="string"){var Q=P[A],re=typeof G=="string"?G:G.content,ae=re.indexOf(Q);if(ae!==-1){++A;var ne=re.substring(0,ae),me=m(C[Q]),be=re.substring(ae+Q.length),fe=[];if(ne&&fe.push(ne),fe.push(me),be){var J=[be];j(J),fe.push.apply(fe,J)}typeof G=="string"?(K.splice.apply(K,[ee,1].concat(fe)),ee+=fe.length-1):G.content=fe}}else{var he=G.content;Array.isArray(he)?j(he):j([he])}}}return j(M),new t.Token(T,M,"language-"+T,_)}var h={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};t.hooks.add("after-tokenize",function(_){if(!(_.language in h))return;function x(T){for(var S=0,A=T.length;S<A;S++){var C=T[S];if(typeof C!="string"){var R=C.content;if(!Array.isArray(R)){typeof R!="string"&&x([R]);continue}if(C.type==="template-string"){var M=R[1];if(R.length===3&&typeof M!="string"&&M.type==="embedded-code"){var P=b(M),j=M.alias,K=Array.isArray(j)?j[0]:j,ee=t.languages[K];if(!ee)continue;R[1]=f(P,ee,K)}}else x(R)}}}x(_.tokens)});function b(_){return typeof _=="string"?_:Array.isArray(_)?_.map(b).join(""):b(_.content)}})(e)}cc.displayName="typescript";cc.aliases=["ts"];function cc(e){e.register(Bn),(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}$2.displayName="jsdoc";$2.aliases=[];function $2(e){e.register(pl),e.register(Bn),e.register(cc),(function(t){var n=t.languages.javascript,r=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,a="(@(?:arg|argument|param|property)\\s+(?:"+r+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:n,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return r})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+r),lookbehind:!0,inside:{string:n.string,number:n.number,boolean:n.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:n,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)})(e)}E2.displayName="n4js";E2.aliases=["n4jsd"];function E2(e){e.register(Bn),e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}S2.displayName="js-extras";S2.aliases=[];function S2(e){e.register(Bn),(function(t){t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function n(c,d){return RegExp(c.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),d)}t.languages.insertBefore("javascript","keyword",{imports:{pattern:n(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:n(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:n(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var r=["function","function-variable","method","method-variable","property-access"],a=0;a<r.length;a++){var i=r[a],s=t.languages.javascript[i];t.util.type(s)==="RegExp"&&(s=t.languages.javascript[i]={pattern:s});var u=s.inside||{};s.inside=u,u["maybe-class-name"]=/^[A-Z][\s\S]*/}})(e)}T2.displayName="json5";T2.aliases=[];function T2(e){e.register(uc),(function(t){var n=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;t.languages.json5=t.languages.extend("json",{property:[{pattern:RegExp(n.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:n,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})})(e)}k2.displayName="jsonp";k2.aliases=[];function k2(e){e.register(uc),e.languages.jsonp=e.languages.extend("json",{punctuation:/[{}[\]();,.]/}),e.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}A2.displayName="jsstacktrace";A2.aliases=[];function A2(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}N2.displayName="julia";N2.aliases=[];function N2(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~']/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[]/}}C2.displayName="keepalived";C2.aliases=[];function C2(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}I2.displayName="keyman";I2.aliases=[];function I2(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|newcontext|nomatch|postkeystroke|readonly|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}L2.displayName="kotlin";L2.aliases=["kt","kts"];function L2(e){e.register(bt),(function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var n={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:n},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:n},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin})(e)}R2.displayName="kumir";R2.aliases=["kum"];function R2(e){(function(t){var n=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function r(a,i){return RegExp(a.replace(/<nonId>/g,n),i)}t.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:r(/(^|[<nonId>])(?:|)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:r(/(^|[<nonId>])(?:||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:r(/(^|[<nonId>])(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:r(/(^|[<nonId>])(?:||||)(?:\x20*)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:r(/(^|[<nonId>])(?:|||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:r(/(^|[<nonId>])(?:|(?:\x20*)?|||[]||||||||||||(?:(?:\x20+|_))?|(?:(?:\x20+|_))?|||||||||?||||||)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:r(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:r(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},t.languages.kum=t.languages.kumir})(e)}D2.displayName="kusto";D2.aliases=[];function D2(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mn]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}O2.displayName="latex";O2.aliases=["context","tex"];function O2(e){(function(t){var n=/\\(?:[^a-z()[\]]|[a-z*]+)/i,r={"equation-command":{pattern:n,alias:"regex"}};t.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:r,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:r,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:n,alias:"selector"},punctuation:/[[\]{}&]/},t.languages.tex=t.languages.latex,t.languages.context=t.languages.latex})(e)}U2.displayName="latte";U2.aliases=[];function U2(e){e.register(bt),e.register(zn),e.register(dl),(function(t){t.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:t.languages.php}};var n=t.languages.extend("markup",{});t.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.php}}}}}},n.tag),t.hooks.add("before-tokenize",function(r){if(r.language==="latte"){var a=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;t.languages["markup-templating"].buildPlaceholders(r,"latte",a),r.grammar=n}}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"latte")})})(e)}dc.displayName="scheme";dc.aliases=[];function dc(e){(function(t){t.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(n({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function n(r){for(var a in r)r[a]=r[a].replace(/<[\w\s]+>/g,function(i){return"(?:"+r[i].trim()+")"});return r[a]}})(e)}M2.displayName="lilypond";M2.aliases=["ly"];function M2(e){e.register(dc),(function(t){for(var n=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,r=5,a=0;a<r;a++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var i=t.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return n}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:t.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};i["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=i,t.languages.ly=i})(e)}P2.displayName="liquid";P2.aliases=[];function P2(e){e.register(zn),e.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},e.hooks.add("before-tokenize",function(t){var n=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,r=!1;e.languages["markup-templating"].buildPlaceholders(t,"liquid",n,function(a){var i=/^\{%-?\s*(\w+)/.exec(a);if(i){var s=i[1];if(s==="raw"&&!r)return r=!0,!0;if(s==="endraw")return r=!1,!0}return!r})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"liquid")})}F2.displayName="lisp";F2.aliases=["elisp","emacs","emacs-lisp"];function F2(e){(function(t){function n(_){return RegExp(/(\()/.source+"(?:"+_+")"+/(?=[\s\)])/.source)}function r(_){return RegExp(/([\s([])/.source+"(?:"+_+")"+/(?=[\s)])/.source)}var a=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,i="&"+a,s="(\\()",u="(?=\\))",c="(?=\\s)",d=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,m={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+a+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+a),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+a),alias:"property"},splice:{pattern:RegExp(",@?"+a),alias:["symbol","variable"]},keyword:[{pattern:RegExp(s+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+c),lookbehind:!0},{pattern:RegExp(s+"(?:append|by|collect|concat|do|finally|for|in|return)"+c),lookbehind:!0}],declare:{pattern:n(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:n(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:r(/nil|t/.source),lookbehind:!0},number:{pattern:r(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(s+"def(?:const|custom|group|var)\\s+"+a),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(a)}},defun:{pattern:RegExp(s+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+a+/\s+\(/.source+d+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+a),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(s+"lambda\\s+\\(\\s*(?:&?"+a+"(?:\\s+&?"+a+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(s+a),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},f={"lisp-marker":RegExp(i),varform:{pattern:RegExp(/\(/.source+a+/\s+(?=\S)/.source+d+/\)/.source),inside:m},argument:{pattern:RegExp(/(^|[\s(])/.source+a),lookbehind:!0,alias:"variable"},rest:m},h="\\S+(?:\\s+\\S+)*",b={pattern:RegExp(s+d+u),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+h),inside:f},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+h),inside:f},keys:{pattern:RegExp("&key\\s+"+h+"(?:\\s+&allow-other-keys)?"),inside:f},argument:{pattern:RegExp(a),alias:"variable"},punctuation:/[()]/}};m.lambda.inside.arguments=b,m.defun.inside.arguments=t.util.clone(b),m.defun.inside.arguments.inside.sublist=b,t.languages.lisp=m,t.languages.elisp=m,t.languages.emacs=m,t.languages["emacs-lisp"]=m})(e)}B2.displayName="livescript";B2.aliases=[];function B2(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}z2.displayName="llvm";z2.aliases=[];function z2(e){(function(t){t.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}j2.displayName="log";j2.aliases=[];function j2(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}G2.displayName="lolcode";G2.aliases=[];function G2(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}||,|!/}}H2.displayName="magma";H2.aliases=[];function H2(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}V2.displayName="makefile";V2.aliases=[];function V2(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}Tm.displayName="mata";Tm.aliases=[];function Tm(e){(function(t){var n=/\b(?:(?:col|row)?vector|matrix|scalar)\b/.source,r=/\bvoid\b|<org>|\b(?:complex|numeric|pointer(?:\s*\([^()]*\))?|real|string|(?:class|struct)\s+\w+|transmorphic)(?:\s*<org>)?/.source.replace(/<org>/g,n);t.languages.mata={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|struct)\s+)\w+(?=\s*(?:\{|\bextends\b))/,lookbehind:!0},type:{pattern:RegExp(r),alias:"class-name",inside:{punctuation:/[()]/,keyword:/\b(?:class|function|struct|void)\b/}},keyword:/\b(?:break|class|continue|do|else|end|extends|external|final|for|function|goto|if|pragma|private|protected|public|return|static|struct|unset|unused|version|virtual|while)\b/,constant:/\bNULL\b/,number:{pattern:/(^|[^\w.])(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|\d[a-f0-9]*(?:\.[a-f0-9]+)?x[+-]?\d+)i?(?![\w.])/i,lookbehind:!0},missing:{pattern:/(^|[^\w.])(?:\.[a-z]?)(?![\w.])/,lookbehind:!0,alias:"symbol"},function:/\b[a-z_]\w*(?=\s*\()/i,operator:/\.\.|\+\+|--|&&|\|\||:?(?:[!=<>]=|[+\-*/^<>&|:])|[!?=\\#`']/,punctuation:/[()[\]{},;.]/}})(e)}q2.displayName="matlab";q2.aliases=[];function q2(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}W2.displayName="maxscript";W2.aliases=[];function W2(e){(function(t){var n=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;t.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+n.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+n.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:n,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}Y2.displayName="mel";Y2.aliases=[];function Y2(e){e.languages.mel={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},code:{pattern:/`(?:\\.|[^\\`])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},statement:{pattern:/[\s\S]+/,inside:null}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:{pattern:/((?:^|[{;])[ \t]*)[a-z_]\w*\b(?!\s*(?:\.(?!\.)|[[{=]))|\b[a-z_]\w*(?=[ \t]*\()/im,lookbehind:!0,greedy:!0},"tensor-punctuation":{pattern:/<<|>>/,alias:"punctuation"},operator:/\+[+=]?|-[-=]?|&&|\|\||[<>]=?|[*\/!=]=?|[%^]/,punctuation:/[.,:;?\[\](){}]/},e.languages.mel.code.inside.statement.inside=e.languages.mel}K2.displayName="mermaid";K2.aliases=[];function K2(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}X2.displayName="metafont";X2.aliases=[];function X2(e){e.languages.metafont={comment:{pattern:/%.*/,greedy:!0},string:{pattern:/"[^\r\n"]*"/,greedy:!0},number:/\d*\.?\d+/,boolean:/\b(?:false|true)\b/,punctuation:[/[,;()]/,{pattern:/(^|[^{}])(?:\{|\})(?![{}])/,lookbehind:!0},{pattern:/(^|[^[])\[(?!\[)/,lookbehind:!0},{pattern:/(^|[^\]])\](?!\])/,lookbehind:!0}],constant:[{pattern:/(^|[^!?])\?\?\?(?![!?])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\\|\\\\)(?![/*\\])/,lookbehind:!0},/\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\b/],quantity:{pattern:/\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\b/,alias:"keyword"},command:{pattern:/\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\b/,alias:"builtin"},operator:[{pattern:/(^|[^>=<:|])(?:<|<=|=|=:|\|=:|\|=:>|=:\|>|=:\||\|=:\||\|=:\|>|\|=:\|>>|>|>=|:|:=|<>|::|\|\|:)(?![>=<:|])/,lookbehind:!0},{pattern:/(^|[^+-])(?:\+|\+\+|-{1,3}|\+-\+)(?![+-])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\*|\*\*|\/)(?![/*\\])/,lookbehind:!0},{pattern:/(^|[^.])(?:\.{2,3})(?!\.)/,lookbehind:!0},{pattern:/(^|[^@#&$])&(?![@#&$])/,lookbehind:!0},/\b(?:and|not|or)\b/],macro:{pattern:/\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\.(?:bot|lft|rt|top)(?:\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\b/,alias:"function"},builtin:/\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\b/,keyword:/\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\b/,type:{pattern:/\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\b/,alias:"property"},variable:{pattern:/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\b/,lookbehind:!0}}}Q2.displayName="mizar";Q2.aliases=[];function Q2(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}Z2.displayName="mongodb";Z2.aliases=[];function Z2(e){e.register(Bn),(function(t){var n=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],r=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];n=n.map(function(i){return i.replace("$","\\$")});var a="(?:"+n.join("|")+")\\b";t.languages.mongodb=t.languages.extend("javascript",{}),t.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+a+"(?:\\1)?$")}}}),t.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},t.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+r.join("|")+")\\b"),alias:"keyword"}})})(e)}J2.displayName="monkey";J2.aliases=[];function J2(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}ex.displayName="moonscript";ex.aliases=["moon"];function ex(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}tx.displayName="n1ql";tx.aliases=[];function tx(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}nx.displayName="nand2tetris-hdl";nx.aliases=[];function nx(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}rx.displayName="naniscript";rx.aliases=["nani"];function rx(e){(function(t){var n=/\{[^\r\n\[\]{}]*\}/,r={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:n,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};t.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:n,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:r}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:n,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:r},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},t.languages.nani=t.languages.naniscript,t.hooks.add("after-tokenize",function(s){var u=s.tokens;u.forEach(function(c){if(typeof c!="string"&&c.type==="generic-text"){var d=i(c);a(d)||(c.type="bad-line",c.content=d)}})});function a(s){for(var u="[]{}",c=[],d=0;d<s.length;d++){var m=s[d],f=u.indexOf(m);if(f!==-1){if(f%2===0)c.push(f+1);else if(c.pop()!==f)return!1}}return c.length===0}function i(s){return typeof s=="string"?s:Array.isArray(s)?s.map(i).join(""):i(s.content)}})(e)}ax.displayName="nasm";ax.aliases=[];function ax(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}ix.displayName="neon";ix.aliases=[];function ix(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"property"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}ox.displayName="nevod";ox.aliases=[];function ox(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}sx.displayName="nginx";sx.aliases=[];function sx(e){(function(t){var n=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;t.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:n}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:n}},punctuation:/[{};]/}})(e)}lx.displayName="nim";lx.aliases=[];function lx(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}ux.displayName="nix";ux.aliases=[];function ux(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}cx.displayName="nsis";cx.aliases=[];function cx(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|KnownFolderPath|LabelAddress|TempFileName|WinVer)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|RtlLanguage|ShellVarContextAll|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|Target|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}dx.displayName="objectivec";dx.aliases=["objc"];function dx(e){e.register(Ba),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}px.displayName="ocaml";px.aliases=[];function px(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}mx.displayName="odin";mx.aliases=[];function mx(e){(function(t){var n=/\\(?:["'\\abefnrtv]|0[0-7]{2}|U[\dA-Fa-f]{6}|u[\dA-Fa-f]{4}|x[\dA-Fa-f]{2})/;t.languages.odin={comment:[{pattern:/\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:\*(?!\/)|[^*])*(?:\*\/|$))*(?:\*\/|$)/,greedy:!0},{pattern:/#![^\n\r]*/,greedy:!0},{pattern:/\/\/[^\n\r]*/,greedy:!0}],char:{pattern:/'(?:\\(?:.|[0Uux][0-9A-Fa-f]{1,6})|[^\n\r'\\])'/,greedy:!0,inside:{symbol:n}},string:[{pattern:/`[^`]*`/,greedy:!0},{pattern:/"(?:\\.|[^\n\r"\\])*"/,greedy:!0,inside:{symbol:n}}],directive:{pattern:/#\w+/,alias:"property"},number:/\b0(?:b[01_]+|d[\d_]+|h_*(?:(?:(?:[\dA-Fa-f]_*){8}){1,2}|(?:[\dA-Fa-f]_*){4})|o[0-7_]+|x[\dA-F_a-f]+|z[\dAB_ab]+)\b|(?:\b\d+(?:\.(?!\.)\d*)?|\B\.\d+)(?:[Ee][+-]?\d*)?[ijk]?(?!\w)/,discard:{pattern:/\b_\b/,alias:"keyword"},"procedure-definition":{pattern:/\b\w+(?=[ \t]*(?::\s*){2}proc\b)/,alias:"function"},keyword:/\b(?:asm|auto_cast|bit_set|break|case|cast|context|continue|defer|distinct|do|dynamic|else|enum|fallthrough|for|foreign|if|import|in|map|matrix|not_in|or_else|or_return|package|proc|return|struct|switch|transmute|typeid|union|using|when|where)\b/,"procedure-name":{pattern:/\b\w+(?=[ \t]*\()/,alias:"function"},boolean:/\b(?:false|nil|true)\b/,"constant-parameter-sign":{pattern:/\$/,alias:"important"},undefined:{pattern:/---/,alias:"operator"},arrow:{pattern:/->/,alias:"punctuation"},operator:/\+\+|--|\.\.[<=]?|(?:&~|[-!*+/=~]|[%&<>|]{1,2})=?|[?^]/,punctuation:/[(),.:;@\[\]{}]/}})(e)}fx.displayName="opencl";fx.aliases=[];function fx(e){e.register(Ba),(function(t){t.languages.opencl=t.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),t.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var n={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};t.languages.insertBefore("c","keyword",n),t.languages.cpp&&(n["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},t.languages.insertBefore("cpp","keyword",n))})(e)}hx.displayName="openqasm";hx.aliases=["qasm"];function hx(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|||/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|s|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}gx.displayName="oz";gx.aliases=[];function gx(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}bx.displayName="parigp";bx.aliases=[];function bx(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:(function(){var t=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return t=t.map(function(n){return n.split("").join(" *")}).join("|"),RegExp("\\b(?:"+t+")\\b")})(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}vx.displayName="parser";vx.aliases=[];function vx(e){e.register(Cn),(function(t){var n=t.languages.parser=t.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});n=t.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:n.keyword,variable:n.variable,function:n.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:n.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:n.punctuation}}}),t.languages.insertBefore("inside","punctuation",{expression:n.expression,keyword:n.keyword,variable:n.variable,function:n.function,escape:n.escape,"parser-punctuation":{pattern:n.punctuation,alias:"punctuation"}},n.tag.inside["attr-value"])})(e)}yx.displayName="pascal";yx.aliases=["objectpascal"];function yx(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}xx.displayName="pascaligo";xx.aliases=[];function xx(e){(function(t){var n=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,r=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return n}),a=t.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return r}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return r}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return r})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},i=["comment","keyword","builtin","operator","punctuation"].reduce(function(s,u){return s[u]=a[u],s},{});a["class-name"].forEach(function(s){s.inside=i})})(e)}_x.displayName="psl";_x.aliases=[];function _x(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}wx.displayName="pcaxis";wx.aliases=["px"];function wx(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}$x.displayName="peoplecode";$x.aliases=["pcode"];function $x(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}Ex.displayName="perl";Ex.aliases=[];function Ex(e){(function(t){var n=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,n+/\s*/.source+n].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}Sx.displayName="phpdoc";Sx.aliases=[];function Sx(e){e.register(pl),e.register(dl),(function(t){var n=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+n+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+n),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)})(e)}Tx.displayName="php-extras";Tx.aliases=[];function Tx(e){e.register(dl),e.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}kx.displayName="plant-uml";kx.aliases=["plantuml"];function kx(e){(function(t){var n=/\$\w+|%[a-z]+%/,r=/\[[^[\]]*\]/.source,a=/(?:[drlu]|do|down|le|left|ri|right|up)/.source,i="(?:-+"+a+"-+|\\.+"+a+"\\.+|-+(?:"+r+"-*)?|"+r+"-+|\\.+(?:"+r+"\\.*)?|"+r+"\\.+)",s=/(?:<{1,2}|\/{1,2}|\\{1,2}|<\||[#*^+}xo])/.source,u=/(?:>{1,2}|\/{1,2}|\\{1,2}|\|>|[#*^+{xo])/.source,c=/[[?]?[ox]?/.source,d=/[ox]?[\]?]?/.source,m=c+"(?:"+i+u+"|"+s+i+"(?:"+u+")?)"+d;t.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:n}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp(/(^|[^-.<>?|\\[\]ox])/.source+m+/(?![-.<>?|\\\]ox])/.source),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:n,punctuation:/[:,;()[\]{}]|\.{3}/},t.languages["plant-uml"].arrow.inside.expression.inside=t.languages["plant-uml"],t.languages.plantuml=t.languages["plant-uml"]})(e)}Ax.displayName="plsql";Ax.aliases=[];function Ax(e){e.register(sc),e.languages.plsql=e.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),e.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}Nx.displayName="powerquery";Nx.aliases=["mscript","pq"];function Nx(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}Cx.displayName="powershell";Cx.aliases=[];function Cx(e){(function(t){var n=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};n.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:n},boolean:n.boolean,variable:n.variable}})(e)}Ix.displayName="processing";Ix.aliases=[];function Ix(e){e.register(bt),e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}Lx.displayName="prolog";Lx.aliases=[];function Lx(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}Rx.displayName="promql";Rx.aliases=[];function Rx(e){(function(t){var n=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],r=["on","ignoring","group_right","group_left","by","without"],a=["offset"],i=n.concat(r,a);t.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+r.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+i.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}Dx.displayName="properties";Dx.aliases=[];function Dx(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,value:{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0,alias:"attr-value"},key:{pattern:/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,alias:"attr-name"},punctuation:/[=:]/}}Ox.displayName="protobuf";Ox.aliases=[];function Ox(e){e.register(bt),(function(t){var n=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;t.languages.protobuf=t.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),t.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:n}},builtin:n,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(e)}Ux.displayName="stylus";Ux.aliases=[];function Ux(e){(function(t){var n={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},r={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},a={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:n,number:r,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:n,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:r,punctuation:/[{}()\[\];:,]/};a.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:a}},a.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:a}},t.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:a}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:a}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:a}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:a.interpolation}},rest:a}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:a.interpolation,comment:a.comment,punctuation:/[{},]/}},func:a.func,string:a.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:a.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}Mx.displayName="twig";Mx.aliases=[];function Mx(e){e.register(zn),e.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},e.hooks.add("before-tokenize",function(t){if(t.language==="twig"){var n=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;e.languages["markup-templating"].buildPlaceholders(t,"twig",n)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"twig")})}Px.displayName="pug";Px.aliases=[];function Px(e){e.register(Bn),e.register(Cn),(function(t){t.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:t.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:t.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:t.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:t.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:t.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:t.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:t.languages.javascript}],punctuation:/[.\-!=|]+/};for(var n=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,r=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],a={},i=0,s=r.length;i<s;i++){var u=r[i];u=typeof u=="string"?{filter:u,language:u}:u,t.languages[u.language]&&(a["filter-"+u.filter]={pattern:RegExp(n.replace("<filter_name>",function(){return u.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[u.language,"language-"+u.language],inside:t.languages[u.language]}}})}t.languages.insertBefore("pug","filter",a)})(e)}Fx.displayName="puppet";Fx.aliases=[];function Fx(e){(function(t){t.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var n=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:t.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];t.languages.puppet.heredoc[0].inside.interpolation=n,t.languages.puppet.string.inside["double-quoted"].inside.interpolation=n})(e)}Bx.displayName="pure";Bx.aliases=[];function Bx(e){(function(t){t.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var n=["c",{lang:"c++",alias:"cpp"},"fortran"],r=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;n.forEach(function(a){var i=a;if(typeof a!="string"&&(i=a.alias,a=a.lang),t.languages[i]){var s={};s["inline-lang-"+i]={pattern:RegExp(r.replace("<lang>",a.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:t.util.clone(t.languages.pure["inline-lang"].inside)},s["inline-lang-"+i].inside.rest=t.util.clone(t.languages[i]),t.languages.insertBefore("pure","inline-lang",s)}}),t.languages.c&&(t.languages.pure["inline-lang"].inside.rest=t.util.clone(t.languages.c))})(e)}zx.displayName="purebasic";zx.aliases=["pbfasm"];function zx(e){e.register(bt),e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+\$?|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}jx.displayName="purescript";jx.aliases=["purs"];function jx(e){e.register(lc),e.languages.purescript=e.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[e.languages.haskell.operator[0],e.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),e.languages.purs=e.languages.purescript}km.displayName="python";km.aliases=["py"];function km(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}Gx.displayName="qsharp";Gx.aliases=["qs"];function Gx(e){e.register(bt),(function(t){function n(b,_){return b.replace(/<<(\d+)>>/g,function(x,T){return"(?:"+_[+T]+")"})}function r(b,_,x){return RegExp(n(b,_),"")}function a(b,_){for(var x=0;x<_;x++)b=b.replace(/<<self>>/g,function(){return"(?:"+b+")"});return b.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function s(b){return"\\b(?:"+b.trim().replace(/ /g,"|")+")\\b"}var u=RegExp(s(i.type+" "+i.other)),c=/\b[A-Za-z_]\w*\b/.source,d=n(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[c]),m={keyword:u,punctuation:/[<>()?,.:[\]]/},f=/"(?:\\.|[^\\"])*"/.source;t.languages.qsharp=t.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[f]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[d]),lookbehind:!0,inside:m},{pattern:r(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[d]),lookbehind:!0,inside:m}],keyword:u,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),t.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var h=a(n(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[f]),2);t.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:r(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[h]),greedy:!0,inside:{interpolation:{pattern:r(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[h]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:t.languages.qsharp}}},string:/[\s\S]+/}}})})(e),e.languages.qs=e.languages.qsharp}Hx.displayName="q";Hx.aliases=[];function Hx(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}Vx.displayName="qml";Vx.aliases=[];function Vx(e){e.register(Bn),(function(t){for(var n=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,r=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,a=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return n}).replace(/<comment>/g,function(){return r}),i=0;i<2;i++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,"[^\\s\\S]"),t.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(e)}qx.displayName="qore";qx.aliases=[];function qx(e){e.register(bt),e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}Wx.displayName="r";Wx.aliases=[];function Wx(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}Yx.displayName="racket";Yx.aliases=["rkt"];function Yx(e){e.register(dc),e.languages.racket=e.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),e.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),e.languages.rkt=e.languages.racket}Kx.displayName="cshtml";Kx.aliases=["razor"];function Kx(e){e.register(ll),e.register(Cn),(function(t){var n=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,r=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function a(A,C){for(var R=0;R<C;R++)A=A.replace(/<self>/g,function(){return"(?:"+A+")"});return A.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+r+")").replace(/<comment>/g,"(?:"+n+")")}var i=a(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),s=a(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,1),u=a(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),c=a(/<(?:[^<>'"@/]|<comment>|<self>)*>/.source,1),d=/@/.source+/(?:await\b\s*)?/.source+"(?:"+/(?!await\b)\w+\b/.source+"|"+i+")(?:"+/[?!]?\.\w+\b/.source+"|(?:"+c+")?"+i+"|"+s+")*"+/(?![?!\.(\[]|<(?!\/))/.source,m=/@(?![\w()])/.source+"|"+d,f="(?:"+/"[^"@]*"|'[^'@]*'|[^\s'"@>=]+(?=[\s>])/.source+`|["'][^"'@]*(?:(?:`+m+`)[^"'@]*)+["'])`,h=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*<tagAttrValue>|(?=[\s/>])))+)?/.source.replace(/<tagAttrValue>/,f),b=/(?!\d)[^\s>\/=$<%]+/.source+h+/\s*\/?>/.source,_=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+b+"|"+a(/<\1/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+b+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+b+")";t.languages.cshtml=t.languages.extend("markup",{});var x=t.languages.insertBefore("csharp","string",{html:{pattern:RegExp(_),greedy:!0,inside:t.languages.cshtml}},{csharp:t.languages.extend("csharp",{})}),T={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:x},S={pattern:RegExp(/(^|[^@])/.source+d),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:T}};t.languages.cshtml.tag.pattern=RegExp(/<\/?/.source+b),t.languages.cshtml.tag.inside["attr-value"].pattern=RegExp(/=\s*/.source+f),t.languages.insertBefore("inside","punctuation",{value:S},t.languages.cshtml.tag.inside["attr-value"]),t.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[u,/(?:code|functions)\s*/.source+u,/(?:for|foreach|lock|switch|using|while)\s*/.source+i+/\s*/.source+u,/do\s*/.source+u+/\s*while\s*/.source+i+/(?:\s*;)?/.source,/try\s*/.source+u+/\s*catch\s*/.source+i+/\s*/.source+u+/\s*finally\s*/.source+u,/if\s*/.source+i+/\s*/.source+u+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+i+")?"+/\s*/.source+u+")*",/helper\s+\w+\s*/.source+i+/\s*/.source+u].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:T}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:T}},value:S,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),t.languages.razor=t.languages.cshtml})(e)}Am.displayName="jsx";Am.aliases=[];function Am(e){e.register(Bn),e.register(Cn),(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(d,m){return d=d.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return i}),RegExp(d,m)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var u=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(u).join(""):""},c=function(d){for(var m=[],f=0;f<d.length;f++){var h=d[f],b=!1;if(typeof h!="string"&&(h.type==="tag"&&h.content[0]&&h.content[0].type==="tag"?h.content[0].content[0].content==="</"?m.length>0&&m[m.length-1].tagName===u(h.content[0].content[1])&&m.pop():h.content[h.content.length-1].content==="/>"||m.push({tagName:u(h.content[0].content[1]),openedBraces:0}):m.length>0&&h.type==="punctuation"&&h.content==="{"?m[m.length-1].openedBraces++:m.length>0&&m[m.length-1].openedBraces>0&&h.type==="punctuation"&&h.content==="}"?m[m.length-1].openedBraces--:b=!0),(b||typeof h=="string")&&m.length>0&&m[m.length-1].openedBraces===0){var _=u(h);f<d.length-1&&(typeof d[f+1]=="string"||d[f+1].type==="plain-text")&&(_+=u(d[f+1]),d.splice(f+1,1)),f>0&&(typeof d[f-1]=="string"||d[f-1].type==="plain-text")&&(_=u(d[f-1])+_,d.splice(f-1,1),f--),d[f]=new t.Token("plain-text",_,null,_)}h.content&&typeof h.content!="string"&&c(h.content)}};t.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||c(d.tokens)})})(e)}Xx.displayName="tsx";Xx.aliases=[];function Xx(e){e.register(Am),e.register(cc),(function(t){var n=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",n),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var r=t.languages.tsx.tag;r.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+r.pattern.source+")",r.pattern.flags),r.lookbehind=!0})(e)}Qx.displayName="reason";Qx.aliases=[];function Qx(e){e.register(bt),e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}Zx.displayName="rego";Zx.aliases=[];function Zx(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}Jx.displayName="renpy";Jx.aliases=["rpy"];function Jx(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}e_.displayName="rescript";e_.aliases=["res"];function e_(e){e.languages.rescript={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},char:{pattern:/'(?:[^\r\n\\]|\\(?:.|\w+))'/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*|@[a-z.]*|#[A-Za-z]\w*|#\d/,function:{pattern:/[a-zA-Z]\w*(?=\()|(\.)[a-z]\w*/,lookbehind:!0},number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,boolean:/\b(?:false|true)\b/,"attr-value":/[A-Za-z]\w*(?==)/,constant:{pattern:/(\btype\s+)[a-z]\w*/,lookbehind:!0},tag:{pattern:/(<)[a-z]\w*|(?:<\/)[a-z]\w*/,lookbehind:!0,inside:{operator:/<|>|\//}},keyword:/\b(?:and|as|assert|begin|bool|class|constraint|do|done|downto|else|end|exception|external|float|for|fun|function|if|in|include|inherit|initializer|int|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|string|switch|then|to|try|type|when|while|with)\b/,operator:/\.{3}|:[:=]?|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/,punctuation:/[(){}[\],;.]/},e.languages.insertBefore("rescript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"tag"},rest:e.languages.rescript}},string:/[\s\S]+/}}}),e.languages.res=e.languages.rescript}t_.displayName="rest";t_.aliases=[];function t_(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?||\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}n_.displayName="rip";n_.aliases=[];function n_(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}r_.displayName="roboconf";r_.aliases=[];function r_(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}a_.displayName="robotframework";a_.aliases=["robot"];function a_(e){(function(t){var n={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},r={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function a(c,d){var m={};m["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var f in d)m[f]=d[f];return m.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},m.variable=r,m.comment=n,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return c}),"im"),alias:"section",inside:m}}var i={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},s={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:r}},u={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:r}};t.languages.robotframework={settings:a("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:a("Variables"),"test-cases":a("Test Cases",{"test-name":s,documentation:i,property:u}),keywords:a("Keywords",{"keyword-name":s,documentation:i,property:u}),tasks:a("Tasks",{"task-name":s,documentation:i,property:u}),comment:n},t.languages.robot=t.languages.robotframework})(e)}i_.displayName="rust";i_.aliases=[];function i_(e){(function(t){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(e)}o_.displayName="sas";o_.aliases=[];function o_(e){(function(t){var n=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,r=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,a={pattern:RegExp(n+"[bx]"),alias:"number"},i={pattern:/&[a-z_]\w*/i},s={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},u={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},c=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],d={pattern:RegExp(n),greedy:!0},m=/[$%@.(){}\[\];,\\]/,f={pattern:/%?\b\w+(?=\()/,alias:"keyword"},h={function:f,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":i,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:r,"numeric-constant":a,punctuation:m,string:d},b={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},_={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},x={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},T={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},S=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,A={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return S}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return S}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:c,function:f,"arg-value":h["arg-value"],operator:h.operator,argument:h.arg,number:r,"numeric-constant":a,punctuation:m,string:d}},C={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};t.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return n}),"im"),alias:"language-sql",inside:t.languages.sql},"global-statements":x,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:r,"numeric-constant":a,punctuation:m,string:d}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:c,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-groovy",inside:t.languages.groovy},keyword:C,"submit-statement":T,"global-statements":x,number:r,"numeric-constant":a,punctuation:m,string:d}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:c,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-lua",inside:t.languages.lua},keyword:C,"submit-statement":T,"global-statements":x,number:r,"numeric-constant":a,punctuation:m,string:d}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:c,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:h}},"cas-actions":A,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:h},step:u,keyword:C,function:f,format:b,altformat:_,"global-statements":x,number:r,"numeric-constant":a,punctuation:m,string:d}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,inside:h},"macro-keyword":s,"macro-variable":i,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":s,"macro-variable":i,"escaped-char":{pattern:/%['"()<>=^~;,#]/},punctuation:m}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:c,number:r,"numeric-constant":a}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:h},"cas-actions":A,comment:c,function:f,format:b,altformat:_,"numeric-constant":a,datetime:{pattern:RegExp(n+"(?:dt?|t)"),alias:"number"},string:d,step:u,keyword:C,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:r,operator:/\*\*?|\|\|?|!!?|?|<[>=]?|>[<=]?|[-+\/=&]|[~^]=?/,punctuation:m}})(e)}s_.displayName="sass";s_.aliases=[];function s_(e){e.register(Bo),(function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var n=/\$[-\w]+|#\{\$[-\w]+\}/,r=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:n,operator:r}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:n,operator:r,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(e)}l_.displayName="shell-session";l_.aliases=["sh-session","shellsession"];function l_(e){e.register(wm),(function(t){var n=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");t.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return n}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:t.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},t.languages["sh-session"]=t.languages.shellsession=t.languages["shell-session"]})(e)}u_.displayName="smali";u_.aliases=[];function u_(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}c_.displayName="smalltalk";c_.aliases=[];function c_(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}d_.displayName="smarty";d_.aliases=[];function d_(e){e.register(zn),(function(t){t.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:t.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},t.languages.smarty["embedded-php"].inside.smarty.inside=t.languages.smarty,t.languages.smarty.string[0].inside.interpolation.inside.expression.inside=t.languages.smarty;var n=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,r=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return n.source}),"g");t.hooks.add("before-tokenize",function(a){var i="{literal}",s="{/literal}",u=!1;t.languages["markup-templating"].buildPlaceholders(a,"smarty",r,function(c){return c===s&&(u=!1),u?!1:(c===i&&(u=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"smarty")})})(e)}p_.displayName="sml";p_.aliases=["smlnj"];function p_(e){(function(t){var n=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;t.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return n.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:n,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},t.languages.sml["class-name"][0].inside=t.languages.sml,t.languages.smlnj=t.languages.sml})(e)}m_.displayName="solidity";m_.aliases=["sol"];function m_(e){e.register(bt),e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}f_.displayName="solution-file";f_.aliases=["sln"];function f_(e){(function(t){var n={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};t.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:n}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:n}},guid:n,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},t.languages.sln=t.languages["solution-file"]})(e)}h_.displayName="soy";h_.aliases=[];function h_(e){e.register(zn),(function(t){var n=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;t.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:n,greedy:!0},number:r,punctuation:/[\[\].?]/}},string:{pattern:n,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:r,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},t.hooks.add("before-tokenize",function(a){var i=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,s="{literal}",u="{/literal}",c=!1;t.languages["markup-templating"].buildPlaceholders(a,"soy",i,function(d){return d===u&&(c=!1),c?!1:(d===s&&(c=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"soy")})})(e)}Nm.displayName="turtle";Nm.aliases=["trig"];function Nm(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}g_.displayName="sparql";g_.aliases=["rq"];function g_(e){e.register(Nm),e.languages.sparql=e.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),e.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),e.languages.rq=e.languages.sparql}b_.displayName="splunk-spl";b_.aliases=[];function b_(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}v_.displayName="sqf";v_.aliases=[];function v_(e){e.register(bt),e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}y_.displayName="squirrel";y_.aliases=[];function y_(e){e.register(bt),e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}x_.displayName="stan";x_.aliases=[];function x_(e){(function(t){var n=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;t.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+n.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,n],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},t.languages.stan.constraint.inside.expression.inside=t.languages.stan})(e)}__.displayName="stata";__.aliases=[];function __(e){e.register(cl),e.register(Tm),e.register(km),e.languages.stata={comment:[{pattern:/(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|\s)\/\/.*|\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0}],"string-literal":{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}|[`']\w[^`'\r\n]*[`']/,inside:{punctuation:/^\$\{|\}$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},mata:{pattern:/(^[ \t]*mata[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-mata",inside:e.languages.mata},java:{pattern:/(^[ \t]*java[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-java",inside:e.languages.java},python:{pattern:/(^[ \t]*python[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-python",inside:e.languages.python},command:{pattern:/(^[ \t]*(?:\.[ \t]+)?(?:(?:bayes|bootstrap|by|bysort|capture|collect|fmm|fp|frame|jackknife|mfp|mi|nestreg|noisily|permute|quietly|rolling|simulate|statsby|stepwise|svy|version|xi)\b[^:\r\n]*:[ \t]*|(?:capture|noisily|quietly|version)[ \t]+)?)[a-zA-Z]\w*/m,lookbehind:!0,greedy:!0,alias:"keyword"},variable:/\$\w+|[`']\w[^`'\r\n]*[`']/,keyword:/\b(?:bayes|bootstrap|by|bysort|capture|clear|collect|fmm|fp|frame|if|in|jackknife|mi[ \t]+estimate|mfp|nestreg|noisily|of|permute|quietly|rolling|simulate|sort|statsby|stepwise|svy|varlist|version|xi)\b/,boolean:/\b(?:off|on)\b/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+/,function:/\b[a-z_]\w*(?=\()/i,operator:/\+\+|--|##?|[<>!=~]=?|[+\-*^&|/]/,punctuation:/[(){}[\],:]/},e.languages.stata["string-literal"].inside.interpolation.inside.expression.inside=e.languages.stata}w_.displayName="iecst";w_.aliases=[];function w_(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}$_.displayName="supercollider";$_.aliases=["sclang"];function $_(e){e.languages.supercollider={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^"\\]|\\[\s\S])*"/,lookbehind:!0,greedy:!0},char:{pattern:/\$(?:[^\\\r\n]|\\.)/,greedy:!0},symbol:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'|\\\w+/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|arg|classvar|const|nil|var|while)\b/,boolean:/\b(?:false|true)\b/,label:{pattern:/\b[a-z_]\w*(?=\s*:)/,alias:"property"},number:/\b(?:inf|pi|0x[0-9a-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(?:pi)?|\d+r[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)?|\d+[sb]{1,4}\d*)\b/,"class-name":/\b[A-Z]\w*\b/,operator:/\.{2,3}|#(?![[{])|&&|[!=]==?|\+>>|\+{1,3}|-[->]|=>|>>|\?\?|@\|?@|\|(?:@|[!=]=)?\||!\?|<[!=>]|\*{1,2}|<{2,3}\*?|[-!%&/<>?@|=`]/,punctuation:/[{}()[\].:,;]|#[[{]/},e.languages.sclang=e.languages.supercollider}E_.displayName="swift";E_.aliases=[];function E_(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=e.languages.swift})}S_.displayName="systemd";S_.aliases=[];function S_(e){(function(t){var n={pattern:/^[;#].*/m,greedy:!0},r=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;t.languages.systemd={comment:n,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+r+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+r+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:n,quoted:{pattern:RegExp(/(^|\s)/.source+r),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}pc.displayName="t4-templating";pc.aliases=[];function pc(e){(function(t){function n(a,i,s){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:i,alias:s}}}}function r(a){var i=t.languages[a],s="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:n("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:n("=",i,s),"class-feature":n("\\+",i,s),standard:n("",i,s)}}}}t.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:r})})(e)}T_.displayName="t4-cs";T_.aliases=["t4"];function T_(e){e.register(ll),e.register(pc),e.languages.t4=e.languages["t4-cs"]=e.languages["t4-templating"].createT4("csharp")}Cm.displayName="vbnet";Cm.aliases=[];function Cm(e){e.register(Em),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}k_.displayName="t4-vb";k_.aliases=[];function k_(e){e.register(pc),e.register(Cm),e.languages["t4-vb"]=e.languages["t4-templating"].createT4("vbnet")}A_.displayName="tap";A_.aliases=[];function A_(e){e.register($m),e.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:e.languages.yaml,alias:"language-yaml"}}}N_.displayName="tcl";N_.aliases=[];function N_(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}C_.displayName="tt2";C_.aliases=[];function C_(e){e.register(bt),e.register(zn),(function(t){t.languages.tt2=t.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),t.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),t.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),t.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete t.languages.tt2.string,t.hooks.add("before-tokenize",function(n){var r=/\[%[\s\S]+?%\]/g;t.languages["markup-templating"].buildPlaceholders(n,"tt2",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"tt2")})})(e)}I_.displayName="toml";I_.aliases=[];function I_(e){(function(t){var n=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function r(a){return a.replace(/__/g,function(){return n})}t.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(r(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(r(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}L_.displayName="tremor";L_.aliases=["trickle","troy"];function L_(e){(function(t){t.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var n=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;t.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+n+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+n+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(n),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.tremor}}},string:/[\s\S]+/}},t.languages.troy=t.languages.tremor,t.languages.trickle=t.languages.tremor})(e)}R_.displayName="typoscript";R_.aliases=["tsconfig"];function R_(e){(function(t){var n=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;t.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:n}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:n,number:/^\d+$/,punctuation:/[,|:]/}},keyword:n,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},t.languages.tsconfig=t.languages.typoscript})(e)}D_.displayName="unrealscript";D_.aliases=["uc","uscript"];function D_(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}O_.displayName="uorazor";O_.aliases=[];function O_(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}U_.displayName="v";U_.aliases=[];function U_(e){e.register(bt),(function(t){var n={pattern:/[\s\S]+/,inside:null};t.languages.v=t.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":n}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),n.inside=t.languages.v,t.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),t.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),t.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:t.languages.v.generic.inside}}}})})(e)}M_.displayName="vala";M_.aliases=[];function M_(e){e.register(bt),e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}P_.displayName="velocity";P_.aliases=[];function P_(e){e.register(Cn),(function(t){t.languages.velocity=t.languages.extend("markup",{});var n={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};n.variable.inside={string:n.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:n.number,boolean:n.boolean,punctuation:n.punctuation},t.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:n}},variable:n.variable}),t.languages.velocity.tag.inside["attr-value"].inside.rest=t.languages.velocity})(e)}F_.displayName="verilog";F_.aliases=[];function F_(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}B_.displayName="vhdl";B_.aliases=[];function B_(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|private|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|view|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}z_.displayName="vim";z_.aliases=[];function z_(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}j_.displayName="visual-basic";j_.aliases=["vb","vba"];function j_(e){e.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}G_.displayName="warpscript";G_.aliases=[];function G_(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}H_.displayName="wasm";H_.aliases=[];function H_(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}V_.displayName="web-idl";V_.aliases=["webidl"];function V_(e){(function(t){var n=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,r="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+n+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,a={};t.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+n),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp("("+/\bcallback\s+/.source+n+/\s*=\s*/.source+")"+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\btypedef\b\s*)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+n),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+n),lookbehind:!0},RegExp(n+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+n),lookbehind:!0},{pattern:RegExp(r+"(?="+/\s*(?:\.{3}\s*)?/.source+n+/\s*[(),;=]/.source+")"),inside:a}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var i in t.languages["web-idl"])i!=="class-name"&&(a[i]=t.languages["web-idl"][i]);t.languages.webidl=t.languages["web-idl"]})(e)}q_.displayName="wgsl";q_.aliases=[];function q_(e){e.languages.wgsl={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"builtin-attribute":{pattern:/(@)builtin\(.*?\)/,lookbehind:!0,inside:{attribute:{pattern:/^builtin/,alias:"attr-name"},punctuation:/[(),]/,"built-in-values":{pattern:/\b(?:frag_depth|front_facing|global_invocation_id|instance_index|local_invocation_id|local_invocation_index|num_workgroups|position|sample_index|sample_mask|vertex_index|workgroup_id)\b/,alias:"attr-value"}}},attributes:{pattern:/(@)(?:align|binding|compute|const|fragment|group|id|interpolate|invariant|location|size|vertex|workgroup_size)/i,lookbehind:!0,alias:"attr-name"},functions:{pattern:/\b(fn\s+)[_a-zA-Z]\w*(?=[(<])/,lookbehind:!0,alias:"function"},keyword:/\b(?:bitcast|break|case|const|continue|continuing|default|discard|else|enable|fallthrough|fn|for|function|if|let|loop|private|return|storage|struct|switch|type|uniform|var|while|workgroup)\b/,builtin:/\b(?:abs|acos|acosh|all|any|array|asin|asinh|atan|atan2|atanh|atomic|atomicAdd|atomicAnd|atomicCompareExchangeWeak|atomicExchange|atomicLoad|atomicMax|atomicMin|atomicOr|atomicStore|atomicSub|atomicXor|bool|ceil|clamp|cos|cosh|countLeadingZeros|countOneBits|countTrailingZeros|cross|degrees|determinant|distance|dot|dpdx|dpdxCoarse|dpdxFine|dpdy|dpdyCoarse|dpdyFine|exp|exp2|extractBits|f32|f64|faceForward|firstLeadingBit|floor|fma|fract|frexp|fwidth|fwidthCoarse|fwidthFine|i32|i64|insertBits|inverseSqrt|ldexp|length|log|log2|mat[2-4]x[2-4]|max|min|mix|modf|normalize|override|pack2x16float|pack2x16snorm|pack2x16unorm|pack4x8snorm|pack4x8unorm|pow|ptr|quantizeToF16|radians|reflect|refract|reverseBits|round|sampler|sampler_comparison|select|shiftLeft|shiftRight|sign|sin|sinh|smoothstep|sqrt|staticAssert|step|storageBarrier|tan|tanh|textureDimensions|textureGather|textureGatherCompare|textureLoad|textureNumLayers|textureNumLevels|textureNumSamples|textureSample|textureSampleBias|textureSampleCompare|textureSampleCompareLevel|textureSampleGrad|textureSampleLevel|textureStore|texture_1d|texture_2d|texture_2d_array|texture_3d|texture_cube|texture_cube_array|texture_depth_2d|texture_depth_2d_array|texture_depth_cube|texture_depth_cube_array|texture_depth_multisampled_2d|texture_multisampled_2d|texture_storage_1d|texture_storage_2d|texture_storage_2d_array|texture_storage_3d|transpose|trunc|u32|u64|unpack2x16float|unpack2x16snorm|unpack2x16unorm|unpack4x8snorm|unpack4x8unorm|vec[2-4]|workgroupBarrier)\b/,"function-calls":{pattern:/\b[_a-z]\w*(?=\()/i,alias:"function"},"class-name":/\b(?:[A-Z][A-Za-z0-9]*)\b/,"bool-literal":{pattern:/\b(?:false|true)\b/,alias:"boolean"},"hex-int-literal":{pattern:/\b0[xX][0-9a-fA-F]+[iu]?\b(?![.pP])/,alias:"number"},"hex-float-literal":{pattern:/\b0[xX][0-9a-fA-F]*(?:\.[0-9a-fA-F]*)?(?:[pP][+-]?\d+[fh]?)?/,alias:"number"},"decimal-float-literal":[{pattern:/\d*\.\d+(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+\.\d*(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+[eE](?:\+|-)?\d+[fh]?/,alias:"number"},{pattern:/\b\d+[fh]\b/,alias:"number"}],"int-literal":{pattern:/\b\d+[iu]?\b/,alias:"number"},operator:[{pattern:/(?:\^|~|\|(?!\|)|\|\||&&|<<|>>|!)(?!=)/},{pattern:/&(?![&=])/},{pattern:/(?:\+=|-=|\*=|\/=|%=|\^=|&=|\|=|<<=|>>=)/},{pattern:/(^|[^<>=!])=(?![=>])/,lookbehind:!0},{pattern:/(?:==|!=|<=|\+\+|--|(^|[^=])>=)/,lookbehind:!0},{pattern:/(?:(?:[+%]|(?:\*(?!\w)))(?!=))|(?:-(?!>))|(?:\/(?!\/))/},{pattern:/->/}],punctuation:/[@(){}[\],;<>:.]/}}W_.displayName="wiki";W_.aliases=[];function W_(e){e.register(Cn),e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}Y_.displayName="wolfram";Y_.aliases=["mathematica","nb","wl"];function Y_(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}K_.displayName="wren";K_.aliases=[];function K_(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}X_.displayName="xeora";X_.aliases=["xeoracube"];function X_(e){e.register(Cn),(function(t){t.languages.xeora=t.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),t.languages.insertBefore("inside","punctuation",{variable:t.languages.xeora["function-inline"].inside.variable},t.languages.xeora["function-block"]),t.languages.xeoracube=t.languages.xeora})(e)}Q_.displayName="xml-doc";Q_.aliases=[];function Q_(e){e.register(Cn),(function(t){function n(s,u){t.languages[s]&&t.languages.insertBefore(s,"comment",{"doc-comment":u})}var r=t.languages.markup.tag,a={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:r}},i={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:r}};n("csharp",a),n("fsharp",a),n("vbnet",i)})(e)}Z_.displayName="xojo";Z_.aliases=[];function Z_(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}J_.displayName="xquery";J_.aliases=[];function J_(e){e.register(Cn),(function(t){t.languages.xquery=t.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),t.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,t.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,t.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,t.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:t.languages.xquery,alias:"language-xquery"};var n=function(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(n).join("")},r=function(a){for(var i=[],s=0;s<a.length;s++){var u=a[s],c=!1;if(typeof u!="string"&&(u.type==="tag"&&u.content[0]&&u.content[0].type==="tag"?u.content[0].content[0].content==="</"?i.length>0&&i[i.length-1].tagName===n(u.content[0].content[1])&&i.pop():u.content[u.content.length-1].content==="/>"||i.push({tagName:n(u.content[0].content[1]),openedBraces:0}):i.length>0&&u.type==="punctuation"&&u.content==="{"&&(!a[s+1]||a[s+1].type!=="punctuation"||a[s+1].content!=="{")&&(!a[s-1]||a[s-1].type!=="plain-text"||a[s-1].content!=="{")?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&u.type==="punctuation"&&u.content==="}"?i[i.length-1].openedBraces--:u.type!=="comment"&&(c=!0)),(c||typeof u=="string")&&i.length>0&&i[i.length-1].openedBraces===0){var d=n(u);s<a.length-1&&(typeof a[s+1]=="string"||a[s+1].type==="plain-text")&&(d+=n(a[s+1]),a.splice(s+1,1)),s>0&&(typeof a[s-1]=="string"||a[s-1].type==="plain-text")&&(d=n(a[s-1])+d,a.splice(s-1,1),s--),/^\s+$/.test(d)?a[s]=d:a[s]=new t.Token("plain-text",d,null,d)}u.content&&typeof u.content!="string"&&r(u.content)}};t.hooks.add("after-tokenize",function(a){a.language==="xquery"&&r(a.tokens)})})(e)}ew.displayName="yang";ew.aliases=[];function ew(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}tw.displayName="zig";tw.aliases=[];function tw(e){(function(t){function n(d){return function(){return d}}var r=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,a="\\b(?!"+r.source+")(?!\\d)\\w+\\b",i=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,s=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,n(i)),u=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,n(a)),c="(?!\\s)(?:!?\\s*(?:"+s+"\\s*)*"+u+")+";t.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,n(c)).replace(/<ALIGN>/g,n(i))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,n(c)).replace(/<ALIGN>/g,n(i))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:r,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},t.languages.zig["class-name"].forEach(function(d){d.inside===null&&(d.inside=t.languages.zig)})})(e)}U.register(Cn);U.register(Bo);U.register(bt);U.register(nv);U.register(Bn);U.register(rv);U.register(av);U.register(iv);U.register(ov);U.register(sv);U.register(lv);U.register(uv);U.register(cv);U.register(sc);U.register(dv);U.register(pv);U.register(mv);U.register(fv);U.register(Ba);U.register(sl);U.register(hv);U.register(gv);U.register(bv);U.register(wm);U.register($m);U.register(vv);U.register(yv);U.register(xv);U.register(ll);U.register(_v);U.register(wv);U.register($v);U.register(Ev);U.register(Sv);U.register(Tv);U.register(kv);U.register(Av);U.register(Em);U.register(Nv);U.register(Cv);U.register(Iv);U.register(Lv);U.register(Rv);U.register(Dv);U.register(Ov);U.register(Uv);U.register(Mv);U.register(Pv);U.register(Fv);U.register(Bv);U.register(zv);U.register(jv);U.register(Gv);U.register(Hv);U.register(Vv);U.register(qv);U.register(Wv);U.register(Yv);U.register(Kv);U.register(Xv);U.register(Qv);U.register(Zv);U.register(Jv);U.register(ul);U.register(ey);U.register(ty);U.register(ny);U.register(ry);U.register(ay);U.register(iy);U.register(oy);U.register(sy);U.register(ly);U.register(uy);U.register(cy);U.register(zn);U.register(dy);U.register(py);U.register(my);U.register(fy);U.register(hy);U.register(gy);U.register(by);U.register(vy);U.register(yy);U.register(xy);U.register(Sm);U.register(_y);U.register(wy);U.register($y);U.register(Ey);U.register(Sy);U.register(Ty);U.register(ky);U.register(Ay);U.register(Ny);U.register(Cy);U.register(Iy);U.register(Ly);U.register(Ry);U.register(Dy);U.register(Oy);U.register(Uy);U.register(My);U.register(Py);U.register(Fy);U.register(By);U.register(zy);U.register(jy);U.register(Gy);U.register(Hy);U.register(Vy);U.register(qy);U.register(Wy);U.register(Yy);U.register(Ky);U.register(Xy);U.register(Qy);U.register(Zy);U.register(lc);U.register(Jy);U.register(e2);U.register(t2);U.register(n2);U.register(r2);U.register(a2);U.register(uc);U.register(i2);U.register(o2);U.register(s2);U.register(l2);U.register(u2);U.register(c2);U.register(d2);U.register(p2);U.register(m2);U.register(f2);U.register(h2);U.register(cl);U.register(dl);U.register(pl);U.register(g2);U.register(b2);U.register(v2);U.register(y2);U.register(x2);U.register(_2);U.register(w2);U.register(cc);U.register($2);U.register(E2);U.register(S2);U.register(T2);U.register(k2);U.register(A2);U.register(N2);U.register(C2);U.register(I2);U.register(L2);U.register(R2);U.register(D2);U.register(O2);U.register(U2);U.register(dc);U.register(M2);U.register(P2);U.register(F2);U.register(B2);U.register(z2);U.register(j2);U.register(G2);U.register(H2);U.register(V2);U.register(Tm);U.register(q2);U.register(W2);U.register(Y2);U.register(K2);U.register(X2);U.register(Q2);U.register(Z2);U.register(J2);U.register(ex);U.register(tx);U.register(nx);U.register(rx);U.register(ax);U.register(ix);U.register(ox);U.register(sx);U.register(lx);U.register(ux);U.register(cx);U.register(dx);U.register(px);U.register(mx);U.register(fx);U.register(hx);U.register(gx);U.register(bx);U.register(vx);U.register(yx);U.register(xx);U.register(_x);U.register(wx);U.register($x);U.register(Ex);U.register(Sx);U.register(Tx);U.register(kx);U.register(Ax);U.register(Nx);U.register(Cx);U.register(Ix);U.register(Lx);U.register(Rx);U.register(Dx);U.register(Ox);U.register(Ux);U.register(Mx);U.register(Px);U.register(Fx);U.register(Bx);U.register(zx);U.register(jx);U.register(km);U.register(Gx);U.register(Hx);U.register(Vx);U.register(qx);U.register(Wx);U.register(Yx);U.register(Kx);U.register(Am);U.register(Xx);U.register(Qx);U.register(Zx);U.register(Jx);U.register(e_);U.register(t_);U.register(n_);U.register(r_);U.register(a_);U.register(i_);U.register(o_);U.register(s_);U.register(l_);U.register(u_);U.register(c_);U.register(d_);U.register(p_);U.register(m_);U.register(f_);U.register(h_);U.register(Nm);U.register(g_);U.register(b_);U.register(v_);U.register(y_);U.register(x_);U.register(__);U.register(w_);U.register($_);U.register(E_);U.register(S_);U.register(pc);U.register(T_);U.register(Cm);U.register(k_);U.register(A_);U.register(N_);U.register(C_);U.register(I_);U.register(L_);U.register(R_);U.register(D_);U.register(O_);U.register(U_);U.register(M_);U.register(P_);U.register(F_);U.register(B_);U.register(z_);U.register(j_);U.register(G_);U.register(H_);U.register(V_);U.register(q_);U.register(W_);U.register(Y_);U.register(K_);U.register(X_);U.register(Q_);U.register(Z_);U.register(J_);U.register(ew);U.register(tw);var GN=Pee(U,ate);GN.supportedLanguages=Fee;const HN=N.forwardRef(({className:e,...t},n)=>$.jsx("div",{className:"relative w-full overflow-auto",children:$.jsx("table",{ref:n,className:$t("w-full caption-bottom text-sm",e),...t})}));HN.displayName="Table";const VN=N.forwardRef(({className:e,...t},n)=>$.jsx("thead",{ref:n,className:$t("[&_tr]:border-b",e),...t}));VN.displayName="TableHeader";const qN=N.forwardRef(({className:e,...t},n)=>$.jsx("tbody",{ref:n,className:$t("[&_tr:last-child]:border-0",e),...t}));qN.displayName="TableBody";const ite=N.forwardRef(({className:e,...t},n)=>$.jsx("tfoot",{ref:n,className:$t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ite.displayName="TableFooter";const WN=N.forwardRef(({className:e,...t},n)=>$.jsx("tr",{ref:n,className:$t("border-b border-border transition-colors hover:bg-muted/30 data-[state=selected]:bg-muted",e),...t}));WN.displayName="TableRow";const YN=N.forwardRef(({className:e,...t},n)=>$.jsx("th",{ref:n,className:$t("h-12 px-6 py-3 text-left align-middle font-semibold text-foreground bg-muted/50 [&:has([role=checkbox])]:pr-0 border-r border-border last:border-r-0",e),...t}));YN.displayName="TableHead";const KN=N.forwardRef(({className:e,...t},n)=>$.jsx("td",{ref:n,className:$t("px-6 py-4 align-middle [&:has([role=checkbox])]:pr-0 border-r border-border last:border-r-0",e),...t}));KN.displayName="TableCell";const ote=N.forwardRef(({className:e,...t},n)=>$.jsx("caption",{ref:n,className:$t("mt-4 text-sm text-muted-foreground",e),...t}));ote.displayName="TableCaption";const ste=e=>e.replace(/[-]/g,"-"),nw=e=>ste(e).replace(/\$\$([\s\S]+?)\$\$/g,"$1").replace(/\$([^$]+?)\$/g,"$1").replace(/`([^`]+?)`/g,"$1").replace(/\$begin:math:display\$([\s\S]*?)\$end:math:display\$/g,"$1").replace(/\$begin:math:text\$([\s\S]*?)\$end:math:text\$/g,"$1").replace(/\*\*([\s\S]+?)\*\*/g,"$1").replace(/__([\s\S]+?)__/g,"$1").replace(/\*([^*\n]+?)\*/g,"$1").replace(/_([^_\n]+?)_/g,"$1").replace(/~~([\s\S]+?)~~/g,"$1").replace(/<[^>]+?>/g,"").toLowerCase().replace(/[^a-z0-9-\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");function Zg(e){if(!e)return"";switch(e.type){case"text":return e.value||"";case"inlineCode":return e.value||"";case"inlineMath":case"math":return e.value||"";case"link":case"linkReference":case"emphasis":case"strong":case"delete":return(e.children||[]).map(Zg).join("");default:return Array.isArray(e.children)?e.children.map(Zg).join(""):""}}function lte(e,t){const n=e||"section",r=(t.get(n)||0)+1;return t.set(n,r),r===1?n:`${n}-${r}`}const ute=e=>{const t=e?.maxDepth??3;return n=>{if(!n||typeof n!="object"||n.type!=="root"||!Array.isArray(n.children))return;const r=new Map;Oo(n,"heading",a=>{const i=a?.depth;if(typeof i!="number"||i<1||i>t)return;const s=(a.children||[]).map(Zg).join("").trim(),u=nw(s),c=lte(u,r);a.data||={},a.data.hProperties||={},a.data.hProperties.id=c,a.data.headingText=s})}},XN=({content:e})=>$.jsx("div",{className:"prose prose-sm max-w-none",children:$.jsx(aq,{remarkPlugins:[jb,qb,[ute,{maxDepth:3}]],rehypePlugins:[tQ,hee],components:{h1:({children:t,...n})=>$.jsx("h1",{...n,className:"text-2xl font-bold mb-4 mt-8 text-foreground scroll-mt-28",children:t}),h2:({children:t,...n})=>$.jsx("h2",{...n,className:"text-xl font-bold mb-3 mt-6 text-foreground scroll-mt-28",children:t}),h3:({children:t,...n})=>$.jsx("h3",{...n,className:"text-lg font-bold mb-2 mt-5 text-foreground scroll-mt-28",children:t}),p:({children:t})=>$.jsx("p",{className:"mb-3 text-foreground/90 text-sm leading-relaxed",children:t}),code:({children:t,className:n,...r})=>{const a=/language-(\w+)/.exec(n||""),i=String(t).replace(/\n$/,"");return a?$.jsx(GN,{useInlineStyles:!1,language:a[1],PreTag:"div",className:"syntax-highlight rounded border border-border mb-6 overflow-hidden",codeTagProps:{style:{}},children:i}):$.jsx("code",{className:"bg-muted/70 text-foreground/90 px-1 py-0.5 rounded text-[0.85em] font-mono border border-border/50",...r,children:t})},pre:({children:t})=>$.jsx($.Fragment,{children:t}),ul:({children:t})=>$.jsx("ul",{className:"mb-3 pl-5 space-y-1 list-disc text-sm [&>li>ul]:list-[circle] [&>li>ul>li>ul]:list-[square]",children:t}),ol:({children:t})=>$.jsx("ol",{className:"mb-3 pl-5 space-y-1 list-decimal text-sm",children:t}),li:({children:t})=>$.jsx("li",{className:"text-foreground/90",children:t}),blockquote:({children:t})=>$.jsx("blockquote",{className:"border-l-2 border-muted-foreground/30 pl-4 italic text-foreground/70 mb-3 text-sm",children:t}),strong:({children:t})=>$.jsx("strong",{className:"font-semibold text-foreground",children:t}),em:({children:t})=>$.jsx("em",{className:"italic text-foreground/90",children:t}),a:({children:t,href:n})=>$.jsx("a",{href:n,className:"text-[hsl(var(--code-hl-primary))] hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:t}),img:({src:t,alt:n,...r})=>$.jsx("img",{src:t,alt:n||"",className:"bg-white rounded mx-auto my-4 max-w-full",...r}),table:({children:t})=>$.jsx("div",{className:"my-4 w-full overflow-x-auto text-sm",children:$.jsx(HN,{children:t})}),thead:({children:t})=>$.jsx(VN,{children:t}),tbody:({children:t})=>$.jsx(qN,{children:t}),tr:({children:t})=>$.jsx(WN,{children:t}),th:({children:t})=>$.jsx(YN,{className:"font-bold text-sm",children:t}),td:({children:t})=>$.jsx(KN,{className:"text-sm",children:t})},children:e})}),cte=`## Overview
Built an end-to-end scene understanding and multimodal retrieval system for large-scale broadcast/digital archives. The system combines hybrid scene segmentation, high-throughput GPU decoding, and vector-database indexing to support fast and accurate scene search.

## Role
- Organization: **SBS (Tech R&D Center)**  AI Engineer  
- Period: Nov. 2024  Mar. 2025  
- Location: Seoul, Korea  

## Key Contributions

### 1) Throughput optimization (GPU decoding + pipeline engineering)
- Achieved \`~20\` per-video processing speed by optimizing decoding and frame sampling with \`ffmpeg\`, \`NVDEC\`, \`decord\`, and \`OpenCV\`.
- Implemented GPU-memory-aware batching and inference scheduling to stabilize throughput under production workloads.
- Reduced end-to-end latency by optimizing preprocessing, model execution, and I/O hotspots across the pipeline.
- Performed GPU memory optimization and inference-time optimization to improve stability and cost-efficiency.

### 2) Hybrid scene segmentation
- Implemented hybrid segmentation combining scene boundary detection with embedding-similarity clustering.
- Tuned segment granularity to preserve context while maintaining high retrieval responsiveness.

### 3) Retrieval quality improvements
- Improved zero-shot retrieval recall@average by \`+45%\` via prompt normalization and dataset-aware query optimization.
- Reached **SOTA** search performance in internal evaluations across multiple widely-used image/video retrieval benchmarks, outperforming strong open-source baselines and comparable commercial services under the same constraints.

### 4) Scalable indexing and serving
- Built large-scale scene-embedding indexes in a vector database (\`Milvus\`) to power multimodal retrieval services.
- Deployed \`FastAPI\` services with efficiency-focused optimizations such as quantization and \`FlashAttention\`.
- Used \`vLLM\` / \`Ollama\` for on-premise LLM serving to support query normalization.
- Integrated the system with existing content management and search APIs (Face DB, Subtitles DB, etc).

## Impact
- Achieved **SOTA-level performance** with fully in-house, on-prem modelsreplacing paid external APIbased solutions for usage-billed services and significantly reducing operational cost.
- Enabled fast, **scene-level search** over large broadcast archives with production-ready serving and indexing.
- Significantly **reduced processing time per video** while maintaining stable GPU utilization and predictable latency.

## Future Work
- Image DNA enhancement with timestamp-level grounding: leverage a text-aligned vision encoder to perform frame-level alignment and recover precise timestamps for moments that best match text queries. This can evolve Image DNA into a more fine-grained, time-aware representation.
- Metadata reconciliation and enrichment: use timestamp-grounded Image DNA to align and reconcile existing metadata (e.g., captions/subtitles, program logs, segment markers, editorial annotations), improving consistency and enabling richer cross-modal indexing.
- Downstream task expansion via semantic embeddings: since image embeddings semantically summarize visual content (objects, attributes, scenes, interactions), the same representation can be reused to expand downstream tasks such as auto-tagging, concept/entity extraction, highlight discovery, content moderation, and retrieval-driven recommendation.
- Ongoing speaker recognition research: additionally, Im actively researching speaker recognition models, including training strategies and methodology to improve robustness and deployability in real-world media conditions.`,dte=`## Overview
Built a production-grade subtitle translation framework focused on improving accuracy through context-aware prompting, on-premise multimodal scene cues (\`VLM/MLLM\`), and DB-grounded memory retrieval. The system supports asynchronous batch processing for large subtitle workloads and is actively transitioning from paid cloud LLMs to an on-premise LLM stack (vLLM) while maintaining production-like validation.

## Role
- Organization: **SBS (Tech R&D Center)**  AI Engineer
- Period: Nov. 2024  Sep. 2025
- Location: Seoul, Korea

## System Design
- Context assembly from *scene descriptions (on-prem \`VLM/MLLM\`), cultural cues, speaker continuity, and internal metadata.
- Database-backed memory for consistent terminology and entity mentions (e.g., character names, branded terms).
- Hybrid serving strategy: Azure LLM APIs for scalable translation and production-like validation, plus on-premise VLM/MLLM inference for scene-aware context injection.
- In-progress migration to on-premise LLM serving via \`vLLM\`, with routing/orchestration designed to gradually replace paid APIs.
- Production backend: \`FastAPI\` + \`Celery\` + \`Redis\` for queueing, retries, concurrency control, and observability.

## Key Contributions

### 1) Accuracy improvements (LLM + VLM + DB grounding)
- Improved translation robustness by injecting VLM-derived scene descriptions and structured metadata into prompts.
- Enhanced contextual consistency by retrieving relevant prior dialogue and terms from the DB-backed memory layer.
- Reduced translator-verified word-level errors to \`<5%\` (\`>2\` improvement vs. baseline).

### 2) Production-grade pipeline integration
- Integrated the framework into AI Studio for automated subtitle generation across diverse content genres.
- Implemented resilient async processing (idempotency, retry policies, and worker scaling patterns).
- Optimized routing to balance **quality / cost / latency** between Azure LLM APIs and on-premise multimodal models.
- Developed and integrated an on-premise LLM serving path (\`vLLM\`) to enable a phased transition away from paid cloud usage while preserving throughput and reliability.

## Impact
- Delivered consistent, high-quality subtitle translation under real production constraints (speed, scale, reliability).
- Made context-aware translation practical by combining LLMs with on-prem multimodal cues and DB-grounded memory retrieval.
- Established a migration-ready architecture enabling cloud-to-on-prem transition without disrupting production-like validation.

## Future Work
- Complete migration to an on-premise LLM stack to serve translations at minimal (\`zero\`) marginal cost, targeting \`>2\` better translator-evaluated quality (lower error rates) than paid commercial LLM usage.
- Based on additional validation and QA, evaluate conversion into a production AI service and explore monetization opportunities.
- Expand context sources and orchestration (e.g., richer metadata, multimodal cues) and investigate an agentic workflow via \`MCP\` for more scalable, modular translation pipelines.`,pte=`## Overview
Designed and implemented an AI agent platform that automates repetitive media workflowshighlights, subtitles, and thumbnailsthrough modular agents and scalable batch orchestration. The platform is configurable via metadata and policy rules rather than hard-coded per-program logic.

## Role
- Organization: **SBS (Tech R&D Center)**  AI Engineer  
- Period: Mar. 2025  Nov. 2025  
- Location: Seoul, Korea  

## Key Contributions

### 1) Agentized workflow architecture
- Built agents for highlight extraction, multilingual subtitles, and thumbnail selection/generation.
- Defined a modular agent interface to support safe rollout and iterative upgrades of individual capabilities.
- Added production-minded execution patterns (logging hooks, failure recovery, retries).

### 2) Scalable batch orchestration
- Designed scalable batch workflows driven by user-defined period, metadata, and region rules.
- Implemented request queueing and asynchronous execution using \`FastAPI\` + \`Celery\` + \`Redis\`.
- Optimized throughput and stability for scheduled batch runs and large backfills.

### 3) Retrieval-based taxonomy for targeted ad placement
- Developed multimodal scene-retrieval-based taxonomy curation to support targeted advertisement placement.
- Enabled consistent tagging and category alignment by combining retrieval signals with editorial constraints.

## Collaboration
- Collaborated with production teams to align agents with real editing constraints and handoff points.
- Worked with advertising-sales and platform teams to refine taxonomy requirements, governance, and integration needs.

## Impact
- Reduced manual effort by automating repetitive workflows with configurable policies.
- Improved operational reliability through orchestration, observability, and safe failure handling.

## Future Work
- Build an MCP- and agent-based workflow automation layer, and implement backend efficiency services powered by vibe services (prompt-driven instructions, policy templates, and reusable agent playbooks).
- Use this foundation to create an internal environment where users can experiment with AI services in diverse ways without requiring developers to manually build end-to-end frontends and backends for each new workflow.`,mte=`## Overview
Conducted research on object detection robustness for autonomous navigation under domain shifts. Focused on efficient adaptation strategies for challenging sensing conditions and heterogeneous sensor setups.

## Affiliation
- Organization: **LIG Nex1 / Yonsei University**
- Period: Apr. 2023  Aug. 2024
- Location: Seoul, Korea

## Research Focus
- Domain shifts in IR/night imagery, adverse weather, blur/noise, compression artifacts, and heterogeneous sensors.
- Generalization across various modalities and viewpoints including IR, birds-eye-view, and SAR imagery.
- Extended the research scope to aerial and satellite imagery (e.g., drone videos and remote-sensing scenes), targeting robust detection under cross-viewpoint and cross-modality shifts.

## Key Contributions

### 1) Efficient Test-Time Adaptation (TTA)
- Proposed efficient **layer-wise continual TTA** without heavy distillation (\`WACV 2024\`).
- Prioritized stability and compute efficiency to support deployment-oriented adaptation workflows.

### 2) Source-Free Domain Adaptation (SFDA)
- Designed **low-confidence pseudo-label refinement** to stabilize SFDA (\`ECCV 2024\`).
- Validated robustness under difficult target distributions without requiring source data access.

### 3) Cross-view generalization in remote sensing (SFDA)
- Expanded robustness research beyond ground-view navigation to remote-sensing settings, including drone video and satellite imagery.
- Validated generalization across diverse modalities and viewpoints (IR, birds-eye-view, SAR) under domain shifts, demonstrating applicability to heterogeneous sensing environments (\`GRSL\`).

## Outputs
- Paper and code are available via the Paper and GitHub links (Please visit my [Publications section](/#publications).).`,fte=`## Overview
Developed a blur-detection model that improves reliability of face recognition systems in real-world conditions. The focus was to keep the solution lightweight while maintaining strong practical performance.

## Affiliation
- Organization: **Alchera / Yonsei University**  
- Period: Jul. 2022  Sep. 2022  
- Location: Seoul, Korea  

## Key Contributions
- Built a synthetic blur-generation and labeling pipeline for supervised training.
- Developed a lightweight blur-detection model to filter low-quality inputs and improve recognition robustness.
- Optimized the model for low-latency \`CPU-only\` mobile deployment.

## Impact
- Improved robustness and usability of downstream face recognition by detecting and handling blurred inputs.
- Enabled efficient deployment paths for resource-constrained environments (mobile / edge).`,vs=[{id:"scene-retrieval",title:"Scene Understanding & Multimodal Retrieval Model",description:"Developed high-throughput scene retrieval and understanding models for broadcast and digital content, enabling scalable scene-level search and analysis.",tech:["Python","PyTorch","FastAPI","Milvus","vLLM","Ollama","ffmpeg","NVDEC","decord","OpenCV","FlashAttention"],image:"https://github.com/user-attachments/assets/eb298e0f-9778-4e42-bd3f-f302b98b80ea",kpis:["~20 throughput","+45% retrieval","SOTA internal evals"],contentMd:cte.trim()},{id:"translation-framework",title:"Multilingual Translation Framework",description:"Developed a multilingual subtitle translation framework using LLMs and on-premise VLMs, leveraging advanced context engineering and database-grounded memory for robust translations.",tech:["Python","FastAPI","Celery","Redis","vLLM","Azure OpenAI","Hugging Face Transformers"],image:"https://github.com/user-attachments/assets/d7c85a78-2a68-430d-86da-dd7011e18839",kpis:["<5% word errors",">2 quality","LLM + VLM context"],contentMd:dte.trim()},{id:"agent-platform",title:"AI Agent Platform for Automated Content Processing",description:"Built automated AI agents for highlight extraction, multilingual subtitles, and thumbnail generation, orchestrated via scalable batch workflows and metadata-driven rules.",tech:["Python","FastAPI","Celery","Redis","PyTorch","Transformers"],image:"https://github.com/user-attachments/assets/f7a42f5a-df84-49f5-8a9e-887b487300be",kpis:["Batch orchestration","Rule-driven workflows","Cross-team adoption"],contentMd:pte.trim()},{id:"lightweight-od",title:"Lightweight Domain Adaptation for Object Detection",description:"Researched robust object detection under severe domain shifts for autonomous navigation, focusing on efficient adaptation methods under real sensing conditions.",tech:["Python","PyTorch","Docker"],image:"https://github.com/user-attachments/assets/1c718cd4-4239-4fbd-830d-fe5253de6e22",kpis:["WACV 2024","ECCV 2024","GRSL","Efficient adaptation"],contentMd:mte.trim()},{id:"blur-face",title:"Blurred Face Detection for Secure Face Recognition",description:"Developed a lightweight blur-detection model to improve robustness and privacy for face recognition systems, optimized for low-latency deployment.",tech:["Python","PyTorch","Docker"],image:"https://github.com/user-attachments/assets/f31d4c3c-a9c4-4f31-aaa8-5d4237018f8e",github:"https://github.com/minsu1206/BlurFaceDetection",kpis:["CPU-only mobile","Synthetic data pipeline","Low-latency"],contentMd:fte.trim()}],hte=Object.fromEntries(vs.map(e=>[e.id,e])),QN=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");function gte(e){const t=[],n=e.split(`
`),r=new Map;for(const a of n){const i=/^(#{2,3})\s+(.+?)\s*$/.exec(a);if(!i)continue;const s=i[1].length===2?2:3,u=i[2].trim(),c=QN(u),d=(r.get(c)??0)+1;r.set(c,d),t.push({id:`${c}-${d}`,text:u,level:s})}return t}function bte(e){const t=gte(e),n=e.split(`
`),r=new Map;return{mdWithAnchors:n.map(i=>{const s=/^(#{2,3})\s+(.+?)\s*$/.exec(i);if(!s)return i;const u=s[2].trim(),c=QN(u),d=(r.get(c)??0)+1;return r.set(c,d),`<span id="${c}-${d}"></span>
${i}`}).join(`
`),toc:t}}const vte=()=>{const[e,t]=N.useState(null),n=N.useRef(null),r=N.useMemo(()=>e!==null?vs[e]:null,[e]),{toc:a,mdWithAnchors:i}=N.useMemo(()=>r?bte(r.contentMd):{toc:[],mdWithAnchors:""},[r]),s=m=>t(m),u=()=>t(null),c=()=>t(m=>m===null?null:(m-1+vs.length)%vs.length),d=()=>t(m=>m===null?null:(m+1)%vs.length);return N.useEffect(()=>{if(e===null)return;const m=h=>{if(h.key==="Escape")return u();if(h.key==="ArrowLeft")return h.preventDefault(),c();if(h.key==="ArrowRight")return h.preventDefault(),d()};document.addEventListener("keydown",m);const f=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",m),document.body.style.overflow=f}},[e]),N.useEffect(()=>{r&&requestAnimationFrame(()=>{n.current&&(n.current.scrollTop=0)})},[r]),$.jsxs("section",{id:"projects",className:"py-12",children:[$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"Projects"}),$.jsx("div",{className:"space-y-4",children:vs.map((m,f)=>$.jsxs("button",{type:"button",onClick:()=>s(f),className:"w-full text-left p-4 rounded-lg border border-border hover:border-[hsl(var(--theme-primary)/0.4)] transition-colors bg-card group",children:[$.jsx("h3",{className:"font-semibold text-foreground group-hover:text-[hsl(var(--theme-primary))] transition-colors",children:m.title}),$.jsx("p",{className:"text-xs text-foreground/60 mt-1 line-clamp-2",children:m.description}),$.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:m.tech.slice(0,4).map((h,b)=>$.jsx("span",{className:"px-2 py-0.5 bg-muted text-foreground/70 rounded text-xs",children:h},b))})]},f))}),$.jsx("div",{className:"mt-6",children:$.jsx("a",{href:"/cv",className:"text-sm text-[hsl(var(--theme-primary))] hover:underline",children:" View Full CV"})})]})}),$.jsx(EF,{children:r&&e!==null&&$.jsxs(Y3.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[$.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:u}),$.jsxs(Y3.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"relative w-[92vw] max-w-4xl h-[85vh] rounded-xl overflow-hidden bg-background border border-border shadow-xl flex flex-col",onClick:m=>m.stopPropagation(),children:[$.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("button",{onClick:c,className:"p-1.5 rounded hover:bg-muted transition-colors","aria-label":"Previous",children:$.jsx(c1,{className:"w-4 h-4"})}),$.jsx("button",{onClick:d,className:"p-1.5 rounded hover:bg-muted transition-colors","aria-label":"Next",children:$.jsx(d1,{className:"w-4 h-4"})})]}),$.jsx("h3",{className:"font-semibold text-foreground text-sm truncate mx-4 flex-1 text-center",children:r.title}),$.jsxs("div",{className:"flex items-center gap-2",children:[r.github&&$.jsx("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded hover:bg-muted transition-colors",children:$.jsx(m1,{className:"w-4 h-4"})}),r.link&&$.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded hover:bg-muted transition-colors",children:$.jsx(K8,{className:"w-4 h-4"})}),$.jsx("button",{onClick:u,className:"p-1.5 rounded hover:bg-muted transition-colors","aria-label":"Close",children:$.jsx(Hp,{className:"w-4 h-4"})})]})]}),$.jsx("div",{ref:n,className:"flex-1 overflow-y-auto px-6 py-6",children:$.jsx(XN,{content:i})})]})]})})]})},rw=[{id:"1",name:"ai theory",slug:"ai theory",description:"ML/DL research and theoretical insights",color:"bg-research-500"},{id:"2",name:"ai papers",slug:"ai papers",description:"Deep Learning Paper Summaries and Reviews",color:"bg-blue-500"},{id:"3",slug:"ai technology",name:"ai technology",description:"Latest trends and advancements in AI",color:"bg-green-500"},{id:"4",name:"personal insights",slug:"personal insights",description:"Industry perspectives and analysis",color:"bg-purple-500"}],yte=`---
title: "cs231n   (0) - What is deep learning?"
category: "ai theory"
publishedAt: "2022-11-01"
thumbnail: "https://user-images.githubusercontent.com/79881119/210956163-47545d18-c612-4669-a8ff-32b4dbb26dfd.png"
---

# Overview

 ?        AI            .       AI, , ,        .   deep learning ,       .      [cs231n](https://cs231n.github.io/)   ,     .     ,     /             .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/210956163-47545d18-c612-4669-a8ff-32b4dbb26dfd.png" alt="cs231n01-1" width="500"/>
</div>

# What is AI?
    <U></U> .      ,          . AI <U>artificial intelligence</U> ,      .   
                 /      .           .       ,                      .      SOTA   .   
     AI  /      ,   <U></U> (), <U></U> () .                ,  modality sensing               .   
          AI,           .  AI        <U>(information)</U>,     <U> (machine learning)</U> .       AI       <U>data processing/data science</U> ,      /                 .       neural network()  gradient descent based optimization (  ), GPU         (deep learning),    AI     base   . 

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/210958358-5a0abde7-49fc-47b1-a5aa-08dcd5084c8f.png" alt="cs231n01-2" width="700"/>
</div>

     AI <U></U>    feature engineering .                               ,   feature             .   input   output    , input  modality  feature      ,     <U>     </U>  .   input   feature          ,  deep learning deep neural network based learning       .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/210959561-07549eed-d4d4-4fc4-a4ec-27163c86dc04.png" alt="cs231n01-3" width="400"/>
</div>

   . Input space $$X$$, feature space $$Y$$,  input $$x \\sim X$$   output $$z \\sim Z$$  .  space  <U></U>,        supervision      space      subspace   . Subspace    .   input  output    .   $$F,~G$$ ,

$$
    F(x) = y,~G(y) = \\hat{z} \\approx z
$$

       .       input $$X$$  output $$Z$$     $$F,~G$$  .   feature extraction   $$F$$ feature engineering   update    .  update               .    G feature engineering   feature extraction  input   .  feature engineering <U>  </U>           .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/211228489-a36aba3f-89db-4378-b048-7aff011d6290.png" alt="cs231n01-4" width="400"/>
</div>

            .       resource ,                    .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/211228640-ce8a50f8-64b5-433b-a7c7-6dcf858502f7.png" alt="cs231n01-5" width="400"/>
</div>

             . **AI**  concept       **** ,      NN(Neural Network)  ****.

# ...
      . cs231n       ,                  .                     .       `,xte=`---
title: "cs231n   (1) - Image classification"
category: "ai theory"
publishedAt: "2022-11-02"
thumbnail: "https://user-images.githubusercontent.com/79881119/211229357-29c7e82a-eaa7-4b7e-81ba-81841ed2ec33.png"
---

# What is image classification?
<U> </U>(Image classification) (computer vision)     task(challenge)      .                AlexNet   .   AI       ,   RL          **AlexNet**    . 
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211229357-29c7e82a-eaa7-4b7e-81ba-81841ed2ec33.png" width="500"/>
</div>
 image classification ,       input          .   CIFAR-10 dataset ,  10         label(dog, cat )   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211229816-ec1c4c9a-3d7e-4ea7-9f1c-d9af75bf2c66.png" width="500"/>
</div>

       <U></U>    .     , 3       RGB value .            ''     10% .     <U>           </U>. Image classification     .

# What is challenging?
     (Tensor)      . Matrix()    Tensor()    . Matrix rank    independent vector ,   Tensor rank   <U>   </U> .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211230352-c1d20e34-770e-4854-9ee2-e2e4aac8ff5c.png" width="500"/>
</div>

  Tensor     dimension $N$  ,  Tensor $N$ rank  Tensor .    RGB   $H \\times W$  matrix       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211230627-b36d86ae-f5ae-471f-82c5-3d409ee87f25.png" width="500"/>
</div>

       (  3  2  rendering )     RGB   .    RGB  $0 \\sim 255$  (8-bit unsigned),  <U>computing situation</U>  .    $H \\times W$ spatial dimension  matrix R, G, B     Tensor   .   
   Image resolution  <U>spatial dimension</U> , Image channel  <U>RGB</U>    .       task input  image   3 Tensor    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211231096-d6f43001-9449-4c98-8602-511ac5ec87d2.png" width="800"/>
</div>

     <U> </U> .      (Viewpoint variation),           .     image     ,  object <U>   value  </U>         .   
  (Illumination conditions)     .    ,                         .   
  scale variation( ,                ), Deformation(   <U></U> dynamic pose ,     robust   ),    ()            class          <U>image  machine learning   </U>   .          ,      <U>data-driven algorithm</U>   .

# Data-driven algorithm
   <U> </U> .                image classification  task       <U>challenging situation</U>    .  ''        ,        .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211232116-3bb0a20c-90ef-4d53-92b8-60d0d0f519aa.png" width="600"/>
</div>

           ,    ,             .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211232302-e4a7ba44-0aab-4294-abcb-886ea40e56d6.png" width="600"/>
</div>
 ,  /     .     ,      <U> </U>      .          .



# Image classification pipeline

      ,  <U>3  </U>  <U></U>   .    ** **. $K$ (class )   $N$  data-driven   .  'Training data' . Supervision()  training data   .   
   **learning**.           .    training data          .   
  **evaluation**.              ,       . Training data         ,  validation/test data .      ground truth .

# Nearest Neighbor Classifier
   classifier   neural network  .     ,    <U>data-driven algorithm</U> <U>gradient descent algorithm</U>     .         . data-driven algorithm     gradient descent algorithm      <U>  </U>   NN   data-driven approach   .   gradient descent  WGAN-GP(Wessertein-GAN with gradient penalty)             , AI   ,     .   
Nearest neighbor classifier     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211233597-11a527e0-72e3-49b4-a8cc-1093508f674f.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/211233625-49c6f4f6-22a9-4059-8028-0a25888c70d8.png" width="400"/>
</div>

  CIFAR-10    ,   test image , training image     10  .              training image test image    nearest neighbor    test image      .      . Distance norm  ground truth  ,        , order $p$    . Norm distance  norm   , distance       . Norm    <U>   </U>  <U>magnitude</U> .

$$
    L_p = \\left( \\sum_i^n \\vert x_i \\vert^p \\right)^{\\frac{1}{p}}    
$$

Order  $p$  norm $L_p$ ,     .   $x$ $n$   .   norm $L_1$ norm  $L_2$ norm.   $p = 1$   .

$$
    \\begin{aligned}
        L_1 =& \\left( \\sum_i^n \\vert x_i \\vert \\right) \\newline
        =& \\vert x_1 \\vert + \\vert x_2 \\vert + \\vert x_3 \\vert + \\cdots + \\vert x_n \\vert 
    \\end{aligned}    
$$
L1 norm Taxicab norm  Manhattan norm .           .  $p = 2$  .

$$
    \\begin{aligned}
        L_2 =& \\sqrt{\\sum_i^n x_i^2 } \\newline
        =& \\sqrt{x_1^2 + x_2^2 + x_3^2 + \\cdots + x_n^2 }
    \\end{aligned}    
$$

           .        Euclidean norm .     inner product    .

$$
    \\begin{aligned}
        L_2 =& \\sqrt{\\sum_i^n x_i^2 } \\newline
        =& \\sqrt{x \\cdot x} \\newline
        =& \\sqrt{x^\\top x} \\newline
        =& \\sqrt{x_1^2 + x_2^2 + x_3^2 + \\cdots + x_n^2 }
    \\end{aligned}    
$$

<U>Distance</U>    ,     <U>  norm</U>   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211241290-4282638c-9493-4854-896a-da54eac738da.png" width="600"/>
</div>

    , nearest neighbor     (metric)  test image training image   .
 $L_1$ distance , $L_2$ distance    .   distance   training image    ,       test image   .   
$L_1$, $L_2$ distance      ,    $L_2$ distance $L_1$  vector    unforgiving  .    ,    $L_1$ distance 1     quadratic . Unforgiving      penalty     .   
Nearest neighbor    ,    image        . Image      <U>  ,   object   </U>  class    .  ,      .       KNN($K$-nearest neighbor),      <U>   image  $k$ sample</U>   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211242160-3f49e1f0-aa21-4000-97bd-bd8706b15c01.png" width="800"/>
</div>

     $k$           prediction map    .    5     class            .  $K$        ,          .

# Hyperparameter 
     manually     hyperparameter .  weight  parameter          grid search .  KNN $K$   $L_1,~L_2$ norm         ,       ,       .   
   training set, test set  validation set.      training dataset   hyperparameter  test dataset  metric  . KNN  training dataset  <U> </U>   test dataset <U>  </U> ,  test dataset        hyperparameter value   test dataset overfitting value .   
              neural network   KNN .   DNN  training set  overfitting  KNN overfitting test set   .      validation dataset  ,   overfitting         .   
   training data/test data  validation data ,   <U>training dataset</U>  fold      fold <U>validation dataset</U> .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211243687-c6c31a8a-6528-462c-9a5b-384167f73e34.png" width="800"/>
</div>

        fold     , hyperparameter $K$     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211243813-41facc7a-ed22-48f3-993e-dacfdcbb35dc.png" width="600"/>
</div>

 validation training  fold  cross-validation     . Fold 5  validation   accuracy  5  ,            .   training data         .   
   <U>   </U>($k$  )    ,    test data  <U>     </U>      .    test data <U>  label  sample</U>       .   $k$        (   )      $k = 7$ .

# 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/211244279-ccbaf27a-a9a5-41b4-ab07-3185fed018b2.png" width="800"/>
</div>

  4       .      , <U>     </U>     .  KNN  . 2         <U>  </U> distance    .  $L_2$ distance            .   KNN      ,   **neural network**   .     .`,_te=`---
title: "cs231n   (2) - Linear classification"
category: "ai theory"
publishedAt: "2022-11-03"
thumbnail: "https://user-images.githubusercontent.com/79881119/211488989-dfb1c301-de53-4d3a-b143-e3f7bce0870a.png"
---

#  ...

      task image classification  .    KNN(k -Nearest Neighbor) classifier   . Image Classification    ,     data driven algorithm  .                  .


1.  classifier test data    training data  .           .
2.      training data    expensive.

KNN            .    Image classification     ,     Neural Network()  .           computer vision  task   ,  data-driven algorithm      .


#  

<U>  </U>      . 

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211441289-bef0f13e-b447-4d94-bcdf-3654f6264518.png"/>
</div>

     input $$X$$  weight $$W$$ , activation function $$f$$( )  output   .  Perceptron() ,         dendrite, soma, axon  <U>    </U>    .     input $$X$$  affine transform $$X\\cdot W + b$$  , <U>   </U>   $$f$$    .        input $$X$$   ,   parameter $$W$$ $$b$$  output               .

$$
    output = f(X \\cdot W + b)    
$$

  parameter $$W$$ $$b$$  dataset  <U>   </U>, output label(ground truth)     $$0$$  .

$$
    \\rho(output,~label)    
$$

    output label      $$\\rho$$,          . 

# Score function / Loss function / Cost function

    $$\\rho$$    . Ground truth  label  task  label  .    $$\\rho$$     <U>ground truth output </U>    ,   <U>  </U>   .     $$\\rho$$     loss function  cost function.        <U>' '</U>   ,     unsupervised learning, semi-supervised learning  supervised learning   ground truth     <U></U> .         loss function cost function   .   
  linear classification     task     . Loss    ,  <U>score function</U>   . Score function  (raw data) classification   class (score) mapping  , loss function  score function   score label  .           input $$X$$  .   
 image score mapping       . $$N$$   ,   $$K$$    .

$$
    x_i~(i = 1,~2,~3,~\\cdots,~N) \\rightarrow y_j~(j = 1,~2,~\\cdots,~K)    
$$

       CIFAR-10 dataset input image $$32 \\times 32 \\times 3$$  ,

$$
    x_i \\in \\mathbb{R}^D,~D = 32 \\times 32 \\times 3 = 3072
$$

  $$x_i$$       ,    <U>  3    </U> .   CIFAR-10      10 class  dataset,    $$K = 10$$  .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211444992-b6f5a431-1518-4e5b-95a5-9f1bfeacc66f.png"/>
</div>

$$
    \\begin{aligned}
        W &\\in \\mathbb{R}^{D \\times K}, \\newline
        X &\\in \\mathbb{R}^{1 \\times D}, \\newline
        b &\\in \\mathbb{R}^{1 \\times K}
    \\end{aligned}    
$$

$$
    f(X \\cdot W + b) = f(Y),~Y \\in \\mathbb{R}^{1 \\times K}    
$$

Activation function $$f$$  element-wise   affine mapping $$Y$$   output .     $$3072$$   input  $$10$$  score   .      parameter $$W$$ $$b$$ weight, bias .     4   .

1.  matrix  $$X \\cdot W$$   .      , $$X \\cdot W$$   label score   $$W$$ each row vector.  class   10   .

2. $$(x_i, y_i)$$   .   parameter $$W$$, $$b$$  .

3. Training data $$(x, y)$$     output   $$W$$, $$b$$    .    training data      . ,    training data    .

4. KNN test image traing image      .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211449255-1a05c825-aaf9-438e-9ea3-a6fab2063b3c.png" width="600"/>
</div>

        .         activation function $$f$$  .   $$f$$  <U>affine function</U> $$X \\cdot W + b$$    .    classification   score .     dog score        .    .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211449542-34fdc8ae-dece-4435-a04f-5444f3982fad.png" width="600"/>
</div>

   , 3072 axis       .  image dataset $$X$$ 3072  mapping, linear classification   .   3072 2       .   
  $$W$$  row vector  label  ,   <U>row vector  </U> <U>classifier   rotate</U>  .  bias  $$b$$ classifier <U>  </U>   .   
 linear classifier KNN   <U>template matching</U>  .  $$X \\cdot W$$  $$W$$ row vector $$X$$(column vector)   .  $$W$$ <U>template, prototype</U>           .      prototype    $$K$$     KNN   .     , inner product   $$L_1$$, $$L_2$$ distance      .   
 horse        , car        ,   biasing       .    class   weight .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211450707-ed5bda42-180e-41f7-8184-be5f90ee3fef.png" width="1400"/>
</div>

  training dataset  Linear classifier       class  <U>weight prototype</U> ,  prototype  sample projection                    .      hidden layer  prototype     <U>  </U>  .

# Weight and bias

 bias weight    ,   row vector   bias    .   bias   $$X$$ $$W$$ linear projection  element element-wise              .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211451107-24831ca5-7421-4a22-a453-a01f393a9684.png" width="800"/>
</div>

Input $$1$$ element , bias row vector  .           .

# Loss functions

      <U>  class  score </U> .         output            .     objective function $$\\rho$$     ,   support vector machine    .

## Support vector machine(SVM)

SVM  ,           score  class    threshold  margin($\\Delta$)    . Linear classification model    class index  score ,  class index  score  . 1 $$K$$ class index   $$j$$   $$i$$ ($$x_i$$) score     .

$$
    s_j = f(x_i,~W)_j
$$

SVM loss    class score  class score  margin($$Delta$$)     , $$i$$   SVM loss  .

$$
    L_i = \\sum_{j \\neq y_i} \\max (0, s_j - s_{y_i} + \\Delta)    
$$

$$i$$   $$y_i$$,  $$K$$      . <U>$$s_{y_i}$$ $$i$$   $$y_i$$  </U> ,  <U>$$s_j$$ $$i$$    $$j$$  </U> .  $$j$$    $$y_i$$   margin    $\\max$     0     loss  . Loss  task           ,         margin    loss    .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211475405-2a57768c-e9c3-4954-af7b-249ee97e14d7.png" width="800"/>
</div>

    .      margin       .       .

$$
    L_i = \\sum_{j \\neq y_i} \\max (0, W_j^\\top x_i - W_{y_i}^\\top x_i + \\Delta)  
$$

Score    class index $$k$$  ,     $$W$$ matrix $$k$$ row vector sample $$x_i$$    inner production .   threshold  loss   hinge loss ,     cost    , loss          .

$$
    \\max (0,~-)^2    
$$

 SVM loss   ,    $$W$$     class score $$\\Delta$$        $$W$$  scalar       .   $$\\lambda > 1$$  $$\\lambda$$ , $$\\lambda W$$  score  1   scaling      . Optimization  <U>global minima</U>     <U>convex optimization   </U>.                   .      regularization penalty ,  feasible(   manifold )   .

$$
    R(W) = \\sum_k \\sum_l W_{k,~l}^2    
$$

2 matrix $$W$$ $$L_2$$ norm       ,  $$W$$      ($$n$$ hypersphere)      weight  .    loss   <U>hinge loss</U>,    <U>$$L_2$$ regularization loss</U> .

$$
    \\begin{aligned}
        L =& \\frac{1}{N} \\sum_i L_i + \\lambda R(W) \\newline
        L =& \\frac{1}{N} \\sum_i \\sum_{j \\neq y_i} \\max \\left( 0, W_j^\\top x_i - W_{y_i}^\\top x_i + \\Delta \\right) + \\lambda \\sum_k \\sum_l W_{k,~l}^2
    \\end{aligned}
$$

   loss function   , hyperparameter $$\\lambda$$   ,  cross-validation .       convex optimization     term ,       weight parameter  input           overfitting  .   regularization   loss            .    regularization        .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211479174-82d490d5-3ddb-42da-a788-ed431b0cd512.png" width="800"/>
</div>

## Hyperparameters in SVM

    hyperparameter $$\\lambda$$ ,  hinge loss  $$Delta$$      .      $$\\lambda$$ weight scale       ,  $$\\lambda$$      $$Delta$$ .             <U>$$Delta$$    </U> weight     $$\\lambda$$  hyperparameter   .   SVM classifier class      . Class  2 binary classification    margin $$1$$   ,

$$
    L_i = C \\max \\left(0,~1-y_iw^\\top x_i \\right) + R(W)    
$$

       $$C$$ $$\\lambda$$   hyperparameter . Binary support vector machine $$y_i$$ class     $$-1,~1$$  . 

## Softmax

  SVM classifier  ,  classifier   softmax classifier  .         SVM   ,  energy based function   softmax         SVM        .  softmax <U>binary logistic regression</U> multiclass  classifier    . Binary logistic regression,      $$0$$ $$1$$,    .       1. Logistic regression       linear regression  .  logistic model  target  $$y$$  $$0$$ $$1$$   .    .   $$x$$  $$0$$ $$1$$,       $$y$$   ,         $$y = Wx+b$$   .       1  (weight) (bias)  ,       classification     .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211484095-3c025ec6-cb8a-4343-b6c2-3ad650aafd82.png" width="800"/>
</div>

    parameter      $$0$$ $$1$$       .      ,       $$y$$ $$0$$ $$1$$  mapping   .    logistic  $$g(x) = \\frac{e^x}{1+e^x}$$   $$g(x) = e^{-e^x}$$ .     exponential     ,     logistic model  . 

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211484962-8bc6cedf-cbba-453c-9be5-fe2919b0f5b7.png" width="400"/>
</div>

Logistic function         $$x$$      0 1    .    <U>Odds</U> <U>Logit</U> . Odds      .         $$1$$     ,

$$
    \\text{Odds} = \\frac{p(y = 1 \\vert x)}{1-p(y = 1 \\vert x)}    
$$

   ,  $$p$$ 0 1       log  logit

$$
    \\text{Logit} = \\log(\\text{Odds}) = \\log \\left( \\frac{p}{1-p} \\right)    
$$

,     .     ($$p$$)  ($$x$$)      ,  linear regression   .

$$
    \\log \\left( \\frac{p}{1-p} \\right) = Wx+b    
$$

   $$y$$          $$p$$    logistic regression    .

$$
    p = \\frac{e^{b+Wx}}{1+e^{b+Wx}}    
$$

,   softmax  classification    .  binary  ,  multiclass        . Logistic regression    logistic  input  score class     .  SVM classifier score  ,  logistic mapping      .

$$
    p_i = \\frac{e^{z_i}}{ \\sum_{j = 1}^k e^{z_j}},~\\text{for }i = 1,~2,~cdots,~k    
$$

 softmax function . $$i$$    , $$z_i$$ score  .  $$k$$ class    $$k$$ score logistic   $$0 ~ 1$$     .   <U>normalized probability</U> .    loss  ,    class  index  $$1$$   , loss   softmax  negative log   .

$$
    L_i = -\\log \\left( \\frac{e^{f_{y_i}}}{\\sum_j e^{f_j}} \\right) = -f_{y_i} + \\log \\sum_j e^{f_j}
$$

      class  $$f_{y_i}$$ ,        SVM softmax     .   loss cross-entropy loss .

# Cross entropy loss and Information theory

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211488989-dfb1c301-de53-4d3a-b143-e3f7bce0870a.png" width="400"/>
</div>

       .                .      outcome(  ) $$x_1,sim x_n$$       probability $$p(x_1),sim p(x_n)$$        .

$$
    H(X) = -\\sum_{i = 1}^n p(x_i) \\log p(x_i)    
$$

   $$p(x)$$ $$p(x)$$      .         $$p(x_i)$$   ,            entropy  .            $$p(x_i)$$             entropy  .    $$p(x)$$ $$q(x)$$         .       ,  ground truth $$q(x)$$ .

$$
    H(p,~q) = -\\sum_{i = 1}^n q(x_i) \\log p(x_i)  
$$

Classification   $$x_i$$   class index   class  $$1$$,  class  $$0$$   .    softmax   $$\\frac{e^{f_{y_i}}}{\\sum_j e^{f_j}}$$   $$p(x_i)$$. Cross-entropy    ,

$$
    H(p,~q) = -\\sum_{i = 1}^n q(x_i) \\log \\left( \\frac{p(x_i)}{q(x_i)} \\right) + q(x_i) \\log q(x_i) 
$$

   term KL divergence,   $$p(x)$$ $$q(x)$$  .     0          .

$$
    H(p,~q) = D_{KL}(q \\parallel p) + H(q) \\ge H(q)
$$

 cross-entropy <U>entropy</U>     .   $$H(q)$$       $$0$$ ,       cross-entropy   KL divergence   .   
  score normalized   ,  exponential   softmax  normalized probability . <U>   class  </U>  likelihood   ,  Bayes MLE     .

$$
    p(x_i \\vert y_i) = \\frac{p(y_i \\vert x_i)p(x_i)}{p(y_i)}    
$$

   input prior     .    matrix $$W$$   .  $$y_i$$ input $$x_i$$  parameter $$W$$   ,  prior     .

$$
    p(x_i \\vert W) = \\frac{p(y_i \\vert W)p(W)}{p(y_i)}    
$$

 classification  likelihood    $$W$$ prior      MAP(Maximum a posterior)   .

# Normalization trick
  exponential ,  log likelihood     denominator($$\\sum_j e^{f_j}$$)  exponential     .  score normalized  ,                     trick .

$$
    \\frac{e^{f_{y_i}}}{\\sum_j e^{f_j}} = \\frac{e^{f_{y_i} - \\delta}}{\\sum_j e^{f_j - \\delta}}    
$$

     $$e^{-\\delta}$$   .   score  maximum value $$f_{j^*} = \\max (f_j)$$ ,

$$
    \\frac{e^{f_{y_i} - f_{j^*}}}{\\sum_j e^{f_j - f_{j^*}}}
$$

    re-scaling ,    0      exponential  $$0 \\sim 1$$   .

# SVM Softmax,    ?
 linear classification    <U>  classifier</U> support vector machine(SVM) softmax  .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211558562-1341ba8d-b681-40e9-be6d-cc804ee49fc4.png" width="800"/>
</div>

**SVM**  output  score function   <U>hinge loss</U>  , **Softmax**  output  score function softmax  <U>normalized probability</U> , MLE  MAP   <U>cross entropy loss</U> .   

## SVM regularization, softmax?

 SVM  loss  $$W$$      .   softmax $$L_2$$ regularization      .

$$
    (1, -2, 0) \\rightarrow (e^1, e^{-2}, e^0) = (2.71, 0.14, 1) \\rightarrow (0.7, 0.04, 0.26)    
$$

 $$W$$  neural network       . Softmax classifier   score $$(1, -2, 0)$$ softmax   normalized probability $$(0.7, 0.04, 0.26)$$   .  $$W$$ regularization   0.5 element  neural network parameter     .

$$
    (0.5, -1, 0) \\rightarrow (e^{0.5}, e^{-1}, e^0) = (1.65, 0.37, 1) \\rightarrow (0.55, 0.12, 0.33)    
$$

  diffuse( dense   ,     )  . , weight parameter    output probability  uniform .  SVM            , confidence   .

## ..

SVM Softmax      .  task,    classifier      . Softmax classifier  SVM margin    loss      <U>local objective</U>(      ) .  Softmax  score   <U>loss 0   </U>    .   SVM        , softmax   ,    parameter  .   
    classifier     , <U></U>(  ) softmax classifier    , logistic    class confidence      .`,wte=`---
title: "cs231n   (3) - Optimization()"
category: "ai theory"
publishedAt: "2022-11-04"
thumbnail: "https://user-images.githubusercontent.com/79881119/211700575-e61dc169-0b31-427a-8dc7-6f1a74bfad84.png"
---

#  

   linear classification     classifier SVM(support vector machine) softmax  .   **SVM**  class   affine function $f$   , <U>  class </U>  class   <U>margin($\\Delta$) </U>   , **softmax**   <U>logistic </U> , normalized probability  <U>KL divergence </U> .    , regularization  loss term SVM    loss 0    , softmax     .   
,  loss function  parameter     .           ,   gradient based approach      **penalty term** **projection**,  **Jacobian, Hessian**      .  generative model      WGAN    linear programming, duality form  <U>      </U>       probability and random variables, optimization theory      .   
 ,           ,  **score function**,   **loss function**.

1. Score function  $f$ , parameter  raw image pixel( )  class  / .
2. Loss function  parameter   score      ()   .   SVM hinge loss, softmax cross entropy loss .

$$
    \\begin{aligned}
        L_i =& \\sum_{j \\neq y_i} \\max \\left( 0, W_j^\\top x_i - W_{y_i}^\\top x_i + \\Delta \\right) \\newline
        L_i =& -\\log \\left( \\frac{e^{f_{y_i}}}{\\sum_j e^{f_j}} \\right) = -f_{y_i} + \\log \\sum_j e^{f_j}
    \\end{aligned}    
$$

   SVM  hinge loss softmax  cross-entropy loss   .   score function, loss function  classifier     parameter($W,~b$)      (loss function),     score function $f$   . Score function $f$    <U>weight</U>($W$) <U>bias</U>($b$)  ,         <U>optimization theory</U>         <U> </U>   .


# Optimization
Loss function    ,    loss function   .            .                convex(), concave() function , convex  concave optimization optimal solution  ,  <U>optimal solution gradient 0   </U>.   loss function     ,   (,   )           .   non-analytic        feasible direction  constraints   .   
        $L(\\cdot)$ ,  weight $W$  loss  $L(W)$  .   global optimal solution     , $W$  dimension    $W_1$   ,  step size $\\alpha$    $L(W + \\alpha W_1)$   loss function value   .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211700575-e61dc169-0b31-427a-8dc7-6f1a74bfad84.png" width="800"/>
</div>

         loss function  ($L(W)$)          .  feasible direction ,              loss function   .   feasible direction      $L(W + \\alpha W_1 + \\beta W_2)$   ,               colormap         .      ()   ,  contour line .  contour line  (contour line  )  .  SVM  hinge loss   .

$$
    L_i = \\sum_{j \\neq y_i} \\max \\left( 0, W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right)
$$

 $\\Delta = 1$  hinge loss   ,  <U>1   3 </U>  .    loss   .

$$
    \\begin{aligned}
        L_0 =& \\sum_{j \\neq y_0} \\max \\left( 0, W_j^\\top x_0 - W_{y_i}^\\top x_0 + 1 \\right) \\newline
        L_1 =& \\sum_{j \\neq y_1} \\max \\left( 0, W_j^\\top x_1 - W_{y_i}^\\top x_1 + 1 \\right) \\newline
        L_2 =& \\sum_{j \\neq y_2} \\max \\left( 0, W_j^\\top x_2 - W_{y_i}^\\top x_2 + 1 \\right)
    \\end{aligned}
$$

    regularization term   .  SVM  hinge loss        .

$$
    L = \\frac{L_0 + L_1 + L_2}{3}    
$$

   1   3    $x_i, w_j$  .  weight    loss value($L_0,~L_1,~L_2$)       .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211702662-7272dcce-7541-4032-b981-34057e3acbbf.png" width="800"/>
</div>

 loss function             $W$  .      SVM  hinge loss function    convex function     .   convex optimization        loss       .  convex optimization    gradient  hessian   ,   loss function weight           constraint   .   


# Optimize methods

## Random search

  weight loss function     <U>  </U>.          brute-force, Weight     $L(W)$     loss     $W$  .        , weight          weight    <U>  </U>   .   weight parameter           weight   0 .   
 ,    weight (  )  weight <U>   </U>        .  global optimal solution  weight      weight   .    hiker    .   hiker <U>  </U>         , <U>    </U>   .

## Random local search

       feasible direction  ,   loss value        .               .     hiker  <U>     hiker</U>        .

## Following the gradient

                  .  gradient  . Gradient        ,    <U>         </U> .

$$
    \\frac{df(x)}{dx} = \\lim_{h \\rightarrow 0} \\frac{f(x+h) - f(x)}{h}   
$$

   , gradient     .

$$
    \\nabla f(x) = \\begin{bmatrix}
        \\frac{\\partial f(x)}{\\partial x_1} \\newline
        \\frac{\\partial f(x)}{\\partial x_2} \\newline
        \\vdots \\newline
        \\frac{\\partial f(x)}{\\partial x_n}
    \\end{bmatrix}   
$$

Gradient     $\\delta$      numerical gradient ,  function      analytic  gradient .

$$
    \\begin{aligned}
        \\frac{df(x)}{dx} =& \\frac{f(x+\\delta) - f(x)}{\\delta} \\newline
        \\frac{df(x)}{dx} =& \\frac{f(x+\\delta/2) - f(x-\\delta/2)}{\\delta}
    \\end{aligned}   
$$

Numerical gradient   $\\delta$     ,         .     tangential line    .   gradient              ,   <U>negative value</U> weight       .

$$
    W_{i+1} = W_i - \\alpha \\nabla_W L(W_i))    
$$

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211714508-593931e0-4b0b-4c0e-bed6-1ead7548f0ad.png" width="800"/>
</div>

 gradient    parameter update hyperparameter (step size $\\alpha$),                  . Gradient  step size     <U>overshoot</U>  ,      ,       .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211714870-7a29541f-c6f8-4390-8ad9-4d6042e735bb.png" width="300"/>
</div>

   step size   .     gradient   numerical analytic  .      hinge loss cross entropy loss  $W$   ,  <U>analytic   </U>.

$$
    L_i = \\sum_{j \\neq y_i} \\max \\left( 0, W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right)
$$

  sample $i$  hinge loss  .   $W_{y_i}$(weight parameter   class score   )   ,     .  $\\max$         gradient  sub-gradient   .

$$
    \\nabla_{w_{y_i}} = -\\sum_{j \\neq y_i} \\mathbb{1} \\left(W_j^\\top x_i - W_{y_i}^\\top x_i + 1 > 0 \\right) x_i
$$

 loss   class   class   <U>  </U>  ,  margin $1$    $\\max \\left( 0, W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right) = W_j^\\top x_i - W_{y_i}^\\top x_i + 1$  ,

$$
    \\nabla_{w_{y_i}}^j = 
    \\begin{cases}
        \\frac{\\partial}{\\partial W_{y_i}} \\left( W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right) = -x_i, & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 > 0 \\newline
        0, & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\leq 0
    \\end{cases}
$$

    .  $j$      loss analytic form .    class  row   ,    class  row  

$$
    \\nabla_{w_j} = 
    \\begin{cases}
        \\frac{\\partial}{\\partial W_j} \\left( W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right) = x_i, & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 > 0 \\newline
        0, & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\leq 0
    \\end{cases}
$$

    .

$$
    \\nabla_{w_{y_i}}^j = 
    \\begin{cases}
        \\frac{\\partial}{\\partial W_{y_i}} \\left( W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\right) = -x_i & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 > 0 \\newline
        0 & W_j^\\top x_i - W_{y_i}^\\top x_i + 1 \\leq 0
    \\end{cases}
$$

# Stochastic gradient descent, mini-batch gradient descent 

   gradient     .       <U>  gradient  </U> .      gradient  **mini-batch gradient descent**  .   <U>Stochastic Gradient Descent(SGD)</U>    .   
Stochastic random  ,   $N$   loss        <U>     </U>,     gradient   .        (batch)  , gradient              ( convex optimization    ).     100     <U> loss    </U> ( ,  )    .     stochastic gradient descent  noisy weight update            .      <U>mini-batch optimization</U>   .  mini-batch  1     , $K$              .   
      training dataset  **correlation**   .    , <U>120 image set</U>  <U>1000  </U>    ,  <U>1200</U>  gradient    .      ,          <U>mini batch gradient</U>         (   )    .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211718291-66494f31-f22a-4221-aaf8-b751c03ff011.png" width="700"/>
</div>


# 

,  <U>softmax</U>  <U>SVM</U> classifier weight($W$) $x$  score  label $y$   loss ,  data loss $W$   loss  <U>objective</U>( ) .   objective   optimization   ,   analytic  <U>gradient</U>  <U>parameter update</U>  .   loss term gradient        overfitting    dataset   batch    <U>mini-batch gradient descent</U>     .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211720139-4d46fd4a-c9d8-48f1-9c55-402b56ed9750.png" width="400"/>
</div>`,$te=`---
title: "cs231n   (4) - Backpropagation"
category: "ai theory"
publishedAt: "2022-11-05"
thumbnail: "https://user-images.githubusercontent.com/79881119/212449963-f797bdf8-6a43-46a6-993a-a57edb010647.png"
---


# ...
    linear classification task  classifier    **support vector machine**(SVM) **softmax**  ,   classifier <U> </U> loss function  **hinge loss** **cross-entropy loss**    .  weight $W$ bias $b$  parameterize score function $f$  loss function       <U>gradient descent</U>  ,  sample  analytic gradient    computationally cost  <U>stochastic gradient descent</U>(SGD) algorithm  noisy       mini-batch gradient descent    .       (perceptron)    (Multilayer perceptron)   parameter      ,             .


# Perceptron

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212449963-f797bdf8-6a43-46a6-993a-a57edb010647.png" width="700"/>
</div>

<U> </U> (Artificial neural network, ANN) 1943  [A logical calculus of the ideas immanent in nervous activity](https://link.springer.com/article/10.1007/BF02478259)  .   publish McCulloch Pitts        (  )     .    perceptron    ,              [perceptron ](https://psycnet.apa.org/record/1959-09865-001) ,  1958 Frank Rosenblatt  . Resenblatt       feed forward neural network ,       input  weight ,  activation function( )     threshold  $1$,  $-1$     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212450295-57e6ec96-275f-4ef1-8e23-b8400958242a.png" width="700"/>
</div>

             node   layer   perceptron   . Frank Rosenblatt perceptron          , <U>      </U>   .   
    1969 MIT Marvin Minsky Seymour Papert   [Perceptrons](https://leon.bottou.org/publications/pdf/perceptrons-2017.pdf)        . 
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212450524-bf186934-a43e-4d03-958f-4467ceaf6b01.png" width="700"/>
</div>
Minsky Papert       perceptron  <U> XOR     </U>  ,                     . Minsky   perceptron    multilayer perceptron(MLP)        ,   MLP parameter      .


# Multilayer perceptron
    ,            . 1986 [Parallel Distributed Processing](http://www.cs.toronto.edu/~fritz/absps/pdp2.pdf)   hidden layer  multi-layer perceptron backpropagation  .  perceptron   layer    linear classification    , <U>multilayer perceptron</U>(MLP) hidden layer  layer , XOR         .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212450702-29c12691-7823-47a3-9f32-9389888e5240.png" width="400"/>
</div>

 MLP  parameter   perceptron    weight bias   ,  backpropation       . Backpropagation algorithm input   (feed-forward)    output()   (ground truth) ,  (error) (backward)  <U>parameter update</U> .


# Backpropagation
 concept             .    (perceptron)     score function $f$   weight  bias ,   trick   layer parameter weight   .     score function $f$ loss function $\\rho$ ,

$$
    \\begin{aligned}
        \\hat{y} =& f(W;~X) = X \\cdot W \\newline
        \\delta =& \\rho(\\hat{y},~y)
    \\end{aligned}    
$$

score function $f$   prediction $\\hat{y}$ ground truth $y$ loss metric $\\rho$   error  $\\delta$   . Error    output <U> </U>(direction) .   input $W,~x$  prediction $\\hat{y}$   ,   input      .        gradient descent    . Parameter <U>$W$   $\\delta$ </U>  .

$$
    \\frac{\\partial \\delta}{\\partial W}    
$$

  $\\delta$    ,   $W$    .     hyperplane (tangential plane) direction    loss function global minima   .   step size     <U>gradient descent</U>  .

$$
    \\delta_W = \\delta \\times \\frac{\\partial W}{\\partial \\delta} = \\delta \\times \\frac{\\partial \\hat{y}}{\\partial \\delta} \\times \\frac{\\partial W}{\\partial \\hat{y}}
$$

 layer    ,   layer    .  $\\sigma$ <U>activation function</U>  .

$$
    \\begin{aligned}
        \\hat{y} = f(W_1,~W_2,~\\cdots,~W_n;~X) =& \\sigma( \\cdots \\sigma(\\sigma(X \\cdot W_1) \\cdot W_2) \\cdots W_n) \\newline
        \\delta =& \\rho(\\hat{y},~y)
    \\end{aligned}    
$$

    $y_k$ $k$    .    $\\hat{y} = y_n$.   perceptron    output   input    .

$$
    \\delta_{W_n} = \\delta \\times \\frac{\\partial \\sigma}{\\partial \\delta} \\times \\frac{\\partial W_n}{\\partial \\sigma} = \\delta \\times \\frac{\\partial y_n}{\\partial \\delta} \\times \\frac{\\partial \\sigma}{\\partial y_n} \\times \\frac{\\partial W_n}{\\partial \\sigma}
$$

  output $\\hat{y}$ activation function $\\sigma$         <U>chain rule</U>  . ,

$$
    \\delta_{W_{n-1}} = \\delta \\times \\frac{\\partial \\sigma}{\\partial \\delta} \\times \\frac{\\partial y_{n-1}}{\\partial \\sigma} \\times \\frac{\\partial W_{n-1}}{\\partial y_{n-1}}
$$

  forward     $y_k$  local derivatives     ,  backpropagation .  multilayer perceptron  ,         

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212582088-59a9e8b1-aaab-4be0-9016-b13966f4aa50.png" width="400"/>
</div>

    input($x,~y,~z$     ),     .   input          multilayer perceptron.    backpropagation   <U> </U>    .      metric      .     $f$   $f$    $1$  .        ($q$   ) $-4$.  $f = qz$ $q$   $z$ .   ($x$   ) $-4$.  $f = qz = (x+y)z$ $x$   $z$ (by chain rule).   ($y$   ) $-4$.  $f = (x+y)z$ $y$   $z$ (by chain rule).    ($z$   ) $3$.  $f$ $z$   $x+y$ .      ,         insight  .

- Forward process   output backward process   input  gradient  .
-  (   $f$ )  gradient    gradient chain rule    .


# Backpropagation 

Backpropagation <U>local process</U>(  ).    gate input      .    gate    (       ),   input  output local gradient(       )  .  gate         <U> gate   </U> <U>gradient </U>     .  forward pass   , backpropagation     output value     parameter  gradient    .         chain rule  gate <U> input  gradient </U>    .  gradient    (backward process)   output   . , chain rule  multiplication         perceptron <U> </U>     .     ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212582088-59a9e8b1-aaab-4be0-9016-b13966f4aa50.png" width="400"/>
</div>

   gate input $-2$, $5$  output $3$ . Gate  input    ,  input  gradient $+1$.    gate      $-12$ . Backward pass(backpropagation)  chain rule , backpropagation  ,  gate  output  gradient $-4$  .     <U>'output     '</U> .   gate gradient ($-4$),   gate output <U>   </U>   .   gradient   output   gate output      . Backpropation  ,  gate    input( $x$, $y$)  local gradient  gate output $q$  gradient   . , input $x$  $y$   $1 \\times (-4) = -4$  .    input        $x$, $y$     gate output  , gate output   .    output  <U>gate  gradient</U>  gate input  local gradient    input  gradient   ,   <U> input    </U> ** output   **     .    gate backpropagation       ,   chain rule     .


# Example of two dimensional neuron

$$
    f(w,~x) = \\frac{1}{1+e^{-(w_0x_0 + w_1x_1 + w_2)}}    
$$

    $2$    sigmoid activation function   .          .

$$
    \\begin{aligned}
        f(x) =& \\frac{1}{x} \\rightarrow \\frac{df}{dx} = -\\frac{1}{x^2} \\newline
        f(x) =& x + c \\rightarrow \\frac{df}{dx} = 1 \\newline
        f(x) =& e^x \\rightarrow \\frac{df}{dx} = e^x \\newline
        f(x) =& ax \\rightarrow \\frac{df}{dx} = a
    \\end{aligned}    
$$

       . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212587574-66d72e68-6c54-49a4-84f5-9cb9ebcff619.png" width="900"/>
</div>

      value() gradient()     .      backpropagation   .  output $1.00$  . $\\frac{1}{x}$ gate  local gradient  $\\frac{df}{dx} = -\\frac{1}{x^2}$ .  $x$  input $1.37$ ,   gate gradient   $1 \\times (-1/(1.37)^2) = -0.53$.    1  operation gradient    (input  local gradient 1 ) $-0.53$  .   
  exponential operation  local gradient($\\frac{df}{dx} = e^x$) input  output local gradient     ,   gradient output   $-0.53 \\times 0.37 = -0.20$ . $-1$   gradient       $(-0.20) \\times (-1) = 0.20$ .   
 input    ,  $w2$         gradient   $1$  .  $0.20$  .     ,   $0.20$     .     gate     ,      $0.20$ gradient .   
    gate, gate  gradient $0.20$     input    input  gradient .   $f(x,~y) = xy$ gate ,  input  local gradient $\\frac{\\partial f}{\\partial x} = y,~\\frac{\\partial f}{\\partial y} = x$  .     $w0$  gradient $0.20 \\times x0 = -0.20$, $x0$  gradient $0.20 \\times w0 \\simeq 0.39$(    ,          ) . $w1,~x1$  gradient       $-0.39,~-0.59$      .   


# Sigmoid function gradient
   sigmoid function        .        sigmoid function analytic    .

$$
    \\begin{aligned}
        \\sigma (x) =& \\frac{1}{1+e^{-x}} \\newline
        \\frac{d \\sigma(x)}{dx} =& \\frac{e^{-x}}{(1+e^{-x})^2}
    \\end{aligned}    
$$

Sigmoid function      .

$$
    \\frac{d \\sigma(x)}{dx} = \\left( \\frac{1+e^{-x}-1}{1+e^{-x}} \\right)\\left( \\frac{1}{1+e^{-x}} \\right) = (1-\\sigma(x))\\sigma(x)  
$$

      , $w0x0 + w1x1 + w2$  sigmoid function input $x$   $\\sigma(x) = 0.73$, $\\sigma (x)(1-\\sigma (x)) = 0.73 \\times (1-0.73) = 0.1971$    .


# 

 linear classification            ,        backpropagation    . Backpropagation   local gradient          , perceptron    task       .


# Appendix

##### Question : Draw a model diagram of following equation and calculate gradient with python simulation. 
$$
    f(x,~y) = \\frac{x+\\sigma (y)}{\\sigma (x) + (x+y)^2}    
$$

##### Answer

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212597740-e67d424b-86a6-40aa-90a5-2e5ec6036749.png" width="700"/>
</div>

\`\`\`python
x = 3 # example values
y = -4

# forward pass
sigy = 1.0 / (1 + math.exp(-y)) # sigmoid in numerator   #(1)
num = x + sigy # numerator                               #(2)
sigx = 1.0 / (1 + math.exp(-x)) # sigmoid in denominator #(3)
xpy = x + y                                              #(4)
xpysqr = xpy**2                                          #(5)
den = sigx + xpysqr # denominator                        #(6)
invden = 1.0 / den                                       #(7)
f = num * invden # done!                                 #(8)

# backprop f = num * invden
dnum = invden # gradient on numerator                             #(8)
dinvden = num                                                     #(8)
# backprop invden = 1.0 / den 
dden = (-1.0 / (den**2)) * dinvden                                #(7)
# backprop den = sigx + xpysqr
dsigx = (1) * dden                                                #(6)
dxpysqr = (1) * dden                                              #(6)
# backprop xpysqr = xpy**2
dxpy = (2 * xpy) * dxpysqr                                        #(5)
# backprop xpy = x + y
dx = (1) * dxpy                                                   #(4)
dy = (1) * dxpy                                                   #(4)
# backprop sigx = 1.0 / (1 + math.exp(-x))
dx += ((1 - sigx) * sigx) * dsigx                                 #(3)
# backprop num = x + sigy
dx += (1) * dnum                                                  #(2)
dsigy = (1) * dnum                                                #(2)
# backprop sigy = 1.0 / (1 + math.exp(-y))
dy += ((1 - sigy) * sigy) * dsigy                                 #(1)
\`\`\`

##### Answer solution
   value gradient   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212598822-4e6e5958-2a9f-48dc-b96b-2b9bc5ff9f85.png" width="500"/>
    <img src="https://user-images.githubusercontent.com/79881119/212598817-aa15d8c5-02d8-474d-aff1-e822bb2973fd.png" width="500"/>
</div>

   forward process  value,    backward    gradient    .  , $f(x,~y)$    gate      input   . Output  gradient $1$ , $1$  input  .    .

\`\`\`python
# backprop f = num * invden
dnum = invden # gradient on numerator                             #(8)
dinvden = num                                                     #(8)
\`\`\`
 $1/x$   gradient   input \`\`\`den\`\`\`  $-1/x^2$ .   .

\`\`\`python
# backprop invden = 1.0 / den 
dden = (-1.0 / (den**2)) * dinvden                                #(7)
\`\`\`

 \`\`\`xpysqr\`\`\` \`\`\`sigx\`\`\`  , \`\`\`dsigx\`\`\` \`\`\`dxpysqr\`\`\`  \`\`\`dden\`\`\` gradient  .

\`\`\`python
# backprop den = sigx + xpysqr
dsigx = (1) * dden                                                #(6)
dxpysqr = (1) * dden                                              #(6)
\`\`\`
  gradient     \`\`\`dxpy\`\`\`  .

\`\`\`python
# backprop xpysqr = xpy**2
dxpy = (2 * xpy) * dxpysqr                                        #(5)
\`\`\`
 \`\`\`dxpy\`\`\` gradient   input \`\`\`x\`\`\` \`\`\`y\`\`\`   .  \`\`\`dx\`\`\` \`\`\`dy\`\`\`  .

\`\`\`python
# backprop xpy = x + y
dx = (1) * dxpy                                                   #(4)
dy = (1) * dxpy                                                   #(4)
\`\`\`

  $\\sigma$  gradient    .      output \`\`\`sigx\`\`\` 

\`\`\`python
# backprop sigx = 1.0 / (1 + math.exp(-x))
dx += ((1 - sigx) * sigx) * dsigx                                 #(3)
\`\`\`

 ,    \`\`\`dx\`\`\`      . \`\`\`dnum = x + sigy\`\`\`   gate gradient      .

\`\`\`python
# backprop num = x + sigy
dx += (1) * dnum                                                  #(2)
dsigy = (1) * dnum                                                #(2)
\`\`\`

  $\\sigma$  gradient  .

\`\`\`python
# backprop sigy = 1.0 / (1 + math.exp(-y))
dy += ((1 - sigy) * sigy) * dsigy                                 #(1)
\`\`\`
`,Ete=`---
title: "cs231n   (5) - Neural Network"
category: "ai theory"
publishedAt: "2022-11-06"
thumbnail: "https://user-images.githubusercontent.com/79881119/212606281-bb0f97b8-8f89-4378-8f6b-6fde347130a7.png"
---


# ...

   perceptron    multilayer perceptron ,        backpropagation    .     neural network  ,           <U>architecture, structure</U>   .


# Neural network
    neural network   .  perceptron    . Linear classification     <U>class  </U>(score function $f$),   perceptron score function  weight parameter $W$   .   CIFAR-10 dataset input    $32 \\times 32 \\times 3$ column vector, score function  weight $10 \\times 3072$ matrix  10 class   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/212606281-bb0f97b8-8f89-4378-8f6b-6fde347130a7.png" width="700"/>
</div>

  parameter  ,      neural network .    perceptron    score function   ,

$$
    s = W_2 \\max(0,~W_1x)    
$$

    affine  .  affine   **' '** .  $W_1$ $100 \\times 3072$ matrix, $W1 \\cdot x$   $100$  hidden feature(vector)   . $W_2$    $\\max$    $100$ vector  non-linear  . Non-linear     <U>activation function</U> ,    perceptron      neural network       . Activation function  ,        .     $\\max$  $0$   $0$,       <U>Rectified Linear Unit</U>(ReLU)  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213332542-a5eb034c-356b-4eb0-8847-4500c1b3dcdc.png" width="700"/>
</div>

    neural network  .  linear operation $n$ layer   ,

$$
    y = x \\bigodot_{i=1}^n W_n = x \\odot W
$$

  $\\bigodot_{i=1}^n W_n = W$      linear operation $1$    .   weight    <U>   </U>    . Deep neural network   activation function    .        backpropagation   .


# Modeling neuron

   <U> neural system</U>      .  engineering        ,  neural system            .          neuron().  $860$        ,   $10^{14}$ ~ $10^{15}$   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213333618-16ab5dc1-3297-455a-a21d-6551a720bcf5.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/213333676-5d89f078-3a26-403d-a40b-bd347794c813.png" width="300"/>
</div>

           .     input  **dendrites**  , **axon**  output signal  .  **branch**  axon      **dendrites** .      perceptron  axon    $x$ input    ,     $n$-dimensional data  dimension      dendrites  .    weight $W$       dendrites <U> </U>(strength) .        dendrites   weighted summation . Input  output   value     ($n$ to $1$ function).

$$
    \\sum_{i} w_i x_i + b
$$

    $W,~x$     threshold  ,  fire(activate) ,   axon    .     ,   activate        computational      <U> </U> spike   .     perceptron   neuron     **'fire(activation)'**   'firing rate of the neuron'       function $f$, <U>activation function</U>( ) .

$$
    y = f \\left( \\sum_{i} w_i x_i + b \\right)
$$

  <U> </U> **firing, activating**  <U>computer perceptron</U>     non-linearity     **activation function**.        class   . \`\`\`forward\`\`\`     \`\`\`inputs\`\`\`($x$)    firing rate($0 \\sim 1$)  .  firing rate <U>normalize</U>  ,     .

\`\`\`python
class Neuron(object):
    def forward(self, inputs):
        """ assume inputs and weights are 1-D numpy arrays and bias is a number """
        cell_body_sum = np.sum(inputs * self.weights) + self.bias
        firing_rate = 1.0 / (1.0 + math.exp(-cell_body_sum)) # sigmoid activation function
        return firing_rate
\`\`\`


# Single neuron as a linear classifier

      $\\sigma \\left( \\sum_i w_i x_i + b \\right)$   ,    weight $W$ input $x$  class probability .       class   ($y$ $0$  $1$).  $0 \\sim 1$ normalize    class    .  input $x$  class $1$   $p(y_i = 1 \\vert x_i;~w)$,  class $0$   $1 - p(y_i = 1 \\vert x_i;~w) = p(y_i = 0 \\vert x_i;~w)$ .   
         .     <U> perceptron</U> classification       <U>softmax</U>  <U>linear classification</U>  .   input $x_i ~ (i = 1,~2,~\\cdots,~n)$ ,

$$
    \\sigma \\left( \\sum_i w_i x_i + b \\right) = 0.2
$$

 . Sigmoid  $\\sigma$    input     $0 \\sim 1$   .     $0$  $1$  ,     .

$$
    \\sigma \\left( \\sum_i w_i x_i + b \\right) = p(y_i = 1 \\vert x_i;~w) = 0.2
$$

 $0$  $1$  , $1$   $1$     .  $0$ ,

$$
    1 - \\sigma \\left( \\sum_i w_i x_i + b \\right) = 1 - p(y_i = 1 \\vert x_i;~w) = 0.8
$$

 .   softmax  linear classification   SVM(Support Vector Machine)   activation function   . 

$$
    R(W) = \\sum_k \\sum_l W_{k,~l}^2    
$$

Linear classification     data loss     <U>regularization loss</U> .  regularization loss     'gradual forgetting'.   parameter      weight $0$    .

---

# Activation functions

     firing rate     activation function, non-linear function . Neural network    activation function .

## Sigmoid($\\sigma$) function
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213339599-ab505b03-2644-4c3b-af92-c74a3c5a7aa2.png" width="400"/>
</div>

     sigmoid .           .  input   input   (  ), neuron firing rate    negative number $0$,  positive number $1$ mapping   .  sigmoid      .   
  Sigmoid  $x$     <U>  </U>  , <U>gradient vanishing</U> (gradient 0  ) . Backpropagation  recall  <U>local gradient</U> gate output  <U> gradient</U>     ,  <U>sigmoid gate</U> local gradient $0$ , ** gate   weight**    , weight initialization            .   
  sigmoid   $0$    .  activation function value    , parameter update   weight   update         .     .   input($x$) neuron  , input($x$)    positive .

$$
    f = \\sigma \\left( W^\\top x + b \\right)  = \\sigma \\left( y \\right)  
$$

 sigmoid function  local gradient  .

$$
    \\frac{d \\sigma(y)}{dy} = \\left( \\frac{1+e^{-y}-1}{1+e^{-y}} \\right)\\left( \\frac{1}{1+e^{-y}} \\right) = (1-\\sigma(y))\\sigma(y)  
$$

     sigmoid function output $0 \\sim 1$    , sigmoid gate   gradient <U> input  </U>  .  chain rule  weight $W$ ,

$$
    \\begin{aligned}
        \\frac{\\partial f}{\\partial W} =& \\frac{\\partial f}{\\partial \\sigma} \\cdot \\frac{\\partial \\sigma}{\\partial y} \\cdot \\frac{\\partial y}{\\partial W} \\newline
        =& (1-\\sigma)\\sigma x > 0
    \\end{aligned}
$$

  .  <U> gradient  </U>      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213344264-7bf34af9-fd9b-4180-92eb-e7e5ebe6fdf9.png" width="300"/>
    <img src="https://user-images.githubusercontent.com/79881119/213344283-67231bd0-8f44-4329-b261-175a4ccffd55.png" width="300"/>
</div>

  weight column axis   parameter update   .  weight   update ,   $W_2$   $W_1$     ,     . 

## Hyperbolic tangent($\\tanh$) function

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213344841-bc551100-7760-4ee9-b226-a50cbb320776.png" width="400"/>
</div>

  $\\tanh(x) = 2\\sigma(2x) - 1$    .      local gradient
$$
    \\frac{d}{dx} \\tanh(x) = (1 - \\tanh(x))(1 + \\tanh(x))
$$

      sigmoid  gradient   .  sigmoid value($\\sigma$)  <U>weight parameter update</U>     $\\tanh$   .        input value  gradient saturation  ,    activation function  node  <U>  </U>  .

## Rectified Linear Unit(ReLU) function

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213348547-512ac25f-04e3-4ec0-9f2a-ce356d4f3e08.png" width="400"/>
</div>

       .    threshold $0$ hinge loss .  activation function [AlexNet ](https://proceedings.neurips.cc/paper/2012/file/c399862d3b9d6b76c8436e924a68c45b-Paper.pdf)   ,    sigmoid function   ReLU           (   ReLU  neural network,  sigmoid  neural network   ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213348888-063ecd09-a49d-4896-a950-e4c812d75937.png" width="400"/>
</div>

ReLU    .   
 gradient vanishing    (,  )   ,    $x$   gradient $1$ .  ,     exponential   computational   , ReLU function   0         .
 ReLU <U>'die' </U>. ReLU gate  <U> gradient </U> weight  ,  activate       .  ReLU    weight            deactivation  ,  weight parameter    ,   parameter  network   <U>   </U> .  learning rate, weight parameter       robust    .

## Leaky ReLU, Parametric ReLU

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213350026-f11acb39-a9ef-465a-b579-30e4219ac8a8.png" width="400"/>
</div>

 0  value        LeakyReLU,      $a$    ($y = ax$) parameteric ReLU   ReLU    activation function .    periodic activation function, GeLU, SiLU  task   activation function  .


# Neural network architectures

## Graph structure and the number of layers

             .      output   input ,  <U>    </U>(not commutable).    cyclic (  output     input   )  ,  IIR(infinite impulse response) system .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213358377-e65cd2e1-18c0-48f2-a65f-d72420066dee.png" width="600"/>
</div>

    neural network structure   '$3$ layer  network' .  $N$ layer  neural network   <U>input layer</U>  counting     ,  input layer  modality   (, , )   .   
 single layer neural network  hidden layer    , logistic regression SVM  single layer neural network .    linear classification single neural network .    ANN(Artificial Neural Networks)  MLP(Multi-Layer Perceptrons) .    perceptron       .  output layer <U>activation function  </U> ,  <U>classification </U>  score , <U>  regression </U> task   .

## Neural network size
Neural network   parameter   .  layer       parameter  ,  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213358377-e65cd2e1-18c0-48f2-a65f-d72420066dee.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/213359552-f778f00f-1e94-4629-9d39-a1dcd92bc846.png" width="300"/>
</div>

   layer ()  ,   layer    <U>  </U>() .        parameter    bias   ,

$$
    \\begin{cases}
        \\text{input layer} \\rightarrow \\text{hidden layer 1}, & W \\in \\mathbb{R}^{3 \\times 4},~b \\in \\mathbb{R}^{1 \\times 4} \\newline
        \\text{hidden layer 1} \\rightarrow \\text{hidden layer 2}, & W \\in \\mathbb{R}^{4 \\times 4},~b \\in \\mathbb{R}^{1 \\times 4} \\newline
        \\text{hidden layer 2} \\rightarrow \\text{output layer}, & W \\in \\mathbb{R}^{4 \\times 1},~b \\in \\mathbb{R}^{1 \\times 1}
    \\end{cases}    
$$

     parameter   parameter     $41$ .        ,

$$
    \\begin{cases}
        \\text{input layer} \\rightarrow \\text{hidden layer}, & W \\in \\mathbb{R}^{3 \\times 4},~b \\in \\mathbb{R}^{1 \\times 4} \\newline
        \\text{hidden layer} \\rightarrow \\text{output layer}, & W \\in \\mathbb{R}^{4 \\times 2},~b \\in \\mathbb{R}^{1 \\times 2}
    \\end{cases}    
$$

    parameter   parameter     $26$ .


# Representation power
Neural Networks <U>fully connected layers</U>     weight parameter    .      <U>representational power</U>   , Neural Network      .    hidden layer  neural network MLP ,  neural network  structural scale <U> 2  layer </U>  .  neural network universal approximator   ([ ](http://neuralnetworksanddeeplearning.com/chap4.html)). Universal approximator   ,     real world      ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213361934-e6fce9aa-2536-4cca-aca6-50053a7d013f.png" width="400"/>
</div>

Neural network   input $x$   $f(x)$  .     $1$(scalar)   function estimation , $n$ modality  multi-dimension function estimation  .    continous  $f$        neural network function $g$      .   neural network continous function    .

$$
    \\begin{aligned}
        \\text{if any }f(x) \\text{ is continous and some }\\epsilon > 0, \\newline
        \\exists~g(x)~\\text{s.t. }\\forall x, \\vert f(x) - g(x) \\vert < \\epsilon 
    \\end{aligned}
$$

     hidden layer   neural network Universal approximator   .   $2$   neural network universal approximator    (     )  .

$$
    g(x) = \\sum_i c_i 1(a_i < x < b_i)    
$$

     universal approximator             . Neural Network     <U>  </U>    <U>     </U>   ,      gradient descent   optimization .   (    )                <U>representation power</U>()   ,  **representation power** <U>Universal approximator    , </U>   .


# Why deep learning?
 3 layer  Neural Network 2 layer  Neural Network  representation power    task     ,    layer         <U>key point</U>  .   <U>Convolutional Neural Network</U>  , CNN   recognition       ( CNN        ). Image    (     texture),   layer           .        , neural network layer       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213365482-8584de43-5b15-4a21-92ae-74e9f527996b.png" width="700"/>
</div>

   ,         task  hidden layer  decision area()    .  neural network  representation power           training dataset overfitting  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213365915-860b745d-fa49-4201-acb1-f67cae79684c.png" width="700"/>
</div>

Overfitting    <U>training data</U> noise   ,    $20$ layer classifier  dataset    representation learning   <U>red, green   </U>  .    test dataset      .           .  linear classification  $L_2$ regularization     node(weight)  dropout    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213366471-78948448-5394-4835-b7b9-2a804dc7ac4f.png" width="700"/>
</div>

Classification  loss      <U>regularization loss</U>    $\\lambda$  ,   loss     continous function      . Regularization            , regularization  classification task  <U>weight parameter  </U> .   
 layer    local minima  . Representation power        weight  loss graph .  layer    minima   ,  global minima    (weight     , feasible area  )       .      local minima ,         .   
    local minima ,           (        )    ,   local minima    global minima    variance          .  weight          .   
    overfitting , representation    <U>       </U>  .      ,    regularization   overfitting          .


# 

    <U>  </U>     . <U>Local minima</U>  <U>global minima</U>   ,  minima   <U>     </U>.     weight    ,   <U>loss function  </U>        <U>   </U> .       ,     <U>representation power</U>   <U>overfitting</U>  .         , <U>regularization </U> . Deep neural network representation learning  <U>local minima </U>    point <U>  global minima   </U>,   loss       .
`,Ste=`---
title: "cs231n   (6) - Data preprocessing, Weight initialization, Batch Normalization"
category: "ai theory"
publishedAt: "2022-11-07"
thumbnail: "https://user-images.githubusercontent.com/79881119/213600588-8f6cfa86-243f-4354-882c-40df505ec05a.png"
---


# ...

    ** **  . Linear classification   softmax, SVM(support vector machine) classifier ,  classifier    score function   <U>neural network</U> .      <U>perceptron</U>       ,     <U>non-linearity</U>      <U>deep neural network</U> chain-rule          real-world task  universal approximator     .     <U>representation power</U>(     )     overfitting(weight   , training dataset   ) ,      regularization (dropout, $L_2$ regularization ) .   
       ,      , Weight      batch normalization  regularization       .


# Data preprocessing()

  $X$    .   data $X$ $X \\in \\mathbb{R}^{N \\times D}$ batch  matrix  . $N$ data sample  , $D$   dimensionality() .    $3 \\times 32 \\times 32$ RGB     10  $N = 10,~D = 3072$  .

## Original data
      original data  .   preprocessing    ,     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213594618-5db41741-b847-4fae-a6e3-d7dbce8e8f31.png" width="300"/>
</div>

 $2$  ,    sample .

## Mean substraction

      data   bias   '<U>mean substraction</U>' . Mean substraction  dimension    .

\`\`\`python
original_data = X #(assume that X is numpy array with shape N*D)
zero_centered_data = X - np.mean(X, axis = 0)
\`\`\`

\`\`\`numpy\`\`\`          \`\`\`np.mean(_, axis=0)\`\`\`      array <U>$0$ </U>     . $0$        $2$    column vector  column vector($\\mathbb{R}^{N \\times 1}$)   . $2$    column vecor  bias  , original data     $(0, 0)$  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213595506-e8b3356f-67c8-4742-943e-7d1dac31aef1.png" width="300"/>
</div>

## Normalization

    feature   ,     <U>      </U>       learning rate            .

\`\`\`python
original_data = X #(assume that X is numpy array with shape N*D)
zero_centered_data = X - np.mean(X, axis = 0)
normalized_data = zero_centered_data / np.std(X, axis = 0)
\`\`\`

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213595891-6d7ac658-9be3-48d8-8193-78870d3a2492.png" width="300"/>
</div>


# PCA and Whitening

   dataset sample  preprocessing.  feature vector      column correlation     ($y = ax$).  correlation   <U>PCA and Whitening</U>  .

\`\`\`python
original_data = X #(assume that X is numpy array with shape N*D)
zero_centered_data = X - np.mean(X, axis = 0)
covariance_matrix = zero_centered_data.T.dot(zero_centered_data)/X.shape[0]
\`\`\`

   .   data $X \\in \\mathbb{R}^{N \\times D}$  zero-centered matrix  ,   zero-centered matrix  inner product    $N$  covariance matrix    .

$$
    Cov(X) = \\frac{\\left(X-\\mu(X) \\right)^\\top \\left(X-\\mu(X) \\right)}{N}    
$$

 covariance matrix     $i$ feature $j$ feature  .   $2 \\times 2$ matrix  .  covariance matrix  symmetric matrix ,   diagonal component feature   autocorrelation, autocorrelation   variance . Covariance matrix singular value decomposition(SVD)   covariance matrix eigenvector $U$, eigenvalues $V$, singular values $S$    .

\`\`\`python
U, S, V = np.linalg.svd(covariance_matrix)
\`\`\`

SVD   covariance matrix   feature  correlation  ,   orthonormal matrix $U$ projection  basis   (  bias ) correlation    .

\`\`\`python
X_dr = zero_centered_data.dot(U)
\`\`\`

Dot production   orthonormal basis $U$   rotation .        feature vector  correlation  ,      (decorrelation ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213595506-e8b3356f-67c8-4742-943e-7d1dac31aef1.png" width="300"/>
    <img src="https://user-images.githubusercontent.com/79881119/213597407-40ac00c8-6802-4342-b096-054e8b35bd40.png" width="290"/>
</div>

 PCA <U>Principal Component Analysis</U>,  SVD   feature basis    '' feature   .  eigenbasis eigenvalue      $D$ feature    $100$    .     $2$    PCA   ,  feature      feature   . <U>Curse of dimension</U>    data  manifold     ,    hyperplane      .

\`\`\`python
Xrot_reduced = np.dot(X, U[:,:100]) # Xrot_reduced becomes [N x 100]
\`\`\`

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213598817-8a7b082a-abcf-44e4-9ca7-ae6c7e3c947e.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/213598863-fcf469d6-24f5-4614-8b83-d21acd81eaa7.png" width="400"/>
</div>

    Swiss roll  3      plane() ,   3     <U>       </U>  projection   PCA   .   
      ,    $N \\times D$ $N \\times 100$  feature     decorrelation    .   data eigenbasis  projection    dimension eigenvalue  ,  basis data sample  variance normalization .  whitening . $X$  basis   (projection),    feature    eigenvalue  .    diagonal  basis  $\\sigma$ ,  value covariance matrix diagonal element  .

\`\`\`python
# whiten the data:
# divide by the eigenvalues (which are square roots of the singular values)
Xwhite = Xrot / np.sqrt(S + 1e-5)
\`\`\`

Whitening    $0$ identity covariance matrix  white noise      .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213600588-8f6cfa86-243f-4354-882c-40df505ec05a.png" width="800"/>
</div>


# Weight initialization
KNN(K-neareat neighbors)  <U>instance-based learning</U>(training dataset instance  test data   )  <U>model-based learning</U>    weight parameter ,  update   .      <U>weight </U>   ,      ?

## Zero initialization
       weight $0$  . Weight      parameter       ,   parameter  deep neural network  weight  <U>positive</U>,  <U>negative</U>      (  ).    $0$    weight positive,  weight negative      weight parameter         .  network    output , backpropagation    update  .   weight    weight matrix assymetric  .      perceptron code .

\`\`\`python
import numpy as np

# sigmoid as an activation function
def sigmoid(x):
    return 1 / (1 +np.exp(-x))

# input : 2 * 3 [N * D]
input = np.array([[-1, 0, 1], [-1, 1, 0]])

# target : 2 * 2 [N * out]
target = np.array([[0, 1], [1, 0]])

# Weight 1 [3 * 4]
W1 = np.zeros((3, 4))

# Weight 2 [4 * 2]
W2 = np.zeros((4, 2))

# feed forward
hidden = sigmoid(input.dot(W1))
out = hidden.dot(W2)

# calculate difference
diff = target - out

# backpropagation
W2 -= hidden.T.dot(diff)
W1 -= input.T.dot((hidden*(1-hidden)))

# print results
print(W1, W2)
\`\`\`

       .

$$
    \\begin{aligned}
        \\text{input} =& \\begin{bmatrix}
            -1 & 0 & 1 \\newline
            -1 & 1 & 0
        \\end{bmatrix},~\\text{target} = \\begin{bmatrix}
            0 & 1 \\newline
            1 & 0
        \\end{bmatrix} \\newline
        \\text{output} =& \\sigma \\left( input \\odot W1 \\right) \\odot W2 \\newline
        \\text{diff} =& \\text{target} - \\text{output}
    \\end{aligned}    
$$

    weight parameter  ,

$$
    W_1 = \\begin{bmatrix}
        0.5 & 0.5 & 0.5 & 0.5 \\newline
        -0.25 & -0.25 & -0.25 & -0.25 \\newline
        -0.25 & -0.25 & -0.25 & -0.25
    \\end{bmatrix},~W_2 = \\begin{bmatrix}
        -0.5 & -0.5 \\newline
        -0.5 & -0.5 \\newline
        -0.5 & -0.5 \\newline
        -0.5 & -0.5
    \\end{bmatrix}
$$

   row    update    .  weight parameter    neural network    node  ,  update    parameter   weight    .  , parameter   <U>representation power </U> .     parameter $0$          .


\`\`\`python
import numpy as np

# sigmoid as an activation function
def sigmoid(x):
    return 1 / (1 +np.exp(-x))

input = np.array([[-1, 0, 1], [-1, 1, 0]])
target = np.array([[0, 1], [1, 0]])

value1 = 0.01
value2 = 0.09

W1 = value1 * np.ones((3, 4))
W2 = value2 * np.ones((4, 2))

# feed forward
hidden = sigmoid(input.dot(W1))
out = hidden.dot(W2)

# calculate difference
diff = target - out

# backpropagation
W2 -= hidden.T.dot(diff)
W1 -= input.T.dot((hidden*(1-hidden)))

# print results
print(W1, W2)
\`\`\`

W1, W2      .   .

$$
    W_1 = \\begin{bmatrix}
        0.51 & 0.51 & 0.51 & 0.51 \\newline
        -0.24 & -0.24 & -0.24 & -0.24 \\newline
        -0.24 & -0.24 & -0.24 & -0.24
    \\end{bmatrix},~W_2 = \\begin{bmatrix}
        -0.23 & -0.23 \\newline
        -0.23 & -0.23 \\newline
        -0.23 & -0.23 \\newline
        -0.23 & -0.23
    \\end{bmatrix}
$$

## Small random numbers
Overfitting       weight <U>  </U>    .       random  .

\`\`\`python
W = 0.01* np.random.randn(D, H)
\`\`\`
 $H$ hidden layer output dimension . \`\`\`randn\`\`\` $D \\times H$     ,   $0.01$      weight matrix $W \\in \\mathbb{R}^{D \\times H}$ .

## Calibrating the variances with $\\frac{1}{\\sqrt{N}}$

   output   variance input      .     \`\`\`0.01\`\`\`       ,  neuron output  $1$ variance( )  .  layer input  $n$  layer   neuron weight

\`\`\`python
w = np.random.randn(n) / sqrt(n)
\`\`\`

  ,   neuron  output distribution ,   convergence    .

$$
    \\begin{aligned}
        \\text{Var}(s) =& \\text{Var} \\left( \\sum_i^n w_i x_i \\right) \\newline
        =& \\sum_i^n \\text{Var} (w_i x_i) \\newline
        =& \\sum_i^n \\left( E(w_i) \\right)^2 \\text{Var} (x_i) + \\left( E(x_i) \\right)^2 \\text{Var}(w_i) + \\text{Var} (x_i) \\text{Var}(w_i) \\newline
        =& \\sum_i^n \\text{Var} (x_i) \\text{Var}(w_i) \\newline
        =& (n \\text{Var}(w)) \\text{Var} (x)
    \\end{aligned}    
$$
 concept     .

## Sparse initialization
  calibration  (neuron output   )    weight matrix 0  ,        weight        neuron   gaussian noise(  calibration  ,   small random number )  weight  . ,   output distribution     .

## Initializing bias
Bias   $0$  .   weight assymetry  bias    node  assymetry  . ReLU  $0$    gradient     non-linearity  neuron  $0.01$        case ,    performance          .  bias $0$    . 

## He initialization
He et al.   ([](https://arxiv.org/abs/1502.01852)) ReLU  network        .  weight initialization            .

\`\`\`python
W = np.random.randn(n)*sqrt(2.0/n)
\`\`\`


# Batch normalization

[Deep Residual Learning for Image Recognition](https://arxiv.org/abs/1512.03385)( ResNet)  convolutional neural network  <U>batch normalization</U>   trend .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213616285-70c21d20-a4e9-4cc9-a291-87c8b041e133.png" width="800"/>
</div>

[Batch normalization](https://arxiv.org/abs/1502.03167)   <U>'batch'   </U> , batch normalization  layer normalization, instance normalization  group normalization .            ,   layer normalization   batch          , Instance normalization  batch,  channel  normalization .  group normalization        ,    normalization .         batch normalization.   
 gradient descent      mini-batch( batch )  parameter update .                noisy  , batch         .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/211718291-66494f31-f22a-4221-aaf8-b751c03ff011.png" width="700"/>
</div>

    neural network batch      . Batch  dataset    batch     ,  layer   feature map      .  '<U>internal covariance shift</U>' .        weight initialization   ,   batch   layer feature map       <U>initialization metric</U>     .   batch     , batch    <U>   </U>   batch normalization concept.   
 batch  mean()  variance()       .

$$
    \\begin{aligned}
        \\mu_\\text{batch} =& \\frac{1}{m} \\sum_{i=1}^m x_i   \\newline
        \\sigma^2_\\text{batch} =& \\frac{1}{m} \\left(x_i - \\mu_{\\text{batch}} \\right)^2
    \\end{aligned}
$$

 $x_i$   $m$  batch     , batch  $i$ .    batch mean, variance  batch dataset normalize  scale and shift .

$$
    \\hat{x_i} = \\frac{x_i - \\mu_\\text{batch}}{\\sqrt{\\sigma_\\text{batch}^2 + \\epsilon}}    
$$

      , non-linearity  neural network  linear regime      (representation power   ),   activation function  layer output   batch normalization layer    representation     learnable parameter $\\gamma$, $\\beta$  scale and shift .

$$
    y_i = \\gamma \\hat{x_i} + \\beta
$$


# Appendix for batch normalization
Batch normalization         ,       <U>  </U> <U> </U>     .      forward, backward     .                        .([1](https://kratzert.github.io/2016/02/12/understanding-the-gradient-flow-through-the-batch-normalization-layer.html), [2](http://proceedings.mlr.press/v37/ioffe15.html))

## Batch normalization    
      'Batch normalization' input $$x      .   activation function  convolution layer   , covariance shift(feature map  batch      ) ,   learning rate    ,  optimization      .  Batch normalization   ,  GAN based    batch normalization encoder decoder   <U>  </U>  .    batch normalization     ,    task       .   batch normalization       .

$$
    \\begin{aligned}
        \\mu_\\text{batch} =& \\frac{1}{m} \\sum_{i=1}^m x_i   \\newline
        \\sigma^2_\\text{batch} =& \\frac{1}{m} \\left(x_i - \\mu_{\\text{batch}} \\right)^2 \\newline
        \\hat{x_i} =& \\frac{x_i - \\mu_\\text{batch}}{\\sqrt{\\sigma_\\text{batch}^2 + \\epsilon}} \\newline
        y_i =& \\gamma \\hat{x_i} + \\beta
    \\end{aligned}
$$

 , batch  ($\\mu$) ($\\sigma^2$) ,      .     parameter $\\gamma$ $\\beta$  scaling and shifting .   parameter $\\gamma$ $\\beta$   .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/213619378-f30a8913-43fd-4c29-9278-d4fa04b2f273.png" width="1000"/>
</div>

 backpropagation     diagram  , chain rule  local gradient    backward gradient value  , output  input  <U> parameter  gradient</U>    .

## Forward propagation

\`\`\`python
N, D = x.shape

#step1: calculate mean
mu = 1./N * np.sum(x, axis = 0)

#step2: subtract mean vector of every trainings example
xmu = x - mu

#step3: following the lower branch - calculation denominator
sq = xmu ** 2
\`\`\`

 3    .      . sample \`\`\`x\`\`\`  \`\`\`batch * dimension\`\`\` \`\`\`axis=0\`\`\`    batch     .  \`\`\`np.sum()\`\`\`   \`\`\`np.mean()\`\`\`       .

\`\`\`python
mu = np.mean(x, axis=0)
\`\`\`

   sample .     \`\`\`x - mu\`\`\`      ,      normalize $x$   \`\`\`x - mu\`\`\` term    var     .

$$
    \\begin{aligned}
        \\hat{x_i} =& \\frac{x_i - \\mu_\\text{batch}}{\\sqrt{\\sigma_\\text{batch}^2 + \\epsilon}} \\newline
        \\sigma^2_\\text{batch} =& \\frac{1}{m} \\left(x_i - \\mu_{\\text{batch}} \\right)^2
    \\end{aligned}
$$

     $x_i - \\mu_\\text{batch}$  .

\`\`\`python
#step4: calculate variance
var = 1./N * np.sum(sq, axis = 0)

#step5: add eps for numerical stability, then sqrt
sqrtvar = np.sqrt(var + eps)

#step6: invert sqrtvar
ivar = 1./sqrtvar
\`\`\`

\`\`\`sq\`\`\`   \`\`\`x - mu\`\`\`       .       \`\`\`np.mean()\`\`\`   .

\`\`\`python
var = np.mean(sq, axis = 0)
\`\`\`

 step 5 \`\`\`eps\`\`\`       \`\`\`0\`\`\` division error  .      output   .

\`\`\`python
#step7: execute normalization
xhat = xmu * ivar

#step8: Nor the two transformation steps
gammax = gamma * xhat

#step9
out = gammax + beta
\`\`\`
\`\`\`xhat\`\`\`(normalized \`\`\`x\`\`\`),   parameter \`\`\`gamma\`\`\`, \`\`\`beta\`\`\`  scaling shifting .

## Backward propagation

$$
    \\begin{aligned}
        \\frac{\\partial l}{\\partial \\hat{x_i}} =& \\frac{\\partial l}{\\partial y_i} \\cdot \\gamma \\newline
        \\frac{\\partial l}{\\partial \\sigma_B^2} =& \\sum_{i=1}^m \\frac{\\partial l}{\\partial \\hat{x_i}} \\cdot (x_i - \\mu_B) \\cdot -\\frac{1}{2}(\\sigma_B^2 + \\epsilon)^{-3/2} \\newline
        \\frac{\\partial l}{\\partial \\mu_B} =& \\sum_{i=1}^m \\frac{\\partial l}{\\partial \\hat{x_i}} \\cdot \\frac{-1}{\\sqrt{\\sigma_B^2 + \\epsilon}} \\newline
        \\frac{\\partial l}{\\partial x_i} =& \\frac{\\partial l}{\\partial \\hat{x_i}} \\cdot \\frac{1}{\\sqrt{\\sigma_B^2 + \\epsilon}} + \\frac{\\partial l}{\\partial \\sigma_B^2} \\cdot \\frac{2(x_i - \\mu_B)}{m} + \\frac{\\partial l}{\\partial \\mu_B} \\cdot \\frac{1}{m} \\newline
        \\frac{\\partial l}{\\partial \\gamma} =& \\sum_{i=1}^m \\frac{\\partial l}{\\partial y_i} \\cdot \\hat{x_i} \\newline
        \\frac{\\partial l}{\\partial \\beta} =& \\sum_{i=1}^m \\frac{\\partial l}{\\partial y_i}
    \\end{aligned}
$$

 backward propation       .        .      gate    .     gate backpropagation  ,

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/213634136-116b0839-b86b-4e1f-b3f5-f89fa21661b5.png" width="150"/>
</div>

$$
    \\text{out} = \\gamma \\hat{x} + \\beta    
$$
       gate  input $\\gamma \\hat{x},~\\beta$  local gradient      .

\`\`\`python
dgammax = dout
dbeta = np.sum(dout, axis=0)
\`\`\`

\`\`\`dbeta\`\`\`   \`\`\`np.sum()\`\`\`        , numpy broadcasting  $\\beta$     ,   broadcasting \`\`\`gammax\`\`\` dimension    .  \`\`\`dbeta\`\`\`   broadcasting       .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/213634981-7b834205-7d0d-4289-ab0b-b60643a58d7d.png" width="150"/>
</div>

      backpropagation .  operation  backpropagation  , \`\`\`dgammax\`\`\`  backpropagation value  chain rule ,  value local gradient   gate  input   gradient  .  \`\`\`*\`\`\` operation  gate local gradient     , gate  backpropagation value     input value  .    input \`\`\`xhat\`\`\`  input \`\`\`gamma\`\`\`,  gate  backpropagation value \`\`\`dgammax\`\`\` \`\`\`gamma\`\`\`   \`\`\`dxhat\`\`\`    gate  backpropagation value \`\`\`dgammax\`\`\` \`\`\`xhat\`\`\`   .

\`\`\`python
dxhat = dgammax * gamma
dgamma = np.sum(dgammax * xhat, axis=0)
\`\`\`

     \`\`\`gamma\`\`\`  \`\`\`beta\`\`\`  broadcasting   \`\`\`np.sum()\`\`\`   dimension  .    parameter \`\`\`gamma\`\`\` \`\`\`beta\`\`\`  backpropagation , normalization backpropagation    .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/213672252-1fa03a1b-e8e6-442b-937a-213a59b452de.png" width="600"/>
</div>

    gate           .

\`\`\`python
divar = np.sum(dxhat*xmu, axis=0)
dxmu1 = dxhat * ivar
\`\`\`
sample variance \`\`\`divar\`\`\`(inverse variance)  broadcasting  \`\`\`np.sum\`\`\` , \`\`\`dxmu1\`\`\`  backpropagation value \`\`\`dxhat\`\`\` \`\`\`ivar\`\`\`   .    \`\`\`dxmu\`\`\`      ,    \`\`\`x - mu\`\`\`     .

<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/213672765-3330f613-8271-4d53-b4ac-c122a53afda7.png" width="150"/>
</div>

  gate  backprop     input  gradient     .   \`\`\`dxmu1\`\`\`        , inverse  local gradient $\\frac{d}{dx} \\left( \\frac{1}{x} \\right) = -\\frac{1}{x^2}$ ,

\`\`\`python
dsqrtvar = -1. /(sqrtvar**2) * divar
\`\`\`

    square root  local gradient $\\frac{d}{dx} \\left( x + \\epsilon \\right) = \\frac{1}{2 \\sqrt{x + \\epsilon}}$  ,

\`\`\`python
dvar = 0.5 * 1. /np.sqrt(var+eps) * dsqrtvar
\`\`\`

  . $\\frac{1}{N} \\sum_i x_i$    ,            .

$$
    \\frac{d}{dx} \\left( \\frac{1}{N} \\sum_i x_i \\right) = \\frac{1}{N} \\begin{pmatrix}
        1 & \\cdots & 1 \\newline
        \\vdots & \\ddots & \\vdots \\newline
        1 & \\cdots & 1
    \\end{pmatrix}    
$$

\`\`\`python
dsq = 1. /N * np.ones((N,D)) * dvar
\`\`\`

  $\\frac{d}{dx} \\left( x^2 \\right) = 2x$,

\`\`\`python
dxmu2 = 2 * xmu * dsq
\`\`\`

  \`\`\`dxmu2\`\`\`    gate  local gradient   \`\`\`mu\`\`\`  \`\`\`x\`\`\`  process,

\`\`\`python
dx1 = (dxmu1 + dxmu2)
dmu = -1 * np.sum(dxmu1 + dxmu2, axis=0)
\`\`\`

    \`\`\`dx1\`\`\` positive(+), \`\`\`dmu\`\`\` negative(-)  . \`\`\`dx\`\`\`  \`\`\`dxmu\`\`\`   \`\`\`dx2\`\`\`   ,    matrix     .

\`\`\`python
dx2 = 1. /N * np.ones((N,D)) * dmu
dx = dx1 + dx2
\`\`\`

      backpropagation  .

\`\`\`python
#unfold the variables stored in cache
xhat, gamma, xmu, ivar, sqrtvar, var, eps = cache

#get the dimensions of the input/output
N,D = dout.shape

#step9
dbeta = np.sum(dout, axis=0)
dgammax = dout #not necessary, but more understandable

#step8
dgamma = np.sum(dgammax*xhat, axis=0)
dxhat = dgammax * gamma

#step7
divar = np.sum(dxhat*xmu, axis=0)
dxmu1 = dxhat * ivar

#step6
dsqrtvar = -1. /(sqrtvar**2) * divar

#step5
dvar = 0.5 * 1. /np.sqrt(var+eps) * dsqrtvar

#step4
dsq = 1. /N * np.ones((N,D)) * dvar

#step3
dxmu2 = 2 * xmu * dsq

#step2
dx1 = (dxmu1 + dxmu2)
dmu = -1 * np.sum(dxmu1+dxmu2, axis=0)

#step1
dx2 = 1. /N * np.ones((N,D)) * dmu

#step0
dx = dx1 + dx2
\`\`\`
`,Tte=`---
title: "cs231n   (7) - Regularization, Loss function"
category: "ai theory"
publishedAt: "2022-11-08"
thumbnail: "https://user-images.githubusercontent.com/79881119/216201990-806c4d39-6157-41e9-abef-9dd42455b559.png"
---


# ...
   batch normalization           .   batch normalization    , layer  covariance shift    <U>overfitting</U>      regularization term  ,   supervised learning task    **classification** **regression**  loss function   .   
          ,  perceptron linear classifier          .


# Regularization
<U>Regularization</U>           . ****, **, **  ** **     '<U></U>'   . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216201990-806c4d39-6157-41e9-abef-9dd42455b559.png" width="400"/>
</div>

Regularization       ,    .

- **Explicit Regularization**, optimization  explicit term  . Prior, penalty  constraints   .  regularization term penalty term optimization function cost  optimal solution unique .

- **Implicit Regularization** explicit regularization    regularization . Early stopping(   fitting  ) robust loss function      .

      $L_1$, $L_2$ regularization <U>explicit constraints</U>   (weight decay property ),   regularization  dropout   implicit regularization .   
 Linear classifier   ,  $W$ SVM loss    $1$   $\\alpha$  $\\alpha W$      <U>non-unique solution</U>            . SVM loss  softmax  task   $W$     output value   ,      neural network overfitting   .    weight parameter $W$      <U>explicit regularization</U>     ,       .

## L2 regularization
   regularization.  parameter value squared magnitude penalize,  loss term  weight parameter      .    layer  layer  parameter ,   regularization term loss weight $\\lambda$      .

$$
    \\frac{1}{2} \\vert \\lambda W \\vert^2    
$$

Loss term  $1/2$   gradient   weight 2   $2 \\times \\lambda$  weight   .  term  loss function     .

$$
    \\text{Cost} = \\frac{1}{n} \\sum_{i=1}^n L(y_i, \\hat{y_i}) + \\frac{\\lambda}{2} \\vert W \\vert^2  
$$

L2 regularization  regression model <U>ridge regression model</U> . L2 penalize    peaky     .      L1 regularization      . Weight decay, regularization training dataset   weight     .  weight <U> node   </U> training dataset     , regularization term    parameter     .     parameter   ,     parameter     complexity  polynomial  .     <U>training dataset  overfitting</U> , training dataset <U>     </U>     .

## L1 regularization
 L2 norm  L2 regularization,  L1 norm  L1 regularization   .

$$
    \\text{Cost} = \\frac{1}{n} \\sum_{i=1}^n L(y_i, \\hat{y_i}) + \\lambda \\vert W \\vert
$$

L1 regularization  regression model <U>Lasso regression model</U> . L1 penalize   L2 regularization        ,      .   modality         L1 regularization   ,    weight   L2 regularization    .

  vector  ,  L1 norm L2 norm    .

$$
    \\begin{aligned}
        v_1 = (0.5,~-0.5,~0) \\newline
        v_2 = (0.3,~0.3,~-0.4) \\newline
        \\vert\\vert v_1 \\vert\\vert_1 = \\vert\\vert v_2\\vert\\vert_1 = 1 \\newline
        \\vert\\vert v_1 \\vert\\vert_2 = \\sqrt{0.5} \\newline
        \\vert\\vert v_2 \\vert\\vert_2 = \\sqrt{0.34}
    \\end{aligned}    
$$

     L1 regularization    weight parameter      , L2 regularization  weight parameter       , L2 norm  <U>sparse parameter     </U>.  **weight parameter**    sparse   **L1 regularization** , dense   **L2 regularization**   .

## Elastic network regularization

 L2 L1 loss    ,  <U>Elastic network regularization</U>    .

$$
    \\text{Cost} = \\frac{1}{n} \\sum_{i=1}^n L(y_i, \\hat{y_i}) + \\lambda_1 \\vert W \\vert^2 + \\lambda_2 \\vert W \\vert
$$

## Max norm constraints
Infinity norm   .  <U>infinity norm</U>  norm   <U>weight parameter </U> ,   weight parameter       loss .

$$
    \\text{Cost} = \\frac{1}{n} \\sum_{i=1}^n L(y_i, \\hat{y_i}) + \\lambda \\max(W)
$$

## Dropout
   <U>object/cost function</U>     <U>penalty term, regularization term</U>    explicit loss term   .       object function       implicit regularization ,        <U>dropout</U>   .   
 neural network overfitting  deep neural network representation power ,        functional complexity  .   task   neural network representational power    ,     training data          .   
  neural network     update ,   update  network    .       ($p$)    turn off drop-out ,              .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216229922-6002394f-2ee7-4e5a-a4c4-3a5e8059df38.png" width="800"/>
</div>

     neural network(multilayer perceptron)     , output            turn off  <U> </U>     <U>  </U> .   
   ' '  regularization  ,   batch normalization  regularization training, inference   layer       .  overfitting   layer modification   training   node (stochastic)      ,    <U>parameter  </U>       .


# Loss function
   **regularization** . Model complexity   loss term    training dataset   generalization      .   
 explicit regularization   $L_1,~L_2$ loss  Max norm   task  data loss   ,  <U>regression</U> <U>classification</U>  task  <U>loss function</U>      data loss $\\frac{1}{n} \\sum_{i=1}^n L(y_i, \\hat{y_i})$ .  $n$   training data  ,  batch     batch  sample  .   
     loss term       .    layer weights $W_k$  Neural network $f$  input sample $x_i$   

$$
    \\begin{aligned}
        f(x_i; W_k),~(i =& 1,~2,~\\cdots,~n\\text{  and  }k = 1,~2,~\\cdots,~l) \\newline
        \\text{Let }&k^{th}\\text{ perceptron's function as } f_k(\\cdot,~W_k), \\newline \\newline
        f(x_i; W_k) =& f_l \\circ f_{l-1} \\circ \\cdots \\circ f_1(x_i; W_1)
    \\end{aligned}   
$$

  .  notation       .

## Classification task
Classification  linear classifier     task computer vision NLP  deep learning    task     .  modality  dataset , dataset sample    distribution   label . Classification loss SVM(Support Vector Machine), Softmax    SVM cost function   ,

$$
    L_i = \\sum_{j \\neq y_i} \\max \\left( 0, f_j - f_{y_i} + 1 \\right)
$$

score margin($\\Delta$) $1$ SVM     . Hinge loss  margin      squared hinge loss   .

$$
    L_i = \\sum_{j \\neq y_i} \\max \\left( 0, f_j - f_{y_i} + 1 \\right)^2        
$$

      penalty   SVM loss    ,  task <U>squared hinge loss</U>        .   
Score function $f$ output  hinge loss  SVM  , softmax probability (<U>normalized probability</U>)     softmax classifier .

$$
    L_i = -\\log \\left( \\frac{e^{f_{y_i}}}{\\sum_{j} e^{f_j}} \\right)    
$$

Classification   class      .  NLP task       (<U>English dictionary</U>)  softmax     class   class distracting factor( ) ,       <U> cost </U> .   
     task    classification loss . NLP task  hierarchical softmax   tree  ([ ](https://arxiv.org/pdf/1310.4546.pdf)).
   label tree   path   , softmax classifier  label   softmax    left/right branch    .   label    word  $W$  softmax  ,    /   branch   $\\log_2(W)$    .   
Hierarchical softmax       .  $n(w,~j)$ root $w$ path  node  $j$  , $L(w)$  path   .  $n(w,~1) = \\text{root}$ $n(w,~L(w)) = w$.    $n$  $\\text{ch}(n)$  $n$  fixed child  $\\left< x \\right>$ $x$  $1$,  $-1$   . Hierarchical softmax $p(w_O \\vert w_I)$   .

$$
    p(w \\vert w_I) = \\prod_{j = 1}^{L(w) - 1} \\sigma \\left(~\\left< n(w,j+1) = \\text{ch} (n(w, j)) \\right>~ \\cdot {v_{n(w, j)}^\\prime}^\\top v_{w_I} \\right)
$$

Loss term    ,  word path  child node  softmax($\\sigma$)     .

## Attribute classification
  SVM, Softmax loss   dataset $x_i$   correct answer $y_i$  .   class  $y_i$  attribute /  binary vector,  attribute exclusive(one-hot encoding   1  0)    ?          hashtag   .      mapping  .    attribute  binary classifier  .

$$
    L_i = \\sum_j \\max (0, 1-y_{ij} f_j)    
$$

 attribute  $j$  binary classifier loss   . $y_{ij}$ $i$  $j$ attribute   $+1$,   $-1$  . $f_j$ $j$ attribute  score  ,   ( y_{ij}     ) loss   .   
  loss hinge loss,      binary classifier logistic regression classifier  . Binary logistic regression classifier binary class  $0$ $1$  , class $1$  probability     .

$$
    P(y = 1 \\vert x;~w,b) = \\frac{1}{1 + e^{-(w^\\top x + b)}} = \\sigma (w^\\top x + b)    
$$

Class $0$   $1$   .    class $1$  threshold $0.5$   ,  $\\sigma(w^\\top x + b) > 0.5$ $w^\\top x +b > 0$   .

$$
    L_i = -\\sum_j y_{ij} \\log (\\sigma (f_j)) + (1 - y_{ij}) \\log (1 - \\sigma (f_j))    
$$

 $y_ij$ $0$  $1$      sigmoid function $\\sigma$  <U>probability  </U>  .  negative log likelihood  <U>binary cross entropy</U>     attribute output $f_j$  gradient     .

$$
    \\partial L_i / \\partial f_j = \\sigma (f_j) - y_{ij}
$$

## Regression task
  classification  regression <U>real-value   </U>.      (, ,  )  ()  , image   object     . Regression        class  discrete attribute   feature     .   
  task       metric  ,  L2 squared norm L1 norm   .

$$
    L_i = \\vert\\vert f-y_i \\vert\\vert_2^2    
$$

L2 norm   ,  term input  monotonic operation($f - y_i$  ) optimal parameter       . L1 norm  output      .

$$
    L_i = \\vert\\vert f - y_i \\vert\\vert_1 = \\sum_j \\vert f_j - (y_i)j \\vert    
$$

    gradient  L2  $f-y_i$      . $j$ norm   dimension  . $j$ dimension  sample $i$  prediction difference     .

$$
    f - y_i = (\\delta_{i1},~\\delta_{i2},~\\cdots,~\\delta_{ij})    
$$

 input  local gradient     difference   .

$$
    \\partial L_i / \\partial f_j = sign(\\delta_{ij})
$$

## Regression   
L2 loss L1 loss     network output <U>  </U>    .  softmax   output   probability normalize         <U>optimal solution    </U> .   
 L2 loss(MSE loss)      ,   L2 regularization     robustness .    regression task <U>   output </U> .   
       ( 1 5 ) regression task .    regression   5 class  classification task   , <U>single output  supervision</U>     regression distribution    .   class  confidence      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216246901-ccf3d75d-37ce-4c7a-bd70-4a5aa2185b5d.png" width="1000"/>
</div>


# ...

  loss term  graph tree     task .        scope         .    regularization  ,    overfitting      task   loss function    .
`,kte=`---
title: "cs231n   (8) - Learning and evaluation"
category: "ai theory"
publishedAt: "2022-11-09"
thumbnail: "https://user-images.githubusercontent.com/79881119/216607435-654a064b-5582-48aa-8324-2419eac0e4e7.png"
---


# ...
    neural network     .       <U>  </U> .     L1 regularization  , L2 regularization    task   objective function  .           .   
         ,  <U>weight parameter</U>      <U>hyperparameter searching</U>    .


# Learning
**Gradient check** <U>analytic gradient</U>(        ) <U>numerical gradient</U>(    input   $h$  output  $f(x+h) - f(x)$    )   .

#### Use the centered formula
$$
    \\begin{aligned}
        \\frac{df(x)}{dx} =& \\frac{f(x+h) - f(x)}{h}~\\text{(bad)} \\newline
        \\frac{df(x)}{dx} =& \\frac{f(x+h) - f(x-h)}{2h}~\\text{(use instead)}
    \\end{aligned}    
$$
$h$    ,     numerical gradient     .              .
$$
    f^\\prime (x) = \\frac{df(x)}{dx} = \\lim_{h \\rightarrow 0} \\frac{f(x+h)-f(x)}{h}    
$$
  $f^\\prime(x)$ analytic   (    ),     analytic        <U>  </U>   .   
     $h$     numerical gradient  . Centered formula      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216496862-ed3655a7-0910-49c5-9ed9-e900b26458d2.png" width="1200"/>
</div>
  $f^\\prime(x)$   analytic gradient ,      $h$         .     $h$         (tangential line   ) <U>  </U> .     $f(x)$       <U>  </U>( )    centered formula .   

#### Use relative error for comparison
     numerical gradient   ,    <U>numerical gradient</U> <U>analytic gradient</U>        .   
 difference  , square     threshold      . Difference $10^{-4}$   gradient value $1.0$          ,   gradient value $10^{-5}$             .    threshold    , <U>relative error</U>   .
$$
    \\frac{\\vert f_a^\\prime - f_n^\\prime \\vert}{\\max (\\vert f_a^\\prime \\vert,~\\vert f_n^\\prime \\vert)}    
$$

Gradient  difference  ,    gradient     gradient    <U>   </U>    .      ,       error   .   error  layer  $10$  $1$  .


# Single precition and double precision

          .       ,              .   
Single precision double precition C   ,        \`\`\`float\`\`\` \`\`\`double\`\`\`   .   
                    <U></U>   .           ,     .              .   
              IEEE  754  .

||(E)|(mantissa)|
|:---:|:---:|:---:|
|1 bit |8 bit |23 bit(52 bit)|

 binary  32bit 64bit     . 32 bit   <U>single precision</U>, 64 bit   <U>double precision</U> . Error           <U>double precision</U>   .

# Kinks in the objective
gradient             .   'Kinks' <U>non-differentiable part</U>(  ) ,  ReLU function SVM loss(hinge loss)     objective function   part   .   
  ReLU function $x = -10^{-6}$   . ReLU(Rectified Linear Unit) function   .

$$
    \\text{ReLU}(x) = \\begin{cases}
        0, & \\text{if}~~x < 0 \\newline
        x, & \\text{otherwise}
    \\end{cases}    
$$

 $x = 0$         , <U>   </U>  sub-gradient   .

$$
    \\frac{d}{dx} \\left( \\text{ReLU(x)} \\right) = \\begin{cases}
        0, & \\text{if}~~x < 0 \\newline
        1, & \\text{otherwise}
    \\end{cases}       
$$

  ReLU function $x = -10^{-6}$  (analytic) $0$ .   analytic     $h$  numerical gradient   .

$$
    \\left. \\frac{d}{dx} \\left( \\text{ReLU(x)} \\right) \\right\\rvert_{x = -10^{-6}} \\approx \\frac{\\text{ReLU}(-10^{-6}+h) - \\text{ReLU}(-10^{-6})}{h}    
$$

 $h$ $10^{-6}$  analytic gradient  0,    $h - 10^{-6}$   . Loss function evaluation  input   kink      $f(x+h)$ $f(x-h)$   .    ReLU function  , $\\max(x, y)$   winner(    )     value kinks region     . $f(x+h)$ $f(x-h)$    ( $h$ 10^{-6}  ReLU$(\\cdot)$  $0$  ), kink point ,   numerical gradient       .

## Other tips for gradient checking method

      .  datapoint   , kinks  loss function      .       gradient checking     .   
 step size $h$    .  step size   <U>computational limitation</U>      ,              .  Kinks  objective  kinks      $h$    .   
    gradient check <U> parameter  </U>(single point) .    point gradient check      ,            ( ,     ).  random initialization  characteristic point(gradient      )      ,  gradient       .   support vector machine weight    ,   datapoint  zero-score     data point  gradient  (pattern)  .  gradient   ,   score         .  <U>  </U>  **burn-in** time  loss    gradient check   .  first iteration( ) gradient check    parameter pathodology  edge()   gradient    .   
     data loss term regularization loss term (<U>explicit regularization</U>)  overfitting parameter  . , data loss regularization loss $\\lambda$ weight   loss  .    regularization loss data loss  , gradient   data  gradient regularization  gradient   .   data loss gradient     <U>  </U>  .  data loss     regularization loss    . Regularization term  gradient   data loss contribution  , $\\lambda$ term  regularization term        .   
 dropout augmentation  implicit regularization gradient check   .         ,  deterministic  stochastic           .  random seed   $f(x+h)$, $f(x-h)$               .   
   parameter   size  .  dimension  gradient check        .      gradient check    parameter  ,  parameter  gradient   .    gradient check  parameter   .  parameter  gradient   , <U>random  </U> gradient check       test    <U>  </U> .


# Sanity check
 optimization   , <U>  </U>        <U>sanity check</U>.   CIFAR-10 dataset softmax classifier   cross-entropy loss ,    weight    class   $0.1(10\\%)$  .      loss  $-\\log(0.1) = 2.302$  . Softmax classfier  Weston Watkins SVM(margin $1$ SVM  )   margin violated ( score   $0$    ),   loss $9$  ,         .  data loss  regularization loss , regularization strength($\\lambda$)   loss   sanity check .   
 sanity check        ,           dataset   ,  loss   .   dataset  network overfitting    ,         .


# Learning process
     sanity check   ,   monitoring . Setting       learning rate optimizer ,       <U>hyperparameter  </U> .

## Loss function
    loss function(objective function) .  loss    ,    indivisual batch  (forward process)   .  <U>learning rate  </U>      loss    (  ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216607435-654a064b-5582-48aa-8324-2419eac0e4e7.png" width="360"/>
    <img src="https://user-images.githubusercontent.com/79881119/216608230-502c31a9-9998-4c38-9acd-18bdf5717806.png" width="400"/>
</div>

Learning rate gradient descent  loss    layer local gradient parameter       . Learning rate   loss    loss  ,          local minima   .      task  <U>learning rate  </U> , loss      .    epoch   batch  loss   ,  epoch   batch  loss       .  wiggle(loss   )  <U>batch size </U> noise   .

## Train/Validation accuracy
 loss     .  <U>training dataset</U>  overfitting   <U>training loss  </U>     .  dataset  training dataset   ,    inference()  generalization      validation set   .      train/validation  test dataset   .

1. Training dataset :     , weight parameter gradient descent .
2. Validation dataset :     , weight parameter gradient descent  .
3. Test dataset :       (test data), inference  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216610889-c7ee79a2-a465-4eed-940f-cf040efbd735.png" width="400"/>
</div>

    training dataset  training accuracy validation dataset  validation accuracy  .     inference   test dataset ground truth        .  training dataset validation dataset   ,  training data    training dataset  performance  , validation dataset       ,   <U>    </U>  .


# Parameter updates
  loss function  objective function,  backpropagation      gradient   <U>weight parameter  </U>.   parameter      .    pytorch \`\`\`optimizer\`\`\`  ,       optimization  gradient descent     .

## Vanila update
         data point gradient  , gradient    learning rate parameter  .   gradient  point <U>        </U> ,     <U>      </U> . 

\`\`\`python
# Vanilla update
x -= learning_rate * dx
\`\`\`

## Momentum update
 optimization  convex optimization  global optima   ,  convex optimization    .    . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216743832-5341e9fc-4aad-4479-b84d-e811fe9925eb.png" width="600"/>
</div>

Convex    . Convex function   convex set  convex hull       convex function <U>    </U>  function   .    $0 \\leq \\theta \\leq 1$ ,

$$
    f(\\theta x_1 + (1-\\theta)x_2) \\leq \\theta f(x_1) + (1-\\theta) f(x_2)    
$$

   convex function.    <U>hessian positive definite</U>  . Convex           ** **() global optima  .   
   $x^\\ast$   . Inner point SOSC(second-order sufficient condition) $\\left. \\nabla_x f(x) \\right \\rvert_{x = x^\\ast} = 0$   $\\left. \\nabla_x^2 f(x) \\right \\rvert_{x = x^\\ast}>0$.  $x^\\ast$      $\\hat{x}$  . 'Global optima'    .    .   convex function       .

$$
    \\begin{aligned}
        \\text{For }\\forall x& \\in \\left(0,~1 \\right), \\newline
        f(\\theta x^\\ast + (1-\\theta)\\hat{x}) &\\leq \\theta f(x^\\ast) + (1-\\theta) f(\\hat{x})
    \\end{aligned}
$$

$f(x^\\ast)$  $f(\\hat{x})$  global optima    $m$   ,     .

$$
    f(\\theta x^\\ast + (1-\\theta)\\hat{x}) \\leq m
$$

 $x^\\ast,~\\hat{x}$    $m$    ,  $x^\\ast$ $\\hat{x}$ <U>global optima point  </U>.   
 convex function         loss function <U> convex function    </U>.  loss function    gradient $0$ local optima    ,   gradient descent method   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216745607-2f913146-3c1c-4612-a6aa-1a3d24fe6da5.png" width="600"/>
</div>

  gradient   , local minimum         momentum update   . <U>    </U>   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216745776-2c2338ad-de47-4488-9734-31e23768ec15.png" width="600"/>
</div>

Gradient    ,        .        gradient descent     gradient       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216745932-a16c47be-a637-49f7-a356-e392f584f8ea.png" width="600"/>
</div>
       , local optima point     momentum       .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216746022-f49753a4-3b3e-48c1-8ba2-fd88b63f6983.png" width="600"/>
</div>

    .

\`\`\`python
v = mu * v - learning_rate * dx
x += v
\`\`\`

$v$(velocity)    gradient    .      gradient    ,      . $\\mu$ <U> batch</U> velocity <U> batch</U> gradient descent   .     $\\mu$   , $0.9$  .

## Nesterov momentum
 momentum update      gradient momentum ,   velocity <U>weight parameter </U> .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216746239-e39657ca-316c-4b0f-8958-ec692e0b56e9.png" width="900"/>
</div>

  momentum      gradient step   <U>nesterov momentum update</U> . Momentum term     gradient   <U>look ahead</U>  .

\`\`\`python
x_ahead = x + mu * v
v = mu * v - learning_rate * dx_ahead
x += v
\`\`\`

    velocity    gradient   causality  .      gradient        .

\`\`\`python
v_prev = v # back this up
v = mu * v - learning_rate * dx # velocity update stays the same
x += -mu * v_prev + (1 + mu) * v # position update changes form
\`\`\`


# Annealing learning rate
   learning rate      .           step size  , optimal solution  loss      .  learning rate annealing()   .   pytorch  \`\`\`scheduler\`\`\`  .

## Step decay
Training set       '1 epoch' ,  epoch learning rate   step decay .   step size $5$ factor $0.1$ 5 epoch learning rate $1/10$  .

## Exponential decay
$$
    \\alpha = \\alpha_0 e^{-kt}    
$$
   scehduling .    learning rate $\\alpha_0$   hyperparameter value $k$  $t$ epoch learning rate exponentially decaying  .  $k$  hyperparameter     $e^{-k}$  .    factor $0.1$ 1 epoch learning rate $1/10$  .

## $1/t$ decay
$$
    \\alpha = \\frac{\\alpha_0}{1+kt}
$$
exponential     ( $y = 0$) $y = \\frac{1}{x}$   scheduling .

   learning rate scheduling   overfitting   loss term    task  .


# Second-order methods
    optimization   gradient based method   .  gradient   step    first-order taylor series    . Input $x$  continuous $n$    $f \\in \\mathcal{C}^n$    .   $x$  $f(x)$    $f(a)$      .

$$
    f(x) = f(a) + \\frac{(x-a)}{1!}f^{(1)}(a) + \\frac{(x-a)^2}{2!}f^{(2)}(a) + \\cdots + \\frac{(x-a)^n}{n!} f^{(n)}(a) + o((x-a)^n)    
$$

 $o(g(x))$ notation      .

$$
    \\lim_{x \\rightarrow 0,~x \\in \\Omega} \\frac{\\vert\\vert f(x) \\vert\\vert}{\\vert g(x) \\vert} = 0
$$
   $f(x)$ 1       .

$$
    f(x) \\approx = f(a) + (x-a)f^\\prime (x)    
$$
   ,           step size($\\alpha$)      .    ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216804235-9c0223e0-c692-4ccc-ae26-71ea763c1bfc.png" width="400"/>
</div>

  gradient       linear function     <U>step size   </U>.  gradient  hessian(2 )   $f(x)$ quadratic function          .   Newton's method ,      .

$$
    x^{(k+1)} = x^{k} - {\\Delta f(x)}^{-1} \\nabla f(x)
$$

 $\\Delta$ 2 gradient($\\nabla^2$) .        2  approximation $f(x)$   gradient $0$   .        .   
  <U>  </U>.   $f(x),~\\mathbb{R^n} \\rightarrow \\mathbb{R}$  hessian  .

$$
    \\nabla f(x) = \\begin{bmatrix}
        \\frac{\\partial f}{\\partial x_1}(x) \\newline
        \\frac{\\partial f}{\\partial x_2}(x) \\newline
        \\vdots \\newline
        \\frac{\\partial f}{\\partial x_n}(x)
    \\end{bmatrix}
$$

$$
    \\Delta f(x) = \\nabla \\left( \\nabla f(x) \\right) = \\begin{bmatrix}
        \\frac{\\partial^2 f}{\\partial x_1^2}(x) & \\frac{\\partial^2 f}{\\partial x_1 \\partial x_2}(x) & \\cdots & \\frac{\\partial^2 f}{\\partial x_1 \\partial x_n}(x) \\newline
        \\frac{\\partial^2 f}{\\partial x_2 \\partial x_1}(x) & \\frac{\\partial^2 f}{\\partial x_2^2}(x) & \\ddots & \\frac{\\partial^2 f}{\\partial x_2 \\partial x_n}(x) \\newline
        \\vdots & \\vdots & \\ddots & \\vdots \\newline
        \\frac{\\partial^2 f}{\\partial x_n \\partial x_1}(x) & \\frac{\\partial^2 f}{\\partial x_n \\partial x_2}(x) & \\cdots & \\frac{\\partial^2 f}{\\partial x_n^2}(x)
    \\end{bmatrix}    
$$

    $f(x)$ , input  output         .   $1024 \\times 1024$     input dimension  million    hessian   matrix  $10^{12}$  .
  hessian  quadratic function global optimal point   global optimal point      .    1   approximated      step size  optimal point     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216805282-a44eef63-fba3-4622-94f2-260fc4951ad3.png" width="400"/>
</div>

 2   approximation  optimal value      ,      data point   <U> loss </U>    .     $n$  taylor approximation  optimization   gradient descent method  .


# Various methods of optimization

 mini-batch  stochastic gradient descent       parameter        .   task image classification regression  loss function         modality  generative network   parameter/hyperparameter   ,   modality    (multimodality)  SGD        , loss  regularization term   ablation     .       <U>robust   </U>.


# Per-parameter adaptive learning rate methods
     optimizer    .   parameter    output  gradient      learning rate    .  local minimal point     momentum ,       . Learning rate        hyperparameter     <U>    </U>.   parameter    gradient       optimizer . 

## Adagrad

\`\`\`python
# Assume the gradient dx and parameter vector x
cache += dx**2
x += - learning_rate * dx / (np.sqrt(cache) + eps)
\`\`\`

Input data point $x$   gradient $dx$ . $x$  data point   parameter value   , parameter vector  . Adagrad     adaptive gradient  , backpropagation   \`\`\`cache\`\`\`  gradient $dx$  .   \`\`\`cache\`\`\` gradient update  normalize , zero-division   $\\epsilon$   square root value  gradient $dx$  .   
           higher gradient( gradient) effective learning rate   , small gradient  effective learning rate  .    gradient          .

## RMSprop

\`\`\`python
cache = decay_rate * cache + (1 - decay_rate) * dx**2
x += - learning_rate * dx / (np.sqrt(cache) + eps)
\`\`\`

RMSprop \`\`\`decay rate\`\`\`   gradient   normalize  .    learning rate monotonic          .

## Adam
\`\`\`python
m = beta1*m + (1-beta1)*dx
v = beta2*v + (1-beta2)*(dx**2)
x += - learning_rate * m / (np.sqrt(v) + eps)
\`\`\`

RMSprop  momentum   Adam .    , \`\`\`m\`\`\` momentum   \`\`\`v\`\`\`   cache    . Optimizer      Adam  \`\`\`beta1 = 0.9\`\`\`  \`\`\`beta2 = 0.999\`\`\`   default.  Adam       SGD nesterov momentum     .   
Adam update  <U>bias correction mechanism</U> , bias    step vector \`\`\`m\`\`\`  \`\`\`v\`\`\`   $0$ biasing  .    bias correction    .

\`\`\`python
# t is your iteration counter going from 1 to infinity
m = beta1*m + (1-beta1)*dx
mt = m / (1-beta1**t)
v = beta2*v + (1-beta2)*(dx**2)
vt = v / (1-beta2**t)
x += - learning_rate * mt / (np.sqrt(vt) + eps)
\`\`\`

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216900961-de163bb9-0be9-4b20-bab8-8bdec3a5fe28.gif" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/216900968-5761f3a0-6acd-47d1-9ca9-57d2a1e5a247.gif" width="400"/>
</div>


# Hyperparameter optimization

Parameter    loss fuction  chain rule  .  parameter      optimizer  <U>Adam</U>      .  hyper-parameter        manually .   ,   hyperparameter    .

1. Initial learning rate
2. Learning rate policy
3. Regularization strength(loss penalty strength)

 task hyperparameter sensitivity  ,   searching          .

## Implementation
 neural network training     hyperparameter      <U>   </U>     .       network        <U>      </U>   .   
   \`\`\`worker\`\`\` training method ,  hyperparameter  optimization   .   worker  epoch validation performance  ,  (last epoch) model checkpoint      (loss, accuracy ) .  pytorch   \`\`\`torch.save()\`\`\`   \`\`\`.pth\`\`\`  \`\`\`.pt\`\`\`   .

\`\`\`python
best_loss = 1e9
for epoch in epochs:
    for iteration in training_dataloader:
    # Training dataset    
    # 1 epoch training  validation 
    avg_loss = 0.0
    with torch.no_grad():
        for iteration in validation_dataloader:
        # Validation dataset   network  loss 
        if avg_loss < best_loss:
            best_loss = avg_loss
            torch.save(model.state_dict(), "best_model.pt")
\`\`\`

     . Pytorch  ,     Validation dataset  <U>loss function </U>    . Task        metric      ,      (last epoch)   . $K$-nearest neighborhood   , KNN hyperparameter  $k$   training dataset validation dataset   .     .  instance(  ) inference   instance based learning   training sample     validation sample(  ,     )   .     deep learning algorithm single validation dataset    .

## Hyperparameter ranges
Hyperparameter   parameter   objective function   <U>  value </U>.  hyperparameter    feasible set(       ) ,           .

\`\`\`python
learning rate = 10 ** uniform(-6, 1)
\`\`\`

 learning rate , network optimization  gradient    parameter    , loss function         .   
       log scale  searching .   learning rate     $10^{-6} \\sim 10^1$    .   dataset  deep learning code   log scale  <U>     </U>   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216958179-cb1cafd5-f9ca-401e-8b08-01c7d5d32069.png" width="400"/>
</div>

Grid search(   value  )      log search   hyperparameter random search      ([ ](https://www.jmlr.org/papers/volume13/bergstra12a/bergstra12a.pdf)).  hyperparameter  ,  hyperparameter      ,  hyperparameter            .   
          ,   <U>feasibility      </U>      .     .

## Careful with best values on border
Searching  range   .  ,

\`\`\`python
learning_rate = 10 ** uniform(-6, 1)
\`\`\`

  hyperparameter    ,  value  loss value    

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216960536-05148833-1de5-4c49-b14d-85aee3bd0c84.png" width="400"/>
</div>

    $10^{-6}$   performance(  loss )         ,  optimal point  .     monotonic function  ,   searching area  hyperparameter searching space     .

## Stage search from coarse to fine
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216961512-d9dec35b-d4e2-4338-b7f7-1dca4f49649f.png" width="400"/>
</div>
   up-down   .  $0$  $100$     . <U>   </U>,  $2$ $99$  boundary     (  $1$   ).    
     ,  value       coarse()   fine()   .   $50$    'up'  $75$    searching area $(0,~100)$ $(51, 100)$    .  hyperparameter    .      value , <U>     </U> searching .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/216963369-46887907-90c8-4f6b-aca5-b7b3e3d8e1a1.png" width="400"/>
</div>
 hyperparameter    network dataset      epoch   training dataset   <U>feasibility  </U> .

## Bayesian hyperparameter optimization
     hyperparameter     .   exploration( ,     searching space)  trade-off   . Spearmint, SMAC  Hyperopt    ,  random search         .


# Ensemble  evaluation
  performance ,     multiple network , test   prediction   ( <U> </U> ).        performance   (      ).          variation    .         approach  .

##### Same model, different initialization
           hyperparameter( hyperparameter) , parameter initialization   .  approach  initialization  variance  ,      network parameter        .

##### Top models discovered during cross-validation
    hyperparmeter   $n$  .    network    , optimal    optimal(sub-optimal)    .     model      distracting factor     .

##### Different checkpoints of a single model
    ,           checkpoint     .            ,      .

##### Running average of parameters during training
  exponentially decaying  parameter ,    iteration  parameter smoothing .   objective bowl convex,      point    ping-pong()       .

Ensemble      , <U>test data  inference  </U>    .     inspring  ensemble knowledge   distillation "Dark knowledge"  .


# ..
    <U> </U>(loss, parameter  hyperparameter)    .          task    domain knowledge       .   
      cs231n    cs231n course note    .                   .             ...
`,Ate=`---
title: "cs231n   (9) - CNN(Convolutional neural network)"
category: "ai theory"
publishedAt: "2022-11-10"
thumbnail: "https://user-images.githubusercontent.com/79881119/218700569-99295503-eedf-45e6-8cd4-af6a4cf4a0f0.png"
---


# ...
            .        neural network       ,       AI <U>  </U>  .          ,                      .                  ' '      .      2010         CNN   ,             .


# Convolutional neural network
 CNN        .   <U>convolutional neural network</U>      ?  CNN      convolution     .


# Convolution in $1D$ signal
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218650535-79cd0b77-cca7-4340-82d8-714a262b76c2.png" width="500"/>
</div>
   $f$ $g$  ,      convolution   $f \\ast g$ .     $f$ $g$    $y$   shift ,       .      ,

$$
    f \\ast g(t) = \\int_{-\\infty}^\\infty f(\\tau) g(t - \\tau) d \\tau    
$$
   . Convolution  $t$    $h(t)$ , $t$ $x$   . Convolution  commutable(  )   .

$$
    f \\ast g(t) = \\int_{-\\infty}^\\infty f(t - \\tau) g(\\tau) d \\tau  
$$
    autocorrelation, cross-correlation  ,      , cross-correlation    , autocorrelation     . Autocorrelation cross-correlation   <U>correlation     </U>    .     $f$ $g$ ,

$$
    f \\star g(t) = f \\ast g(-t) = \\int^\\infty_{-\\infty} f(\\tau) g(t+\\tau) d \\tau
$$

 ,

$$
    g \\star f(t) = g \\ast f(-t) = \\int^\\infty_{-\\infty} g(\\tau) f(t+\\tau) d \\tau = \\int^\\infty_{-\\infty} g(t - \\tau) f(t) d \\tau    
$$

convolution  commutable     .  autocorrelation  commutable   . 1 convolution        CNN      , <U> </U> convolutional neural network    .


#  , CNN
Convolutional neural network    neural network        .   perceptron  MLP     .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218655242-ccc0348d-a375-4c3c-a0f4-d371bbb1cee1.png" width="600"/>
</div>
   perceptron    node   layer     layer  .    weight bias     (  ).   input   parameter weight, bias    non-linearity  gate  <U>activation function</U>  .   score output    , loss function(SVM/Softmax )   .
Convolutional neural network convolution layer  weight, bias  neuron    .  <U>convolutional neural network(CNN)</U> input image <U>explicit assumption  </U>  .  explicit assumption  architecture    property  ,   parameter          .


#  
 neural network       input single vector  ,  hidden layer  dimension     .  hidden layer neuron   ,    layer  neuron fully connected  .   layer node       .  layer output layer task  score output   .   
 MLP(regular neural network)      <U>scalability</U> .   CIFAR-10  dataset  resolution   ($32 \\times 32 \\times 3$),   hidden layer input    $3072$ .             ImageNet   resolution $224 \\times 224 \\times 3$  $150,528$ weight .   , input dimension   output dimension  weight bias  parameter    .      ,  representation    layer    node  .  fully-connected layer   neural network     fully-connected   overfitting  .
  3   neuron,  CNN image input  explicit assumption        .     layer input  3   <U>width, height, depth</U> .   input image CIFAR-10 input image  width, height, depth  $32$, $32$  $3$ ,  image modality       CNN  layer    .
      neural network     input         , fully-connected   image   overfitting   .   fully-connected manner  input dimension     parameter   .   layer <U>output</U> task   <U>neural network output size  </U> .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218660940-dc5beb8a-f507-4480-80bb-5d6d3c49b79c.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/218660841-e25dd445-4a6e-442c-ad50-41413bb0740c.png" width="550"/>
</div>


# How CNN calculate output feature for each hidden layer?

2D convolution     .      task, $H \\times W \\times 3$  RGB   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218661293-ff18070b-0bff-4728-b450-38b54dac5019.png" width="400"/>
</div>

    RGB image data <U>$1$   </U>   hidden layer  (  ).
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218661737-1cf74236-6662-4b63-adc6-5e0430005849.png" width="240"/>
    <img src="https://user-images.githubusercontent.com/79881119/218662106-71b39dfc-e798-4532-9142-5bf06e291a10.png" width="640"/>
</div>

 convolution layer  flatten     dimension    convolutional kernel(filter)  . RGB      . Convolution   filter  input  , <U>3    </U>    .      kernel    .  kernel      parameter  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218662688-257853fd-1c41-42e1-9ee3-48d2ea25eadf.png" width="400"/>
</div>

CIFAR-10 dataset        .    $32 \\times 32 \\times 3$   input image,        3  convolution kernel . Convolution kernel filter  input   cross-correlation  (    )  kernel    output dimension       output tensor . Convolution    convolution   cross-correlation      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218663633-9b78b2de-97aa-4421-a45e-e90c562deec1.gif" width="400"/>
</div>

Convolution  kernel size, stide  padding <U> hyperparameter</U> .   padding $= 1$, stride $= 1$  kernel size $= 3$  .    convolution     output ,     input.        padding.

### Kernel
 convolution filter <U>input  </U> , kernel     .    kernel    ,  kernel size $3$   .  filter kernel size  spatial   (,      ).

### Padding
Input   (  ) padding   . Padding input  constant value  zero-padding    , extrapolated padding    . Padding $= 1$  input    $1$ spatial dimension  ,       . Padding kernel size      .

### Stride
Input padding    kernel stride   .   $3 \\times 3$ kernel size   stride $= 1$       .

     convolution    1D convolution   input filter     ,        .            channel   ,  channel   filter  .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218683663-ced88b17-4281-49c6-ad45-a6b4fc545117.png" width="1000"/>
</div>

     .    $3 \\times 3$ kernel size  filter , stride $= 1$   ,   $3 \\times 3$  kernel   filter   RGB    $3 \\times 3 \\times 3$ 3D tensor .  convolutional neural network   width, height  depth      kernel size  width height   input image  feature map channel size  depth   .       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218684609-540d8251-15a7-4fbe-a0ee-4c05288e7c3d.png" width="600"/>
</div>

RGB value        .         inner projection ,           filter  output value $7 + 15 + 4 = 26$ .   bias , output value $26 + \\text{bias}$  .        toy code colab .       .           . 
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218698278-4ec7a495-f2c5-4ae4-8eba-5e056e25f357.png" width="400"/>
</div>

 \`\`\`numpy array\`\`\`         .  $0$ $255$   image normalize .

\`\`\`python
import cv2
from google.colab.patches import cv2_imshow
import numpy as np

image = cv2.imread("cat.jpg")
image = image/255.0 # Normalize image to 0 ~ 1
\`\`\`

 google colab     jupyter notebook  \`\`\`google.colab.patches\`\`\`   \`\`\`cv2.imshow\`\`\`    .   numpy array  convolution    .

\`\`\`python
def conv2d(image, out_channels, kernel, padding=0, strides=1):
    # Build kernel according to input image size
    image_height, image_width, image_channel = image.shape
    if type(kernel) == int:
        kernel_channel, kernel_height, kernel_width = image_channel, kernel, kernel
    elif type(kernel) == tuple or type(kernel) == list:
        kernel_channel, kernel_height, kernel_width = image_channel, kernel[0], kernel[1]

    kernel = np.random.randn(kernel_channel, kernel_height, kernel_width)

    # Calculate output shape according to input image size and filter size
    output_height = int(((image_height - kernel_height + 2 * padding) / strides) + 1)
    output_width= int(((image_width - kernel_width + 2 * padding) / strides) + 1)
    output_channel = out_channels
    output = np.zeros((output_height, output_width, output_channel))

    # padding(zero-padding) on input
    if padding != 0:
        image = np.pad(image, ((padding, padding), (padding, padding), (0, 0)), 'constant', constant_values=0)
    
    # calculate 2d convolution
    for c in range(output_channel):
        output_per_channel = np.zeros((output_height, output_width))
        for h in range(output_height):
            if (h * strides + kernel_height) <= image.shape[0]:
                for w in range(output_width):
                    if (w * strides + kernel_width) <= image.shape[1]:
                        output_per_channel[h][w] = np.sum(
                            image[h*strides : h*strides + kernel_height, w*strides : w*strides + kernel_height, :] * kernel
                        ).astype(np.float32)

            output[: ,:, c] = output_per_channel

    
    return output
\`\`\`

   .  convolution layer   ,   3 convolutional hidden layer   .  convolution  \`\`\`leakyrelu\`\`\`     activation function . LeakyReLU $0$  value $0.1$ scaling  .

\`\`\`python
def np_leakyrelu(image):
    return np.where(image<0, 0.1*image, image)
\`\`\`

 hidden layer output ,  normalize   .

\`\`\`python
hidden1 = conv2d(image, 3, 3, 1, 1)
hidden2 = conv2d(np_leakyrelu(hidden1), 3, 3, 1, 1)
hidden3 = conv2d(np_leakyrelu(hidden2), 3, 3, 1, 1)

hidden1 = (hidden1 - np.min(hidden1))/(np.max(hidden1) - np.min(hidden1))*255.0
hidden2 = (hidden2 - np.min(hidden2))/(np.max(hidden2) - np.min(hidden2))*255.0
hidden3 = (hidden3 - np.min(hidden3))/(np.max(hidden3) - np.min(hidden3))*255.0
\`\`\`

\`\`\`hidden1\`\`\`, \`\`\`hidden2\`\`\`, \`\`\`hidden3\`\`\`    .
\`\`\`python
cv2_imshow(hidden1)
cv2_imshow(hidden2)
cv2_imshow(hidden3)
\`\`\`

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218700569-99295503-eedf-45e6-8cd4-af6a4cf4a0f0.png" width="600"/>
</div>
    random            .  task  filter  ,    image  feature map      .


# Why is it convolution, not correlation?
Discrete signal $x$ $h$  .   one-dimensional convolution  discrete signal   convolutional neural network <U>digitized image dataset</U>  . Height  dimension $i$ index , Width  dimension $j$ index  .

$$
    y(m, n) = x(m, n) \\ast h(m, n) = \\sum_{j = -\\infty}^\\infty \\sum_{i = -\\infty}^\\infty x(i, j) \\cdot h(m-i, n-j)
$$

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218709500-83a67c2b-75c5-4ff1-bbcc-ea26a01b4413.png" width="220"/>
    <img src="https://user-images.githubusercontent.com/79881119/218709353-99cd9c18-405b-4535-879a-ad36e7f4e978.png" width="300"/>
</div>
  input    kernel value . Kernel   $0$    $y(-1, -1)$  ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218710641-0e6e7d8d-750e-4c1d-b92c-c6b21099a073.png" width="300"/>
</div>

   kernel filter  .          inner projection   ,     .     \`\`\`numpy\`\`\`  \`\`\`conv2d\`\`\`       .   ,   $x(m, n) \\ast h(m, n)$  $x(m, n) \\ast h(-m, -n)$ .     one-dimension   commutable  <U>cross-correlation   </U>.      ,  convolution           .


# Calculate output tensor shape
Convolution   network      convolution   output dimension   .   pytorch   ([ ](https://pytorch.org/docs/stable/generated/torch.nn.Conv2d.html)),       .  input tensor shape $H_\\text{in} \\times W_\\text{in} \\times C_\\text{in}$ , output tensor shape $H_\\text{out} \\times W_\\text{out} \\times C_\\text{out}$ .   
Convolution filter (kernel size)  output channel dimension $C_\\text{out}$   filter  $C_\\text{out}$ .       input tensor     depth $C_\\text{in}$ .         depth  convolutional filter tensor shape($H \\times W \\times C$) parameter   .

$$
    (\\text{kernel size} \\times \\text{kernel size} \\times C_\\text{in}) \\times C_\\text{out}    
$$

    filter shape ,        .  bias   convolutional layer parameter      .  bias   channel  bias  parameter    .

$$
    (\\text{kernel size} \\times \\text{kernel size} \\times C_\\text{in} + 1) \\times C_\\text{out}   
$$

 kernel size    convolutional layer  parameter   ,  <U>   output tensor shape</U>    .

$$
    \\begin{aligned}
        H_\\text{out} =& \\left( \\frac{H_\\text{in} + 2p - k}{s} + 1 \\right) \\newline
        W_\\text{out} =& \\left( \\frac{W_\\text{in} + 2p - k}{s} + 1 \\right)
    \\end{aligned}    
$$

  dilation  convolution  output shape . Notation $s$ stride, $p$ padding  $k$ kernel size .


# Another modules in CNN
 convolutional neural network convolution      non-linearity gate pooling layer    module  .          .

### Non-linearity
AlexNet ImageNet  CNN    <U>sigmoid</U>  <U>ReLU</U>        . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218717045-c8c28dfc-02bf-4f0c-bc8b-15305df00efb.png" width="500"/>
</div>

 ReLU  non-linearity        feature extraction .

### Pooling layer
Pooling layer <U>spatial dimension  </U> .  convolution    $H$, $W$     . Understanding based task(image classification)    low resolution semantic       ,       .  task specific      , convolutional neural network fully connected layer  input node       filter   representation power     spatial dimension        ,  MLP    <U>parameter efficiency</U>  .  high level feature  classification  segmentation task       pooling   downsampling  , upsampling   .     coarse feature   image signal  (<U> aliasing</U>)     .        .   

### Fully connected layer head
Convolutional neural network score function  loss function     feature map flatten  fully connected layer  global average pooling  fully connected layer   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218720917-493f4c2d-96e5-48c0-a6d1-408af53d1b64.png" width="600"/>
</div>

   module   CNN   . Convolutional neural network convolution layer fully connected layer   parameter  ReLU Pooling layer   parameter  .


# Max pooling vs Average pooling
Pooling    output feature map spatial dimension   . Pooling 2D dimensional signal  <U>low filtering  </U> ,  frequency     downsampling  fine-feature coarse-feature .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218721963-81a56e4c-25cb-4274-80a4-954d6670b8a3.png" width="400"/>
</div>

 pooling       parameter         max pooling             .  low-level image      pooling  <U> resolution     </U>  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218721760-5effd6cc-b7b3-4006-82e9-2772f95b10cc.png" width="600"/>
</div>

 convolution layer  max-pooling ,      feature() feature     .  task    filter  feature map      outline  ,  classification object detection  segmentation   downstream task     signal value <U>   noise</U>  <U> </U> . 


# Useful baseline models
CNN        <U>ResNet</U>    ResNext, ConvNext   task backbone      .  CNN         AlexNet, VGGNet  GoogleNet    <U>preliminary    </U>.  AlexNet     LeNet .   
  CNN baseline Transformer baseline            .  network     efficientNet   receptive field   convolution    deformable convolution, astrous pyramid pooling network       .
`,Nte=`---
title: "cs231n   (10) - Visualizing, Transfer learning"
category: "ai theory"
publishedAt: "2022-11-11"
thumbnail: "https://user-images.githubusercontent.com/79881119/219242274-f580c8cc-495e-46cb-8306-e4b0e7359975.png"
---


# ...

   cs231n  <U> </U>  .                ,                . 1                   <U>  </U>   .   
      parameter, functionality         .


# Visualizing what convolutional neural networks learn
CNN  <U>ImageNet  </U>  deep learning,  neural network     . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219004015-6a3aba22-1fc1-4853-80a9-c30f9d39e28a.png" width="800">
</div>

  XRCE    , 2011  error    2011 error rate         <U>  </U> .       game changer   AlexNet,  $10\\%$       <U>deep learning network </U> .   
   CNN ImageNet       .   low-level vision task         ,    deep learning           <U>     </U> .
   <U>MLP(Multi-Layer Perceptron)</U>        forward propagation, objective function  back-propagation   .  loss function       gradient, linear algebra    ,   <U>    </U>         <U>  </U>      .   
Computer science     . Data-driven  deterministic           .   neuron   perceptron MLP,   computer vision task  CNN      <U> </U>   .

 Neural network  input output    ,  parameter prediction generalized        <U>'black box'</U>    .  neural network  black box(explicit input, output  implicit          )   .  ImageNet   AlexNet   <U>    </U>  .

               neural network     error  sample  explainablilty      .  deep learning explainablilty    <U>  </U>,  <U>   </U>   .

  deep learning network      weight visualization   input $x$  layer activation $(f_l \\circ f_{l-1} \\circ \\cdots \\circ f_1(x))$ visualization    <U>  </U> .


# Layer activations
Visualizing    forward pass input  layer activation   . ReLU   activation    blobby dense   training   sparse localized  .
        .

\`\`\`python
import torch
import torchvision
import torchvision.transforms as transforms

# Define CIFAR10 dataset
batch_size = 16

transform = transforms.Compose([transforms.ToTensor(), transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5))])
trainset = torchvision.datasets.CIFAR10(root='./data', train=True,
                                        download=True, transform=transform)
trainloader = torch.utils.data.DataLoader(trainset, batch_size=batch_size,
                                          shuffle=True, num_workers=2)
testset = torchvision.datasets.CIFAR10(root='./data', train=False,
                                       download=True, transform=transform)
testloader = torch.utils.data.DataLoader(testset, batch_size=batch_size,
                                         shuffle=False, num_workers=2)
\`\`\`

 CIFAR-10   ,    ReLU activation function  batchnormalization .
\`\`\`python
# Let's define simple CNN model
import torch
import torch.nn as nn
import torch.nn.functional as F

class SMPCNN(nn.Module):
    def __init__(self):
        super().__init__()
        self.feature1 = nn.Sequential(
            nn.Conv2d(3, 32, kernel_size=3, stride=1, padding=1),
            nn.BatchNorm2d(32),
            nn.ReLU(inplace=True)
        )
        self.feature2 = nn.Sequential(
            nn.Conv2d(32, 64, kernel_size=3, stride=1, padding=1),
            nn.BatchNorm2d(64),
            nn.ReLU(inplace=True)
        )
        self.feature3 = nn.Sequential(
            nn.Conv2d(64, 128, kernel_size=3, stride=1, padding=1),
            nn.BatchNorm2d(128),
            nn.ReLU(inplace=True)
        )
        self.feature4 = nn.Sequential(
            nn.Conv2d(128, 256, kernel_size=3, stride=1, padding=1),
            nn.BatchNorm2d(256),
            nn.ReLU(inplace=True)
        )
        self.feature5 = nn.Sequential(
            nn.Conv2d(256, 256, kernel_size=3, stride=1, padding=1),
            nn.BatchNorm2d(256),
            nn.ReLU(inplace=True)
        )

        self.classifier = nn.Sequential(
            nn.Linear(256*2*2, 64),
            nn.Dropout(0.5),
            nn.Linear(64, 10)
        )

    def forward(self, x):
        f1 = self.feature1(x)
        f2 = self.feature2(F.max_pool2d(f1, kernel_size=2, stride=2))
        f3 = self.feature3(F.max_pool2d(f2, kernel_size=2, stride=2))
        f4 = self.feature4(F.max_pool2d(f3, kernel_size=2, stride=2))
        f5 = self.feature5(F.max_pool2d(f4, kernel_size=2, stride=2))
        f5 = f5.view(f5.size(0), -1)
        score = self.classifier(f5)

        return score, (f1, f2, f3, f4, f5)
\`\`\`

  layer output   \`\`\`score\`\`\`   \`\`\`return\`\`\`. Training configuration      .

\`\`\`python
# Let's define trainer function
from collections import defaultdict

def trainer(model, epochs, train_loader, val_loader, optimizer, criterion, device):
    features = defaultdict(list)
    model.to(device)
    for epoch in range(epochs):
        model.train()
        training_loss = 0.0
        training_acc = 0.0
        for i, (image, label) in enumerate(train_loader):
            optimizer.zero_grad()
            image, label = image.to(device), label.to(device)
            score, activations = model(image)
            loss = criterion(score, label)
            loss.backward()
            optimizer.step()
            _, prediction = torch.max(score, axis=1)
            accuracy = float(torch.sum(torch.eq(prediction, label)))/len(prediction)
            training_loss += loss.item()
            training_acc += accuracy

            if i%200 == 0:
                print(f"Epoch [{epoch+1}/{epochs}] (Iter [{i+1}/{len(train_loader)}]) ===> Training loss : {training_loss/(i+1):.6f}, Training accuracy : {100*training_acc/(i+1):.2f}%")
            
            if i%1000 == 0:
                features[epoch] += [activations]
      
        model.eval()
        with torch.no_grad():
            validation_loss = 0.0
            validation_acc = 0.0
            for i, (image, label) in enumerate(val_loader):
                image, label = image.to(device), label.to(device)
                score, _ = model(image)
                loss = criterion(score, label)
                _, prediction = torch.max(score, axis=1)
                accuracy = float(torch.sum(torch.eq(prediction, label)))/len(prediction)
                validation_loss += loss.item()
                validation_acc += accuracy                    

            print(f"Epoch [{epoch+1}/{epochs}] ===> Validation loss : {validation_loss/len(val_loader):.6f}, Validation accuracy : {100*validation_acc/len(val_loader):.2f}%")
    return features
\`\`\`

   training dataset   iteration   feature map ,  \`\`\`feature\`\`\`      .         \`\`\`batch size\`\`\` $16$  \`\`\`epoch\`\`\` $20$ .   learning rate   $10^{-3}$  .

\`\`\`python
# Train configurations
model = SMPCNN()
epochs = 20
optimizer = torch.optim.Adam(model.parameters(), lr=1e-3, weight_decay=5e-4)
criterion = nn.CrossEntropyLoss()
device = "cuda" if torch.cuda.is_available() else "cpu"
\`\`\`

Classification task     \`\`\`criterion\`\`\` cross entropy loss .   test set  accuracy $79.49\\%$, training set  accuracy  $90\\%$ .   overfitting , data augmentation  regularization    ,       <U>  feature map activation</U>   . Visualize pytorch  \`\`\`make_grid\`\`\`  ,        .   layer  $16$ batch image   feature map   .      (epoch $0$) feature map activation.

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219229561-e9a194cd-5f5a-471c-905c-4dbbbf48bbe7.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219229596-028a2912-de14-4b79-9ac1-f3bf3a65ad99.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219229644-aab29ce5-1458-4680-b186-90f270417704.png" width="300">
</div>

        .       dense blobby   ,     feature map       .      sparse localized      (  ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219229190-c83f7d87-b398-44ff-b403-55a7ca3c8877.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219229257-569fed97-db8b-4b30-9f1c-f2a8ef37c097.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219229309-0cd0963d-f5b5-4f2f-8495-81b574ea38f8.png" width="300">
</div>
 activation map <U>    </U> feature map         .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219230090-5a4c3353-03ec-4abc-a344-0cb2125d522b.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219230103-3d5a0478-8e6b-466d-b74a-ac952d27c469.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219230117-e197fcbc-dde5-40e8-8f31-7a4856477ae6.png" width="300">
</div>

     activation map     ,  activation map       .          feature    (   ), prediction   <U>training set  </U> feature     .           ,         feature extraction   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219230642-5bef1840-fa64-47b9-88b4-5209fe0b803e.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219230651-c500da44-02cf-4800-b2ae-4e0b3be92ac6.png" width="300">
    <img src="https://user-images.githubusercontent.com/79881119/219230660-e75731c8-3715-4d36-9ed9-f78b716390b3.png" width="300">
</div>

       activation map   .   activation  sparse( channel  feature )   ,  ReLU     signal value          .  visualization      ReLU activation     dead activation making,   filter channel      .


# Visualize convolutional, fully-connected filters
Input  activation   ,    weight  .   convolution layer   input raw pixel  image interpret , network layer    fiter weight visualize .    noisy   smooth    .         <U>  </U>  convolutional layer  convolutional layer weight   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219239665-2e9d0148-40b7-401c-933e-a7a32d97e429.png" width="550">
    <img src="https://user-images.githubusercontent.com/79881119/219239693-fcc82cd6-7b32-429d-82d2-4b3ba5dfde66.png" width="300">
</div>

 weight visualization  <U>kernel size  convolutional filter</U> ,  deeper layer  receptive field      weight  visualize       .  visualization         [ZFNet](https://arxiv.org/pdf/1311.2901.pdf) , AlexNet  visualization        ImageNet  .


# Retrieving images that maximally activate a neuron
 visualization   dataset image ,  network   neuron activation  .    neuron  receptive field  <U>   </U>         object detection   [R-CNN](https://arxiv.org/abs/1311.2524) .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219242274-f580c8cc-495e-46cb-8306-e4b0e7359975.png" width="950">
</div>

   ReLU      semantic meaning   .  <U>  ReLU   space basis vector </U>(   switch     )      .   visualization representation      edge(boundary)   ,  weight    . Input  convolutional neural network  , trajectory     representation space <U>  searching   </U> ([ ](https://arxiv.org/abs/1312.6199)).


# Embedding code with t-SNE
Convolutional Neural Network image linear classifier  <U> class   </U> score map .      <U> </U>  embedding  ,  representation     .   network   t-SNE   .
       CIFAR-10 dataset t-SNE  2 manifold mapping   .

\`\`\`python
cls = []
embedding = []
for data in testloader:
    images, labels = data[0].to(device), data[1].to(device)
    embedding += images.view(images.shape[0], -1).cpu().numpy().tolist()
    cls += labels.cpu().numpy().tolist()

tsne = TSNE(n_components=2, random_state=0)
points = np.array(tsne.fit_transform(np.array(embedding)))
classes = np.array(cls)

plt.figure(figsize=(10, 10))
cifar = ['plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck']
for i, label in zip(range(10), cifar):
    idx = np.where(classes == i)
    plt.scatter(points[idx, 0], points[idx, 1], marker='.', label=label)

plt.legend()
plt.show()
\`\`\`

       ,  class     2         .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219253195-4bdba5b5-d70e-4d98-9510-a09db50eb388.png" width="600">
</div>
 classification     feature map   ($256$ dimension) t-SNE   .

\`\`\`python
cls = []
deep_features = []
model.eval() # resnet18
with torch.no_grad():
    for data in testloader:
        images, labels = data[0].to(device), data[1].to(device)
        _, features = model(images)
        deep_features += features[-1].cpu().numpy().tolist()
        cls += labels.cpu().numpy().tolist()

tsne = TSNE(n_components=2, random_state=0)
points = np.array(tsne.fit_transform(np.array(deep_features)))
classes = np.array(cls)

plt.figure(figsize=(10, 10))
cifar = ['plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck']
for i, label in zip(range(10), cifar):
    idx = np.where(classes == i)
    plt.scatter(points[idx, 0], points[idx, 1], marker='.', label=label)

plt.legend()
plt.show()
\`\`\`
            .     classification         .
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219253773-50ac9a70-c671-46d4-8f27-04be861e011b.png" width="600">
</div>

# Occluding parts of the image
  input      class  confidence()  .     ImageNet   ResNet18 .   .

\`\`\`python
import torch
import cv2
import matplotlib.pyplot as plt
import torchvision.transforms.functional as TF
from torchvision.models import ResNet18_Weights
from tqdm import tqdm
import numpy as np

model = torch.hub.load('pytorch/vision:v0.10.0', 'resnet18', weights=ResNet18_Weights.DEFAULT)
model.to("cuda")
model.eval()
\`\`\`

  ResNet18 \`\`\`torchvision\`\`\`     .  model gpu ,   evaluation    network layer validation  . Evaluation    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219275258-243c6074-49eb-4cfe-b291-27542fe743cc.jpg" width="600">
</div>
ImageNet  CIFAR  class $1000$ .     <U>   </U> ,  <U>    </U>   .    ResNet18         .

\`\`\`python
test_img = cv2.cvtColor(cv2.imread("test_img.jpg"), cv2.COLOR_BGR2RGB)
resized = cv2.resize(test_img, (224, 224))
input_image = TF.to_tensor(resized)
input_image = TF.normalize(input_image, [0.485, 0.456, 0.406], [0.229, 0.224, 0.225])
input_image = input_image.unsqueeze(0)
\`\`\`

ImageNet   resolution $224 \\times 224$   classifier dimension     resize .  numpy   tensor  normalize  . 

    index  class         index class    ([ ](https://gist.github.com/yrevar/942d3a0ac09ec9e5eb3a)).

\`\`\`python
with open("idx2label.txt") as f:
    idx2label = eval(f.read())

with torch.no_grad():
    output = model(input_image.to("cuda"))
    _, prediction = torch.max(output, axis=1)
    print(idx2label[prediction.item()])
\`\`\`

  score softmax     index    class  , prediction   class  <U>'Siamese cat, Siamese'</U>      .    perturbation  , prediction    .

\`\`\`python
masked_img = []
mask_size = 32
for i in range(224):
    for j in range(224):
        left = int(max(0, j-mask_size//2))
        right = int(min(224, j+mask_size//2))
        top = int(max(0, i-mask_size//2))
        bottom = int(min(224, i+mask_size//2))
        
        masked = resized.copy()
        masked[top:bottom, left:right, :]=0
        masked_img.append(masked)

confidences = np.zeros(224*224)
correct = 0
total = 0

loading = tqdm(enumerate(masked_img))
for i, img in loading:
    input_image = TF.to_tensor(img)
    input_image = TF.normalize(input_image, [0.485, 0.456, 0.406], [0.229, 0.224, 0.225])
    input_image = input_image.unsqueeze(0)
    with torch.no_grad():
        output = model(input_image.to("cuda"))
        output = torch.softmax(output, dim=1)
        _, estimate =  torch.max(output, axis=1)
        total += 1
        if estimate.item() == 284:
            correct += 1
        confidences[i] = output[:, 284].item()
        loading.set_description(f"Accuracy : [{correct}/{total}]")
\`\`\`

Mask  $32 \\times 32$ .   confidence  mask    validation  $224 \\times 224$    mask  $43,348$   class      . Confidence heatmap   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219280382-0f746188-49fe-4f8b-bc3a-de6eaf35287e.png" width="800">
</div>

     masking   prediction     .      binary   .    masking  class confidence    class  confidence  label   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219282807-089d08ae-a2d9-424e-b3c6-eec74308e3fd.png" width="800">
</div>

    mask    prediction   ,      <U>     prediction </U>  explainability .


# Transfer learning and Fine-tuning

          .  cs231n      , deep learning    specific task   <U>task</U>        <U>  </U>   .   task    ,  transfer learning fine tuning    <U>   </U>    .

ImageNet    AlexNet, VGGNet  ResNet  network   dataset        training . ImageNet  120   ,     ImageNet-22k  $14,197,122$  .  task   ,   <U>   </U>( training from scratch ),  dataset  <U> representation   </U>       task     .   training  representation  task   <U>transfer learning</U>,  transfer learning    <U>   </U> fine-tuning . Fine tuning  training    backbone task specific    freezing( ), training(  )        .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219285463-f22eefa5-97ad-410c-baac-da1e89e35053.png" width="800">
</div>

### Convolutional Neural Network  feature extractor  

ConvNet ImageNet pretrained AlexNet , <U>  Fully connected layer</U> classifier,   $1000$ class  score    1000 class   classificatioin task     .     ,    feature extraction  . <U>   </U>(freeze) ,     classifier  . Classifier      linear SVM(Support Vector Machine)   , Softmax classifier   .       .  R-CNN <U>ImageNet </U>  ,  representation object detection task transfer learining  SVM training   fine-tuning .

### Convolutional Neural Network fine tuning  

 convolutional (feature extraction)  , backpropagation weight    .  dataset  Overfitting         weight    .          .


# How to fine-tune?
 fine-tuning          ,   task     fine-tuning      .    fine-tuning      ,  fine-tuning  source network   distribution  .         <U>    </U>   .

###  Dataset    Dataset  
    convolutional network fine tuning  overfitting  .       , high level feature(coarse feature map)   .  feature extractor  (freeze)  linear classifier  training   .

###  Dataset    Dataset  

       ,   training weight     fine-tuning  .       over-fitting   .          fine-tuning task-specific performance   .

###  Dataset    Dataset   

   . Dataset       classifier  fine-tuning    ,    dataset    feature map  assumption    .   high level feature  feature map  classifier   network head   , network  feature acitvation  SVM       .              .

###  Dataset    Dataset   

Dataset     scratch() training            pre-training            .         fine-tuning    high level feature    . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219288407-2fc71b5f-f906-4cb7-a433-f8936591ff9a.png" width="600">
</div>

Fine tuning     .  pre-training        metric task       .         <U>optimization point  </U>  <U>learning rate  </U>    .       $1/100$ $1/1000$    learning rate  task  .
`,Cte=`---
title: "DDPM    "
category: "ai theory"
publishedAt: "2023-04-02"
thumbnail: "https://user-images.githubusercontent.com/79881119/232325472-ed7e91ec-cd58-4826-8641-e3e110aee05d.png"
---


# ...

     DDPM       .             .. DDPM   [](https://arxiv.org/abs/2006.11239).     3  .

# Forward and Reverse process

 $x_0$  variance($\\beta$) **  ** ($T$)   output $x_T$ $x_0$  spatial dimension    .   process variance  ** **.

### Forward process $q(x_t \\vert x_{t-1})$

$$
q(x_t \\vert x_{t-1}) = \\mathcal{N}(x_t; \\sqrt{1-\\beta_t}x_{t-1}, \\beta_t I)
$$

     stochastic     reparameterization trick .  time step     step output $\\sqrt{1-\\beta_t}$  scaling     ,    variance $1$   .

$$
\\left(\\sqrt{1-\\beta_t}\\right)^2+\\left(\\sqrt{\\beta_t}\\right)^2 = 1
$$

    , $\\alpha_t = 1-\\beta_t$ 

$$
\\text{For}~\\epsilon \\sim \\mathcal{N}(0, I), x_{t} = \\sqrt{\\alpha_t}x_{t-1} + \\sqrt{1-\\alpha_t}\\epsilon
$$

 $t$  step   

$$
x_t = \\sqrt{\\alpha_t}\\sqrt{\\alpha_{t-1}}x_{t-2} + \\sqrt{\\alpha_t}\\sqrt{1-\\alpha_{t-1}}\\epsilon_{t-2} + \\sqrt{1-\\alpha_t}\\epsilon_{t-1}
$$

  $t>1$      ,  epsilon   ,

$$
\\sqrt{\\alpha_t}\\sqrt{1-\\alpha_{t-1}}\\epsilon_{t-2} + \\sqrt{1-\\alpha_t}\\epsilon_{t-1} \\rightarrow \\left(\\left(\\sqrt{\\alpha_t}\\sqrt{1-\\alpha_{t-1}} \\right)^2 + \\left(\\sqrt{1-\\alpha_t} \\right)^2\\right) \\epsilon
$$

        .

$$
q(x_t \\vert x_0) = \\mathcal{N}(x_t; \\sqrt{\\bar{\\alpha}_t}x_0, (1-\\bar{\\alpha}_t)I)
$$

  **reparameterization**  loss   .     .

$$
x_t := \\sqrt{\\bar{\\alpha}_t} x_0 + \\sqrt{1-\\bar{\\alpha}_t} \\epsilon,~\\epsilon \\sim \\mathcal{N}(0, I)
$$

### Reverse process $p_\\theta(x_{t-1} \\vert x_t)$

Forward process posterior   .   .     ?        VAE      lower bound .

$$
p_\\theta(x_{0 : T}) := p(x_T) \\prod_{t=1}^T p_\\theta(x_{t-1} \\vert x_t)
$$

$x_T$    joint distribution probability  ,

$$
p_\\theta(x_{t-1} \\vert x_t) := \\mathcal{N}(x_{t-1}; \\mu_{\\theta}(x_t,~t), \\Sigma_\\theta (x_t,~t))
$$

Diffusion process                 **  **   .

   forward process    reverse process    loss function  .


# Loss function

### Evidence lower bound(ELBO) in DDPM

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}_q \\left( -\\log p_\\theta(x_0 \\vert z) -\\log \\frac{p_\\theta(z)}{q_\\phi(z \\vert x_0)} \\right)
$$

  VAE , ELBO  term $z$ $x$ reconstruction   decoder  ,  term gaussian  pre-defined   $p_\\theta(z)$ encoder output $q_\\phi(z \\vert x)$    KL divergence .  term reconstruction KL divergence decoder   ,

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}_q \\left( -\\log p_\\theta(z) -\\log \\frac{p_\\theta(x_0 \\vert z)}{q_\\phi(z \\vert x_0)} \\right)
$$

 , latent $z$ time step    encoder   (DDPM parameteric  encoder    )    DDPM ELBO   .

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}_q \\left( -\\log p_\\theta(x_T) -\\log \\frac{p_\\theta(x_{0:T-1} \\vert x_T)}{q(x_{1:T} \\vert x_0)} \\right)
$$

  process joint Markov process  summation   .

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}_q \\left( -\\log p_\\theta(x_T) -\\log \\prod_{t \\ge 1} \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_t \\vert x_{t-1})} \\right)
$$

 $\\log$ production   summation .

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}q \\left( -\\log p_\\theta(x_T) - \\sum_{t \\ge 1}\\log \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_t \\vert x_{t-1})} \\right)
$$

    **VAE   **   forward process reverse process          VAE  decoder **implicit conditional probability** $p_\\theta(x_0 \\vert z)$     Diffusion  decoder **diffusion process**  **  **     . 

     encoder   diffusion process $q$  step sample     $q(x_t \\vert x_{t-1})$       $q(x_{t-1} \\vert x_t)$    (intractable) .

$$
q(x_{t-1} \\vert x_t) = \\frac{q(x_t \\vert x_{t-1})q(x_{t-1})}{q(x_{t})}
$$

          .

$x_{t-1}$      $x_t$    normal distribution    $(q(x_t \\vert x_{t-1}))$    time step         $(q(x_t),~q(x_{t-1}))$ Bayes  intractable term      .

     term  $x_0$        (normal distribution ) tractable   .

$$
\\begin{aligned}
q(x_{t-1} \\vert x_t,x_0) =& \\frac{q(x_t \\vert x_{t-1},x_0)q(x_{t-1},x_0)}{q(x_{t},x_0)} \\newline
=& \\frac{q(x_t \\vert x_{t-1},x_0)q(x_{t-1}\\vert x_0) q(x_0)}{q(x_{t} \\vert x_0) q(x_0)} \\newline
=& q(x_t \\vert x_{t-1},x_0) \\times \\frac{q(x_{t-1} \\vert x_0)}{q(x_t \\vert x_0)}
\\end{aligned}
$$

$x_0$   , $p_\\theta(x_t \\vert x_{t-1})$          $t > 1$  latent  $x_0$     ( ).     loss function   .

$$
D_{KL}(q(x_T \\vert x_0) \\vert\\vert p_\\theta(x_T)) -\\sum_{t > 1} D_{KL} (q(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t)) -\\mathbb{E}_q\\left(\\log p_{\\theta}(x_0 \\vert x_1) \\right)
$$

     $t>1$   posterior   tractable   ,     .

$$
\\begin{aligned}
\\mathcal{L} \\le& \\mathbb{E}_q\\left(-\\log (p_\\theta(x_T))-\\sum_{t=2}^T \\log \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_t \\vert x_{t-1})} -\\log \\frac{p_\\theta(x_0 \\vert x_1)}{q(x_1 \\vert x_0)} \\right) \\newline
\\le& \\mathbb{E}_q\\left(-\\log (p_\\theta(x_T))-\\sum_{t=2}^T \\log \\left( \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_{t-1} \\vert x_t, x_0)} \\times \\frac{q(x_{t-1} \\vert x_0)}{q(x_t\\vert x_0)}\\right) -\\log \\frac{p_\\theta(x_0 \\vert x_1)}{q(x_1 \\vert x_0)} \\right) \\newline
\\le& \\sum_{t > 1} D_{KL} (q(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t))+\\mathbb{E}_q\\left(-\\log (p_\\theta(x_T))-\\log \\frac{q(x_1 \\vert x_0)}{q(x_T \\vert x_0)}-\\log \\frac{p_\\theta(x_0 \\vert x_1)}{q(x_1 \\vert x_0)} \\right) \\newline
\\le& D_{KL}(q(x_T \\vert x_0) \\vert\\vert p_\\theta(x_T)) +\\sum_{t > 1} D_{KL} (q(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t)) -\\mathbb{E}_q\\left(\\log p_{\\theta}(x_0 \\vert x_1) \\right)
\\end{aligned}
$$

### ELBO into objective function

               .  ELBO      ,     KL divergence diffusion process  **  **(gaussian   )   loss function .  VAE   encoder output    KL divergence term , diffusion  $q$       .

$$
D_{KL}(q(x_T \\vert x_0) \\vert\\vert p_\\theta(x_T))
$$

    log likelihood    ,     .

$$
\\mathbb{E}_q\\left(\\log p_{\\theta}(x_0 \\vert x_1) \\right)
$$

   , noise    $x_1$ $x_0$ reconstruction    .      KL divergence         ,        .

   , $\\log$ likelihood likelihood     .

$$
p_\\theta(x_0 \\vert x_1)
$$

$p_\\theta$    $x_1$  $x_0$        diffusion process   neural network.

$$
p_\\theta(x_0 \\vert x_1) \\sim \\mathcal{N}(x_0;~\\mu_\\theta(x_1, 1), \\sigma_1^2)
$$

              . ,  $[-1, 1]$      $-1$  value  $-1$   $1$  value  $1$     .     $0 \\sim 255$  discrete RGB value      $1/255$   .

  $x_1$ $x_0$  , ground truth  $0$   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/232325472-ed7e91ec-cd58-4826-8641-e3e110aee05d.png" width="1000"/>
</div>


 $p_\\theta(x_0 \\vert x_1)$             (    ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/232325475-c42d8a7f-800e-4567-91a2-f2951bcf2314.png" width="900"/>
</div>


     ,   ($1\\sim D$)  joint probability   .

$$
p_\\theta(x_0 \\vert x_1) = \\prod_{i=1}^D \\int_{\\delta_{-}(x_0^i)}^{\\delta_+(x_0^i)} \\mathcal{N}(x; \\mu_\\theta^i (x_1, 1), \\sigma_1^2) dx
$$

   $[-\\delta_-(x_0^i),~+\\delta_+(x_0^i)]$     $-1$   $1$      $-1$ $1$   $1/255$     .

$$
\\delta_+(x) = \\begin{cases}
\\infty,&\\text{if }x=1 \\newline
x+\\frac{1}{255},&\\text{if }x<1
\\end{cases},~~\\delta_-(x) = \\begin{cases}
-\\infty,&\\text{if }x=-1 \\newline
x-\\frac{1}{255},&\\text{if }x>-1
\\end{cases}
$$

###  Optimization($L_{1:T-1}$)

     $L_T$    $L_0$        .        $L_{1:T-1}$ KL divergence    ?

$$
\\sum_{t > 1} D_{KL} (q(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t))
$$

  $q(x_{t-1} \\vert x_t, x_0)$      .      prior   .

$$
q(x_{t-1} \\vert x_t,x_0) = q(x_t \\vert x_{t-1},x_0) \\frac{q(x_{t-1} \\vert x_0)}{q(x_t \\vert x_0)}
$$

        tractable    .

$$
\\begin{aligned}
q(x_t \\vert x_0) \\sim& \\mathcal{N}(\\sqrt{\\bar{\\alpha}_t}x_0, (1-\\bar{\\alpha}_t)I) \\newline
q(x_t \\vert x_{t-1}) \\sim& \\mathcal{N}(\\sqrt{1-\\beta_t}x_{t-1},\\beta_tI)
\\end{aligned}
$$

             exponential      .

$$
\\begin{aligned}
q(x_{t-1} \\vert x_t, x_0) \\propto& \\exp \\left(-\\frac{1}{2} \\left( \\frac{(x_t - \\sqrt{\\alpha_t}x_{t-1})^2}{\\beta_t}  + \\frac{(x_{t-1} - \\sqrt{\\bar{\\alpha}_{t-1}}x_0)^2}{1-\\bar{\\alpha}_{t-1}} - \\frac{(x_t - \\sqrt{\\bar{\\alpha}_t}x_0)^2}{1-\\bar{\\alpha}_t} \\right) \\right) \\newline
=& \\exp \\left(-\\frac{1}{2} \\left( \\frac{x_t^2 - 2\\sqrt{\\alpha_t}x_t x_{t-1}+\\alpha_tx_{t-1}^2}{\\beta_t}  + \\frac{x_{t-1}^2 - 2\\sqrt{\\bar{\\alpha}_{t-1}}x_0x_{t-1} + \\bar{\\alpha}_{t-1}x_0^2}{1-\\bar{\\alpha}_{t-1}} - \\frac{x_t^2 -2\\sqrt{\\bar{\\alpha}_t}x_0x_t + \\bar{\\alpha}_tx_0^2}{1-\\bar{\\alpha}_t}\\right) \\right)
\\end{aligned}
$$

     $x_{t-1}$   quadratic(2 )      ,

$$
=\\exp \\left(-\\frac{1}{2} \\left( ( \\frac{\\alpha_t}{\\beta_t} +\\frac{1}{1-\\bar{\\alpha}_{t-1}} )x_{t-1}^2 - (2\\frac{\\sqrt{\\alpha}_tx_t}{\\beta_t} + 2\\frac{\\sqrt{\\bar{\\alpha}_{t-1}}x_0}{1-\\bar{\\alpha}_{t-1}})x_{t-1} + C(x_t, x_0) \\right) \\right)
$$

    .        $ax^2+bx+c$    $-b/2a$  

$$
\\begin{aligned}
\\tilde{\\mu}(x_t,~x_0) =& \\frac{\\frac{\\sqrt{\\alpha}_tx_t}{\\beta_t} + \\frac{\\sqrt{\\bar{\\alpha}_{t-1}}x_0}{1-\\bar{\\alpha}_{t-1}}}{\\frac{\\alpha_t}{\\beta_t} +\\frac{1}{1-\\bar{\\alpha}_{t-1}}} = \\left( \\frac{\\sqrt{\\alpha}_tx_t}{\\beta_t} + \\frac{\\sqrt{\\bar{\\alpha}_{t-1}}x_0}{1-\\bar{\\alpha}_{t-1}}\\right) \\times \\frac{\\beta_t (1-\\bar{\\alpha}_{t-1})}{1-\\bar{\\alpha}_t} \\newline
=& \\frac{\\sqrt{\\alpha}_t(1-\\bar{\\alpha}_{t-1})}{1-\\bar{\\alpha}_t}x_t + \\frac{\\beta_t \\sqrt{\\bar{\\alpha}_{t-1}}}{1-\\bar{\\alpha}_t}x_0
\\end{aligned}
$$

      $1/(-2a)$  

$$
\\tilde{\\sigma}_t^2 = \\beta_t \\times \\left( \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t} \\right)
$$

   . DDPM            .

  $p_\\theta(x_{t-1} \\vert x_t)$ $q(x_{t-1} \\vert x_t, x_0)$  KL divergence    $\\mathcal{N}(x_{t-1}; \\mu_\\theta(x_t,t),~\\Sigma_\\theta(x_t, t))$          $\\tilde{\\sigma}_t^2 = \\beta_t \\times \\left( \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t} \\right)$   .    $t$ step variance $\\beta_t$ $\\sigma_t^2$     ,   variance   $\\bar{\\alpha}_t = \\prod_{\\tau=1}^t(1-\\beta_\\tau)$  step    $t$       ( ).   $\\mu_\\theta(x_t,~t)$   ..

 KL divergence     exponential      .   $C$    term . 

$$
L_{t-1} := \\mathbb{E}_q \\left( \\frac{1}{2\\sigma_t^2} \\vert\\vert \\tilde{\\mu}_t(x_t, x_0) - \\mu_\\theta(x_t, t)  \\vert\\vert^2 \\right)+C
$$

     stochastic   .   $x_t$  reparameterization($x_t = \\sqrt{\\bar{\\alpha}_t}x_0+\\sqrt{1-\\bar{\\alpha}_{t}}\\epsilon$)  .      $x_t(x_0,\\epsilon)$  .  $\\tilde{\\mu}_t$  $x_0$ process  $x_t$   $x_0$  reparameterization $x_0 = \\frac{x_t}{\\sqrt{\\bar{\\alpha}_t}}-\\frac{\\sqrt{1-\\bar{\\alpha}_t}}{\\sqrt{\\bar{\\alpha}_t}}\\epsilon$  .

$$
L_{t-1} -C = \\mathbb{E}_q \\left( \\frac{1}{2\\sigma_t^2} \\left\\vert\\left\\vert \\tilde{\\mu}_t\\left(x_t(x_0,\\epsilon), \\frac{x_t(x_0,\\epsilon)}{\\sqrt{\\bar{\\alpha}_t}}-\\frac{\\sqrt{1-\\bar{\\alpha}_t}}{\\sqrt{\\bar{\\alpha}_t}}\\epsilon\\right) - \\mu_\\theta(x_t(x_0,\\epsilon), t) \\right\\vert\\right\\vert^2 \\right)
$$

   ,

$$
\\begin{aligned}
\\tilde{\\mu}(x_t,~x_0) =& \\frac{\\sqrt{\\alpha}_t(1-\\bar{\\alpha}_{t-1})}{1-\\bar{\\alpha}_t}x_t + \\frac{\\beta_t \\sqrt{\\bar{\\alpha}_{t-1}}}{1-\\bar{\\alpha}_t}x_0 \\newline
=& \\frac{\\sqrt{\\alpha}_t(1-\\bar{\\alpha}_{t-1})}{1-\\bar{\\alpha}_t}x_t(x_0,\\epsilon) + \\frac{\\beta_t \\sqrt{\\bar{\\alpha}_{t-1}}}{1-\\bar{\\alpha}_t}\\left(\\frac{x_t(x_0,\\epsilon)}{\\sqrt{\\bar{\\alpha}_t}}-\\frac{\\sqrt{1-\\bar{\\alpha}_t}}{\\sqrt{\\bar{\\alpha}_t}}\\epsilon\\right) \\newline
=& \\frac{1}{\\sqrt{\\alpha_t}}x_t(x_0, \\epsilon)-\\frac{\\beta_t}{\\sqrt{(1-\\bar{\\alpha}_t)\\alpha_t}}\\epsilon \\newline
=& \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t(x_0, \\epsilon)-\\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}_t}}\\epsilon\\right)
\\end{aligned}
$$

 .       ,

$$
\\mathbb{E}_q \\left( \\frac{1}{2\\sigma_t^2} \\left\\vert\\left\\vert \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t(x_0, \\epsilon)-\\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}_t}}\\epsilon\\right) - \\mu_\\theta(x_t(x_0,\\epsilon), t) \\right\\vert\\right\\vert^2 \\right)
$$

 .     $x_t(x_0, \\epsilon)$    .  time step-$t$  input $x_t$ , $x_{t-1}$      forward  stochastic  epsilon    .

$$
\\mu_\\theta(x_t, t) = \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)
$$

 $x_t$ $x_{t-1}$     $x_{t-1}$    $\\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)$   variance term $\\sigma_tz$, $z\\sim\\mathcal{N}(0, I)$  .

$$
x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)+\\sigma_tz
$$

  $L_{1:T-1}$  loss    ($x_t$    ).

$$
\\mathbb{E}_{x_0,\\epsilon} \\left( \\frac{\\beta_t^2}{2\\sigma_t^2 \\alpha_t(1-\\bar{\\alpha}_t)} \\parallel \\epsilon - \\epsilon_\\theta(\\sqrt{\\bar{\\alpha}_t}x_0 + \\sqrt{1-\\bar{\\alpha}_t}\\epsilon, t) \\parallel^2\\right)
$$
`,Ite=`---
title: "Diffusion LLM      "
category: "ai theory"
publishedAt: "2025-07-09"
thumbnail: "https://github.com/user-attachments/assets/dc200d92-ac43-4245-af0c-c0a93fdf7b0a"
---

#  LLM  ?

**LLM**    (GPT, Claude ) **(autoregressive)**   ,   .    , **   **       .         .      ?

## Autoregressive Generation ( )

   ** ( )    **.            . , ** **  **   ** .

-  3 1, 2,  4 1, 2, 3  
-   **  .**
-    (flops)     .

 .    **  **      . LLM      .

### 

LLM   ( )      .

<div align="center">
    <img width="1000" alt="Image" src="https://github.com/user-attachments/assets/dc200d92-ac43-4245-af0c-c0a93fdf7b0a" />
</div>

,      LLM  ,  \`\`  . Tokenize   (, , , , , , )           ,  LLM    .

     ?

###    

         ,            .

<div align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/64472678-e7b6-4383-b2f5-9c2d2bcaa499" />
</div>

       ,                        .

       (\`char\` )      .     Transformer      Context      .

  LLM  BPE   ,   UTF-8   byte pair      .      ,  

**       context length       **  .

###     

   (\`masking\`)     .    ,       Causality()      ,           .

     ,

> **Causality is an influence by which one event,** process, state, or object (*a* *cause*) contributes to the production of another event, process, state, or object (an *effect*) where the cause is at least partly responsible for the effect, and the effect is at least partly dependent on the cause. The cause of something may also be described as the reason for the event or process.
> 

             .               .       \`one event\`   \`process\`  ,

> **Causality is an influence by which one event,** [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK] [MASK]
> 

             .

<div align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/8477f525-9b25-4437-96a8-d9b631e89a99" />
</div>

,   0, 1   array  ,     ,    ()    .   $T$,   $\\mathcal{V}$     $hat{p}_{t, v}$    $y_{t, v}$ 

$$
\\mathcal{L}_{	ext{CE}}
    = -\\sum_{t=1}^{T}\\sum_{v=1}^{|\\mathcal{V}|} y_{t,v}\\,\\log\\!\\bigl(\\hat{p}_{t,v}\\bigr)
    = -\\sum_{t=1}^{T} \\log\\!\\bigl(\\hat{p}_{t,y_t}\\bigr),
$$

  cross entropy     .  LLM              .

#    

Google I/O  Gemini   **Gemini Diffusion**        .   ,   , ,      SOTA    .

<div align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/6296c491-372e-4528-acc9-9cccf54da636" />
</div>

          ,      .  LLM  Autoregressive                        .               . (         )

## Text Diffusion

  ** **      (denoise)  .        denoise.

1.  \`[MASK]\`    ( ).
2.         .

Google      , **LLaDA**         .

<div align="center">
    <img width="1000" alt="Image" src="https://github.com/user-attachments/assets/bae0d169-d559-4513-bb17-5ca2df739ae3" />
</div>

 **          ** .          ,      .

## Diffusion Pretraining

      , **  **  **  **  **seq-to-seq ** .

-      **(loss)   ** .
- **BERT** Masked      .
-  ** (SFT)**     , ** **   .

## Diffusion Inference

  seq-to-seq , **    **    .       .

1. ** **  .
2.  **  **.
3. Random  Confidence  **  (** time step  **)**   .
4. ** **  2~3  **$T$**  .

   ,  ** 90%**    ,  ** 10%**     .    **2   **, **   $T$   **  ** **    . ,      2.   3.    ()

#    

###    

Google        .

-  : LLM        .
- GPU  :   **time-on-chip**  ** ** .

###        

  **   **      . **Chain-of-Thought**       LLM      . LLM context engineering prompt engineering      Autoregressive process ,              .

     diffusion       Diffusion model Autoregressive process   step        .`,Lte=`---
title: Speaker Recognition with Deep Learning (1) -       
category: "ai papers"
publishedAt: "2025-12-22"
thumbnail: "https://github.com/user-attachments/assets/fd271157-8443-42d7-a5cf-202ef55eb41d"
---

## Speaker Recognition?

Speaker Recognition( ) (Voice/Speech)     .    //      .
             .
   .

- : , , ,  ,          
-  : , TTS/       
-  :        

  high-level  , low-level      .


## Low-level :    

           .

      ,  ,   ,      ,       .

   ,

-    (embedding) 
- /    

 .

      ,   robust     ?


## Speaker Recognition with Deep Learning:  

<div align="center">
    <img src="https://github.com/user-attachments/assets/fd271157-8443-42d7-a5cf-202ef55eb41d">
</div>

    .

- //    
-   (, ,  )
-       

      ,            .

   (feature)     ,           .

    ,     AI      .

     .

>     task ,     ,        .
> 


## 4) Speaker Recognition   

    ,      .

        .

         ,      .

-   vs   vs 
-  //
-   ,  
-   ,  , (reverb)

           ,    .


##    

         .

1.  ( ?)
    -  ( ?) /  (   ?)
2. / (  )
    - denoise, dereverb  /
3.   /(     ?)
    -  (separation),  /(diarization)
4. /    
    -      //


## Task 

### Speaker Identification / Verification 


<div align="center">
    <img src="https://github.com/user-attachments/assets/305763ed-00c6-441a-99eb-467aae004fd9">
</div>


Identification/Verification       .      DB     .           ,           .

**Verification**    ,   Query  (New utterance)       .

**Identification**     ,   Query  (New utterance)         .

,   Verification /  Binary Classification Identification Task Subset( ),    . Identification       ,           (Verification    )   .
       **Open-set Recognition** .

### Speaker Diarization


<div align="center">
    <img src="https://github.com/user-attachments/assets/f72cc383-0059-4334-a3ab-7f5be904d30c">
</div>


Diarization        ,    Task.    ,              .

  ,     3     ,      ,   ,      (   )  .

Diarization          Task,     Speaker Verification (    ,    (registered) ?)       ,                Task .


##     + () +  

    .

>      ,            ( ///)     .
> 

            .      ,   **  ** .

-  : ()      / 
-  :  +  +  +  +  +  +   +        


##    

        3    .

1.    
    -   ,    
    -  * *, * *, * *   
2.    
    -    identification/verification 
    -  /    +  +  +   diarization  
3.       (Open-set)
    -      
    -           
    -    


## **    **

      .

-      ?
    
    (Traditional feature  $i-$vector/$x-$vector  ECAPA-TDNN   SSL  )
    
-   , PLDA     ?
- diarization  ,    ?
    
    (/ / / )
    
- TTS/        ?
    
    (anti-spoofing/CM,   verification   )
    

, <u>  /</u>           .


## ****

         .      ,       (denoise/dereverb) + (separation) + /(diarization) + /(verification/identification)         .

         ,        .     ,       (   ) .
`,Rte=`---
title: "Speaker Recognition with Deep Learning (2) -         "
category: "ai papers"
publishedAt: "2025-12-23"
thumbnail: "https://github.com/user-attachments/assets/78a25e1b-2c59-4bc6-9fea-d118711841da"
---

    Speaker Recognition with Deep Learning (1) -         .       input/output/state   notation   /Convolution      .


##     

 Speaker Recognition   Task Speaker Verification/Identification         .


<div align="center">
    <img src="https://github.com/user-attachments/assets/18a8e7bd-70d8-4ccf-8167-f24b42f38188" width="600">
</div>

>     ?
> 

             ,     Downstream task   . ,        .

### Speaker Recognition  

    Speaker Recognition   .      ,  ,       .    $x$       ,  nuisance( )      .   ,    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/664d0f4a-bcda-4a3f-afd9-ab3de8928ece" width="600">
</div>

      :

$$
x(t) = \\big(s_y(t) * h(t)\\big) + n(t)
$$

- $s_y(t):$  $y$  (  /   )
- $h(t):$ //()     
- $n(t):$  //    

,      :


<div align="center">
    <img src="https://github.com/user-attachments/assets/749de325-686d-428b-8442-8820d0d6ef4f" width="600">
</div>

$$
z = f_\\theta(x)
$$

- $f_\\theta:$ feature extractor / embedding model
- $z:$    speaker embedding(=latent)

  $z$  latent   .

-   ///  $z$   
-     $z$   .

     :

$$
\\begin{aligned}
\\text{(same speaker)}\\quad z(x_{y}^{(a)}) \\approx z(x_{y}^{(b)}) \\newline
\\text{(different speaker)}\\quad z(x_{y}^{(a)}) \\not\\approx z(x_{y'}^{(b)})
\\end{aligned}
$$

###    

   challenge    .         :

**Environment ()**

       .  , ,      ,       /    .  //   $n(t)$ $h(t)$      .       convolution  ,

$$
S_x(\\omega) \\approx S_s(\\omega)\\cdot |H(\\omega)|^2 + S_n(\\omega)
$$

      .     ,       .

**Channel ()**

        . /,  ,                .    $y$

$$
x_1(t) = s_y(t) * h_1(t),\\qquad x_2(t) = s_y(t) * h_2(t)
$$

       .       .

**Speaker characteristics ( )**

  , , , ,      . ,

$$
s_y(t) \\rightarrow s_{y,\\,\\text{state}}(t)
$$

   =      =    .    intra-class variance(   )     .   ($h(t)$)       system         . 

**Speech variability ( )**

  ,     // .       :

$$
x = g\\big(y,\\; c,\\; r,\\; n,\\; \\text{session}\\big)
$$

- $y:$ speaker identity
- $c:$ linguistic content(  )
- $r:$ room/channel response
- $n:$ noise
- $\\text{session}:$   

  $y$      ,  $c$ $\\text{session}$      .

**Language characteristics ( )**

   (), ,   , $c$   . ,  

$$
p(x\\mid y, \\text{Korean}) \\neq p(x\\mid y, \\text{English})
$$

   ,   speaker  /     .       .

**Transducing characteristics (    )**

/     $H(\\omega)$ .
    :

$$
X(\\omega)=H(\\omega)S(\\omega),\\quad H(\\omega)\\approx 0 \\text{ for some } \\omega
$$

            .


## ,     ?

speaker identity $y$   , ///  nuisance  latent $z$  .   ,

$$
\\max I(z; y)\\quad \\&\\&\\quad \\min I(z; \\text{nuisance}).
$$

, $z$     , ///        .   disentanglement           .

      ,  explicit             .    $x$       :

$$
x \\sim p(x \\mid y, u)
$$

- $y:$ speaker identity (   )
- $u:$ nuisance (////     )

   ( ) $f_\\theta$

$$
z = f_\\theta(x)
$$

  ,   $'I(z; y)\\ \\text{ }, \\quad I(z; u)\\ \\text{ }'$  .  $x$  $y$ $u$      .

###     (Non-identifiable)  

   .

$$
z = g(y, u)
$$

  , $g$    .  $g$ bijection(   ),

$$
(y,u) \\leftrightarrow z
$$

 , $z$**     **     .   reconstruction  ()  ,

$$
\\min_{\\theta,\\phi}\\ \\mathbb{E}\\left[\\|x - d_\\phi(f_\\theta(x))\\|^2\\right]
$$

        $z$ $x$    .   $z$ $y$  $u$  . ,    disentangle  entangle    .       ($y$)  ($u$)        .

### RBM/DBM  generative      


<div align="center">
    <img src="https://github.com/user-attachments/assets/8f1e0af8-33ae-4470-9f52-b86eaa8ff361" width="600">
</div>

RBM/DBM    .

$$
p_\\theta(x,h) = \\frac{1}{Z}\\exp(-E_\\theta(x,h))
$$

- $h:$ latent(hidden unit)
- $E_\\theta:$  

  likelihood  .

$$
\\max_\\theta\\ \\mathbb{E}_{x \\sim \\text{data}}[\\log p_\\theta(x)]
$$

 likelihood       .

 $h$:

-   speaker ,    ,   / 

     .    speaker + channel + content    hidden factor   factor     .  RBM/DBM     ,     .

### DNN : supervision   shortcut 

DNN $z = f_\\theta(x)$   , objective   classification ( )

$$
\\min_\\theta\\ \\mathcal{L}(\\text{softmax}(W z), y)
$$

      , nuisance   .

  // label     (       ,      entanglement    ),

$$
I(u; y) > 0
$$

 $y$    $u$    ( shortcut).  $z$ 

$$
z \\approx [\\text{speaker info}] + [\\text{nuisance cue}]
$$

 ,   $I(z; u) \\approx 0$ .

### /      


<div align="center">
    <img src="https://github.com/user-attachments/assets/78a25e1b-2c59-4bc6-9fea-d118711841da" width="600">
</div>

,

- likelihood  (RBM/DBM/AE) /  $u$   
-   (DNN)    $u$     

, explicit (, , augmentation , adversarial/regularization  ) ,   disentanglement    .

     **GMM$i-$vector$x-$vectorECAPA/SSL** ,   

 //  $u$          .


##   Deep/Deeper Feature   

  (feature)     .  Hand-crafted  (MFCC/PLP )      ,     latent(=embedding)     .   deep learning   .  MFCC/Fbank  hand-crafted feature  ,  raw waveform convolution   .       shallow feature        deep feature .

### GMM-UBM:     

   GMM( ),    +    . ( GMM-UBM speaker verification  )


<div align="center">
    <img src="https://github.com/user-attachments/assets/f64f72c3-31f6-42fc-9418-61955df2c0fc" width="600">
</div>

GMM    /    weighted summation  .

**(1)  **

   MFCC/PLP   .    $x_t \\in \\mathbb{R}^D$ , GMM   .  $K$    . MFCC/PLP                   (  )                .     (STFT(Spectrogram)  Mel Filterbank(Mel-Spectrogram)  Cepstral Coefficient(MFCC))    PLP                   ( MFCC ).


<div align="center">
    <img src="https://github.com/user-attachments/assets/2bff8ee9-621f-4f88-83a3-88c853875969" width="600">
</div>

           Index .      ,    (   ,   )  feature embedding/vector   .  GMM       . GMM-UBM $80$   Index  80 .

$$
p(x_t \\mid \\lambda)=\\sum_{k=1}^{K} w_k \\,\\mathcal{N}(x_t;\\mu_k,\\Sigma_k)
$$

 $\\lambda=\\{w_k,\\mu_k,\\Sigma_k\\}_{k=1}^{K}$.   GMM     MFCC feature ,       .      UBM.

**(2) UBM(Universal Background Model)**

UBM      .  UBM $\\lambda_{\\text{ubm}}$       ,    MAP adaptation   $\\lambda_{\\text{spk}}$ .

**(3) BaumWelch  ($i-$vector   )**

UBM  posterior       GMM .

$$
\\begin{aligned}
&\\gamma_t(k) = p(k\\mid x_t, \\lambda_{\\text{ubm}}) \\newline
&N_k=\\sum_t \\gamma_t(k), \\quad F_k=\\sum_t \\gamma_t(k)\\,x_t
\\end{aligned}
$$

,    hypothesis($\\lambda$)    .

   $i-$vector/PLDA  .

**(4) (Verification)**

  log-likelihood ratio:

$$
\\text{score}(X)=\\log p(X\\mid \\lambda_{\\text{spk}})-\\log p(X\\mid \\lambda_{\\text{ubm}})
$$

 //   $\\lambda_{\\text{spk}}$  MAP adaptation  .  MFCC feature      robust    .

### $i-$vector:   latent 

GMM-UBM  GMM   , $i-$vector    

>   ( )     . (total variability / $i-$vector)
> 

**(1)  : supervector **

GMM mean   supervector $M$ ,

$M = m + T\\cdot w$

- $m:$ UBM mean supervector( )
- $T:$ total variability matrix
- $w:$     latent = $i-$vector

 prior  : $w \\sim \\mathcal{N}(0,I)$.    speaker channel      . ( total variability  ) , $w$   +      .

**(2)   (UBM posterior ** $w$ **posterior)**

  $N_k, F_k$    $w$ posterior ,    $\\hat{w}$ $i-$vector .

         .

### Back-end: Cosine vs PLDA,  length normalization

$i-$vector      .

    cosine similarity   ,

$$
\\cos(\\hat{w}_1,\\hat{w}_2)=\\frac{\\hat{w}_1^\\top \\hat{w}_2}{\\|\\hat{w}_1\\|\\|\\hat{w}_2\\|}
$$

  PLDA speaker vs session  backend    . PLDA  $z$ **  + (/) **     .     :

$$
z = \\mu + F y + \\epsilon,\\quad y\\sim\\mathcal N(0,I),\\ \\epsilon\\sim\\mathcal N(0,\\Sigma_w)
$$

- $y:$ (speaker) (  )
- $\\epsilon:$   (// )
-     $\\{z_{s,i}\\} F,\\Sigma_w$ ,      assumption  .
- Scoring   $z_1$, $z_2$  $H1:$  ( $y$ ) vs $H0:$  (  $y$)
    
     log-likelihood ratio .           ,              .
    


# DNN : feature    

  .      DNN  embedding   . MFCC        , DNN Black-box Neural Network       .

### $d-$vector:  hidden  embedding

     $d-$vector.

- DNN  
-  hidden activation 
- utterance   embedding 

$$
h_t = f_\\theta(x_t),\\qquad z=\\frac{1}{T}\\sum_{t=1}^{T} h_t
$$

 verification cosine   .

### $j-$vector: speaker + text()   

    ,  speaker id text     ($j-$vector) .    . (content)  ,        .   Fancy    .

### $x-$vector: TDNN + statistics pooling =   

x-vector      .  :

-   **TDNN**(Time-Delay Neural Network) **  **  
- utterance    **statistics pooling**(/ )     
- speaker classification ,    embedding 

### statistics pooling 

  $h_t$

$$
\\mu = \\frac{1}{T}\\sum_t h_t,\\quad
\\sigma = \\sqrt{\\frac{1}{T}\\sum_t (h_t-\\mu)^2}, \\quad s = [\\mu;\\sigma]
$$

 $s$ utterance-level representation  .  $x-$vector   pooling     .  $x-$vector     cosine/PLDA backend ,   margin loss    (AM/AAM-Softmax    ).

### DNN / $i-$vector hybrid: alignments DNN 

   . $i-$vector   , UBM-GMM  frame alignment(=posterior ) DNN  .

### ECAPA-TDNN: $x-$vector    

 $x-$vector      ,      ECAPA-TDNN.

  $x-$vector TDNN + statistics pooling     , attention/aggregation    .

- TDNN backbone 
- (attention)     (SE)
- multi-layer feature   (aggregation)
- pooling   (channel-dependent stats pooling  )

### Raw waveform: SincNet    

MFCC/Fbank  hand-crafted feature  ,  waveform      .  SincNet. Sinc  convolution  CNN  speaker classification   , mutual information  unsupervised embedding  .    :

       (/ ),     ( )        . ,        .

### SSL(wav2vec2/HuBERT/WavLM): Representation  

       SSL .  Vision/Image/Video   ,  Audio SSL    .

- wav2vec 2.0: latent space masking + contrastive 
- HuBERT: clustering  hidden unit target masked prediction
- WavLM: masked prediction + denoising   non-ASR task   

 speaker recognition SSL      .

**feature extractor ,**

$$
h_{1:T} = \\text{SSL}(x),\\quad z=\\text{pool}(h_{1:T})
$$

(/attentive stats pooling )

**speaker loss fine-tune,**

$$
\\min_\\theta \\ \\mathcal{L}_{\\text{spk}}(z, y)
$$

 loss softmax ,  margin (AAM/AM-softmax )   .   downstream     .    SSL      (?).          .


## 

,                    .    $x$  $y$   , $u$(////)   .       :  $z$    ,       .

   ,  GMMi-vectorx-vectorECAPA/SSL      ,   $u$    / /       .

- **GMM-UBM** MFCC/PLP  shallow feature       , /   .
- **$i-$vector**    $w$    latent , total variability   $w$  speaker nuisance   .  backend(PLDA, length norm )      .
- DNN (d/x/ECAPA)  feature      , pooling/attention/margin loss        .
- **SSL**   representation   , downstream speaker   ,   $z$  (invariant)   (discriminative)   .

   .

>         ,    (  +  +  )    .
> 

,  GMM DNN SSL,      (1)  nuisance  , (2)  nuisance  shortcut     , (3)           .

         . ,       ,    $u$   ,   /   $I(z;y)$  $I(z;u)$      .
`,Dte=`---
title: "Denoising diffusion probabilistic model "
category: "ai papers"
publishedAt: "2022-11-28"
thumbnail: "https://user-images.githubusercontent.com/79881119/209054523-a52b7452-4e0e-4fa3-8a19-14724a491fc1.png"
---

## Score matching network

Diffusion model score matching network  .   score matching network ?


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054523-a52b7452-4e0e-4fa3-8a19-14724a491fc1.png" width="700"/>
</div>
 

Score matching network     . PDF(  ) gradient score .   energy based  normalized probability               , gradient    ,          .

     gradient based learning loss    () ,   (      )  loss function .   gradient descent .

  PDF(  )   ,       score(PDF )      ,            score matching .

    MNIST()  ,    gradient         .

   score matching    ,    DDPM      .

## Score matching to NCSN

Energy based      negative log likelihood .     -         

    $p_\\theta(x)$   , $p_\\theta(x) = \\frac{e^{-f_\\theta(x)}}{z_\\theta}$       function $f$  normlalized probability   ,  $z_\\theta$ $e^{-f_\\theta(x)}$  $x$    .

$$
z_\\theta = \\int_{x\\sim X} e^{-f_\\theta(x)}dx
$$

          $z_\\theta$    .

      .    weight   ,      analytic     gradient    ,           .

     $x$   $z_\\theta$  $p_\\theta(x)$  .    negative log  $x$  gradient  ,

$$
\\nabla_x \\log p(x) = -\\nabla_x f_\\theta(x) 
$$

 log likelihood gradient  intractable      .      score matching  score probability distribution log likelihood       ,   generation  .  score matching  score estimation   2005           .

[](https://www.jmlr.org/papers/volume6/hyvarinen05a/hyvarinen05a.pdf)

       ,     analytic   ,   parameter $\\theta$   term

$$
\\int_x p_{data}(x)\\left(\\frac{1}{2} (\\nabla_x \\log p_{\\theta} (x))^\\top (\\nabla_x \\log p_{\\theta} (x)) - Tr(\\nabla_x^2 \\log p_{\\theta} (x))\\right)
$$

  .    gradient $x$     ,         .

  score matching VAE flow based, GAN        ,    deep learning       .

   denoising autoencoder   NCSN(Noise-conditioning score estimation network) ,   Annealed Langevin dynamics based score matching network .

      ,  score jacobian  trace   heavy  Large scale       .

  noise   (   ),  denoising       .       step  noise   .

$$
q_\\sigma(\\tilde{x}) = \\int_x q_\\sigma(\\tilde{x} \\vert x) p_{data}(x) dx
$$

      

$$
\\nabla_x \\log q_\\sigma(x) \\approx \\nabla_x \\log p_{data}(x)
$$

 sliced score matching  ,   projection  denoising  4 cost      .

           ,       score matching     denoising autoencoder  NCSN .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054526-dd0c2779-e177-48a6-a93a-86416c5dfb7a.png"/>
</div>
 

 Markov process  , noise   $\\tilde{x}_{t-1}$  score        (       )  diffusion term $z_t$   Langevin dynamics .

$$
  x_t = x_{t-1}+\\frac{\\epsilon}{2}\\nabla_x \\log p(x_{t-1}) + \\sqrt{\\epsilon}z_t
$$

  brownian motion SDE solution  .     ,   SDE solution discrete approximation           $z_t$  0,  1 normal distribution   $\\sqrt{\\epsilon}$  re-parameterization  .      

1. Manifold hypothesis
2. Inaccurate score matching in low density region
3. Slow mixing of Langevin dynamics

      Annealed Langevin sampling  .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054528-c0577f2d-d1ef-4cd4-b887-7ab175ca8002.png" width="700"/>
</div>
 

Manifold    3     2 manifold(    )  ,   score matching  ambient space       .  Low density region,      (  ) score  ,    score   , Slow mixing of Langevin dynamics     scale weighted mixing            Langevin dynamics   step size     .

     ,        .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054531-8fb22553-cf96-4d3d-b0d4-f1b934f321c3.png" width="700"/>
</div>
 

      denoising  score estimator      .

## What diffusion actually learns?

Diffusion()       .              .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054535-562ac052-0e4a-44f2-9e29-7b05e07b69f1.png" width="500"/>
</div>
 

GAN        ,      (discriminator)    .  VAE   embedding space $Z$      $x$ manifold space ,    decoder .  ,    $p(x)$     ,     latent space $Z$    .  VAE    ELBO(Evidence Lower Bound)    maximize . Flow-based model   latent    flow  ,       latent       . 

Diffusion        . Diffusion   ,              .    (Weiner process) ,    Diffusion  Forward process,      parameterized network      Reverse process .

## Forward process in DDPM

DDPM paper      forward .      encoder    reparameterization trick      ,             forward process  *.

*  Experimental detail   $\\beta_t$ scheduling,  constant, linear, and quadratic($T = 1000$, $\\beta_1 = 10^{-4}$ to $\\beta_T = 0.02$) .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054536-5010c130-bfea-43a1-8968-9186013c8799.png" width="700"/>
</div>
 

DDPM forward process   ($X_{t-1}$)   ($X_t$)   ,   Markov process  .    state  state  .       ($X_0$)        $X_1$ ,  $T$    ($X_T$)   .   forward process term $q(X_{t} \\vert X_{t-1})$   .    variance schedule $\\beta$ ,          $q$ .

$$
q(x_t \\vert x_{t-1}) := N(x_t; \\sqrt{1-\\beta_t}x_{t-1},~\\beta_t\\rm{I})
$$

## Reverse process in DDPM

DDPM  $t$            . ,      flow based model   $q(X_{t-1} \\vert X_t)$ ,        $p_{\\theta}(X_{t-1} \\vert X_t)$   . Forward  Reverse     ,                          ,          .    ,

$$
p_{\\theta}(x_{0:T}) := p(x_T)\\prod_{t=1}^T p_{\\theta}(x_{t-1} \\vert x_t)
$$

$\\theta$ parameterized reverse process network $p_\\theta$,   latent$(x_{1,~2,~\\cdots,~T})$    state  .   state    denoising score matching  Langevin dynamics . Langevin dynamics    score based model    .       step ,   step   diffusion model         .

## How to define Loss function?

       $p_\\theta$      .         loss function(cost function) ,   VAE  ELBO       .

$$
  \\begin{aligned}
    \\log p(x) =& E_{z\\sim q(z \\vert x)}(\\log p(x)) \\newline
    =& E_{z} \\left(\\log \\frac{p(x \\vert z)p(z)}{p(z \\vert x)} \\right) \\newline
    =& E_{z} \\left( \\log \\frac{p(x \\vert z)p(z)}{p(z \\vert x)} \\frac{q(z \\vert x)}{q(z \\vert x)} \\right) \\newline
    =& E_z (\\log p(x \\vert z))-E_z \\left( \\log \\frac{q(z \\vert x)}{p(z)} \\right) + E_z \\left( \\log \\frac{q(z \\vert x)}{p(z \\vert x)} \\right)
  \\end{aligned}  
$$

$p(x)$     ,     $z$      .  Prior $z$  $p(x)$    $p(x \\vert z)$ likelihood  posterior      .  $xz$  encoding, $z  x$  decoding   ,  Encoder p forward process, Decoder q reverse process     KL divergence    .      decoder  $z$    encoder      , DDPM  VAE encoder decoder     $\\phi$  $\\theta$  .

$$
  =E_z ( \\log p_{\\theta}(x \\vert z)) - D_{KL} (q_{\\phi}(z \\vert x) \\vert\\vert p(z)) + D_{KL} (q_{\\phi}(z \\vert x) \\vert\\vert p(z \\vert x))
$$

Variational Autoencoder  Variational bayes  (intractable ) posterior $p_\\theta(z \\vert x)$ encoder     .  Generation  maximum likelihood(MLE) $P_\\theta(x \\vert z)$,     VAE   adversarial   GAN      .    , VAE     posterior  .

   denoising diffusion probablistic model   optimization   .

 ELBO  latent time dependent variable $x_t$, image domain $x_0$ .

 time $t$ $x_0$        .

$$
    =E_z(\\log p_{\\theta}(x_0 \\vert x_t)) - D_{KL} (q(x_t \\vert x_0) \\vert\\vert p_{\\theta}(x_t)) + D_{KL} (q(x_t \\vert x_0) \\vert\\vert p_{\\theta}(x_t \\vert x_0))
$$

  likelihood model posterior      ,   $p(x_t \\vert x_0)$   .    $D_{KL} \\ge 0$     lower bound    Variational bound.  score matching based DDPM    .         .

  $\\log p_\\theta(x_0 \\vert x_t)$ $z$        KL divergence     .    $D_{KL} \\ge 0$   .

$$
    \\ge E_{x_T}(\\log p_\\theta(x_t)) - D_{KL} (q(x_t \\vert x_0) \\vert\\vert  p_{\\theta}(x_0 \\vert x_t))
$$

   ,  fianl $T$   ,

$$
  \\begin{aligned}
    \\mathcal{L} :=& E_{x_T}(-\\log p_\\theta(x_0)) \\newline
    \\mathcal{L} \\le& \\mathbb{E}_{x_T}\\left(-\\log \\left(\\frac{p(x_0 \\vert x_T)}{q(x_T \\vert x_0)} \\right) \\right) \\newline
    \\mathcal{L} \\le& \\mathbb{E}{x_T}\\left(-\\log \\left(\\frac{p_\\theta(x_T \\prod_{t=1}^T p_\\theta(x_{t-1}\\vert x_t))}{\\prod_{t=1}^T q(x_t \\vert x_{t-1})} \\right) \\right)
  \\end{aligned}  
$$

 graphical modeling 

  ,

$$
    \\mathcal{L} \\le \\mathbb{E}{x_T}\\left(-\\log (p_\\theta(x_T))-\\sum_{t=2}^T \\log \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_t \\vert x_{t-1})} -\\log \\frac{p_\\theta(x_0 \\vert x_1)}{q(x_1 \\vert x_0)} \\right)
$$

   .

       t = 2 ,  t=2  $x_t$ $x_0$   .    pre-defined posterior likelihood  .

$$
    \\mathcal{L} \\le \\mathbb{E}{x_T}\\left(-\\log (p_\\theta(x_T))-\\sum_{t=2}^T \\log \\left( \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_{t-1} \\vert x_t, x_0)} \\times \\frac{q(x_{t-1} \\vert x_0)}{q(x_t \\vert x_0)} \\right) -\\log \\frac{p_\\theta(x_0 \\vert x_1)}{q(x_1 \\vert x_0)} \\right)
$$

        , loss     .

$$
\\mathcal{L} \\le \\mathbb{E}{x_T}\\left(-\\log \\left(\\frac{p_\\theta(x_T)}{q(x_T \\vert x_0)} \\right)-\\sum_{t=2}^T \\log \\left( \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q(x_{t-1} \\vert x_t, x_0)} \\right) -\\log p_\\theta(x_0 \\vert x_1) \\right)
$$


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054537-af41bf59-2883-4ad9-8cc8-fedb83fb35ee.png" width="700"/>
</div>
 

   negative log likelihood  x_0     gaussian   ,  gaussian     ,  VAE regularization term  ( forward process  gaussian).

  $\\sum$     ,  reverse process      forward process  .    $x_1$    $x_0$ reconstruction   .

$$
  q(x_{t-1} \\vert x_t,~x_0) = q(x_t \\vert x_{t-1}) \\times \\frac{q(x_{t-1} \\vert x_0)}{q(x_t \\vert x_0)} = N(x_{t-1}; \\tilde{\\mu}_t(x_t, x_0), \\tilde{\\beta}_t I)  
$$

$$
  \\tilde{\\mu}_t(x_t, x_0) := \\frac{\\sqrt{\\bar{\\alpha}_{t-1}}\\beta_t}{1-\\bar{\\alpha}_t}x_0 + \\frac{\\sqrt{\\alpha_t}(1-\\bar{\\alpha}_{t-1})}{1-\\bar{\\alpha}_t}x_t  
$$

$$
  \\tilde{\\beta}_t := \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t}\\beta_t
$$
 

Tractable     .        gaussian     .

$$
  L_{t-1}:= \\mathbb{E}_{x_T} \\left( \\log \\left( \\frac{q(x_{t-1} \\vert x_t, x_0)}{p_{\\theta}(x_{t-1} \\vert x_t)} \\right) \\right) = \\mathbb{E}_{x_T \\sim q(x_t \\vert x_0)} \\left( \\frac{1}{2\\sigma^2_t} \\parallel \\tilde{\\mu}_t (x_t, x_0) - \\mu_\\theta (x_t, t) \\parallel^2 \\right) + C
$$

        ,  step $t$   gaussian   .  loss function    KL divergence  ,   noise variance  time step $T$  reverse process       .    input  ,       .

$$
  L_{t-1} -C := \\mathbb{E}_{x_0, \\epsilon} \\left( \\frac{\\beta_t^2}{2\\sigma_t^2 \\alpha_t (1- \\bar{\\alpha}_t)} \\parallel \\epsilon - \\epsilon_\\theta (\\bar{\\alpha}_t x_0 + \\sqrt{1 - \\bar{\\alpha}_t}\\epsilon, t) \\parallel^2 \\right)  
$$

$$
  \\mathcal{L}_{simple} := \\mathbb{E}_{x_0, \\epsilon} \\left( \\parallel \\epsilon - \\epsilon_\\theta(\\sqrt{\\bar{\\alpha}_t}x_0 + \\sqrt{1- \\bar{\\alpha}_t}\\epsilon, t) \\parallel^2 \\right)
$$

   $\\epsilon \\sim N(0, I)$     ,      simple(normalization term $\\gamma$  )   .  NCSN  , NCSN  step   weighted loss ,      DDPM  .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054546-0c6c4106-b3ab-4f39-b96a-baba143c252b.png" width="500"/>
</div>
 

  baseline   .    .

## Limitations

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209054548-87a67aa8-fdc5-4f4d-9f3f-deea212d5b20.png" width="900"/>
</div>
 

DDPM      ,    pixel level interpolation.  GAN generative model latent space interpolation    consistency()  , DDPM    level interpolation      .        DDPM implicit model  step($t  t-1$)        $x_0$   level latent     .    DDIM implicit, non-Markovian sampling      .

  sampling       .          ,            .     DDIM ,   diffusion sampler  DDIM  (DDIM     ).
`,Ote=`---
title: "Simple explanation of NCE(Noise Contrastive Estimation) and InfoNCE"
category: "ai papers"
publishedAt: "2022-12-02"
thumbnail: "https://user-images.githubusercontent.com/79881119/209057175-14b2eb0c-a332-4d8d-b2a2-9e1e0d195812.png"
---

  Representation Learning with Contrastive Predictive Coding  InfoNCE   loss term   InfoNCE      . [](https://arxiv.org/abs/1807.03748)   

InfoNCE contrastive learning    ,  multimodal()  AI       task     representation space        .   InfoNCE  , Noise Contrastive Estimation    . NCE     InfoNCE   .
   . [](https://www.kdnuggets.com/2019/07/introduction-noise-contrastive-estimation.html)

## Background
      ,  NLP task    .     Word2Vec ,   process    .


"    ."   .

Sliding window      (, ) pair .   sliding window     ,     .       neighboring 1 word .

- ((, ), ),

- ((, ), ),

- ((, ), )

   word vector ,   lookup table     .     tensorflow    .       ,    context  context embedding  context word     .

    context vector MLP(Fully connected NN layers)  , softmax  target word     .  output target     map  .

   one-hot encoding  CrossEntropyLoss   .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057172-5ca85d2a-98ee-4e32-973b-4b154a7130bc.png"/>
</div>

  , sentence        .  lookup table   ,     embedding space       ,       .   
  4 process  ,  dense layer  weight matrix of (  ,  )  . ,   vocabulary    ,     layer output  ($\\text{for } i : \\text{ index of word, }z_i = Wx_i$),  softmax transformation    .

$$
    p(z_i) = \\frac{e^{z_i}}{\\sum_{j=1}^{\\vert V \\vert} e^{z_j}}
$$

      vocabulary size   .    cross entropy loss  .

$$
    L = -\\sum_j^{\\vert V \\vert} y_j \\log (p_j) = -\\log (p_{\\text{target}})    
$$

   loss function  prediction      0  term     $y_i$  1     . , actual target word     .  $p(z_i)$      probability     .   term ,

$$
    \\sum_{j=1}^{\\vert V \\vert} e^{z_j}
$$

,   denominator    parameter  training example  non-zero gradient term   . Noisy      .

## Negative sampling
          vocabulary(negative term)         .    non-target word negative samples  .     ,  infoNCE           .   
   process  , negative sampling  .     ,


"    ."   .

Sliding window      (, ) pair .   sliding window     ,     .       neighboring 1 word .

- ((, ), ),

- ((, ), ),

- ((, ), )

   word vector ,   lookup table     .     tensorflow    .       ,    context  context embedding  context word     .

    context vector MLP(Fully connected NN layers)  , softmax  target word     .  ,      ,   negative sample positive sample entire sample space  .

   one-hot encoding  CrossEntropyLoss   .


       denominator   normalize       ,     approximation  ,      gradient update     . ,

$$
    \\vert Embedding \\vert \\times \\vert V \\vert \\rightarrow \\vert Embedding \\vert \\times \\vert N+1 \\vert    
$$

negative samples N     space(vocabulary samles)      .
   vocabulary  NLP task  ,   **""**      embedding      ,    .

 Noise Contrastive Estimation(NCE)  negative sampling      .

## Learning by comparison

Negative Sampling, true target 1,  random samples target 0s .        real   noise  . NCE  logistic regression       . Logistic regression modeling input       log-odds  .

$$
    logit = \\log (\\frac{p_1}{p_2}) = \\log (\\frac{p_1}{1-p_1})   
$$
  log-odds true word distribution P   noise distribution Q      .
$$
    logit = \\log (\\frac{P}{Q}) = \\log (P)- \\log (Q)   
$$
, negative sampling noise  real distribution  logit     noise contrastive estimation    .   
  distribution P intractable, noise distribution Q     .   all vocabulary   , training data word       .           $\\log (Q)$      .   
     word2vec network  Q       .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057172-5ca85d2a-98ee-4e32-973b-4b154a7130bc.png"/>
</div> 

 context vector    .  vocabulary    output  ,    distribution 'Q'    (random samples)   .   network    target  noise distribution  $N$    . , network evaluation $N+1$(random samples + target)    .   
 negative sampling   noise distribution ,    noise   Q  analytically      .   
  "" 10%   , "" 90%    ""    Q 0.1 . , Q        .    probability $P$    prediction.   logistic regression task  target word 1, negative samples0s   .   


   NCE    .  noise constrastive estimation(NCE)         loss  intuition   .   
AI,      gradient based optimization  SGD, RMSprop, Adam        , labeled dataset  supervised learning      .     (modality)     .  modality   /    .    .   
   task( )       task  .   representation    transfer learning domain adaptation   , vision/audio  vision/text    modality       .   
     unsupervised learning ,  high-level representation   representation  supervision       .   
      supervision    predictive coding  ,  causal            .     predictive coding NCE   objective function  .   
          .   
- High dimensional data  compact latent embedding space mapping,   conditional prediction          .
-  latent condition  prediction   powerful autoregressive(AR)  .
- NCE(Noise Contrastive Estimation) loss function    end-to-end  .
   
  ,   Contrastive predicting coding   .

## Main intuition, motivation
     ,      intuition.   high dimensional signal  , high dimensional signal       .  modality (low level information, raw dataset)  representation   ,   latent space relation   implicit     .   
   loss  ,   NCE   .   prediction  (regressive model  ),       global information   ,  slow feature . Slow feature         object                inference   .   

    ,  MSE Cross Entropy Loss       .      1024 x 1024   , per pixel loss   penalty      edge      (blurry) . Cross Enropy Loss       ,  class  gradient  ,  probability label sparse       .   

  powerful conditional generative model  ,       encoder($E$)  GPU    ( parameter update  )      ,  generation time   bottleneck   . Conditional generative model   context $c$  ignorance,       class label  high-level latent       . , decoder   conditional   $p(x \\vert c)$     $x$ $c$         $c$         .   

   future information   target x( ) context c( ) compact distribution ,     non linear mapping .  Mutual information ,
$$
    I(x; c) = \\sum_{x,~c} p(x, c) \\log \\frac{p(x \\vert c)}{p(x)}    
$$

    . Mutual information(MI)    $(x, c)$ joint distribution $p(x, c)$  $p(x)p(c)$     ,   .

$$
    I(x, c) = \\sum_c \\sum_{x \\in X} p(x,c) \\log \\frac{p(x, c)}{p(x)p(c)}    
$$

  KL divergence   ,  bayes rule   ,

$$
    I(x, c) = \\sum_c \\sum_{x \\in X} p(x,c) \\log \\frac{p(x, c)}{p(x)p(c)} = \\sum_{x, c} p(x, c) \\log \\frac{p(x \\vert c) p(c)}{p(x) p(c)} = \\sum_{x, c} p(x, c) \\log \\frac{p(x \\vert c)}{p(x)}  
$$

   . $x$ $c$ dependent  ,  $x$ $c$  independent   ,  dependent    . KL divergence    commutable   .

## Contrastive predictive coding

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057175-14b2eb0c-a332-4d8d-b2a2-9e1e0d195812.png"/>
</div> 

  CPC(Contrastive Predictive Coding) model  . , non-linear encoder  $g_{enc}$ input sequence $x_t$ latent representation sequence .

$$
    g_{enc}(x_0, x_1, \\cdots, x_t) = (z_0, z_1, \\cdots, z_t)    
$$

 autoregressive model $g_{ar}$ causal(  ) input  context latent representation .

$$
    g_{ar}(z_{\\leq t}) = c_t    
$$

  AR    .      future observation    , future prediction context vector  mutual information  density ratio .

$$
    f_k(x_{t+k,~c_t}) \\propto \\frac{p(x_{t+k} \\vert c_t)}{p(x_{t+k})}    
$$

   $\\log$     $x$, $c$ joint distribution  $x$, $c$      .           future prediction  context     !(density ratio ,  "   "       )   

density ratio $f$   ,   $\\log$ bilinear model    non linear network  RNN    .

$$
    f_k(x_{t+k}, c_t) = exp(z_{t_k}^T, W_kc_t)    
$$

 density ratio , encoder   $z$  model   $x$     . Encoding latent space  $z$    $p(x)$ $p(x \\vert c)$   ,       sampling  Noise contrastive estimation importance sampling    .     NCE   .

## InfoNCE, Mutual information estimation
         encoder, autoregressive model    .    NCE  loss function    ,  InfoNCE .   
  NCE  , $N$    ,   1 posivie sample   $N-1$ proposal distribution   negative sample  .

$$
    X = (x_1, x_2, \\cdots, x_N)    
$$
$$
    \\begin{cases}
        positive~x, & x \\sim p(x_{t+k} \\vert c_t) \\newline
        negative, & x \\sim p(x_{t+k})
    \\end{cases}   
$$
  loss function ,

$$
    \\mathcal{L} = -E_X (\\log \\frac{f_k(x_{t_k}, c_t)}{\\sum_{x_j \\in X} f_k(x_j,c_t)}) 
$$

 .    objective function ,  categorical cross entropy        ,    density estimation       .                  optimal probability   ,  $p(d = i \\vert X, c_t)$   .   
         context     context      ,    Mutual information logarithm   ,   optimal probability   X context vector $c$      .   
$$
    p(d = i \\vert X, c_t) = \\frac{p(x_i \\vert c_t) \\prod_{l \\ne i} p(x_l)}{\\sum_{j=1}^N p(x_j \\vert c_t) \\prod_{l \\ne j} p(x_l)} = \\frac{\\frac{p(x_i \\vert c_t)}{p(x_i)}}{\\sum_{j=1}^N \\frac{p(x_j \\vert c_t)}{p(x_j)}}
$$
     f   probability ratio    ,  negative sample      . Training  loss , mutual information   lower bound    .

$$
    I(x_{t+k}, c_t) \\geq \\log(N) - L_N    
$$

 $N$  tight.  tight  lower bound  mutual information infimum  .     .    Appendix          .

## Experiments
       encoder arbitrary      representation learning  loss      .     modality    .

## Audio dataset
<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057177-0574457c-a2bc-4272-979e-d6e811a04ada.png"/>
</div> 
Librispeech  251     ,   text script .  text script  phone sequence alignment     annotation .            [Kaldi Toolkit](https://kaldi-asr.org/)  .     ..  CV opencv-python   ,        .    ...

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057181-2a6a7337-5fc4-454a-af9a-173a7846960e.png" width="400"/>
  <img src="https://user-images.githubusercontent.com/79881119/209057183-c781b0d7-318c-42a9-b4f4-ed2510522eb3.png" width="400"/>
</div> 

      alignment      .  speech transformer             .  ..   
            speaker classification,   phone()  phone classification .  task  CPC  supervised         .   Phone classification task  CPC   ablation  .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057187-038f0dc9-cdbe-42df-a45c-0743bcf343fd.png" width="400"/>
</div> 

  loss        latent step     phone prediction   . Phone  41 possible classes ,        0.025   .  step latent 10ms  ,  20 step           .

## Vision
<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057189-814e8e88-7ae3-483c-8bec-9d7eecfc09e2.png" width="400"/>
</div> 
Vision   ResNetv2 101 backbone   ,   batch normalization  . Batch normalization classification          , representation   generation          .      batch normalization  feature map    distribution collapse  . Unsupervised learning   linear layer ImageNet labels     .

   .

- $256 \\times 256$  $7 \\times 7$ grid of $64 \\times 64$ crops . ?  $64 \\times 7 = 448$   ??      patch 32   .  $256+(32 \\times 6)/64 = 4+3 = 7$   
-  crop  ,    mean pooling 1024   . crop  $7 \\times 7$    output $7\\times 7 \\times 1024$    .
- PixelCNN  AR (            generative model)      unsupervised learning .     

- Linear classifier   CPC feature map  , CPC  Adam optimizer  Linear classifier SGD  .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057191-a0a8b0cd-d182-4f25-9d5a-2a8c697b0275.png" width="400"/>
  <img src="https://user-images.githubusercontent.com/79881119/209057192-6fec3629-5d57-44c0-8409-00a9e026bbdb.png" width="400"/>
</div> 

    .   Top-1 ACC, Top-5 ACC classification task     procedure  unsupervised  feature map    .

## Natural Language
  NLP. Mobality           ,  AI         . ,,   

  BookCorpus dataset  . NLP task  autoregressive     word2vec  NCE   .      evaluation , word2vec   embedding  linear mapping .   

   task   MR(  ), CR(  ), / , (MPQA)   (TREC)   .   
<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057193-fe7bad9c-fa88-4b46-9170-5376e0c60084.png" width="400"/>
</div> 
  transfer learning setup skip-though vectors     ,          .         .

## Reinforcement learning
  RL() .       Deepmind    
<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057194-b5e93178-d0c9-4178-8275-e2a0885a8bef.png" width="400"/>
</div> 
 RL       objective   . A2C agent base model  CPC auxiliary loss .        .         .   

## Appendix

$$
    \\begin{aligned}
        \\mathcal{L}_N^\\text{opt} =& -\\mathbb{E}_X \\log \\left( \\frac{\\frac{p(x_{t+k} \\vert c_t)}{p(x_{t_k})}}{\\frac{p(x_{t+k} \\vert c_t)}{p(x_{t+k})} + \\sum_{x_j \\in  X_\\text{neg}}\\frac{p(x_j \\vert c_t)}{p(x_j)}} \\right) \\newline
        =& \\mathbb{E}_X \\log \\left( 1+\\frac{p(x_{t+k})}{p(x_{t+k} \\vert c_t)} \\sum_{x_j \\in X_\\text{neg}} \\frac{p(x_j \\vert c_t)}{p(x_j)} \\right) \\newline
        \\approx& \\mathbb{E}_X \\log \\left( 1+\\frac{p(x_{t+k})}{p(x_{t+k} \\vert c_t)} (N-1) \\mathbb{E}_{x_j} \\left( \\frac{p(x_j \\vert c_t)}{p(x_j)} \\right) \\right) \\newline
        =& \\mathbb{E}_X \\log \\left( 1+\\frac{p(x_{t+k})}{p(x_{t+k} \\vert c_t)} (N-1) \\right) \\newline
        \\geq& \\mathbb{E}_X \\log \\left( \\frac{p(x_{t+k})}{p(x_{t+k} \\vert c_t)} N \\right) \\newline
        =& -I(x_{t+k}, c_t)+\\log(N)
    \\end{aligned}
$$

Loss function lower bound  

$$
  \\begin{aligned}
    \\mathbb{E}_X \\left( \\log \\frac{f(x, c)}{\\sum_{x_j \\in X} f(x_j,c)} \\right) =& \\mathbb{E}_{(x, c)} \\left( F(x, c) \\right) - \\mathbb{E}_{(x, c)} \\left( \\log \\sum_{x_j \\in X_\\text{neg}} e^{F(x_j, c)} \\right) \\newline
    =& \\mathbb{E}_{(x, c)} \\left( F(x, c) \\right) - \\mathbb{E}_{(x, c)} \\left( \\log \\left( e^{F(x, c)} + \\sum_{x_j \\in X_\\text{neg}} e^{F(x_j, c)} \\right) \\right) \\newline
    \\leq& \\mathbb{E}_{(x, c)} \\left( F(x, c) \\right) - \\mathbb{E}_c \\left( \\log \\sum_{x_j \\in X_\\text{neg}} e^{F(x_j,c)} \\right) \\newline
    =& \\mathbb{E}_{(x, c)} \\left( F(x, c) \\right) - \\mathbb{E}_c \\left( \\log \\frac{1}{N-1} \\sum_{x_j \\in X_\\text{neg}} e^{F(x_j, c)} + \\log (N-1) \\right)
  \\end{aligned}
$$

Mutual information neural estimation  .   mutual information intuition        .
`,Ute=`---
title: "NeRF-Representing Scene as Neural Radiance Fields for View Synthesis "
category: "ai papers"
publishedAt: "2022-12-05"
thumbnail: "https://user-images.githubusercontent.com/79881119/209057571-56b18740-a937-4bee-9719-600215be1ec7.png"
---

## Abstract

    input   3D scene ,   continous volumetric scene function    scene    SOTA .  convolution   FC layer , input spatial location( ) x, y, z   scene    $(\\theta, \\phi)$   (5 ).

   5  , camera ray   (RGB, density) ,  volume rendering   color density  image . Volume rendering    ,   synthesized scene  GT    .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057567-9cdd8d53-6ccc-4d79-a8b9-06e084788da9.png" width="800"/>
</div>
 

   .

## Introduction

  View synthesis     NeRF   .    task   related works    .    View synthesis    optimizing parameters,   base .    static scene  5   .     scene    ,        $(x, y, z)$    $(\\theta, \\phi)$     . FC layer, MLP     5 input  volume density( ,    volume   ) RGB . RGB           view-dependent RGB color  .

  NeRF  Few-Shot learning   (     few  ),   scene  continous representation       ( ),        .   ,    5      .     camera ray  output query    scene     ,  GT         .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057570-4fad8804-9064-4980-9929-31e8f1c90e94.png" width="800"/>
</div>
 
      

    contribution        .    3D represesntation  GT      .  3D scene  2D projected image ,       . 5  input     fidelity   positional embedding . 

## Related works

 3D scene   MLP    NeRF  .   ($x, y, z$) (distance)   3D      .    3D representation(voxel grid  mesh)        scene     .    related works         ,    .

### *Neural 3D shape representations*

NeRF         $xyz$   signed distance(   )  occupancy fields(  )   .               ,  3D representation   . 3D occupancy field   , 3D occupancy field   ray         color  .  (3D occupancy field)     feature vector    RGB color  , RNN  ray   surface    .

             ,      rendering      oversmooth .  loss    distance  occupancy field loss  , overfitting     .

   NeRF 3          5  $(x, y, z, \\theta, \\phi)$  ,     photorealistic  2D representation    .

### *View synthesis and image-based rendering*

      (  view   ),    photorealistic view light field     (    , Camera geometry      ).        , computer vision  graphic     geometry  ,      .

     representation     mesh-based, diffusion (generative model  diffusion  )  , view          .

   (graphics) Clipping(clip space       ), Perspective division( ), Back-face culling(         ), Surface normal(  vertex      )  viewpoint transform(clip space    )  Scan conversion(   fragment   -  interpolation  )  Rasterizer ,         ,     Path tracing       ([](https://en.wikipedia.org/wiki/Path_tracing)).    image reprojection (tracer  backpropagation),  local minima    loss landscape       .  mesh  scene    ,      real-world scene  synthesizing   .

       volumetric representation    , mesh based  artifact             .     color voxel grid    ,     scene   ,       representation   .     representation alpha summation   summation   view  .    CNN  scene voxel grid    .

   ()        ,       sampling   trade off   .

## Scene Representation

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057571-56b18740-a937-4bee-9719-600215be1ec7.png" width="800"/>
</div>
 

     .

    5      ,    RGB  density  output  .  (MLP)  , deterministic   parameterized function $F_{\\Theta}$   .     3  $(x, y, z)$  $\\rm{x}$,    2  $(\\theta, \\phi)$  $\\rm{d}$  .     representation ,        .     constraints   RGB color $\\rm{c}$        ,  $\\sigma$     .   scene   **RGB     ,   density   **.

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057572-0d8f6a71-a2aa-4d6c-b8f3-f350803a49bf.png" width="800"/>
</div>
 

        , View 1  View 2         .       interpolation (c) Radiance Distribution ,   viewing direction       .

## Volume rendering

             .      scene    .

  5 neural radiance field volume density     . ,  ray ,  ray    volume density $\\sigma(\\rm{x})$  location $\\rm{x}$ (  )  ray    (     dt  )   .   ,      ($\\rm{x}$)       .    $\\rm{r}(t) = \\rm{o}+t\\rm{d}$   ray     bound $t_n$    bound $t_f$  color expectation    .

$$
C(\\rm{r}) = \\int^{\\it{t_f}}_{\\it{t_n}} \\it{T(t)} \\sigma(\\rm{r}(\\it{t})) \\rm{c}(\\rm{r}(\\it{t}), \\rm{d})\\it{dt}
$$

$$
T(t) = \\exp \\left( -\\int_{t_n}^t \\sigma(\\rm{r}(\\it{s})) \\it{ds}\\right)
$$

    , scene             scene     input  . $T(t)$     $t$     ,  $t_n$   ray    (  object   )  .   $C(\\rm{r})$  ,  RGB   density    expectation   .  discretized  grid     (    ),    location   MLP query representation resolution          .     stratified sampling ,  ray    N ( bin   )    bin   sample uniform   . ,

$$
t_i \\sim U \\left( t_n+\\frac{i-1}{N}(t_f-t_n),\\sim t_n + \\frac{i}{N}(t_f-t_n) \\right)
$$

    , $1/N$      ,    uniform distribution   .        position sample   .       cumulation  ,         . ,   ,    $C(\\rm{r})$  $\\hat{C}(\\rm{r})$,

$$
\\hat{C}(\\rm{r}) = \\sum_{i=1}^N T_i(1-\\exp(-\\sigma_i \\delta_i))\\rm{c}_i
$$

,  $T_i$,

$$
T_i = \\exp \\left(  -\\sum_{j=1}^{i-1} \\sigma_j \\delta_j\\right)
$$

    summation  . $\\delta$       ,  $dt$   .

## Optimizing a Neural Radian Field

 ,     Neural network      . ,        SOTA     ,         .     positional encoding    (dimension)   ,   hierarchical sampling.

### *Positional encoding*

Neural network        ,  $F_\\Theta$ $xyz\\theta \\phi$    high-quality    .  deep neural network lower frequency function    ,             .     , input higher dimensional space             .  network   ,      $R$    $R^{2L}$    deterministic encoder ( ) ,   $F_{\\Theta}$  .

Positional encoding    sinusoidal encoding,

$$
\\gamma(p) = ( \\sin(2^0\\pi p), \\cos(2^0 \\pi p), \\cdots, \\sin(2^{L-1}\\pi p), \\cos(2^{L-1} \\pi p) )
$$

 .   $\\gamma$ x, y, z     .   $[-1, 1]$  .      $\\rm{d}$ .     $\\rm{x}$( )  $L=10$ , $\\rm{d}$( )  $L = 4$ .

      transformer architecture . Transformer  inductive bias (    )   ,              .

## Hierarchical volume sampling

        .        ray   (density ) point   ,    foreground background     . Object detection    foreground, background       bias              .

     ,      .   Coarse(, )  fine(, )  .      $N_c$  location stratified sampling   , $\\hat{ C}(\\rm{r})$   coarse network evaluate .   output , volume       .    ,

$$
\\hat{C_c}(\\rm{r})=\\sum_{i=1}^N \\it{w}_i\\rm{c}_i,~\\it{w}_i = T_i(1-\\exp(-\\sigma_i \\delta_i))\\rm{c}_i
$$

   color ray    sample color $c_i$ weighted sum ,  weight  normalize  .
$$
\\hat{w_i} = \\frac{w_i}{\\sum_{j=1}^{N_c} w_j}
$$

      value    . weight      coarse network evaluate    ()  ,     .    $N_f$    fine network evaluate,   rendered color $\\hat{C}_f(\\rm{r})$  .       ,  value     non uniform (quantization)    .

## Optimization

      RGB image scene  scene  camera pose, intrinsic, bound   corresponding .   camera rays   , coarse network fine network    . Loss    color(    pixel )    squared error loss .

$$
L = \\sum_{r \\in R} \\left( \\parallel \\hat{C_c}(\\rm{r}) - \\it{C}(\\rm{r}) \\parallel_2^2 + \\parallel \\hat{\\it{C}}_{\\it{f}}(\\rm{r}) - \\it{C}(\\rm{r}) \\parallel_2^2 \\right)
$$

 notation    .

- $\\it{C}(\\rm{r})$ : Grount truth color
- $\\it{\\hat{C}}_c(\\rm{r})$ : coarse volume color prediction
- $\\it{\\hat{C}}_f(\\rm{r})$ : fine volume color prediction
- $R$ : rays pool(batch   ray )

## Experiment setting detail

   4096 batch size ray ,  coarse   $N_c = 64$    $N_f = 128$  . Optimizer Adam , $5 \\times 10^{-4}$  $5 \\times 10^{-5}$  exponentially  learning rate .  scene   100~300k iteration ,      1~2  (      ).


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057573-05991343-976d-4722-9f28-b44b0b22cea8.png" width="800"/>
</div>
 

## Results

     ,    PSNR, SSIM  LPIPS    NeRF       .  [NeRF project page](https://www.matthewtancik.com/nerf)       .

### *Dataset*

### *Synthetic renderings of objects*

         .   DeepVoxels dataset,   4 Lambertian(    () )   geometry   .  object $512 \\times 512$  viewpoint (    ), 479  input, 1000  test .     scene       non-Lambertian(      ) 8,  pathtraced image    .       ,   (   )  viewpoint .  $800 \\times 800$    , 100 view input  200 test .   **Diffuse Synthetic**    **Lambertian**, **Realistic Synthetic**   **non-Lambertian**  .

### *Real images of complex scenes*

      scene    ,  8 scene .   5 LLFF paper  , 3    . 20~62  ,  1/8 test .     $1008 \\times 756$   .

## Model comparisons

NeRF    ,  view synthesis       ,     .    input view  (Local Light Field Fusion )   .

### Neural Volumes(NV)

[Neural Volumes](https://research.facebook.com/publications/neural-volumes-learning-dynamic-renderable-volumes-from-images/)  ( object    )   bounded volume view .  deep 3D convolutional network ,  RGB$\\alpha$  voxel grid ($128^3$  )   3D warp grid $32^3$   .       , marching camera ray warped voxel grid   .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057576-77ac467c-690e-4b30-88a9-41d49c3272a1.png" width="800"/>
</div>
 

### Scene Representation Networks(SRN)

SRN     (surface) , MLP   $(x, y, z)$   feature vector .  RNN   ray   ,    feature vector .  state  output  matching step size  (ray    ).  (decoding ) feature vector output   surface color .

### Local Light Field Fusion

LLFF forward facing scene(  )   novel view    .  3D convolutional network  RGB$\\alpha$  , alpha compositing nearby MPI  novel scene  .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057577-a9bfa3db-3ad4-4ea2-971b-8763a94ff10d.png" width="700"/>
</div>
 

MPI  . marching    multiplane image      

## Comparison results


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057578-5f76a207-a13d-4c62-a0c8-813c761f06b1.png" width="700"/>
</div>
 


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057580-9d57a4da-9e39-4480-8f37-1895441d6407.png" width="700"/>
</div>
 

     .

## Discussion

       .        NeRF 3D representation     detail   .          trade-off     ,     LLFF        Realistic Synthetic scene      .   NeRF       ,       .

## FC layer structure


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057581-93b0de01-f6ca-47bf-bc65-733dfe5d7bcb.png" width="700"/>
</div>
 

 fully-connected network ,  positional encoding    $(\\gamma(\\rm{x}))$  input  , 256  ReLU   8   .   DeepSDF  , skip connection 5 layer activation  .

   volume density $\\sigma$  output  ,  output non-negative   ReLU  rectify output . density   256   feature      $(\\gamma(\\rm{d}))$      RGB  .

## NDC ray space derivation

forward facing scene   NDC space  .          .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209057582-3857242c-b016-4b2f-b57b-bd74db2ef457.png" width="800"/>
</div>
 

NDC         cube    .      3D perspective projection matrix homogeneous  ,

$$
M = \\left(
\\begin{array}{cccc}
 \\frac{n}{r} & 0 & 0 & 0 \\newline
 0 & \\frac{n}{t} & 0 & 0 \\newline
 0 & 0 & \\frac{-(f+n)}{f-n} & \\frac{-2fn}{f-n} \\newline
0 & 0 & -1 & 0
\\end{array}
\\right)
$$

   . $n, f$   clipping plane    , $r, t$     bound( clipping plane) .       .

Homogeneous point $(x, y, z, 1)^T$   , M   coordinate  .   Homogeneous  lecture  .

$$
M =
\\left( \\begin{array}{cccc}
 \\frac{n}{r} & 0 & 0 & 0 \\newline
 0 & \\frac{n}{t} & 0 & 0 \\newline
 0 & 0 & \\frac{-(f+n)}{f-n} & \\frac{-2fn}{f-n} \\newline
0 & 0 & -1 & 0
\\end{array} \\right)
\\left( \\begin{array}{c}
x \\newline
y \\newline
z \\newline
1 \\newline
\\end{array}\\right) = 
\\left( \\begin{array}{c} \\frac{n}{r}x \\newline
\\frac{n}{t}y \\newline
\\frac{-(f+n)}{f-n}z-\\frac{-2fn}{f-n} \\newline
-z \\end{array} \\right)
$$

,       

$$
\\text{Project} \\rightarrow
\\left( \\begin{array}{c} \\frac{n}{r}\\frac{x}{-z} \\newline \\frac{n}{t} \\frac{y}{-z} \\newline \\frac{(f+n)}{f-n}-\\frac{2fn}{f-n} \\frac{1}{-z} \\end{array} \\right)
$$

 NDC space  ,   ray  $\\rm{o}+\\it{t}\\rm{d}$   point NDC space $\\rm{o^\\prime}+\\it{t^\\prime}\\rm{d^\\prime}$   .   projection point    .

$$
\\text{Project} \\rightarrow
\\left( \\begin{array}{c} \\frac{n}{r}\\frac{x}{-z} \\newline \\frac{n}{t} \\frac{y}{-z} \\newline \\frac{(f+n)}{f-n}-\\frac{2fn}{f-n} \\frac{1}{-z} \\end{array} \\right) = 
\\left( \\begin{array}{c} a_xx/z\\newline a_yy/z \\newline a_z+b_z/z \\end{array} \\right)
$$

  projection  $o^\\prime$  direction $d^\\prime$   .

$$
\\left( \\begin{array}{c}
a_x \\frac{o_x+td_x}{o_z+td_z} \\newline
a_y \\frac{o_y+td_y}{o_z+td_z} \\newline
a_z+\\frac{b_z}{o_z+td_z}
\\end{array} \\right) = 
\\left( \\begin{array}{c}
o^{\\prime}_x+t^{\\prime}d^{\\prime}_x \\newline
o^{\\prime}_y+t^{\\prime}d^{\\prime}_y \\newline
o^{\\prime}_z+t^{\\prime}d^{\\prime}_z
\\end{array} 
\\right)
$$

   constraint      .    starting point   ,

$$
\\left( \\begin{array}{c}
a_x \\frac{o_x}{o_z} \\newline
a_y \\frac{o_y}{o_z} \\newline
a_z+\\frac{b_z}{o_z}
\\end{array} \\right) =
\\left( \\begin{array}{c}
o^{\\prime}_x   \\newline
o^{\\prime}_y \\newline
o^{\\prime}_z
\\end{array}
\\right) = o^\\prime = \\pi(o)
$$

 ,  origin $o$  projection  point $o^\\prime$    .      $t$     ,

$$
\\begin{aligned}
\\left( \\begin{array}{c}
t^{\\prime}d^{\\prime}_x \\newline
t^{\\prime}d^{\\prime}_y \\newline
t^{\\prime}d^{\\prime}_z
\\end{array} 
\\right) =&
\\left( \\begin{array}{c}
a_x \\frac{o_x+td_x}{o_z+td_z}-a_x \\frac{o_x}{o_z} \\newline
a_y \\frac{o_y+td_y}{o_z+td_z}-a_y \\frac{o_y}{o_z} \\newline
a_z+\\frac{b_z}{o_z+td_z}-a_z-\\frac{b_z}{o_z}
\\end{array} \\right) \\newline
=& \\left( \\begin{array}{c}
a_x \\frac{td_z}{o_z+td_z}\\left( \\frac{d_x}{d_z}-\\frac{o_x}{o_z}\\right) \\newline
a_y \\frac{td_z}{o_z+td_z}\\left( \\frac{d_y}{d_z}-\\frac{o_y}{o_z}\\right) \\newline
-b_z\\frac{td_z}{o_z+td_z}\\frac{1}{o_z}
\\end{array} \\right)
\\end{aligned}
$$

  $t$       $d^\\prime$    .

$$
\\left( \\begin{array}{c}
a_x \\left( \\frac{d_x}{d_z}-\\frac{o_x}{o_z}\\right) \\newline
a_y \\left( \\frac{d_y}{d_z}-\\frac{o_y}{o_z}\\right) \\newline
-b_z\\frac{1}{o_z}
\\end{array} \\right)
$$

   original projection matrix constants  ,

$$
o^{\\prime} = \\left( \\begin{array}{c}
a_x \\frac{o_x}{o_z} \\newline
a_y \\frac{o_y}{o_z} \\newline
a_z+\\frac{b_z}{o_z}
\\end{array} \\right) = 
\\left( \\begin{array}{c}
-\\frac{f_{cam}}{W/2} \\frac{o_x}{o_z} \\newline
-\\frac{f_{cam}}{H/2} \\frac{o_y}{o_z} \\newline
1+\\frac{2n}{o_z}
\\end{array} \\right)
$$

$$
d^\\prime = \\left( \\begin{array}{c}
-\\frac{f_{cam}}{W/2} \\left( \\frac{d_x}{d_z}-\\frac{o_x}{o_z}\\right) \\newline
-\\frac{f_{cam}}{H/2} \\left( \\frac{d_y}{d_z}-\\frac{o_y}{o_z}\\right) \\newline
-2n\\frac{1}{o_z}
\\end{array} \\right)
$$

   .
`,Mte=`---
title: "NSVF-Neural Sparse Voxel Fields "
category: "ai papers"
publishedAt: "2022-12-06"
thumbnail: "https://user-images.githubusercontent.com/79881119/209058084-f7bf887e-0a84-4cec-8955-67f93cbec2b5.png"
--- 

## Abstract

  real-world scene     .    NeRF ,   Neural Network       scene rendering     ,     ,   (     camera marching     constraint )  bottleneck   .    3D supervision       network capacity     , blurry rendering   .  3D scene rendering(generation)   ,     metric    .

    rendering  (high quality)    (fast) NSVF(*Neural Sparse Voxel Fields*) .        Voxel   , sparse voxel octree(    rendering   )      dense     .  explicit 3D representation  scene editing  scene composition      .

## Introduction

   scene rendering, realistic rendering      AR, VR                      .           challenge .   scene  3D representation    (LiDAR    )    IBR(Image Based)     (scene  ),       .       , embedding space  geometry appearance  .   training  3D geometric model voxel grid, textured mesh  , multi-plane image(depth   multi-channel  ), point cloud    .  explicit geometric representation , neural implicit     (representation computing    synthesized geometry discrete),    high spatial resolution, free-aliasing  .     network    (learning capacity )      , scene geometry camera ray      .

NSVF   implicit function   Neural Sparse Voxel Fields .   implicit field sparse voxel  3D geometry     , sparse voxel   sampling        .  NeRF      MLP (key feature) , Voxel  point   8 (vertices )    feature vector . Query point    ,  NeRF     ,      .

  scene   voxel grid puning,  tree node   sampling    ,    representation ,        .  NeRF   10    .

## Neural rendering with implicit fields

Implicit function   neural network $F_\\theta$   $F_\\theta : (p, v) \\rightarrow (c, \\omega)$  ,     $p_0 \\in R^3$   render color $C$      .

$$
C(p_0,~v) = \\int^{+\\infty}_0 \\omega(p(z)) \\cdot c(p(z),~v)dz
$$

,where $\\int^{+\\infty}_0 \\omega(p(z))dz = 1$     ,  $v$     , $p(z)$     ray     . ,

$$
p(z) = p_0+z\\cdot v
$$

,        intersection representation   weight     . Weight   density,  ray           .  weight  ($v$)     color non-Lambertian surface(reflection)           .          .

### Surface rendering

       ray        weight  1     function .

$$
\\omega(p(z)) = \\delta(p(z)-p(z^*))
$$

where  $p(z^*)$ is the intersection of the camera ray with the scene geometry

### Volume rendering

volume       . NeRF   ,     .

$$
C(p_0,~v) \\simeq \\sum_{i = 1}^{N} (\\prod_{j = 1}^{i-1} \\alpha(z_j,~\\Delta_j)) \\cdot (1-\\alpha(z_i,~\\Delta_i))\\cdot c(p(z_i),~v)
$$

 alpha $\\alpha(z_i,~\\Delta_i) = exp(-\\sigma(p(z_i) \\cdot \\Delta_i))$,  $\\Delta_i = z_{i+1}-z_i$(sampling )
 .

## Limitations

    view   color      .             dense sampling   .    (NeRF  $800 \\times 800$     30  ).

## Definition

      NSVF     ?     Voxel bounded implicit field  .

### Voxel-bounded implicit fields

  .    scene    non-empty part    voxel ,  K voxel  set .

$V = \\{V_1,~\\cdots,~V_K\\}$    voxel representation  scene   voxel-bounded implicit function    .  voxel     .

$$
F_\\theta(p, v) = F_\\theta^i(g_i(p), v), \\forall p \\in V_i
$$

,  point  voxel  parametric estimation .   3D point $p$   color  density,   point  representation     .

$$
g_i(p) = \\zeta(\\chi(\\tilde{g_i}(p_1^*), \\cdots, \\tilde{g_i}(p_8^\\ast)))
$$

point  vertex 8 vertices input  vertex $\\tilde{g_i}$   feature vector .  $\\chi(\\cdot)$  trilinear interpolation $\\zeta(\\cdot)$  positional encoding positional encoding   manifold       NeRF  .

   NSVF,   vertex   point       NeRF . ,

$$
g_i(p) = \\zeta(\\chi(\\tilde{g_i}(p_1^\\ast), \\cdots, \\tilde{g_i}(p_8^\\ast)))
$$

$$
= \\zeta(p)
$$

   NeRF .  $\\tilde{g_i}(p) : p \\rightarrow (c, \\sigma), \\zeta(\\cdot)$  $F_\\theta^i$  identity function    explicit voxel color  density  NV(Neural Volumes)  .

## Volume rendering

NSVF voxel  scene    color  density . NeRF   space  implicit representation   , NSVF          . Rendering  step  .

1. Ray Voxel intersection .
2. Voxel  ray-marching .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209058084-f7bf887e-0a84-4cec-8955-67f93cbec2b5.png" width="700"/>
</div>
 

### Ray-voxel intersection

, AABB(Axis-Aligned Bounding Box) intersection .     bounding box(voxel) ray  voxel 6 face() ray origin   .  AABB   hierarchical octree structure  NSVF  task  .     10k~100k sparse voxel   complex scene rendering     .

### Ray Marching inside Voxels

$$
C(p_0,~v) \\simeq \\sum_{i = 1}^{N} (\\prod_{j = 1}^{i-1} \\alpha(z_j,~\\Delta_j)) \\cdot (1-\\alpha(z_i,~\\Delta_i))\\cdot c(p(z_i),~v)
$$

  volume rendering   $C(p_0, v)$ . Ray  object    , background term $c_{bg}$  .

Transparency $A(p_0,~v) = \\prod^N_{i=1} \\alpha(z_i, \\Delta_i)$ $C_{bg}$ background    RGB value .    ,    rendering       sampling     resolution    .  NeRF  coarse network fine network  , 

$$
\\hat{C}c(\\rm{r}) = \\sum{i=1}^N \\it{w}_i\\rm{c}_i,~\\it{w}_i = T_i(1-\\exp(-\\sigma_i \\delta_i))\\rm{c}_i
$$

                   .   NSVF   sampling      evaluation cost         .

### Early termination

NSVF  , solid      .  solid surface ,      voxel     accumulation   (accumulated transparency $A(p_0,~v) = 0$).    $\\epsilon = 0..01$ threshold ,   transparency  rendering process    ,       . 

## Training

    , $C_{bg}$ term  NeRF   ,  rendering process    reference image  cost function   .

$$
L = \\sum_{(p_0,~v) \\in R} \\parallel C(p_0,~v)-C^*(p_0,~v) \\parallel_2^2 + \\lambda \\cdot \\Omega(A(p_0,~v))
$$

R batch sampled ray , $C^*$ camera ray GT color, $\\Omega(\\cdot)$ beta-distribution regularizer. Beta regularizer   0~1        .

### Voxel initialization

 V   bounding box , ,   10 sub voxel   .    coarse sampling  ,  Self-pruning, rendering   . Self pruning   non essential voxel ,   , density probabilty  threshold (  ray     NeRF ),   voxel  computation  .

$$
V_i \\text{ is pruned if} \\min_{j = 1, \\cdots, G} exp(-\\sigma(g_i(p_j))) > \\gamma,~p_j \\in V_i,~V_i \\in \\nu
$$

$\\{p_j\\}^G_{j = 1}$ voxel $V_i$  uniformly sampled point ( voxel  , ,   16 $G = 16^3$ ). Threshold $\\gamma = 0.5$     .

## Progressive training

     ,  NeRF hierarchical network   iteration  detail   .     pruning  ,   cost   sampling  dense       ,     NeRF    .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209058401-0e8d1f3f-446f-43b8-a591-3673b83c9c67.png" width="700"/>
</div>
 

   ,   iteration    voxel axis  2($2^3$) sub-voxel   pruning   .     vertex feature      trilinear interpolation  . Trilinear interpolation bilinear interpolation       .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209058405-bcc9fd77-4440-49f4-9564-49791adce570.png" width="700"/>
</div>
 
`,Pte=`---
title: "MixMatch-A holistic approach to semi-supervised learning "
category: "ai papers"
publishedAt: "2022-12-07"
thumbnail: "https://github.com/user-attachments/assets/d48ce4c4-29fb-434a-a05a-959252e064bf"
---


                 . , unsupervised learning  representation mapping       ,   SSL(Semi-supervised learning)        MixMatch   . [](https://arxiv.org/abs/1905.02249)

## Deep learning  
          supervised, semi-supervised        .           Neural Network    ,  gradient based    SGD, Adam   optimization  .  ReLU function residual learning   SOTA       ,  transformer   multimodal      .
  ,      cost function, objective function ,       .      ,   n class    , segmentation        ,   time consuming  .       ( CT, MRI       ),     ( )  .           private information   ,     .
       augmentation         representation         ,        .

## SSL : Semi-Supervised Learning
 ,     SSL  .             unseen data  unlabeled dataset          "loss term"    .
            ""     ,      (softmax)       .   SSL MixMatch         , loss term        .

### Entropy minimization
  Enropy minimization.          .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059028-f13d36bd-c752-4c19-9cc8-b016185d4f75.jpg"/>
</div>
 
     ", , " 3     1-hot encoding( hard label ) . One-hot encoding   1  0 .       (0, 1, 0)  .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059035-69102d07-26c6-48fb-9b8d-2b15aa0ac992.png"/>
</div>

     .            (0, 1, 0)  .
 cross entropy loss  softmax       ,       CE loss   softmax    .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059037-8d487115-45d6-46e6-88d7-920feb69f796.png"/>
</div>

 softmax   0 1   ,      value softmax  0 1     ,      '   '    .
           ,           .   entropy minimization      .      loss term           .

### Consistency regularization
  Consistency regularization.    ,

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059039-fb2d2135-7f02-46e5-b713-c73cb6a67e41.png"/>
</div>

      90  augmented sample unlabeled dataset  .   augmented( ,  ,  )      probability distribution  .             .

### Generic regularization
Model overfitting   ,   MixMatch MixUp  .        .   (1, 0, 0)   ,   (0, 1, 0)   .     convex sample

$$
    \\theta \\cdot cat + (1-\\theta) \\cdot dog,~(0<\\theta<1)
$$

   .  convex sample   convex set   ,     sample  convex set      .   ,

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059042-6f90bb89-7f19-4a0f-b7cc-a8756fd5c746.png"/>
</div>

   50%   .      convex sample   

$$
    \\theta \\cdot (0,\\ 1,\\ 0) + (1-\\theta) \\cdot (1,\\ 0,\\ 0)\\ = (0.5,\\ 0.5,\\ 0)
$$

  MixUp .
     ,   MixMatch               .

## Related works
      , MixMatch      .     transductive model, graph-based model  generative model    .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059045-b04b1a3a-5b87-42c1-8b93-0d4ca790cc43.png"/>
</div>

Transductive learning Inductive learning ,  () ()            .     SSL    .  based model    .        , Graph-based modeling      transductive learning   ,   .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059047-34b7ea16-352b-4d71-84f2-f5109687188d.png"/>
</div>

 MNIST   ,     (  )          (       )    .  based  , Hessian                    .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059049-7a484a0f-631e-47a8-89a2-629b361e2fe9.png"/>
</div>

Generative modeling       heuristic    .        ,  color      perturbation( ,  )       .


## Build up for MixMatch
Mixmatch        .    related works  , semi-supervised learning      .
 MixMatch            .
     Consistency regularization, Augmentation            .
 stochastic  Augment(x) ,   input image X   augmentation ,   parameterized  

$$
    p_{model}(y \\vert \\text{Augment}(x); \\theta), p_{model}(y \\vert \\text{Augment}; \\theta)    
$$

    .    Augment()   stochastic ,   term    ( value ).     loss term   .

$$
    \\parallel p_{model}(y \\vert \\text{Augment}(x); \\theta) - p_{model}(y \\vert \\text{Augment}; \\theta) \\parallel_2^2
$$

Mean Teacher    term     ,      student model     , teacher model student model parameter exponential moving average   . Exponential moving average    ,

$$
    w_{k+1}^{teacher} = \\beta w_k^{teacher} + (1-\\beta)w_k^{student}    
$$


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059052-e06308cd-62b4-4969-8a05-1be0d97cb338.png"/>
</div>

  weight student weight     .   [](https://arxiv.org/abs/1703.01780) .  VAT (Virtual Adversarial Training) Adversarial sampling   maximally changes output class distribution  perturbation (    augmentation  ) , hard sampling     . MixMatch  data augmentation     random horizontal flips and crops .

   .   Entropy minimization   .           .    space X      $P = (p_1, p_2, p_3, ...)$    space 

$$
    \\begin{aligned}
        \\text{for }X =& (x_1,~x_2,~\\cdots,~x_N)\\text{ where each random variable }x_i(i=1,~\\cdots,~N)\\text{ has a probability }P = (p_1,~\\cdots,~p_N), \\newline
        H(X) =& -\\sum_{i=1}^N p_i \\log(p_i)
    \\end{aligned}    
$$

   .        ,     /   .

           one-hot encoding       .     data augmentation       entropy    .

       Pseudo-Label  ,            .

1. $K$ augmentation   $X$ .

2.  augmented data $K$     map  , average label .

3. Average label   entropy minimization .

Sharp label   entropy minimization temperature hyperparameter $T$  .  probability,

$$
    Sharpen(p,~T)_i = \\frac{p_i^{1/T}}{\\sum^L_1 p_j^{1/T}}
$$

       .      .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059056-4f683a5d-ce95-4a72-8248-e3a1dd1abb4c.png"/>
</div>

$T = 1$    .        (0.15, 0.13, 0.12)    dense region problem   .   ,

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059057-a0ece861-efba-405b-b135-deb59f99f388.jpeg"/>
</div>

  ,               unlabeld (/ )  decision boundary  ,                .       ,               minimization    .

<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059060-042b9c8c-5546-443b-bd44-6b8050fba5ca.gif"/>
</div>

 $T$      . $T$ $0$   one-hot encoding  $T \\rightarrow 0$  one-hot encoding .
<figure class="half">
    <img src="https://user-images.githubusercontent.com/79881119/209059063-258cba67-de1e-4de7-ada3-b6d32971acdb.png" width="600" />
    <img src="https://user-images.githubusercontent.com/79881119/209059066-0e54d4e6-842d-4fc8-9ed7-3545f8d9a574.png" width="600" />
</figure>

## MixMatch algorithm

<div align="center">
  <img src="https://github.com/user-attachments/assets/d48ce4c4-29fb-434a-a05a-959252e064bf"/>
</div>

MixMatch   loss objective    .    labeled dataset unlabeled dataset    loss(CE loss for labeled sample, consistency loss for unlabeled sample)   .

      , $X', U'$  labeled dataset augmented dataset  unlabeled dataset augmented dataset .

$$
    X',~U' = MixMatch(X, U, T, K, \\alpha)    
$$

$X, U$ augmentation    dataset  $T$ entropy minimization  temperature, $K$ unlabeled dataset  augmentation , $\\alpha$ MixUp  convex coefficient .

$$
    L_X = \\frac{1}{\\vert X' \\vert} \\sum_{x, p \\in X'} H(p, p_{model}(y \\vert x; \\theta))   
$$

      label  cross entropy loss  ,

$$
    L_U = \\frac{1}{L\\vert U' \\vert} \\sum_{u, q \\in U'} \\parallel q-p_{model}(y \\vert u; \\theta) \\parallel_2^2    
$$

     pseudo label $q$  consistency regularization loss .        .                  .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059068-c301914f-e460-4e6f-accd-0c745e74107f.png"/>
</div>

1~6    .     labeled dataset unlabeled dataset , labeled dataset $x$  stochastic augmentation   , unlabeled dataset $u$  stochastic augmentation $K$ .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059073-bbebd988-7b15-4cef-9606-556bb05ac16c.png"/>
</div>

  pseudo label , $K$ augmented unlabeled sample $\\hat{u}$       ,  $K$     .   Pseudo-labeling      .        .   temperature hyperparameter $T$  sharpening  pseudo label $q_b$    .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059075-530284c1-90de-4a4e-ab0f-9139e508f01f.png"/>
</div>


10~12  label data(augmentation ) + unlabeled data(augmentation )     .    $B + B \\times K$   ,   queue  dequeue  .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059078-b9d40da6-ec11-4bab-904f-dad2d09ae580.png"/>
</div>


     X'(labeled dataset) MixUp ,    U'(unlabeled dataset) MixUp .   MixUp lambda   labeled data  unlabeled data  ,
   W MixUp ,  labeled dataset MixUp,  unlabeled dataset MixUp    . 

$$
    \\begin{aligned}
        \\lambda =& Beta(\\alpha,~\\alpha) \\newline
        \\lambda' =& \\max (\\lambda,~1-\\lambda) \\newline
        x' =& \\lambda'x_1 + (1-\\lambda')x_2 \\newline
        p' =& \\lambda'p_1 + (1-\\lambda')p_2
    \\end{aligned}
$$

   MixUp  Vanila MixUp(lambda    )  batch order  MixUp sample    .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059081-b3812560-90f9-4fed-954b-52d6519ecc9c.png"/>
</div>


 CIFAR-10, SVHN  250~4000 label  SSL  MixMatch    . Supervised method       , ( )    representation     .


<div align="center">
  <img src="https://user-images.githubusercontent.com/79881119/209059086-cc8045b7-cc5a-4a0c-844e-f43dd1dfeba7.png"/>
</div>


 contribution    loss term  SSL          .
`,Fte=`---
title: "Efficient deep neural networks "
category: "ai papers"
publishedAt: "2022-12-08"
thumbnail: "https://user-images.githubusercontent.com/79881119/209087790-826f9967-3a81-42c9-9bd3-a05f5b75485b.png"
---


## Efficient Network

     ,   dataset       task .        ,   resource(GPU  )   ?   .   
     .   GPU  ,        DNN       network  scaling up   .   
   **''**   !   efficient network ,   CNN storage, computational complexity       .
1. Resolution :   , feature map size .
2. Width :   
3. Depth :   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087790-826f9967-3a81-42c9-9bd3-a05f5b75485b.png" width="800"/>
</div>



## EfficientNet v1
[EfficientNet v1](https://arxiv.org/abs/1905.11946v1?fbclid=IwAR15HgcBlYsePX34qTK2aHti_GiucEYpQHjben-8wsTf7O83YPhrJQgXEJ0)  Baseline architecture  NAS AutoML( ,    deep learning network   hyper-parameter     )   baseline network   scaling up  .   
, MobileNet-v2  MBConv(mobile inverted bottleneck convolution) Block  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087817-8f617ea2-fbd8-4a6a-8709-cce98db3dd76.png" width="400"/>
</div>

  , lightweight model        .   baseline network     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087794-466ce338-0831-43ef-a859-b1288afae880.png" width="400"/>
</div>



## Depth scaling($d$)
 scaling factor      ,            depth  scaling.   
 ResNet  ,    receptive field      image feature           .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087798-705fc27b-304e-4d98-b1a6-900e430e26b2.png" width="400"/>
</div>

 ResNet VGG Network   ,    accuract    .         representation       ,      input output      optimal solution     .   
  ResNet-1000 ResNet-101  accuracy      .     $d = 8.0$  accuracy     . ,         FLOPS  ImageNet Top-1 Accuracy .


## Width scaling($w$)
      network    wide  . Wider network spatial dimension  , channel     .   

    fine-grained(  )      ,     excessive depth     . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087799-93edd523-edaf-47d2-9a74-193d8b71c5df.png" width="400"/>
</div>

        (depth $d$ $\\downarrow$)  (width $w$ $\\uparrow$)   saturate .      $w=5$    .


## Resolution scaling($r$)
Spatial dimension    resolution factor  ,    high resolution image fine grained feature   .  resolution  FLOPS    $r = 2.5$     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087802-30e5a146-1035-46bd-bc39-333fd54be84d.png" width="400"/>
</div>



## Observations
         .  
1.  //   factor     , <U>  </U>.
2. FLOPS         <U> dimension    </U> .

      objective  .

$$
    \\begin{aligned}
        &\\max_{d, w, r} Accuracy(\\mathcal{N}(d, w, r)) \\\\
        &\\text{s.t.}~\\mathcal{N}(d, w, r) = \\bigodot_{i=1 \\cdots s} \\hat{F_i}^{d \\cdot \\hat{L_i}}(X_{(r \\cdot \\hat{H_i}, r \\cdot \\hat{W_i}, w \\cdot \\hat{C_i})}) \\\\
        &\\text{Memory}(\\mathcal{N}) \\le \\text{target\\_memory} \\\\
        &\\text{FLOPS}(\\mathcal{N}) \\le \\text{target\\_flops}
    \\end{aligned}
$$

   $\\mathcal{N}$      CNN      .    (  s.t.  ) ($d, w, r$)   CNN    ,  output input      .  $\\mathcal{N}(d, w, r)$ input  output,    output  supervision   task      .   
  threshold memory flops       .   
       "   ",    . , $d, w, r$  weight factor memory flops    ,    resource    searching .

$$
    \\begin{aligned}
        \\text{depth: }&d = \\alpha^\\phi \\newline
        \\text{width: }&w = \\beta^\\phi \\newline
        \\text{resolution: }&r = \\gamma^\\phi \\newline
        \\text{s.t. }&\\alpha \\cdot \\beta^2 \\cdot \\gamma^2 \\approx 2 \\newline
        &\\alpha \\ge 1, \\beta \\ge 1, \\gamma \\ge 1
    \\end{aligned}    
$$

      ( observation  )   1   , $\\phi$ compound coefficient   resource    .  FLOPS  network depth $d$  linear,  width resolution $w, r$   quadratic   FLOPS $2^\\phi$    .      4 $(\\alpha,~\\beta,~\\gamma,~\\phi)$.


## Implementation

    .  baseline  MBConv(MobileNet v2  )  ,  B0 .  NAS  (      ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087794-466ce338-0831-43ef-a859-b1288afae880.png" width="600"/>
</div>


  $\\phi = 1$ ,   resource    $\\alpha,~\\beta$  $\\gamma$  grid search .  constraints $2^\\phi$  .   
B0  optimal value $\\alpha = 1.2$, $\\beta = 1.1$,  $\\gamma = 1.15$  optimal value .   
 $\\alpha,~\\beta$  $\\gamma$   (  )   $\\phi$  .
  $\\phi$    EfficientNets B1  B7.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087804-57e25abc-ef8c-4854-92b8-1e23253f0074.png" width="600"/>
</div>


 $\\alpha,~\\beta,~\\gamma$     parameter                . ~~          .~~


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087808-02559f28-75a9-4a8d-bda5-763c06ff224b.png" width="800"/>
</div>


        CAM   . **compound scaling**        .


## EfficientNet v2
 . EfficientNet v1   v2  .  1  2  (  ).  [EfficientNet v2](https://arxiv.org/abs/2104.00298)   (2021).  EfficientNet v1    ViT   computer vision network      .        .   
EfficientNet v2      EfficientNet v1 .  EfficientNet v2 architecture(baseline)    contribution, **progressive learning**    contribution. , image size    ([PGGAN](https://arxiv.org/abs/1710.10196) ).   
    EfficientNet v1  $11\\times$    $6.8\\times$  parameter efficiency .


## Fused MBConv

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087812-b386bf1e-9a5d-4b68-9d78-25f66889915a.png" width="600"/>
</div>

  fused MBConv  , depthwise $3\\times 3$ convolution expansion $1 \\times 1$ convolution  MBConv ,   $3 \\times 3$ convolution  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087817-8f617ea2-fbd8-4a6a-8709-cce98db3dd76.png" width="600"/>
</div>


    Fused MBConv   ,      Efficient v1  ( stage    )    .   
   <U>  fused MBConv  </U>       NAS .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087818-e12926fd-96cf-4155-a4ca-e59d98f293ac.png" width="800"/>
</div>


  baseline (EfficientNetV2-S )  ,
1.  layer fused MBConv  .
2. EfficientNet v2($3 \\times 3$) v1($5 \\times 5$)   kernel size .
3.  stride-1 stage 

.   NAS      .  


## Progressive learning
      image size   .   10 epoch     6 epoch $224 \\times 224$      4 epoch    $256 \\times 256$  finetune .   
  smaller image larger image    accuracy drop  .   
     ...?       image size , regularization strength     .  regularization    unbalance   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087820-d759593e-41bd-4e95-b59e-f2f7fa6811dc.png" width="800"/>
</div>


              .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087823-69796a5f-d41d-4292-9cf4-8a2dfc2d91ad.png" width="800"/>
</div>


  $R_i$ regularization strength $S_i$   .        . iteration M     $S_0$ linearly   regularization strength  linearly .   
      "     ?" .         ,      .

- **Dropout** -   ,     dropping .      . Dropout rate $\\gamma$     ,  .
- **RandAugment** -  data augmentation  .    augmentation ,  magnitude $\\epsilon$ .
- **Mixup** -   data augmentation .    $(x_i, y_i)$    $(x_j, y_j)$    0 1  mixup ratio $\\lambda$    $\\tilde{x_i} = \\lambda x_j + (1-\\lambda)x_i$     $\\tilde{y_i} = \\lambda y_j + (1-\\lambda)y_i$   .  mixup ratio $\\lambda$  .   

     ,     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209087825-cff21495-b8b3-4916-bde0-6be8418d9efe.png" width="800"/>
</div>
`,Bte=`---
title: "About light weight CNNs(MobileNet )"
category: "ai papers"
publishedAt: "2022-12-08"
thumbnail: "https://user-images.githubusercontent.com/79881119/209088800-7ac3c32b-e720-43ce-b42b-efe2992d27d0.png"
---

##  
Deep learning    ,     CPU  GPU       fully     .   
           ,  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088788-348d060b-19ba-432c-8b74-6578d47becb7.svg" width="650"/>
</div>


        .
1. CNN applicable ,   device embedding system   .
2.   accuracy performance  ,  improve .

      .  Deep neural network      filter kernel          ,        representation      .   
       ,         .


## MobileNet
    [MobileNet](https://arxiv.org/abs/1704.04861) google  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088800-7ac3c32b-e720-43ce-b42b-efe2992d27d0.png" width="650"/>
</div>

 depthwise seperable convolution,  depth-wise convolution point-wise convolution    .   
    depthwise convolution pointwise convolution     ,     image tensor     batch  $C \\times H \\times W$,  , ,   3  .        $C \\times D_K \\times D_K$,  ,  ,    3 weight .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088798-c6daff25-46dc-4b2b-b080-875bc57e585c.png"/>
</div>

    ( mobilenet    ), $D_K$  dimension     $M$      , $N$   . notation         $M$   $C$    .   
   $N \\times H' \\times W'$ .   
  convolution ,      ,

$$
    {D_K}^2 \\times M \\times N
$$

 ,     convolution   parameter  dimension value $D_K$     .  segmentation  high level computer vision      bottleneck .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088807-6ae8a0c4-9464-4da2-ba85-6a4aeef33b69.png" width="450"/>
    <img src="https://user-images.githubusercontent.com/79881119/209088809-677c3e21-6da7-4a64-b450-4a9f67223ab3.png" width="450"/>
</div>

        mobilenet  .   $D_K \\times D_K \\times 1$   $M$  <U>    </U>    depthwise convolution,   $1 \\times 1 \\times M$   $N$  <U>    </U>    pointwise convolution.
Depthwise convolution  [](https://arxiv.org/abs/1610.02357), feature map()    spatial(   )       .   
 depthwise convolution computational complexity    channel  correlation   ,   pointwise convolution      .      convolution step  parameter,

$$
    ({D_K}^2 \\times M) + (M \\times N) < {D_K}^2 \\times M \\times N
$$

     .   
MobileNet   pooling layer   ,   depth-wise seperable convolution stride 2  sub-sampling  ,  layer  28.


## ReLU6
 CNN    convolution block activation function  ReLU() .   ReLU()           .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088813-1d95c642-fdb8-4d3c-a79b-b41f6556355b.png.png"/>
</div>

 ReLU  value        <U> </U>  .       ,           .      fixed point , training      ReLU6 activation function.

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088819-ea3c1e5e-b846-4273-9e2a-fba3c1877e4c.png"/>
</div>

    fixed point    , 6    3 bit           .          feature      [](http://www.cs.utoronto.ca/~kriz/conv-cifar10-aug2010.pdf) .      , 6      ReLU6  .


## MobileNet v2
    [MobileNet-v2](https://arxiv.org/abs/1801.04381)  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088821-fae1de5e-b3d0-4bf2-b344-3fbe24a082fc.png" width="200"/>
    <img src="https://user-images.githubusercontent.com/79881119/209088825-0dd7fd6b-0c8f-4a83-b04f-98fd747364d9.png" width="300"/>
</div>

    MobileNetv1 framework,      MobileNetv2 framework.   
   MobileNetv2 **inverted residual**  . MobileNetv2 / block  pointwise($1 \\times 1$) + Convolution + ReLU6 .  depthwise convolution    block stride 1  spatial dimension  ,  block stride 2  downsampling.   pointwise convolution ,  activation function  . Downsizing   skip connection     skip connection(residual connection)   block residual connection     .   
  ,      expansion convolution    ,  depthwise convolution    pointwise convolution production  .    $1 \\times 1$ convolution expanding ,  $1 \\times 1$ convolution projection  .  projection  activation function    ReLU  feature    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088829-4773c43a-319f-4561-b1cb-899e359e8445.png"/>
</div>

   inverted residual      residual   .     .     ResNet   ,  MobileNetv2    .


## MobileNet v3

     .. [MobileNet-v3](https://arxiv.org/abs/1905.02244)  .   
    inverted residual   , MobileNet v1 pointwise, depthwise  MobileNet v2 inverted residual    .   
     activation function    SE(Squeeze and Excitation network)      .   ,

## h-swish
h-swish swish function  ,   swish   .     .
$$
    \\text{swish}(x) = \\frac{x}{1+e^{-x}}
$$
  ?   $x$  .      .
 sigmoid   ,   sigmoid   swish  ReLU    ?  .
  .
$$
    \\text{h-swish}(x) = x\\frac{\\text{ReLU6}(x+3)}{6}    
$$

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088832-0c395635-00d3-4c61-ad85-ccd8569df4c4.png"/>
</div>

pytorch hardswish    .   !

## SE(Squeeze and Excitation)
 [ ](https://arxiv.org/abs/1709.01507)       .       ,           .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209088835-5de42d5d-57b9-406e-a3da-a8986ebc2da2.png"/>
</div>

[STN](https://arxiv.org/abs/1506.02025)      ,         layer  attention     .    feature map    feature map                , MobileNet pointwise convolution                    .   
      weight    squeeze(spatially average)    .  

## NAS(Neural Architecture Search)
       ,          . AutoML  /    process  .
- Search space :   
- Search algorithm : search space   explore . Randomly    Bayesian optimization        ...
- Evaluation strategy : NAS     .   Training/Validation     fully-supervision, few-shot ...

     .

NAS   ,     lightweight          ..  NetAdapt   network   .   MobileNetv3   "Searching for MobileNetV3".
`,zte=`---
title: "Generative adversarial networks(GAN) "
category: "ai papers"
publishedAt: "2022-12-09"
thumbnail: "https://user-images.githubusercontent.com/79881119/209089640-17906d02-f7bf-42e6-ad86-01d2a8c5d04c.png"
---


      GAN(Generative Adversarial Networks)   .     VAE, Diffusion         GAN    . GAN      StyleGAN         3D scene aware GAN depth map generation     . GAN        .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209054535-562ac052-0e4a-44f2-9e29-7b05e07b69f1.png" width="600"/>
</div>


## Background knowledge
      .   likelihood based network  GAN  approach      ,    latent space  $\\mathcal{Z}$ $\\mathcal{X}$ mapping .            .

## Probability


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089630-707703f9-2742-4366-b3ef-30b00bdc23a4.png" width="600"/>
</div>

       $y \\sim \\mathcal{N}(0, 1)$       $x \\sim \\mathcal{N}(0, 0.5)$ .        .   
   $x,~y$      ,  joint probability  $p(x,~y)$   .     $x$ $y$    ,    .    $p(x)$ $p(y)$ joint           .       joint isotropic  .   
 joint distribution($p(x,~y)$)   projection    $p(x)$ $p(y)$   .      .
$$
    \\begin{aligned}
        \\int_{-\\infty}^{\\infty} p(x,~y) dy =& p(x) \\newline
        \\int_{-\\infty}^{\\infty} p(x,~y) dx =& p(y)
    \\end{aligned}    
$$
       ,        ,
$$
    \\begin{aligned}
        \\sum_{y} p(x,~y) =& p(x) \\newline
        \\sum_{x} p(x,~y) =& p(y) \\newline
    \\end{aligned}    
$$
 .             projection .   
           .   (          ) ,      marginal joint    .   $x$      $y$   ,
$$
    p(y \\vert x) = \\frac{p(x,~y)}{p(x)}    
$$
 .

## PDF(  ) modeling and sampling
   ,     ?      .
1.    Samle data .
2. Sample data empirical PDF .
3. Empirical  PDF Standard PDF .
4.   parameter .   Maximum likelihood estimation(MLE), Bayesian estimation ...

    PDF   . $p(x) \\rightarrow x$.   
    MLE Bayesian          .   .


## Generative and Discriminative models

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089636-7a1f4e2e-6f0d-4af2-97c6-fe44d0271457.png" width="600"/>
</div>

GAN       Generator($G$)   Discriminator($D$)       .           . ~~  ~~   
 GAN    generator discriminator    . Generative model joint PDF $p(x,~y; \\theta)$  marginal PDF $p(x; \\theta)$ .    implicit  ,  generator   $\\theta$   .   discriminative model conditional PDF $p(y \\vert x; \\theta)$  , generative model    () $x$    .    parameter $\\theta$  ,     generative model discriminative model   parameter set $\\phi \\in \\Phi$, $\\theta \\in \\Theta$    . Generative model [GMM](https://jontemple.org.uk/wp-content/uploads/2020/06/bht10.pdf), [HMM](https://web.stanford.edu/~jurafsky/slp3/A.pdf)  [Bayesian Networks](https://www.bu.edu/sph/files/2014/05/bayesian-networks-final.pdf), [Deep belief networks](https://www.cs.toronto.edu/~hinton/absps/fastnc.pdf),  [Deep Boltzmann machine](http://www.cs.toronto.edu/~fritz/absps/dbm.pdf)  .   
 discriminative model   low level task  MLPs, CNNs, Logistic regression, SVM    encoder   .


## General concept of data generation with generative models
 ,             .     generator network    $x$  ,    generator $p(x; \\theta)$ . ,  real dataset probability   ,   joint $p(x,~z)$   , Bayesian         .
$$
    p(z \\vert x) = \\frac{p(x \\vert z)p(z)}{p(x)}    
$$

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089637-f5d977b6-2a78-4338-9ae1-b880fa281f83.jpg" width="600"/>
</div>

 Likelihood($p(x \\vert z)$)     $p(x)$ .  joint  $z$     likelihood      marginal likelihood  $z \\sim p(z)$    .
$$
    p(x) = \\int_z p(x \\vert z) p(z) dz
$$
    normal distribution  $p(z) = \\mathcal{N}(0, I)$,   $z$ **latent vector**  **latent variable** .   
 latent generator   $p(z)p(x \\vert z)$   ,    background  empirical PDF     .


## GAN 
[GAN   ](https://arxiv.org/abs/1406.2661)     .    implicit PDF . $x$    joint probability  supervision    unsupervised approach   .   
      , generative network $G$ discriminative network $D$    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089638-4006e341-97bf-45f2-9204-8e23b3a0c4e4.png" width="600"/>
</div>

      , generator()    ()   , discriminator()    (  )     .    mini-max GAN optimization loss  .
$$
    \\begin{aligned}
        &\\min_G \\max_D V(D,G) \\newline
        V(D,G) =& E_{x \\sim p_{data}(x)}(\\log D(x)) + E_{z \\sim p_z(z)}(\\log (1-D(G(z))))
    \\end{aligned}    
$$
 $\\log (\\cdot)$   energy based    log liklihood  ,  $0 \\sim 1$    .
  
## Discriminator 
   $p_{data}(x)$   $x$ discriminator  (True = 1)   , discriminator       $\\log D(x)$ 0.   
 latent variable $z \\sim p(z)$     $G(z)$ discriminator  (False = 0)   , discriminator       $\\log(1-D(G(z)))$ 0.   
 Discriminator $V(D, G)$   .  0   ?  , $\\log$    $0 \\sim 1$     $-\\infty \\sim 0$    .   

## Generator 
Generator $V(D ,G)$  term   term  . Generator   latent variable $z$    $G(z)$ discriminator  (   '  ?'   ), generator       $\\log (1 - D(G(z)))$ $-\\infty$.


     mini-max optimization    .             optimization .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089640-17906d02-f7bf-42e6-ad86-01d2a8c5d04c.png" width="400"/>
</div>

    convex optimization,    concave optimization   global point  saddle point  .   
     GAN  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089642-86c8cfec-0767-498e-b5ae-63892418363d.png" width="800"/>
</div>

   discriminator  ,    real data distribution,    generator    . (a)    generator, discriminator     $z \\rightarrow x$ mapping( )  ( )   , discriminator     /          .   
Discriminator     (b), discriminator  /      .   
  Generator  (c), $z \\rightarrow x$ mapping           .
 , generator     mapping     discriminator /       .      saddle point, global optimization.

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089644-847cd2b8-e9e0-4c2b-a8db-6dd7149edf66.png" width="800"/>
</div>

   .    discriminator generator  $K$  optimize, generator 1 optimize  .        
$$
\\text{Training iterations} \\times (K \\times \\text{((a)} \\rightarrow \\text{(b))} \\rightarrow 1 \\times \\text{(c))} = \\text{(d)}
$$
   .


## Optimize expression as JS(Jensen-Shannon) divergence
    JS divergence    .
$$
    \\begin{aligned}
        C(G) =& \\max_D V(G,~D) \\newline
        =& E_{x \\sim p_{data}}(\\log D_G^\\ast (x)) + E_{z \\sim p_z}(\\log(1-D_G^\\ast(G(z)))) \\newline
        =& E_{x \\sim p_{data}}(\\log D_G^\\ast (x)) + E_{x \\sim p_g}(\\log(1-D_G^\\ast(x))) \\newline
        =& E_{x \\sim p_{data}} \\left( \\log \\frac{p_{data}(x)}{p_{data}(x)+p_g(x)} \\right) + E_{x \\sim p_g} \\left( \\log \\frac{p_g(x)}{p_{data}(x)+p_g(x)} \\right)
    \\end{aligned}    
$$
    generator    $p_g$  .  $z \\rightarrow x$ mapping   generator term      .      ,    $p_g = p_{data}$ , $D_G^\\ast = \\frac{1}{2}$.  value   ,
$$
    \\begin{aligned}
        C(G) =& E_{x \\sim p_{data}} \\left( \\log \\frac{p_{data}(x)}{p_{data}(x)+p_g(x)} \\right) + E_{x \\sim p_g} \\left( \\log \\frac{p_g(x)}{p_{data}(x)+p_g(x)} \\right) \\newline
        =& E_{x \\sim p_{data}} \\left( \\log \\frac{p_{data}(x)}{\\frac{p_{data}(x)+p_g(x)}{2}} \\times \\frac{1}{2} \\right) + E_{x \\sim p_g} \\left( \\log \\frac{p_g(x)}{\\frac{p_{data}(x)+p_g(x)}{2}} \\times \\frac{1}{2} \\right) \\newline
        =& -\\log(4) + D_{KL}\\left( p_{data} \\parallel \\frac{p_{data}(x)+p_g(x)}{2} \\right) + D_{KL} \\left( p_g \\parallel \\frac{p_{data}(x)+p_g(x)}{2} \\right) \\newline
        =& -\\log(4) + 2 \\cdot D_{JS}(p_{data} \\parallel p_g)
    \\end{aligned}    
$$



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089648-4373578b-2637-4b8c-8c1a-b01a834f48a7.png" width="800"/>
</div>

 . MNIST, TFD  CIFAR-10  .


## Measure metrics for GANs
GAN  .   discriminator  supervision         .            ,             . GAN evaluation   3 meric .

## IS: Inception Score
IS  inception score quality diversity .
$$
    IS(G) = exp(E_{x \\sim G} (D_{KL}(p(y \\vert x), p(y))))    
$$
   ,    $p(y)$    . ,   .       .  generated image $x$    $y$   .   $x$   $y$  .         $p(y \\vert x)$ low entropy ,  term image quality .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089655-7128e7d6-88e8-4e93-895b-891c010ef22a.png" width="800"/>
</div>


 $p(y \\vert x)$    sample   inception network  softmax vector , $p(y)$    marginal distribution ($p(y) = \\frac{1}{N} \\sum_{i=1}^N p(y \\vert x_i)$).  diversity  $p(y)$ sparse vector( , one-hot encoding   )   diversity  $p(y)$ dense vector( , entropy  uniform distribution  )) .   
    $x_i$     inception score IS,
$$
    IS = exp \\left( \\frac{1}{W} \\sum_{i=1}^N D_{KL} (p(y \\vert x_i), p(y)) \\right)    
$$

## FID: Frechet Inception Distance
 Inception Score   ,    class       (  mode collapse ) diversity   .    generator      overfitting IS score .            .   inception network   layer feature ,  $\\mu$  $\\Sigma$      FID  .
$$
    FID(x, g) = \\parallel \\mu_x - \\mu_g \\parallel^2_2 + Tr(\\Sigma_x + \\Sigma_g - 2(\\Sigma_x \\Sigma_g)^{1/2})    
$$
         ,   Inception score  noise   .   generator        IS   , FID      FID   () .        .  Inception score  FID     .

## LPIPS: Learned Perceptual Image Patch Similarity

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209089658-4e9b9b38-40a4-4325-b1a4-88356fe002d1.png" width="800"/>
</div>

LPIPS      .
$$
    d(x,~x_0) = \\sum_l \\frac{1}{H_l W_l} \\sum_{h, w} \\parallel w_l \\odot (\\hat{y_{hw}}^l - \\hat{y_{0hw}}^l) \\parallel_2^2    
$$
Feature extraction model AlexNet, VGG, SqueezeNet   feature map   . $x_0$    $x$   ,  activation map $\\hat{y_{hw}}^l, \\hat{y_{0hw}}^l$  Euclidean distance   layer weight $w_l$                . Feature map     image patch similarity    .    weight $w_l$     ,     paper    .
`,jte=`---
title: "GAN variations(DCGAN, CGAN, PGGAN and StyleGAN) "
category: "ai papers"
publishedAt: "2022-12-11"
thumbnail: "https://user-images.githubusercontent.com/79881119/209126974-59cf4988-bf47-407a-8a36-df5bf70644a2.png"
---


## DCGAN: Unsupervised Representation Learning with Deep Convolutional Generative Adversarial Networks
GAN(Generative Adversarial Network)      .    generatoe($G$)  discriminator($D$)      ,   GAN  MLP.   
   convolutional network       GAN       [DCGAN](https://arxiv.org/abs/1511.06434) GAN            ,    ablation  paper   .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126944-58190ead-5728-4e4c-8d20-9fb4a06ca86b.png" width="600"/>
    <img src="https://user-images.githubusercontent.com/79881119/209126947-14d04c65-b54f-4817-8f4d-4d5906abf26d.png" width="600"/>
</div>

       generator    discriminator     .        upsampling convolutional networks, downsampling networks     .   
DCGAN     max pooling layer    .  high level, low resolution feature  classification detection       filter  pooling layer     .   
Activation function generator  ReLU activation function , discriminator  layer   $0 \\sim 1$   sigmoid function    Leaky ReLU function .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126950-566cf8d1-15f4-4d71-b305-2d91c771c378.png" width="300"/>
    <img src="https://user-images.githubusercontent.com/79881119/209126953-be29dc02-ca8d-4a41-a8f4-361ba6d18ca5.png" width="300"/>
</div>

$$
    \\begin{aligned}
        ReLU(x) =& \\begin{cases}
            x, & \\text{if }x \\geq 0 \\newline
            0, & \\text{otherwise}
        \\end{cases} \\newline
        LeakyReLU(x) =& \\begin{cases}
            x, & \\text{if }x \\geq 0 \\newline
            -0.01x, & \\text{otherwise}
        \\end{cases}
    \\end{aligned}
$$
Leaky ReLU       ,   gradient  .   generator   discriminator   overfitting              .   .   
 generator     100  latent vector input  ,  convolution     .

\`\`\`python
class Generator(nn.Module):
    def __init__(self):
        super(Generator, self).__init__()

        self.init_size = opt.img_size // 4
        self.l1 = nn.Sequential(nn.Linear(opt.latent_dim, 128 * self.init_size ** 2))

        self.conv_blocks = nn.Sequential(
            nn.BatchNorm2d(128),
            nn.Upsample(scale_factor=2),
            nn.Conv2d(128, 128, 3, stride=1, padding=1),
            nn.BatchNorm2d(128, 0.8),
            nn.LeakyReLU(0.2, inplace=True),
            nn.Upsample(scale_factor=2),
            nn.Conv2d(128, 64, 3, stride=1, padding=1),
            nn.BatchNorm2d(64, 0.8),
            nn.LeakyReLU(0.2, inplace=True),
            nn.Conv2d(64, opt.channels, 3, stride=1, padding=1),
            nn.Tanh(),
        )

    def forward(self, z):
        out = self.l1(z)
        out = out.view(out.shape[0], 128, self.init_size, self.init_size)
        img = self.conv_blocks(out)
        return img
\`\`\`
  Pytorch  generator  ,   latent $z$   Linear    ,  view  resize  .  1          (Batch)$\\times$(Channel)$\\times H \\times W$   .  project and reshape .   
  fractionally strided convolution  spatial dimension . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126955-526a9750-ccb2-4d6e-860f-34c33315ebd0.gif" width="300"/>
    <img src="https://user-images.githubusercontent.com/79881119/209126957-b19e4e5f-0d14-4d50-bd67-ad0f8db8cd49.gif" width="300"/>
</div>

 convolution() fractionally strided()   input( )  convolution    fractionally strided input  padding   .      convolution  . Max-unpooling  bilinear interpolation       .  DCGAN      generated image scale   $\\tanh$ activation .   
 Batch Normalization ,    generator <U>  convolutional layer</U> normalization   discriminator <U>  convolutional layer</U> normalization  .


## Conditional GAN
 DCGAN .  paper   generative adversarial network convolution   ,      ' '      [conditional GAN](https://arxiv.org/abs/1411.1784).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126960-8f7fffe3-dc7d-44be-91c0-cff948c75af7.png" width="500"/>
</div>

 GAN   $z$ space  latent ,  latent generator       modality    .    $z$ space latent     supervision ,      class (  MNIST,  $1$    $8$   ) control    .   
 cGAN   label $y$  parameter generator     .   mini-max optimization GAN ,
$$
    \\begin{aligned}
        &\\min_G \\max_D V(D,G) \\newline
        V(D,G) =& E_{x \\sim p_{data}(x)}(\\log D(x \\vert y)) + E_{z \\sim p_z(z)}(\\log (1-D(G(z \\vert y))))
    \\end{aligned}    
$$
 term label $y$    .     generator latent sample $z$  class  parameter  .

\`\`\`python
class generator(nn.Module):
    # Network Architecture is exactly same as in infoGAN (https://arxiv.org/abs/1606.03657)
    # Architecture : FC1024_BR-FC7x7x128_BR-(64)4dc2s_BR-(1)4dc2s_S
    def __init__(self, input_dim=100, output_dim=1, input_size=32, class_num=10):
        super(generator, self).__init__()
        self.input_dim = input_dim
        self.output_dim = output_dim
        self.input_size = input_size
        self.class_num = class_num

        self.fc = nn.Sequential(
            nn.Linear(self.input_dim + self.class_num, 1024),
            nn.BatchNorm1d(1024),
            nn.ReLU(),
            nn.Linear(1024, 128 * (self.input_size // 4) * (self.input_size // 4)),
            nn.BatchNorm1d(128 * (self.input_size // 4) * (self.input_size // 4)),
            nn.ReLU(),
        )
        self.deconv = nn.Sequential(
            nn.ConvTranspose2d(128, 64, 4, 2, 1),
            nn.BatchNorm2d(64),
            nn.ReLU(),
            nn.ConvTranspose2d(64, self.output_dim, 4, 2, 1),
            nn.Tanh(),
        )
        utils.initialize_weights(self)

    def forward(self, input, label):
        x = torch.cat([input, label], 1)
        x = self.fc(x)
        x = x.view(-1, 128, (self.input_size // 4), (self.input_size // 4))
        x = self.deconv(x)

        return x
\`\`\`
Official code    [ ](https://github.com/znxlwm/pytorch-generative-model-collections/blob/master/CGAN.py) .   concatenate  latel input <U> </U>(  ).     GAN  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126961-ace055a5-0920-4603-8b1a-26d29f707bd1.png" width="400"/>
</div>

  deep convolutional GAN    . 


## PGGAN: Progressive Growing of GANs for Improved Quality, Stability, and Variation
     [WGAN(Wassertein-1 distance GAN)](https://arxiv.org/abs/1701.07875) ,       post   .   
      GAN low resolution       [PG(progressive-growing)-GAN](https://arxiv.org/abs/1710.10196)   .   WGAN    PGGAN     WGAN-GP(Gradient penalty) loss,    mini-max optimization   .   
 GAN          high resolution sample     . ~~   ...~~   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126962-66718039-bec2-4efd-bad5-b70776dc69b4.png" width="700"/>
</div>

PGGAN GAN         , $1024 \\times 1024$          .   PGGAN   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126964-9413601b-f116-4c6d-a16a-7473dcd219af.gif" width="700"/>
</div>

    .  low resolution image  GAN  ,  layer         .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126969-c480fb6d-6213-4c4c-8210-c27a40738263.png" width="700"/>
</div>

 $\\alpha$  resolution transition   residual connection    ,   layer     . $alpha$  resolution  $0$  resolution  $1$ linearly  .    upsampling     ,    generator    output  .   
 $2\\times$ $0.5\\times$    scale  ($G$) Nearest Neighborhood interpolation , scale  ($D$) Average pooling  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126971-22f3c731-f39c-4ada-adba-6aeb4f9fd81d.png" width="700"/>
</div>

    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126974-59cf4988-bf47-407a-8a36-df5bf70644a2.png" width="700"/>
</div>

       [CelebA-HQ](https://github.com/tkarras/progressive_growing_of_gans), StyleGAN  FFHQ-1024     .      StyleGAN.


## StyleGAN: A Style-Based Generator Architecture for Generative Adversarial Networks
[StyleGAN](https://arxiv.org/abs/1812.04948) PGGAN structure ,     .         ,  style  disentanglement(feature ) image    .

- Nearest Neighborhood interpolation  Bilinear upsampling 
- Mapping network($\\mathcal{Z} \\rightarrow \\mathcal{W}$) AdaIN 
- Generator latent vector 
-  block noise 
- Mixing regularization 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126978-fd3f8bd7-ed75-4dd7-911f-321f3a494e11.png" width="700"/>
</div>

   StyleGAN   generator  style image   .      Latent $z \\in \\mathcal{Z}$  synthesis network $g$  ,    style     Adaptive Instance Normalization   .   StyleGAN generator $G$  ""     .   
 , StyleGAN $z \\sim \\mathcal{Z}$  affine style   <U>8 linear layer  MLP</U>    space $\\mathcal{W}$  .      Mapping network   ,    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209126979-a909fed3-4f17-4b06-93d7-845b4e4aed0a.png" width="700"/>
</div>


     ,      .   (a)   ,      ,          **   **  .      .   
  $z \\sim \\mathcal{Z}$   distribution  mapping,     ( (a)        ).      style image    style  latent interpolation    style latent   .   
<U>,       ,                </U>.   
   **Entanglement** ,  8 MLP layer     .  (c)      space ,  feature   (entanglement) (disentanglement)      .   
 "Synthesis network"     style vector constant   (PGGAN ) .       latent   low level style  ( , ,  ,  ,   )     .   
    style affine  AdaIN . Adaptive Instance Normalization    .
$$
    \\text{AdaIN}(x_i,~y) = y_{s,~i}\\frac{x_i - \\mu(x_i)}{\\sigma(x_i)}+y_{n,~i}    
$$
$i$ feature map    standard gaussian  , style vector   style scale style bias  normalize.  affine transform  style vector $w \\sim \\mathcal{W}$ weight $A$   $y = Aw$ .    $y$ style scale factor $y_s$ style bias factor $y_b$.


<div align="center">
   <img src="https://user-images.githubusercontent.com/79881119/209126982-af1317f5-14d4-42f6-a3da-40ce743a9646.png" width="700"/>
</div>

  style       feature     .  resolution style feature($4 \\times 4$  $8 \\times 8$)  ,        ,  resolution style feature($16 \\times 16$  $32 \\times 32$)  ,        .   resolution($64 \\times 64$  $1024 \\times 1024$) resolution    .       middle, fine detail    entanglement    .   
Style mixing  latent $z$  $\\mathcal{W}$  $w$  style synthesis       latent $z'$  cross-over   .      ,      table    source 1,    source 2 .   
Source 1 latent $z_1$  , source 2 latent $z_2$  ,       .

<div align="center">
   <img src="https://user-images.githubusercontent.com/79881119/209126985-87a50086-3a4b-4c25-80d5-4a4c2b38b48c.png" width="300"/>
</div>

  cross-over      fine detail , coarse feature   .   
   noise injection .

<div align="center">
   <img src="https://user-images.githubusercontent.com/79881119/209126988-0e9230b4-d7ff-4620-b246-8aa414ebc6b5.png" width="300"/>
</div>

Gaussian noise tensor input map      feature map  .    noise    ,      style     .

<div align="center">
   <img src="https://user-images.githubusercontent.com/79881119/209126992-02fc9130-8a9b-4707-b9d0-ba9ccba8138e.png" width="400"/>
   <img src="https://user-images.githubusercontent.com/79881119/209126994-242f9fce-d395-4413-a160-56febf58a481.png" width="400"/>
</div>

 coarse level  noise    variation , fine level  noise   variation .   , (a)      , (b)     (c) fine layer   , (d) coarse layer   .      coarse layer    (d)       stochastic   , fine-layer   (c) ,           .   
    paper detail   CelebA-HQ    WGAN-GP loss   FFHQ    non-saturating loss  . Non-saturating loss  GAN loss  loss  .
$$
    \\begin{aligned}
        \\mathcal{L_D} = \\max_D V(D,G) \\newline
        V(D,G) =& E_{x \\sim p_{data}(x)}(\\log D(x)) + E_{z \\sim p_z(z)}(\\log (1-D(G(z)))) \\newline \\newline
        \\mathcal{L_G} = \\max_G V'(G) \\newline
        V'(G) =& E_{z \\sim p_z(z)}(\\log (D(G(z)))) + \\frac{\\gamma}{2} E_{p_D(x)}(\\parallel \\nabla D_\\psi(x) \\parallel^2)
    \\end{aligned}   
$$
Generator  negative log likelihood  minimization  discriminator         .   $\\gamma$ term $R_1$ regularization $\\gamma = 10$ .   
  probability density region  $z$  $w$ space     .   sampling region       .  $z$ $w$ truncating  .
$$
    \\begin{aligned}
        w' =& \\bar{w} + \\psi(w-\\bar{w}) \\newline
        \\bar{w} =& E_{z \\sim p(z)}(f(z))
    \\end{aligned}  
$$ 


<div align="center">
   <img src="https://user-images.githubusercontent.com/79881119/209127000-7988b3d5-9e1c-4ea0-ba58-bac41a8ab856.png" width="600"/>
</div>

    face ,  face $\\psi$   feasible space   .
`,Gte=`---
title: "GAN   (image to image  GAN inversion)"
category: "ai papers"
publishedAt: "2022-12-12"
thumbnail: "https://user-images.githubusercontent.com/79881119/209128164-6af25b70-ff59-423a-b9bf-8a785910a622.png"
---


Generative model GAN     .   
-  Image synthesis()  Texture synthesis([PSGAN](https://arxiv.org/abs/1909.06956), [TextureGAN](https://openaccess.thecvf.com/content_cvpr_2018/papers/Xian_TextureGAN_Controlling_Deep_CVPR_2018_paper.pdf), [Texture Mixer](https://arxiv.org/abs/1901.03447)) ,   
- Image super resolution(  )([ProGAN](https://arxiv.org/abs/1710.10196), [Progressive face super-resolution](https://arxiv.org/abs/1908.08239), [BigGANs](https://arxiv.org/abs/1809.11096), [StyleGAN](https://arxiv.org/abs/1812.04948)) .
- Image impainting task     , [Deepfillv1](https://arxiv.org/abs/1412.7062), [ExGANs](https://arxiv.org/abs/2009.08454), [Deepfillv2](https://arxiv.org/abs/1806.03589), [Edgeconnet](https://arxiv.org/abs/1901.00212), [PEN-Net](https://arxiv.org/abs/1904.07475) .
- Face image synthesis     task, [ELEGANT](https://openaccess.thecvf.com/content_ECCV_2018/papers/Taihong_Xiao_ELEGANT_Exchanging_Latent_ECCV_2018_paper.pdf), [STGAN](https://arxiv.org/abs/1904.09709), [SCGAN](https://arxiv.org/abs/2011.11377), [Example guided image synthesis](https://arxiv.org/abs/1911.12362), [SGGAN](https://ieeexplore.ieee.org/document/8756542), [MaskGAN](https://arxiv.org/abs/1907.11922)
- Human image synthesis      task . [Text guided](https://arxiv.org/abs/1904.05118), [Progressive pose attension](https://openaccess.thecvf.com/content_CVPR_2019/papers/Zhu_Progressive_Pose_Attention_Transfer_for_Person_Image_Generation_CVPR_2019_paper.pdf), [Coordinate-based](https://openaccess.thecvf.com/content_CVPR_2019/papers/Grigorev_Coordinate-Based_Texture_Inpainting_for_Pose-Guided_Human_Image_Generation_CVPR_2019_paper.pdf), [Semantic parsing](https://arxiv.org/abs/1904.03379)

        ,  image manipulation    .     
1. Image to image translation([CycleGAN](https://arxiv.org/abs/1703.10593), [MUNIT](https://arxiv.org/abs/1804.04732), [DRIT](https://arxiv.org/abs/1808.00948), [TransGaGa](https://arxiv.org/abs/1904.09571), [RelGAN](https://openreview.net/pdf?id=rJedV3R5tm))
2. Image editing([SC-FEGAN](https://openaccess.thecvf.com/content_ICCV_2019/papers/Jo_SC-FEGAN_Face_Editing_Generative_Adversarial_Network_With_Users_Sketch_and_ICCV_2019_paper.pdf), [FE-GAN](https://ieeexplore.ieee.org/document/9055004), [Mask-guided](https://arxiv.org/abs/1905.10346), [FaceShapeGene](https://arxiv.org/abs/1905.01920))
3. Cartoon generation([CartoonGAN](https://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_CartoonGAN_Generative_Adversarial_CVPR_2018_paper.pdf), [PI-REC](https://arxiv.org/abs/1903.10146), [Internal Representation Collaging](https://arxiv.org/abs/1811.10153), [U-GAT-IT](https://arxiv.org/abs/1907.10830), [Landmark Assisted CycleGAN](https://arxiv.org/abs/1907.01424))


## Image translation
  task   GAN         ,       image manipulation     insight  .   
Image-to-image translation  input image output   task ,  output input     .   
  computer vision machine learning task   semantic labeling boundary detection   ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128127-87d17af5-7a5c-4286-88b0-892aacb811df.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128133-59673788-fece-4176-bab6-2485f6049932.png" width="400"/>
</div>

Computer graphics computational photography  image colorization, super-resolution   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128137-a759fc58-54ff-4881-af7c-579c27016684.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128139-4ab35598-1900-41eb-bac2-c097da070b6d.png" width="400"/>
</div>


,  task supervision source target   , generator $G$ source domain $S$   target image $T$  .   
  ,   task   objective .
- Objective function $\\mathcal{L}$ 
- Training data $(x, y)$ 
- Network $G$ 
- Image translation $G(S) = T$ 

$$
    \\arg \\min_{\\mathcal{F}} \\mathbb{E}_{x,y}(\\mathcal{L}(G(x), y))    
$$

  GAN     ,   <U>image generation mode(modality)    </U>.         input   translation  ,  generator      .  generator   low-resolution  .   
 task      paper  pix2pix, cycleGAN  pix2pixHD.      pix2pix cycleGAN    .


## pix2pix: Image-to-Image Translation with Conditional Adversarial Nets

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128143-1afe1947-10ea-4004-a5a1-2e6034374d6d.png" width="600"/>
</div>

pix2pix  image to image translation GAN  .   figure sketch to real image  framework  .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128145-2aa6c562-4816-434c-9417-047d39df9ac2.png" width="600"/>
</div>

, generator  sketch image  real image  task  ,    ' '       sketch correspondence  . ,  row  sketch     ,  row sketch     .   
   GAN loss   (  ),
$$
    \\begin{aligned}
        &\\min_G \\max_D V(D,G) \\newline
        V(D,G) =& \\mathbb{E_{x \\sim p_{data}(x)}}(\\log D(x)) + \\mathbb{E_{z \\sim p_z(z)}}(\\log (1-D(G(z))))
    \\end{aligned}    
$$
 generator    loss    real distribution   cross-entropy  . ,      input sketch image    $(x, y)$  GAN loss ,

$$
    \\begin{aligned}
        &\\min_G \\max_D V(D,G) \\newline
        V(D,G) =& \\mathbb{E_{x \\sim p_{data}(x)}}(\\log D(y)) + \\mathbb{E_{z \\sim p_z(z)}}(\\log (1-D(G(x, z))))
    \\end{aligned}    
$$

Generator input $x$ latent vector $z$       .     discriminator generator      ""   loss  correspondence     .   
  objective function conditional GAN   loss,   MAE(Mean absolute error)   (GT)    low resolution result  correspondence    .

$$
    \\begin{aligned}
        &\\arg \\min_G \\max_D \\mathcal{L} (G,D) + \\lambda \\mathcal{L}(G) \\newline
        \\mathcal{L}(G, D) =& \\mathbb{E}(\\log D(x, y))+\\mathbb{E}(\\log(1-D(x, G(x, z)))) \\newline
        \\mathcal{L}(G) =& \\mathbb{E}(\\parallel y-G(x, z) \\parallel_1)
    \\end{aligned}  
$$

   $\\mathcal{L}(G, D)$ conditional GAN loss ,     discriminator input           .   loss content         $\\mathcal{L}(G)$   ,     . $\\lambda = 100$    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128147-a661f2ef-4c41-4177-ac9d-f97edfccd894.png" width="600"/>
</div>


    [U-Net](https://arxiv.org/abs/1505.04597)  .      $x$  latent vector $z$  , decoder part dropout  stochastic     .   loss   $z$   .      . ,   $z$    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128149-7dd5735c-0f0b-4e9f-abfd-af21d2df494c.png" width="600"/>
</div>


 loss term    . L1 loss    GT     , cGAN loss    blurry      . Discriminator  appendix  ,    ReLU LeakyReLU( 0.2)  [DCGAN](https://arxiv.org/abs/1511.06434)   layer BatchNorm  .  pix2pix   paired dataset   source,   target   image to image translation task     .   
     ,  input-output  paired dataset   .  sketch dataset      sketch to image generation  , scene  depth map  depth estimation   .   pair  ,  task      .      [cycleGAN](https://arxiv.org/abs/1703.10593).   
  ,      .    image        ,          .      ,       paired dataset   . ~~        ~~


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128152-72f039eb-b155-4cb6-9885-bb78eacdf647.png" width="600"/>
</div>

   , pix2pix paired dataset    ,   unpaired dataset      .  cycleGAN intuition  .


## CycleGAN: Unpaired Image-to-Image Translation using Cycle-Consistent Adversarial Networks
     .   ,        .   cycleGAN  ,      generator  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128154-d19c06b6-27cf-44a6-939c-5d59d9e055aa.png" width="600"/>
</div>

       task  ,               .    unpaired dataset           .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128157-9abd55c3-9674-4c03-8e01-2b219a7019c5.png" width="1000"/>
</div>

     , cycleGAN         . $X$    $Y$   .        .   
$X$    $x$ $Y$    $y$ ,    generator    . $X$    $Y$     $G$ ,   $G(x)$ $\\hat{y}$ .  $Y$    $X$     $F$ ,   $F(y)$ $\\hat{x}$ .    $X$    F, G    .  $X \\rightarrow Y$    adversarial loss   . 

$$
    \\mathcal{L}_{GAN}(G, D_Y, X, Y)    
$$

Adversarial loss  notation    .
- $X$  $Y$   forward process ,
- $Y$        discriminator $D_Y$ ,
-    generator $G$  adversarially  .

, $D_Y$ $G$     .    $D_Y$  $G$   ,    .          .

$$
    \\mathcal{L}_{GAN}(F, D_X, Y, X)    
$$

   notation    .
- $Y$  $X$   reverse process ,
- $X$        discriminator $D_X$ ,
-    generator $F$  adversarially  .

 $D_X$ $F$     .   domain  generator, discriminator  .
     cycleGAN  intuition <U>"     "</U>  cyclic loss  .     generator       L1 loss .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128161-3a5726a6-706f-4190-a084-7686f293a540.png" width="600"/>
</div>


 pix2pix  generator discriminator , cycleGAN original paper Instance Normalization  modified ResNet based generator    .
 
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128162-454b45de-740b-4f14-ad57-bc636cbe9f30.png" width="800"/>
</div>

  cycleGAN  generator   .
     .

1. $x$, $y$       $X$, $Y$  .
2.    generator  fake image . $(x,~y) \\rightarrow (G(x),~F(y)) = (\\hat{y},~\\hat{x})$
3.    discriminaor  discriminator loss . $D_X$ $(x, x')$, $D_Y$ $(y, y')$  .
4.     generator  fake image  reconstructed image . $(\\hat{y},~\\hat{x}) \\rightarrow (F(\\hat{y}),~G(\\hat{x})) = (\\tilde{x},~\\tilde{y})$
5.  reconstructed   cyclic L1 loss .  $(x,~\\tilde{x})$  $(y,~\\tilde{y})$  .
6. Generator loss  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128166-90c08835-28d1-4694-91e3-48724217422a.png" width="700"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128164-6af25b70-ff59-423a-b9bf-8a785910a622.png" width="450"/>
</div>


      ,  task      ,    domain        .  limitation   GAN           task     ,          .            ,          inference   artifact  .


## GAN inversion
   [GAN inversion](https://arxiv.org/pdf/2101.05278.pdf). GAN    ,  task image manipultation    .
 
<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128169-d2f99af6-41d4-48e6-82e1-2f906f2c6267.png" width="700"/>
</div>

 decoder( generator $G$)  $z$ latent space    fake image $x = G(z)$ .  latent vector   Normal distribution ($z \\sim \\mathcal{N}(0, I)$).   
   ? Real image ,  real image      $z$  .     
$$
    z^\\ast = \\arg \\min_z (G(z),~x)    
$$
  ** $z^\\ast$  **, real image $x$       $z$   ,  <U>$z$   image editing </U> . Concept GAN        simple.   
 image manipulation      style  pre-trained styleGAN .       . [  StyleGAN ](https://github.com/justinpinkney/awesome-pretrained-stylegan)   


## Image to styleGAN
      StyleGAN  , image to style GAN   styleGAN latent space  task. StyleGAN      , $\\mathcal{Z}$ space $\\mathcal{W}$  MLP  .  [Image to style](https://arxiv.org/pdf/1904.03189.pdf)    $\\mathcal{W^+}$ space .  $\\mathcal{W}$ space  <U>  18 </U>  styleGAN layer ,   $\\mathcal{W^+}$ space $18 \\times 512$     ,    inversion . , <U>18   row vector</U> style layer   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128172-15bc984f-5d16-48cd-a13e-cf8e6eb26e9d.png" width="700"/>
</div>

      . StyleGAN      , latent      latent  ,  latent  image editing .   
 $\\mathcal{W^+}$   ?

1. Initial latent code $w^\\ast$ .
2. Image $I^\\ast = G(w^\\ast)$ .  $G$   styleGAN generator.
3. $I^\\ast$    reference  $I$ , loss function $\\mathcal{L}$ .
4.   Loss function   guess latent code $w^\\ast$ gradient descent   .
5.    iteration  .

             .  decoder   styleGAN  generator      , image     latent space     latent space  latent vector    loss function.   
   latent   ,   styleGAN    **sampling       **.   , initial point gradient descent  feasible direction          .         mean latent code(mean face)    .  loss function  ,  MSE   pixel-wise error   high quality embedding  .  MSE loss         .   perceptual loss  latent space      loss   .
$$
    w^\\ast = \\min_w L_\\text{percept} (G(w), I)+\\frac{\\lambda_{mse}}{N} \\parallel G(w) - I \\parallel_2^2   
$$
[Perceptual loss](https://arxiv.org/abs/1603.08155) pre-trained VGG-16(ImageNet    ) feature extraction  ,    hidden feature   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128173-bbb6ae26-9699-4b74-9900-cc8bf25f4108.png" width="700"/>
</div>

  perceptual loss    . Style   VGG-16  loss  ,         content style       .

$$
    L_\\text{percept}(I_1, I_2) = \\sum_{j=1}^4 \\frac{\\lambda_j}{N_j} \\parallel F_j (I_1) - F_j (I_2) \\parallel_2^2
$$


## Various applications
     ..

## Morphing
Morphing image processing technique,          .    $I_1$  $I_2$   latent space embedding  $w_1$ $w_2$ , morphing    latent code convex set   .

$$
    w = \\lambda w_1 + (1-\\lambda)w_2,~\\lambda \\in (0, 1)
$$

  $w$ morphed image $G(w)$  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128176-ffdf81a3-daa6-4137-845b-307a053eea45.png" width="700"/>
</div>

    morphed image $\\lambda$     .

## Expression transfer
   latent arithmetic .    .   
-   ($I_1$) ,  latent embedding vector $w_1$  .
-   ($I_2$) ,  latent embedding vector $w_2$  .
-   ($I_3$) ,  latent embedding vector $w_3$  .
- , $w = w_1 + \\lambda(w_3 - w_2)$     ?

        **"  "**      .  expression transfer    latent   feature  latent space  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128177-8eba5ab9-dab9-4e4f-b516-91e97c694788.png" width="700"/>
</div>


## Style transfer
StyleGAN  style transfer   ,   $\\mathcal{W}$ space  $\\mathcal{W^+}$ space   .

- Image $I_1$     $18 \\times 512$  latent vector $w_1$   .
- Image $I_2$     $18 \\times 512$  latent vector $w_2$   .
-   $w_1$  ,   $w_2$  .   latent code $w$ $w_1$ $w_2$  row concatenate  (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128180-092a4a59-8600-408f-8f84-49cbd36033eb.png" width="700"/>
</div>


          style transfer   .     style synthesis  styleGAN        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128183-9bb9979c-9bd6-440c-a30a-dc5eb64832ae.png" width="700"/>
</div>


 [Image2StyleGAN++](https://arxiv.org/abs/1911.11544)     application . mask based style transfer, image impainting  local edit   application  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209128190-242c9a82-0e6f-445a-bbcb-f75adee7d0cd.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128193-3b0bb6ea-3799-4501-b91d-04a49314c345.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128194-337469ac-f014-4894-9d17-d82394f7d058.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209128196-c247f424-e564-424a-81bd-9c15601f7bcb.png" width="400"/>
</div>
`,Hte=`---
title: "  neural network"
category: "ai papers"
publishedAt: "2022-12-17"
thumbnail: "https://user-images.githubusercontent.com/79881119/209130941-9d4a3e87-4fbb-4c99-a579-2f53d1a52f94.png"
---


     ,       <U>i.i.d</U>(independent and identically distribution) .   modality       ,           .   graph  neural network    .


# ?

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130897-9265a3ee-9b74-4f4a-ae5f-2712328c9b5b.png" width="500"/>
</div>

     <U>Graph</U>  vertices  nodes()   edges() . Node/Vertex  item entity  edge    .


# Euclidean domain( )?

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148483-6c47c2cc-9be8-4f34-9173-fa5f33c6aa22.png" width="600"/>
</div>

 domain $R$     $f : R \\rightarrow \\mathbb{N}$    .
$$
    \\begin{aligned}
        \\text{ }&a\\in R \\text{  }b \\in R \\text{ ,} \\newline
        &a = bq+r \\newline
        \\text{, }&r = 0 \\text{  }f(r) < f(b)> q, r \\in R \\text{ .}
    \\end{aligned}
$$
 <U> </U>     ** **    .           ,           .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130902-e2496b8d-1890-4a8a-869e-e717cf2ec48c.png" width="400"/>
</div>

   <U>2D grid </U>    . 2D grid    (         )      .      token  embedding    <U>1D grid </U>     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130906-34e27adc-f386-4bdb-81c0-7f126f071384.png" width="600"/>
    <img src="https://user-images.githubusercontent.com/79881119/209130908-525c95a8-efb3-45d2-9e9f-0b75bc57c13c.png" width="700"/>
</div>


       .   face vertex edge  3D mesh       , SNS      network  .   ,  A, B, C, ...   '  ', '  ', 'DM   ', '  DM  '     ,    ' ', ' ', '   '   property   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130909-d1518d9c-7143-447a-b656-48e70b91e6e9.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209130911-4d3cd3fd-14f8-4ed3-a5f0-752590c03e3e.png" width="400"/>
</div>

  pose estimation  structure    .  grid    <U>- </U>       modality   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130913-54f07431-d122-4b60-a7a1-6d7872c5c381.png" width="700"/>
</div>



#  notation
        notation     .

- $V$ : A set of vertices(node)
- $N$ : The number of vertices in a set of vertices $V$
- $v_i$ : The $i^{th}$ vertex in a set of vertices $V$
- $v_i^F$ : The feature vector of vertex $v_i$
- $ne(v_i)$ : The set of vertex indicies for the vertices that are direct neighbors of $v_i$
- $E$ : A set of edges
- $M$ : The number of edges in a set of edges $E$
- $e_{i,j}$ : The edge between the $i^{th}$ vertex and the $j^{th}$ vertex, in a set of edges $E$.
- $e_{i,j}^F$ : The feature vector of edge $e_{i,j}$
- $h_i^k$ : The $k^{th}$ hidden layer's representation of the $i^{th}$ vertex's local neighborhood.
- $o_i$ : The $i^{th}$ output of GNN(indexing is framework dependant)
- $G = G(V, E)$ : A graph defined by the set of vertices $V$ and the set of edges $E$

Vertex  ,     property .   vertex (),                .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130918-3248e0f8-ff3e-4890-8eec-749cc6987fe2.png" width="500"/>
</div>


       representation   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130921-6089b27d-36da-442b-b144-2a5e19bd8823.png"/>
</div>

- $A$ : The adjacency matrix; each element $A_{i, j}$ represents if the $i^{th}$ vertex is connected to the $j^{th}$ vertex by a weight
- $W$ : The weight matrix; each element $W_{i,j}$ represents the 'weight' of the edge between the $i^{th}$ vertex and the $j^{th}$ vertex. The 'weight' typically represents some real concept of property. For example, the weight between two given vertices could be inversely proportional to their distance from one another(i.e., close vertices have a higher weight between them). Graphs with a weight matrix are referred to as *weighted graphs*, but not all graphs are weighted graphs.
- $D$ : The degree matrix; a diagonal matrix of vertex degrees or valencies(the number of edges incident to a vertex). Formally defined as $D_{i,j} = \\sum_j A_{i, j}$
- $L$ : The non-normalized graph Laplacian; defined as $L = D-W$. For unweighted graphs, $W = A$.
     graph    ,

$$
    D = \\begin{bmatrix}
        2 & 0 & 0 & 0 & 0 & 0 \\newline
        0 & 3 & 0 & 0 & 0 & 0 \\newline
        0 & 0 & 2 & 0 & 0 & 0 \\newline
        0 & 0 & 0 & 3 & 0 & 0 \\newline
        0 & 0 & 0 & 0 & 3 & 0 \\newline
        0 & 0 & 0 & 0 & 0 & 1
    \\end{bmatrix}    
$$
 $D$  $d_{i, j},~(i = j)$   diagonal matrix,           .

$$
    A = \\begin{bmatrix}
        0 & 1 & 0 & 0 & 1 & 0 \\newline
        1 & 0 & 1 & 0 & 1 & 0 \\newline
        0 & 1 & 0 & 1 & 0 & 0 \\newline
        0 & 0 & 1 & 0 & 1 & 1 \\newline
        1 & 1 & 0 & 1 & 0 & 0 \\newline
        0 & 0 & 0 & 1 & 0 & 0
    \\end{bmatrix}   
$$
 $A$  $a_{i,j}$    $i$ vertex $j$ vertex  $(0/1)$.   matrix     (symmetric matrix) .
$$
    L = \\begin{bmatrix}
        2 & -1 & 0 & 0 & -1 & 0 \\newline
        -1 & 3 & -1 & 0 & -1 & 0 \\newline
        0 & -1 & 2 & -1 & 0 & 0 \\newline
        0 & 0 & -1 & 3 & -1 & -1 \\newline
        -1 & -1 & 0 & -1 & 3 & 0 \\newline
        0 & 0 & 0 & -1 & 0 & 1
    \\end{bmatrix}   
$$
edge weighted  graph  non-normalized Laplacian  degree  adjacent   .        .

- $I_n$ : An $n \\times n$ identity matrix; all zeros except for one's along the diagonal.
- $L^{sn}$ : The symmetric normalized graph Laplacian; defined as $L = I_n - D^{-\\frac{1}{2}}AD^{-\\frac{1}{2}}$
- $L^{rw}$ : The random-walk normalized graph Laplacian; defined as $L = I_n - D^{-1}A$


# Graph Neural Network(GNN)
Graph neural network(GNN)     , training  evaluation    neural network  . ,  vertices edges     ,    GNN  <U>structured, Euclidean</U> domain      <U>non-Euclidean</U> domain     .   
   
GNN  Neural Network MLP(Multilayer Perceptron) , GNN    <U>  feature extraction</U>    high level feature representation  .   **high level feature representation**    deep learning framework decoder output .   
   GNN       .
1.  vertex High level hidden feature vector   , transition function $f$   .
2.   hidden feature vector $f(\\cdot)$   output  ,  output function $g$  .     .

## Step 1: Transition
 vertex $v_i$   .    $ne(v_i)$ .  neighborhoods     hidden representation  .   vertex neighbor   , transition process <U>neighbors of vertex $ne(v_i)$ aggregation()</U>   .    vertex    hidden feature vector   . Vertex $v_i$ $k$ state hidden state $h$  embedding   formulation.

$$
    h_i^k = \\sum_{j \\in ne(v_i)} f(v_i^F, e_{i,j}^F, v_j^F, h_j^{k-1}), \\text{Where all }h_i^0 \\text{ are defined upon initiallization}    
$$

      formulation aggregation summation ,  'hidden state   vertex feature', 'hidden state   vertex  vertex feature', '    edge feature', ' vertex hidden state' input .     <U>Vertex    hidden state</U> input    ,  formulation      .   formulation        .  $f$ non-linear transformation  . Activation function    MLP  .   
   
  transition  $k^{th}$ state,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130924-98229b95-743e-4be9-8d08-42ad02480451.png"/>
</div>

   $v_i^F$   , $0^{th}$ state 0   vertex $A = v_A^F$  hidden state $h_A^0$ .    , $n$ state   vertex $n$   vertex  aggregation()  .  GNN transition stage  <U>'   vertex    vertex state '</U>   .   
 $k$    ,  transition function $f$   $k^{th}$ state      .

## Step 2: Output
    $k$ function $f$   graph  feature vector implicit  . Output function  <U> hidden state </U>  <U>output </U>  .   
 output vertex-level, edge-level  graph-level     .     task    .   

  vertex level framework output value    <U>vertex </U>  .       vertex feature vector($v_i^F$) hidden state information($h_i^{kmax}$) .
$$
    o_i = g(v_i^F,~h_i^{kmax})    
$$

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130929-e238133e-230b-4e40-a416-8fbf6d8694d4.png" width="400"/>
</div>

    task   labeling       labeling  node classification regression.

 edge level framework output value   input     .  Edge    vertex     vertex  feature vector($v_i^F$, $v_j^F$)  hidden state($h_i^{kmax}$, $h_j^{kmax}$) ,   edge  feature vector($e_{ij}^F$) .
$$
    o_i = g(v_i^F,~h_i^{kmax},~v_j^F,~h_j^{kmax},~e_{ij}^F)
$$

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130934-f06f85d7-1002-4da7-9948-ca1d4e216ccc.png" width="500"/>
</div>

    task  edge  (edge classification)   (     ),     link prediction   . Link prediction <U> node      </U>    Amazon             .         .

 graph level framework output value   input     .        final hidden state of vertices or edges  initial state     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130937-bdad24a5-5068-4b10-a385-8f02f060ef81.png" width="500"/>
</div>

  task          graph classification  ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130941-9d4a3e87-4fbb-4c99-a579-2f53d1a52f94.png" width="500"/>
</div>

Euclidean domain      graph       .


# Reformulation to Neural Network form
    $f$, $g$  transition  output   ,  neural network       .   
Neural network preceptron     parameter  weight bias  next state  affine ,   non linear activation   layer    complexity  .
$$
    \\begin{aligned}
        h_v^0 =& x_v \\newline
        h_v^k =& \\sigma\\left( W_k \\sum_{u \\in N(v)} \\frac{h_u^{k-1}}{\\vert N(v) \\vert} \\right),~\\forall k \\in (1, \\cdots, K) \\newline
        z_v =& h_v^K
    \\end{aligned}
$$ 
    , $k$ state($h_v^k$)   vertex($v$)  vertex($u$) $k-1$ hidden state($h_u^{k-1}$)   aggregation ,  k weight term $W_k$ .   vertex $v$ $k-1$ hidden state $h_v^{k-1}$ k bias term $B_k$  ,     activation function   .
$$
    \\begin{aligned}
        H^{(l+1)} =& \\sigma(H^{(l)}W_0^{(l)}+\\tilde{A}H^{(l)}W_1^{(l)}) \\newline
        \\text{with } \\tilde{A} =& D^{-\\frac{1}{2}}AD^{-\\frac{1}{2}}
    \\end{aligned}    
$$
  vector form  .   hidden state  embedding loss function    weight  bias parameter  gradient based optimization .

# Graph embedding
  neural network  embedding space  . Node vector      graph  (substructure) vector      graph structure  vector   . Embedding mapping          similarity(node  ) $d$ dimensional embedding space     .  embedding  downstream task   .


# Convolutional GNNs
    Graph    neural network  inference    ,       convolutional       . CGNNs  convolutional GANN   type   ,  <U>spatial domain</U>,   <U>spectral(frequency)</U> domain.

## CGNNs in spatial domain
         ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130942-9c784fe9-81fe-4e21-8e99-3d263da00856.png"/>
</div>

 graph    ,  convolution      filter($3 \\times 3$) input    aggregation   .   filter shift   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130945-e7e71ffd-bb60-4fec-ac8c-4d8af70f758f.png" width="500"/>
</div>

      convolution  image  modality    spatial order   graph   , Grid       vertex neighbors    non-Euclidean domain dataset   aggregation  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130946-72b3cf07-6457-4687-a220-8b30b67feaed.png" width="500"/>
</div>

   , R, G, B   target vertex  neighborhoods  dotted box . Spatial convolution neighborhood   vertices feature vector aggregate.   aggregate value target vertex  embedding   .  process graph  neighborhoods  .   embeddings  layer spatial convolution    value .  hierarchical feature extraction .    ,

1. Using spatial connectivity to define graph neighborhoods around all vertices, select the first neighborhood in the input graph -      vertex  neighborhoods      neighborhood .
2.  neighborhood  value .         .
3.   value  vertex hidden state(embedding) update.
4.  process  neighborhood  .

[GraphSAGE](https://arxiv.org/abs/1706.02216)  node  embedding , node attribute information   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209130948-524d7bbe-1ab6-4ec3-9fb7-289efa788ccd.png" width="500"/>
    <img src="https://user-images.githubusercontent.com/79881119/209130951-72cf9bb8-abbe-4393-b3e3-faadf5871a10.png" width="500"/>
</div>

 GNN aggregation       . Sptial CGNN   aggregator  .

|Variant|Aggregator|Updator|
|:---:|:---:|:---:|
|[Neural FPs](https://arxiv.org/abs/1509.09292)|$h_{\\mathcal{N_v}}^t = h_v^{t-1}+\\sum_{k=1}^{\\mathcal{N_v}}h_k^{t-1}$|$h_v^t = \\sigma(h_{\\mathcal{N_v}}^t W_L^{\\mathcal{N_v}})$|
|[DCNN](https://arxiv.org/abs/1707.01926)|Node classification:<br> $N = P\\astX$ <br> Graph classification:<br>$N = 1_N^T P\\ast X/N$|$H = f(W^c \\odot N)$|
|[GraphSAGE](https://arxiv.org/abs/1706.02216)|$h_{\\mathcal{N_v}^t} = \\text{AGGREGATE}_t(h_u^{t-1}, \\forall u \\in \\mathcal{N_v})$|$h_v^t = \\sigma(W^t \\cdot (h_v^{t-1} \\parallel h_{\\mathcal{N_v}}^t))$|

 CGNN  GNN     . GNN  embedding stable value   transition function $f$  .      $h_v^{kmax}$  .   CGNN   layer  ,      layer  ($k = 2$).

## CGNNs in spectral domain

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148489-63f693f6-5e0e-4e61-9bb4-ec31ee9aaa09.png" width="400"/>
</div>

Spectral domain <U></U> .    temporal information        .           ()    ,      fourier transform($\\mathcal{F}$)   .    convolution   spectral   .   
 fourier transform    convolution  multiplication .
$$
    \\mathcal{F}(f \\ast g) = \\mathcal{F}(f) \\times \\mathcal{F}(g)    
$$
 background      .

## Graph signals
 <U></U>   vertex   embedding real value     .   $f$  vertex  $f: V \\rightarrow \\mathbb{R},~\\forall V \\in G$,     .     vertex $N$  vector( $N$ vertex  ) , $i^{th}$   vertex $v_i$ signal value.  $f$     neural network    vertex  feature map  .

## Laplacian
 ($\\Delta$) 2 gradient($\\nabla^2$) . graph signal $f$ ,     gradient  .
$$
    \\nabla f(i) = (f(i+1)-f(i))/\\delta    
$$
 $\\delta$ $i$  vertex index($i,~j$) edge weight(w)   .
$$
    \\nabla f(i,~j) = (f(i)-f(j))w(i,~j)
$$
  Laplacian     .
$$
    \\begin{aligned}
        \\Delta f(i,~j) =& \\sum_j \\frac{\\partial^2 f(i)}{\\partial j^2} \\newline
        \\Delta f(i,~j) \\simeq& \\sum_{j \\in \\Omega_i} (f(i)-f(j))w(i,~j)
    \\end{aligned}
$$
    matrix form  ,
$$
    \\begin{aligned}
        \\Delta f(i,~j) =& \\sum_j \\frac{\\partial^2 f(i)}{\\partial j^2} \\newline
        \\simeq& \\sum_{j \\in \\Omega_i} (f(i)-f(j))w(i,~j) \\newline
        =& (\\sum_j w_{ij})f(i) - \\sum_j w_{ij}f(j) \\newline
        =& (Df)_i - (Wf)_i = ((D-W)f)_i
    \\end{aligned}
$$
 notation  Laplacian operator  graph Laplacian degree matrix adjacency( weight) matrix     .

## Graph Laplacian
  $L$  eigendecomposition  $L = U\\Lambda U^\\top$ ,  eigenvectors $u_i,~i=0,\\cdots,N$ graph $G$ fourier bases  eigenvalues $\\lambda_i,~i=0,\\cdots,N$ graph frequency components .      graph signal $f$   ($f \\rightarrow \\hat{f}$)  ($\\hat{f} \\rightarrow f$) ,

$$
    \\begin{aligned}
        \\hat{f} =& U^\\top f \\newline
        f =& U\\hat{f}  
    \\end{aligned}
$$

       fourier bases  ,

$$
    \\begin{aligned}
        \\hat{f} =& U^\\top f = \\sum_{i=1}^N f(i) u_k^\\ast (i) \\newline
        f =& U\\hat{f} = \\sum_{k=1}^N \\hat{f}(k) u_k(i)  
    \\end{aligned}
$$
 .   background    , vertex multiplication frequency domain convolution   .  spatial domain convolution frequency domain multiplication  , duality    .

$$
    (\\hat(f) \\ast \\hat{g})(i) = \\sum_{k=1}^N \\hat{f}(k) \\hat{g}(k) u_k(i)    
$$
   filter $g$    ,   hidden channel  . Filter $g$    weight $\\Theta$ ,

$$
    \\begin{aligned}
        H_j^k =& \\sigma(\\sum_{i=1}^{f_{k-1}} U(\\Theta^k(U^\\top H_i^{k-1}))), \\newline
        \\text{where }j =& 1,2, \\cdots, f_k
    \\end{aligned}    
$$

       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148493-fbabedeb-a16f-4280-bca9-5be28e29fe30.png" width="600"/>
</div>

 vertex  $N = 5$, edge  $M = 5$  vertex  graph signal  $f_k = 2$.  $k$  .    feature vector   . ,

$$
H^0 = \\begin{bmatrix}
    0.2 & 8 \\newline
    0.4 & 6 \\newline
    0.3 & 7 \\newline
    0.3 & 12 \\newline
    0.1 & 4
\\end{bmatrix}
$$
    .   column $H^k_1$  $H^k_2$ ,

$$
    H^0_1 = \\begin{bmatrix}
        0.2 & 0.4 & 0.3 & 0.3 & 0.1
    \\end{bmatrix}^\\top
$$

$$
    H^0_2 = \\begin{bmatrix}
        8 & 6 & 7 & 12 & 4
    \\end{bmatrix}^\\top
$$

$$
    \\begin{aligned}
        H_j^k =& \\sigma(\\sum_{i=1}^2 U(\\Theta^k(U^\\top H_i^{k-1}))), \\newline
        \\text{where }j =& 1,2
    \\end{aligned}
$$
  .      , graph   eigen-system   .   $1^{st}$ generation of spectral CGNN    $N$     eigen-system   .       , $2^{nd}$ generation ChebNet  $3^{rd}$ generation GCN .

|Variant|Aggregator|Updator|
|:---:|:---:|:---:|
|[ChebNet](https://arxiv.org/abs/1606.09375)|$N_k = T_k(\\tilde{L})X$|$H = \\sum_{k=0}^K N_k \\Theta_k$|
|$1^{st}$ order model|$N_0 = X$<br>$N_1 = D^{-\\frac{1}{2}}AD^{-\\frac{1}{2}}X$|$H = N_0 \\Theta_0 + N_1 \\Theta_1$|
|Single parameter|$N = (I_N + D^{-\\frac{1}{2}}AD^{-\\frac{1}{2}})X$|$H = N\\Theta$|
|[GCN](https://arxiv.org/abs/1609.02907)|$N = \\tilde{D}^{-\\frac{1}{2}}\\tilde{A}\\tilde{D}^{-\\frac{1}{2}}X$|$H = N\\Theta$|

## GCN
  GCN spectral domain convolutional GNN    . GCN $l$-layer network,    neural network  .    Hidden layer Aggregator $\\hat{A}$ ,

$$
    \\begin{aligned}
        H^{(l+1)} =& \\sigma(\\hat{A}H^{(l)}W^{(l)}), \\newline 
        \\text{with }\\hat{A} =& \\tilde{D}^{-\\frac{1}{2}}\\tilde{A}\\tilde{D}^{-\\frac{1}{2}}X \\newline
        \\tilde{D_{ij}} =& \\begin{cases}
        \\sum_{k=1} \\tilde{A_{ik}} & \\text{if }i = j \\newline
        0 & \\text{otherwise}
    \\end{cases}
    \\end{aligned}
$$

    .    hidden embedding  output layer,

$$
    Z = f(X, A) = softmax(\\hat{A}\\text{ReLU}(\\hat{A}XW^{(0)})W^{(1)})    
$$
    .


<div align="center">
    <img src = "https://user-images.githubusercontent.com/79881119/209148496-25f9fd06-63ec-4f82-a779-b63b7fe27518.png" width="500"/>
</div>



        .                .
`,Vte=`---
title: " Transfer Learning   "
category: "ai papers"
publishedAt: "2022-12-18"
thumbnail: "https://github.com/user-attachments/assets/ab75aa42-1a07-48ae-b4ec-bd334c3114f0"
---


          .   task                  .               .

1. Transfer learning : DL optimization in different tasks
2. Knowledge distillation : Increase representation generalization with soft label
3. Continual learning : Learn various representations without losing previous tasks' performances
4. Self-supervision : Learn representations with no/little supervision


#  ?

      <U>Neural Network</U>      layer   gradient based .   ImageNet   classification      .   
       <U>Task </U> ,  task     modality  <U>dataset </U>,  dataset     <U>loss function</U>,  gradient based    <U>optimization method</U> . 


#     ?

   task ,  task           <U> </U>, <U>  </U>    <U>    </U>         ?   
 "  AI" "ChatGPT"     .   AI      ,  modality         ,             .  <U> task  </U>  <U> task  </U>       .


# Transfer learning( )
cs231n   <U></U>( transfer learning),           .   
  'previous task'      'novel task'       ?  .   
    . Chess    Checkers          .

         ,      tennis        .   
      <U>' task'</U>     parameter  '   task'     .

 imageNet         feature   (General images).     <U>downstream task</U> classification    feature extractor     .   ,   representation       .  support vector machine(SVM) ,  feature extractor     task-specified head    .  tansfer learning  fine tuning   <U> task   task </U>    .  dataset    .   
          <U>"pre-trained model"</U> .  '  ' .       3 step   .
- Select source model :           .  [paper with code](https://paperswithcode.com/)     (Facebook AI, Google )  pre-trained network pytorch, tensorflow   pre-trained model     network pool .
- Reuse model :   pre-trained network    .  <U>'from scratch'</U>   ''   task  .             .
- Tune model :      task  input-output   tuning .  classifier  SVM   learning rate       .

   task   ''      .   <U>   gradient optimization </U>     .

- Re-train :   weights     weight  
- Fine-tuning :  weight  ,       
- Frozen :  weight  ,      

 fine-tuning     <U>learning rate</U> $1/10$  $1/100$  . Learning rate  prediction ground truth      weight update     ,      weight     .


#     transfer learning

      ,     (retrain), weight  learning rate  (fine-tuning)  weight    (frozen).        task (dataset similarity),       (dataset size)  4   .

##   ,  task   (Quadrant 1)
   task representation( weight implicit   mapping   )              .   parameter            <U>overfitting   </U>,  task   weight <U>   task</U>    .

##   ,  task   (Quadrant 2)
    ,   .      Quadrant 1  <U>    </U>.    parameter representation  task   supervision     local optimal  optimizer     ** **   parameter    .      (feature extraction  classifier ) fine-tuning re-training   ,  layer   parameter    frozen()  .

##   ,  task   (Quadrant 3)
4    .           ,     task  overfitting  generalization .  quadrant 2     ,  frozen    .   
Quadrant 2  weight  <U>  </U> <U>  </U>  layer  , Quadrant 3 dataset specific         <U>   </U>       <U>overfitting </U> .

##   ,  task   (Quadrant 4)
  quadrant 3    <U>overfitting </U> .           representation mapping novel task     (<U>similar task</U>)  classifier    .  classifier        task-specific fine-tuning       .


# Knowledge distillation
    knowledge distillation.      task     transfer learning  , knowledge distillation  task      pre-trained model(<U>teacher network</U>),    light-weight network(<U>student network</U>)       .    knowledge distillation temperature($T$) hyperparameter  one-hot encoding    soft label   (higher entropy),     hard label    '<U>       </U>' .

  (Teacher network) output  Student network   ,     convolutional neural network     deep network     .  [DeiT](https://arxiv.org/abs/2012.12877)  transformer based approach    .   inductive bias    convolutional neural network       transformer    <U>CNN   </U>  knowledge distillation .   
  loss  .    hard label $(X,~Y)$ temerature $T$  prediction student network $S(\\cdot, T)$  teacher network $R(\\cdot, T)$ ,

$$
    \\mathcal{L} = T^2 \\lambda \\mathcal{L_t} + (1-\\lambda) \\mathcal{L_s}
$$

    ,  loss term(student loss, teacher loss)

$$
    \\mathcal{L_s} = \\mathcal{L}_{CE}(Y, S(X, 1))
$$

$$
    \\mathcal{L_t} = \\mathcal{L}_{CE}(S(X, T),~R(X, T))    
$$

 .  temperature  prediction hard label soft label   ,    softmax  temperature normalized softmax  .
$$
    q_i = \\frac{exp(z_i/T)}{\\sum_j exp(z_i/T)}
$$

$z_i$  prediction  logit   .

## Why knowledge distillation??
   knowledge distillation        ?  classification,  hard label            .   
Soft target      <U> knowledge distillation </U>     .            .
,  edge device(, ,  )         ,    [MobileNet  ](https://6unoyunr.github.io/blog/light)   .   
         ,              .

## Attribute based soft label?
   ,    , ,     ''  ,    .   attribute        ,      <U>'  '</U>       network       .   teacher network   smoothing,        <U> class  logit</U>    .  cross entropy loss one-hot encoding    class   , <U>   ?</U>    .    , soft target network prior knowledge  (   implicit     ) $S(X, T) \\rightarrow R(X, T)$

## Use pre-trained model
  transfer learning, knowledge distillation  '<U>  </U>'  .    transfer learning    task   , knowledge distillation   (deep neural network and shallow network)   task        .


# Continual learning
     .        '  '  '  '    . ,    anormal situation <U>   </U>   .   
          . ,             ,  anormal       <U>  </U> representation  <U>        </U>,         .   
     task(     )     ,  (  )   .    '<U>continual learning</U>' .   
 continual learning      .

-   task    .
-   task   .
-   task   (memory efficiency).
-     time complexity(FLOPs).
-  storage complexity(  representation ).

## Regularization based method
Continual learning       .    '  representation'  transfer learning remind .  <U>  network parameter   </U>  task    , <U> task    </U> <U> task  </U>  .    'Regularized based method' .     learning rate    task      ,   '<U>fine tuning</U>' .

## Rehearsal based method
  .  taks data  sample buffer ,  task   dataset   .      task supervision    task     .   '<U>Learning without forgetting(LWF)</U>' .

## Architecture based model
       .   task      task  ,    auxiliary head     . Rehearsal based method      task     task        task dataset     .   '<U>Multitask learning</U>' .


# Feature extraction
  continual learning     .      baseline feature extraction  .    notation   .

- $\\theta_s$ : Shared parameters
- $\\theta_o$ : Task-specific weights for previously(old) trained tasks
- $\\theta_n$ : Randomly initialized task-specific parameters for new tasks.

Feature extraction shared parameters( ocnvolutional layers  )  task  ,  head  new task    .    <U>transfer learning</U>  , feature extractor convolutional network($\\theta_s$) frozen() , new task($\\theta_n$)   .  head    old task  framework($\\theta_s + \\theta_o$)     old task        ,  feature extractor  task      new task     .


# Fine tuning
  , fine tuning  learning rate   parameter    . feature extraction  parameter     new task       ,  <U> task  task  </U>  task       . Feature extraction parameter $\\theta_s + \\theta_o$  freeze , fine tuning $\\theta_s(:k) + \\theta_o$( $k$ fine tuning  convolutional layer   .)  fixed ,  weight        .  fine-tuning fully connected layer     feature extraction   .


# Multitask learning(MTL)
Multitask learning  <U>   task   </U>    .    $\\theta_s,~\\theta_o$  $\\theta_n$  jointly optimized.  feature extraction   , head   task  . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148883-fea34e51-ea02-4398-8f77-d7edca5cb44d.png" width="700"/>
</div>

Multitask learning  training    domain specific information   single task generalization()    .       task <U>       </U>,      ,       auxiliary task .  auxiliary task   task    L2 regularization  weight   .   single task     auxiliary task  main task   task     .   
    MTL        variation  .   task      '' <U>feature extraction parameter</U>   (  ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148885-f393d7bc-6ed8-4b2e-ba04-eb7c0ecf3d56.png" width="400"/>
</div>

        ,  'hard parameter sharing' .  feature extraction network  task     overfitting  , task parameter      $N$    overfitting     .   <U> task  parameter  </U>   .   ,

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148887-86116f5c-abb7-4622-97c7-faa11cd63f06.png" width="400"/>
</div>

  Task A, B, C     .   cross-talk regularization term  ,    L2 regularization  weight      .   task      , <U> layer parameter </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148890-4eb26ebe-5de5-404d-84d7-176a4866c407.png" width="800"/>
</div>

 ,   task activation map   cross-stitch  .       activation map   input activation map  .

$$
    \\begin{bmatrix}
        \\tilde{x_A}^{ij} \\newline
        \\tilde{x_B}^{ij}
    \\end{bmatrix} =
    \\begin{bmatrix}
        \\alpha_{AA} & \\alpha_{AB} \\newline
        \\alpha_{BA} & \\alpha_{BB}
    \\end{bmatrix}
    \\begin{bmatrix}
        x_A^{ij} \\newline x_B^{ij}
    \\end{bmatrix}
$$

 MTL   network dataset  GPU     <U>  </U>.   task            .   
Multitask-learning  loss  task loss   ,  task    task    gradient     .      weighted sum loss  .

$$
    L_{total} = \\sum_i w_i(t) L_i
$$

  $t$ term epoch ,  task        loss .  loss specialized version  weighted loss  .


# Learning without forgetting(LWF)
         ?   old task  representation    .      LWF(Learning without forgetting).     feature extraction  fine tuning new task   , old task     .  MTL <U>    </U>       LWF       .   framework    .   
       .

- Pre-train network $F_{\\theta_s,\\theta_o}$ with old task. $\\theta_s$ means a parameter that can be trained in a shared network, and $\\theta_o$ means a parameter that can be trained in a classifier specialized in the old task.
- Generate soft label $y'$ based on pre-trained network $F_{\\hat{\\theta_s},\\hat{\\theta_o}}(x_n)$. Soft label can be generated as $y_o' = \\frac{(y_o^{(i)})^{1/T}}{\\sum_j (y_o^{(j)})^{1/T}}$ and $y_o^{(i)} = F_{\\hat{\\theta_s},\\hat{\\theta_o}}(x_o^{(i)})$.
- Freeze $\\hat{\\theta_s},~\\hat{\\theta_o}$ and train new task classifier $\\theta_n$ with new task supervision $(x^i_n,~y^i_n),~i=1,~\\cdots,~l$ and criterion of cross-entropy loss $CE(y_n, F_{\\theta_s,\\theta_n}(x_n))$.
- Jointly train $\\theta_s,~\\theta_o,~\\theta_n$ with low learning rate with soft label of old task supervision and new task supervision. The training criterion is $\\lambda_o\\mathcal{L_{old}}(y_o', \\hat{y_o'})+\\mathcal{L_{new}}(y_n, \\hat{y_n})+\\lambda_r \\mathcal{L}_2$.

      ,  <U>old task</U>      .    <U>new task</U> dataset $x_n$  soft label .   **soft label** old task     representation    .       **soft label** prediction   loss,  **ground truth** prediction  loss    weighted summation .  L2 regularization  weight     .


#   
     . ,    fine-tuning   task      ,  task     .  <U>  multitask</U>      .   
     MTL(Multi-Task learning)    task identity  ,  class incremental( class   )   task-agnostic setting(task      )         . ,     .   
 LWF(Learning without forgetting)   rehearsal based  buffer size   (new task  old representation labeling ),          .


# Self-supervised learning

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148892-e4e42f95-6a3e-4d91-aa9d-7f6022778d98.png" width="400"/>
</div>

    .     ,       ~~~~..  .          , <U>    </U>       (  ??). 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148894-517e71e9-097a-42e6-8322-984baa0c49a2.gif" width="400"/>
</div>
  
    '<U> </U>'              ,           ~~ ~~ .   
 .      input   output    .    ,          ,      .    ,  <U>     </U>  .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148898-61ba7380-dce1-4e4b-952f-0d9a9e4c3218.png" width="400"/>
</div>
  
     ?                 .    <U></U>   ,    ,          ( )  .       ,    ,    .
      [ ](https://medium.com/musinsa-tech/imagelabeling-c351c0258a62) .       .   
      ,       supervision     .        modality  representation      self-supervised learning.   <U>label   feature     </U>,     (image, label)  label  image    .  pre-text task ,   representation  downstream task    .


# Examples of pre-text task

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209148900-5e05650c-123e-4919-b938-eb37f8c65ff4.png" width="600"/>
</div>

    (augmentation) ,      .      object  feature ,      representation      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209149817-38a45906-2cec-466d-a9f7-655abc422e7f.png" width="600"/>
</div>


     patch   task .     patch .       $3 \\times 3$  grid   8 patch  . Model 8  patch   task  representation    .


# Contrastive learning?
Self-supervised learning    , contrastive  (clustering)  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209149822-3f1154b4-aa20-4d06-81ce-00cd25252c2f.png" width="400"/>
</div>

   supervision  ,     task  .       ,     contrastive learning   self-supervised learning    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150771-2ce9e043-d12e-4530-a7f7-6f2b89ae5ddb.gif" width="600"/>
</div>

<U>Contrastive learning</U> ,            .       .   class(positive pair) ,   class(negative pair)  .  Contrastive learning positive, anchor  negative  . **'Anchor'**   query ,           **'Positive'**,  class     **'Negative'** .   <U>positive pair</U> <U>(anchor, positive)</U>   ,  <U>negative pair</U> <U>(anchor, negative)</U>   .   
   self-supervised learning   <U>label   </U>. , contrastive image pair       knowledge  supervision ,      .     .   
 $N$  , $N$      $N$   .      triplets(positive, negative pair)    . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151055-9d82eef7-c3cd-4921-bd8d-76bd4ec45fab.png" width="600"/>
</div>

Triplet ..       negative, positive, anchor     .  'negative pair'       , 'positive pair'   ??


# Data augmentation pipeline
      <U>data augmentation</U>. ,   augmentation               encoding  . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151061-1fe464f6-8dbf-47f9-91cd-e06f5f0194c1.png" width="600"/>
</div>

    [SimCLR](https://arxiv.org/abs/2002.05709)    .  stochastic augmentation module $A(x)$  $T$ ,   augmented  $x_i$  $x_j$  <U>   </U> .  SimCLR    <U>object pose  alignment    </U> representation         ,   Linear layer(Representation extraction)   $z_i,~z_j$    .      $h_i,~h_j$        encoder spatial transformer network   <U>downstream task</U>     .    representation extraction   affine (STN)     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150800-c9a469b8-da9a-47c8-9068-1f8fd5657ea4.gif" width="600"/>
</div>


[Contrastive predictive coding(CPC)](https://arxiv.org/abs/1807.03748)   augmentation  .  color fitter, random grayscale  random flip      data augmentation    image overlaying sub patches .    anchor ,    positive pair    ,         negative pair . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150790-bc14237d-2686-43e9-8059-8220bb554dd1.gif" width="600"/>
</div>


 [AMDIM](https://arxiv.org/abs/1906.00910), SimCLR  Moco      augmentation  .  jitter, flip      data augmentation   ,         data augmentation   positive pair,      data augmentation   negative pair .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150787-8d86b095-75f7-4d9f-859b-cabe5bea9e7b.gif" width="600"/>
</div>


   pair   latent space mapping,   feature map  contrastive loss .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150796-de0b585e-b013-4cc5-a026-9501acf2499e.gif" width="600"/>
</div>


CPC  latent space future prediction .  image patch  <U>timeline</U> , <U>top-left  bottom-right </U>   ,  auto-regressive  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209150793-5a78fcb9-09dd-4340-8f94-d962299ccf98.gif" width="600"/>
</div>


AMDIM   augmented sample ,     encoder  feature map <u>  feature level</U>   .  spatial scale     .


# Loss function with similarity measure
Latent space, feature map         ,       (inner product) . Cosine similarity  normalized inner product    metric    .

$$  
    \\begin{aligned}
        \\cos \\theta =& \\frac{\\vec{a}\\cdot \\vec{b}}{\\parallel \\vec{a} \\parallel \\parallel \\vec{b} \\parallel} \\newline
        \\parallel \\vec{a} \\parallel =& \\sqrt{a_1^2 + a_2^2 + \\cdots + a_n^2} \\newline
        \\parallel \\vec{b} \\parallel =& \\sqrt{b_1^2 + b_2^2 + \\cdots + b_n^2}
    \\end{aligned}
$$

  <U></U>    <U>    </U>  ,   negative log likelihood  optimize  .
    Negative contrastive estimation loss(NCE loss) .

$$
    NCE_{Loss} = -\\log \\left( \\frac{\\exp (sim(g(x), g(x^+)))}{\\exp (sim(g(x), g(x^+))) + \\sum_{k=1}^K \\exp (sim(g(x), g(x^-_k)))} \\right)
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151064-d11ceaa3-f7b8-4072-a88b-5f4aded89a2f.png" width="600"/>
</div>

  representation    downstream task(,  ) fine-tuning  .  SimCLR  NCE loss  NT-Xent(Normalized temperature-scaled cross entropy loss) .

$$
    1_{i,j}= -\\log \\frac{\\exp (sim(z_i, z_j)/ \\tau )}{ \\sum^{2N}_{k=1} 1_{(k \\neq i)}\\exp (sim(z_i, z_j) / \\tau)} 
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151068-2835ed0a-8929-43de-b345-06f645b7e4e8.png" width="600"/>
</div>


 SimCLR   , random crop + random jitter self-supervised learning representation    ,     nonlinear projection  spatial transform  batch  negative sample      ,    epoch    scaling up      .
`,qte=`---
title: "Low shot learning "
category: "ai papers"
publishedAt: "2022-12-20"
thumbnail: "https://user-images.githubusercontent.com/79881119/209151534-534fbd4d-e614-4e2d-b9bc-e4219d464120.png"
---


   ,     parameter    .   inference       ,  <U> </U>    .     'Low-shot learning',  'shot' <U>    </U>.

# Few shot learning
   few examples(  )   .   parameter    <U> training sample  </U>  ,  overfitting    data augmentation     .       task           .  few-shot learning(FSL)    .

- Character generation :    ,    example  ,            .
- Advance Robotics
- Training sample   task : drug discovery, FSL translation, cold-start item recommendation

Machine learning computer program  <U>task</U> $T$  $E$ <U>experience</U> ,    <U>performance measure</U> $P$       .   **Image classification** <U>task</U> ,     ** labeled image**(   )  computer program    <U>experience</U> $E$ ,      class  (accuracy)  , <U>performance</U> . Few-shot learning    experience $E$     ,      task $T$  supervision limited   .   
FSL      <U>supervision dataset</U> $E$  ,    <U>prior knowledge</U>   learning feasible  .   character generation supervision <U>     </U> ,     prior knowledge    <U>    </U>   .   drug toxicity discovery  <U>  </U>  ,   <U>   </U> prior knowledge   .  image classification  <U>     </U>, <U> classification task   </U> prior knowledge   .   
  few-shot learning  ,       one-shot learning,  task $T$    example   zero-shot learning   . Zero-shot learning environment $E$  modality(attribute  word embedding )   ,    supervised information transfer inference  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151534-534fbd4d-e614-4e2d-b9bc-e4219d464120.png" width="600"/>
</div>

     <U>   </U>(          ),      (     ) <U></U>  object    (     ),     object  (  )  <U>        </U>.      error  loss    task  optimization    ()  .    ,         optimal solution   .     supervised learning  'learn from scratch'    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151538-3c1ee16f-8ef6-4f65-a6ab-68cf0dc8a732.png" width="600"/>
</div>

   'support set'      .  $N$-classes $K$-shots  ,   support set   $N$       $K$ .  Query set          .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151541-e5100481-f82d-4bc8-92c5-416fb4211a98.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209151549-6aa5e461-d58a-4008-80fb-15c8f21a7811.png" width="400"/>
</div>


 supervised learning image classification   , <U>  </U> $N$     $K$ training,  $N-K$ testing .  few-shot learning    <U>class </U>(  5) pre-training  training dataset ,  class 5  <U>support set</U>(     class)  , task   (ex. $3$ samples) .      (ex. $N-3$ samples) <U>query set</U>  few-shot training   . Few-shot learning     .

- Transfer learning
- Data augmentation/Transformation/Synthesis
- Meta Learning(learning to learn)
- Metric based approach(Embedding Learning)
- Multi-task Learning
- Generative learning

 transfer learning, multi-task learning      [  ](https://6unoyunr.github.io/blog/transfer)   .     '<U>   </U>' meta learning  '<U>metric  </U>' embedding learning   .              .


# Utilizer prior knowledge for FSL(Few-Shot Learning)
   , transfer learning         .  fine tuning        sample     <U>overfitting</U>  .    problem experience ,   prior knowledge    .  prior-knowledge  domain  ,

1. Dataset  
2. Similarity  
3. Learning  

     .

## Prior knowledge about data

Dataset prior knowledge    ,    support set augmented dataset  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151550-f1a2b664-68b4-4bb0-9712-c9060c9c710c.png" width="600"/>
</div>

    support set $D_{train}$  .     sample label pair  $(x_i,~y_i)$ ,  transformation function $t$  augmented support set $(t(x_i),~y_i)$ ouput   .   labeling     $(\\bar{x},~-)$  $D_{train}$   . ,   $(\\bar{x},~t(\\bar{x}))$  labeling  .  similar data sets  $(\\hat{x}_j, \\hat{y}_j)$ aggregator $t$   output $(t( \\hat{x}_j ),~t( \\hat{y}_j))$  .  mixup .  transformer $t$ prior knowledge   dataset category  output .

## Prior knowledge about learning

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151554-3947069e-53d8-4172-9200-7ab0deff1d0b.png" width="600"/>
</div>

Transfer learning     .      <U>Meta learning</U> ,    .  task $T$  , meta-learning  training task $T_i$     ,     $T_i$ 
$$
        T_i \\cap T = \\emptyset
$$
  .    task $T_i$      task $T$    .          . Training data  multiple task  ,  multiple task  learning algorithm meta-learning.   learning algorithm  network ,  <U>  </U> model   task   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151560-490a34d1-b32b-426f-a561-d5286a28f7ea.png" width="600"/>
</div>

 base set  episode ,  episode (support set, query set) .   learning algorithm meta-learning    base set  .     ,    support set  .   task  $N$-ways $K$-shots support set     task query set     .   episode  batch   ,     unseen few-shot classification task          .   
   
[MAML(Model-Agnostic Meta-Learning)](https://arxiv.org/pdf/1703.03400.pdf)  learning    , meta learning   neural network <U>  backpropagation </U> .    , neural network       classification task   parameter     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151563-ca25dde5-5a2a-485f-9cd9-be11937bd357.png" width="400"/>
</div>

 MAML    neural network  ,      .       ,    learner()      task      (meta-learning) ,  adapter()  task      .   task   ,  task  learning rate .     step    .

- Learner()  .
- meta-training   episode     .   epoch  , meta-parameter    .   

    - Meta-training  episode batch .
    - Adapter parameter learner parameter .
    - Inner training step    , adapter batch support set   loss  gradient based optimization .
    -  adapter parameter  batch query set  meta-loss .

- meta-gradient .  batch query set  meta-loss ,   meta-parameter , learner parameter update.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151566-dea16fbd-3baa-4beb-8154-83aea72e01fe.png" width="600"/>
</div>


 task      .  meta-learning  <U> learner</U> $M$ <U> adapter</U> $f$ , $f$ parameter learner parameter $\\Theta$ .   meta-training support set adapter $f$  fine-tuning.   task support set    adapter $f$ query set ,    meta-learning loss  $\\Theta$  meta-learning parameter . <U>Meta-training</U>  MAML <U>initialization parameter</U>  ,  network(adapter)  few-shot task        .  <U>Inference</U>, meta-trained model  meta-test set ,    query set  ** gradient **  learner parameter   ** **.     , adapter  meta learning   . MAML   neural network     model agnostic   .

## Prior knowledge of similarity

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151570-ff472ca7-4067-4427-9f6e-752e1864e665.png" width="600"/>
</div>

    compact representation( embedding mapping)   ,  data vector intra-class variation       class       space     .    <U>metric(embedding) learning approach</U> .  , similarity function  metric     similar sample  closer,  sample take apart  .   contrastive  .
  [Siamese](https://www.cs.cmu.edu/~rsalakhu/papers/oneshot1.pdf) Network .  Matching network, Prototype network  Relation network  .     <U>support set</U> '3-way and 3-shots' sample  .  9   encoder $E$   embedding($g$)   .    9   mappind embedding space  ,   class   3  ,     class      .     query set image encoder $E$   embedding($f$)   ,   query embedding   (nearest neighbour)  class   query image  class  .   
Siamese network     sister network ,    weight .       contrastive loss function .

$$
    (1-Y)\\frac{1}{2}(D_W)^2 + (Y)\\frac{1}{2} (\\max (0, m-D_W))^2    
$$
 $Y = (0, 1)$      **T/F value** .    input  class $0$,  class $1$ .  <U>   exclusive 'OR'</U>  . Margin m 0  , Euclidean distance metric $D_W$        .  similar pair $((x_i,~x_j), 0)$ dissimilar pair ((x_i,~x_k), 1)  . Similar pair Disimilar pair       .   pair  loss ,  weight   .  Shot  $E$, class  $C$  similar sample different sample     .

$$
        N_{same} = \\left(
            \\begin{matrix}
                E \\newline
                2
            \\end{matrix}
        \\right)C 
$$

$$
        N_{diff} = \\left(
            \\begin{matrix}
                EC \\newline
                2
            \\end{matrix}
        \\right)-
        \\left(
            \\begin{matrix}
                E \\newline
                2
            \\end{matrix}
        \\right)C 
$$

 matching network.     support set $(x_i,~y_i)$ ,  $y$ class  one-hot label vector .  $f$, $g$ embedding function . Classifier weighting factor $a$(softmax) query sample $\\hat{x}$ ,

$$
    \\hat{y} = \\sum_{i=1}^k a(\\hat{x}, x_i)y_i = P(\\hat{y} \\vert \\hat{x},~S)    
$$

 .  weighting factor  support set  query sample attention  . Attention kernel,

$$
    a(\\hat{x},~x_i) = e^{c(f(\\hat{x},~g(x_i)))} / \\sum_{j=1}^k e^{c(f(\\hat{x},~g(x_j)))}    
$$
   contrastive loss  similarity term .   $c$ cosine similarity,       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151572-c066ff1a-9b6a-4390-8993-8053fa56669d.png" width="600"/>
</div>

    term  similarity  nearest neighbor .   Siamese network $D_W$ Euclidean distance matching network cosine distance(similarity)     . Matching network  support set $S$  query $x$ output class $y$  classifier network $P$ log likelihood   .

$$
    \\theta = \\arg \\max_\\theta \\mathbb{E}_{L \\sim T}\\left(\\mathbb{E}_{S \\sim L,~B \\sim L} \\left(\\sum_{(x,~y) \\in B} \\log P_\\theta (y \\vert x,~S) \\right) \\right)    
$$


# Zero-shot learning
     <U> 1  </U>    ,    zero-shot learning  . 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151573-accfd4ee-7dcc-469c-9620-6482c65e020e.png" width="600"/>
</div>

 ,           ,       stripe         . ZSL(Zero-shot learning)    (seen) class      inference ,    knowledge  attribute    unseen class     task . <U>Attribute</U>  **category vector** .   
ZSL     .

- Seen classes :   labeling 
- Unseen classes :      class  
- Auxiliary information :    /semantic attributes  word embedding . Seen class Unseen class        .

## Semantic vectors

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151577-537bd738-3dc3-4c9c-ac03-58b43ca0016c.png" width="200"/>
</div>

 Semantic vector   ?     Attribute vector  .   visual appearance  property   .   '' class     ' ,  '  attribute  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151580-798e115f-6d65-44b5-b4a9-b24e7dc9bb2c.png" width="500"/>
</div>

   word vector . NLP   attribute     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151584-c4f48fe5-2164-4fdf-a3be-3bd5649d00f3.png" width="500"/>
</div>

 image feature  semantic feature   deep learning network .  image feature semantic attribute   embedding  <U>common embedding space</U>  .    . Common embedding space high level vision visual space   , low level vision semantic space   ,     space   .   semantic vectors $v$ seen data $x$  supervision  projection function $f$ $v = f(x)$   . Inference    class dataset $(x^\\ast,~y^\\ast)$  class specified semantic vector $v^\\ast$ , semantic vector space mapping $f(x^\\ast)$   neighborhood   . Attribute     embedding space  class  attribute  mapping   ,  space     class  discrimination .   
Task   zero-shot learning  generalized zero-shot learning   ,   class    task generalized zero-shot learning   test  new class  discrimination zero-shot learning .   


# Generative model based methods
 embedding method    ,  <U>Bias</U> <U>Domain shift</U>. Mapping  $f(\\cdot)$ seen class     output       sample  <U>biasing</U>  .  test modality  domain shift , $f(\\cdot)$ unseen class image feature semantic vector  mapping     .     test sample  **semantic vector  **    ,  zero-shot unseen class      .    , zero-shot classifier <U>seen/unseen class  </U>   guidance     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151588-e31ecf78-f3a0-4d16-923a-aeac02e3fc01.png" width="500"/>
</div>

    generative network    'attribute vector' conditional GAN  , fake image  out-of-distribution sample      .   GAN unseen class  semantic feature      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209151590-e5754607-9dbe-4676-8fd7-2d72b0bb6c30.png" width="600"/>
</div>

Conditional GAN   generator weight   unseen class attribute input  image feature  (    cGAN  feature   ).   GAN     , image     class agnostic      concept    .
`,Wte=`---
title: "Transformer Multimodal "
category: "ai papers"
publishedAt: "2022-12-21"
thumbnail: "https://user-images.githubusercontent.com/79881119/209162417-87272d02-5e7d-49fd-bec4-55df5e350680.png"
---


# Convolutional neural network 
      <U>Multilayer perceptron</U>(MLP)  <U>Convolutional neural network</U>(CNN)   .  modality $1 \\times N$     MLP  Convolutional neural network  image  modality  ,     . Convolutional neural network MLP    .   MLP  hidden layer   deep neural network    parameter   ,   parameter      representation <U>modality </U>   .   
   NLP(Natural language processing) Audio   CNN    ,  'Inductive bias'    . <U>Inductive bias</U>,      modality           '' .        ' '       classification ,   ' '             constraint  .        **inductive bias**  transformer            .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152403-2d55f1f9-fb7b-4440-8cd4-e97db1f267a0.png" width="600"/>
</div>

    inductive bias    . Convolution       (ex. $3 \\times 3$)   paramter feature   multiplication    .         .

-   object ,  object     (localization).
-   object  ,  object  feature output    (translation equivariance).

     ,     .  translation equivariance MLP   ,   object <U> </U>  <U>feature map  </U> ,  object          .  MLP  CNN    ,       feature map   localization  .   
 CNN   max-pooling   kernel  feature value    filtering module,  softmax     localization  feature map        .  <U>feature extraction</U>  translation equivariance localization  object   feature    , <U>classifier</U>  translation invariance    feature map    prediction .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152405-a2d45124-f1fc-447e-a1e0-9c37e14250fb.png" width="600"/>
</div>


    convolutional neural network   parameter    class  feature representation  , ImageNet       .  sequential data  NLP, Audio, Video  temporal information  CNN    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152408-f033371c-33f4-4970-aa42-6faddd9f7386.png" width="600"/>
</div>


  sequential data   <U>RNN</U>(Recurrent neural network)  , LSTM, GRU  long-term memory   input output  global contextual meaning   .


#   RNN 

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152411-83f8a105-9fad-4f44-adbb-ef3790ea903d.png" width="600"/>
</div>

  '<U>     </U>'   '<U>I decided to name my cat Epoch</U>'     /    task  .   task RNN   ,   

<div align="center">
      $\\rightarrow$ $E_{\\theta}$ $\\rightarrow$  $\\rightarrow$ $D_{\\phi}$ $\\rightarrow$  
</div>


    .   $E_\\theta, D_\\phi$    .  <U>Encoder-Decoder </U>  RNN    sequence-to-sequence .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152412-1c51e386-83ea-4cd7-b202-b7776a1910a7.png" width="700"/>
</div>


      .               GPU     .  level feature map value   convolution  <U>   </U>   ****         .  RNN    .      LSTM(hidden layer   )      LSTM  .    LSTM        $N$   <U>bottleneck</U>   .      context vector   .        , RNN       feature embedding  encoder final hidden layer output.          encoder      .      attention , transformer    .


# Attention mechanism

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152414-898f80a8-522c-435b-b490-2dbb1a6db297.png" width="500"/>
</div>


  RNN     .  long sentence      ,     context vector <U> </U>  performance   .     RNN  <U> LSTM output </U> reasoning  ,  'attention'   . Attention module input (single input  , multiple input   )     weight  tensor .        .

$$
    \\text{I decided to name my cat Epoch}
$$

   tokenize ,

$$
    \\text{(I, decided, to, name, my, cat, Epoch)}
$$

 token  embedding   value mapping ,  '<U>name</U>'        .      'name'     '<U>Epoch</U>',     '<U>cat</U>'    .

$$
    \\text{(I, decided, to, name, my, cat, Epoch)} \\rightarrow (0, 0, 0, 0.3, 0, 0.1, 0.6)
$$

  ,   input  embedding   weight ,   <U>weight softmax </U> **attention value**   .  attention   LSTM  long term       global correlation  long range interaction   .   
   sequence to sequence      ,   decoder  feature vector   RNN '<U> </U>'  .          trade-off  .      bottleneck    RNN  <U> </U>           <U>transformer</U> .


# Attention is all you need!

[Transformer](https://arxiv.org/abs/1706.03762)     <U> </U>  .   main idea,  RNN  convolution   global context    attention   global reasoning ,  attention    deep neural network      task    .   RNN       ,  <U> </U> NLP       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152421-69e23550-3f6e-4360-93f2-d6153e4c49f8.png" width="500"/>
</div>

 transformer       self-attention, multi-head attention  positional encoding masked attention   .

## Self Attention
RNN encoder   feature vector .  feature vector  input token  context     RNN  assumption,   attention value   RNN feature vector   . <U>Attention mechanism</U>  **transformer**   ,  attention      contextual embedding . Attention       .

- Query($Q$) : ''  ''   .              ' ' .        '<U>name</U>'   (I decided to name my cat Epoch)       'name' .

- Key($K$) : Query pair , query  key  value        .        '<U>name</U>'   (I decided to name my cat Epoch)          (I, decided, cat ) .

- Value($V$) : Key  value . Query, key, value       <U></U>    .

   $S$   embedding  $\\mathcal{E}$  embedding tensor $X$  .  embedding tensor  query, key, value  weight  liear projection .

$$
    \\begin{aligned}
        Q =& W_1X \\newline
        K =& W_2X \\newline
        V =& W_3X
    \\end{aligned}    
$$

    $n$   ,   $e$ dimension    . $Q,~K,~V$ dimension $d$ ,

$$
    \\begin{aligned}
        X \\in & \\mathbb{R}^{n \\times e} \\newline
        K \\in & \\mathbb{R}^{n \\times d},~W_1 \\in \\mathbb{R}^{e \\times d} \\newline
        Q \\in & \\mathbb{R}^{n \\times d},~W_2 \\in \\mathbb{R}^{e \\times d} \\newline
        V \\in & \\mathbb{R}^{n \\times d},~W_3 \\in \\mathbb{R}^{e \\times d}
    \\end{aligned}    
$$

    . Attention value     transformer  scaled dot product    .   
   

 ,   input embedding  score . $S = Q \\cdot K^\\top$. $Q$  row vector  token embedding  , $K^\\top$  column vector  token embedding  key .    $Q,~K$ row vectors $r^q_i,~r^k_i \\in \\mathbb{R}^d$ $(i = 1,~2,~\\cdots,~n)$       .

$$
    QK^\\top = \\begin{bmatrix}
        r^q_1 \\newline
        r^q_2 \\newline
        \\vdots \\newline
        r^q_n
    \\end{bmatrix}
    \\cdot \\begin{bmatrix}
        {r^k_1}^\\top & {r^k_2}^\\top & \\cdots & {r^k_n}^\\top
    \\end{bmatrix}
$$
    row vector  ,  row vector dimension $d$     .

$$
    S = QK^\\top = \\begin{bmatrix}
        {r^k_1}^\\top r^q_1 & {r^k_2}^\\top r^q_1 & \\cdots & {r^k_n}^\\top r^q_1 \\newline
        \\vdots & \\vdots & \\ddots & \\vdots \\newline
        {r^k_1}^\\top r^q_n & {r^k_2}^\\top r^q_n & \\cdots & {r^k_n}^\\top r^q_n
    \\end{bmatrix}  
$$

   (gradient  )  score dimension square root value .

$$
    S_n = \\frac{QK^\\top}{\\sqrt{d}} = \\begin{bmatrix}
        ({r^k_1}^\\top r^q_1)/\\sqrt{d} & ({r^k_2}^\\top r^q_1)/\\sqrt{d} & \\cdots & ({r^k_n}^\\top r^q_1)/\\sqrt{d} \\newline
        \\vdots & \\vdots & \\ddots & \\vdots \\newline
        ({r^k_1}^\\top r^q_n)/\\sqrt{d} & ({r^k_2}^\\top r^q_n)/\\sqrt{d} & \\cdots & ({r^k_n}^\\top r^q_n)/\\sqrt{d}
    \\end{bmatrix}  
$$

 score    softmax . Softmax function exponential   $0 \\sim 1$   normalization ,     dimension  $1$    .

$$
    \\begin{aligned}
        \\text{Let }z_{ij} =& ({r^k_j}^\\top r^q_i)/\\sqrt{d}, \\newline
        softmax(z_{ij}) =& \\frac{e^{z_{ij}}}{\\sum_{i=1}^n e^{z_{ij}}} \\newline
        P =& softmax(S_n)
    \\end{aligned}    
$$

   key  value ,    weighted value matrix   .

$$
    Z = V\\cdot softmax(\\frac{Q \\cdot K^\\top}{\\sqrt{d}})    
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152427-711293fb-c92f-4efc-b50c-8208073833cb.png" width="200"/>
</div>


## Masked attention in decoder
Attention       .  decoder encoder attention   encoder   key, value  decoder output query .    <U>RNN </U> input tokenized sentence    causality  .    .   
Decoder input       recurrent  .  **RNN based sequence to sequence model** **transformer**  .     ' '     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152430-6f3ce74c-b547-4c7f-89b8-6fac89547819.png" width="800"/>
</div>

   .  task 'I want to buy a car'       . Decoder   <U>BOS</U>(Begin of Sequence  ) encoder output   ('<U>Ich</U>') .     '<U>Ich</U>' encoder output   ('<U>will</U>') .     '<U>Ich, will</U>' encoder output   ('<U>ein</U>') .   .   
             ground truth  ,    **teacher forcing** .       $n$     $n-1$        $n-1$ GT   ,   encoder  attention      .      decoder    ,   decoder  attention query       .

          'inference'()  .         ,  supervision     <U>  decoder     </U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152431-a618a50d-b838-47fb-8e90-8333dd5075df.svg" width="800"/>
</div>


     .   decoder input token  attention , mask   value $1$,    value $0$ $n$ embedding $n$   attention weight   .

## Multi-head attention
   '' ,  convolutional neural network  kernel channel     .    feature map  <U>  representation   </U> . CNN       network **width**  , transformer  attention layer       .       <U>Multi-head attention</U>.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152436-7bedef8c-8afe-4456-90a0-956fde4836a9.png" width="300"/>
</div>


  , attention    linear layer head  $h$   . Attention weight    head     ,  head  concatenate  Linear    dimension .    notation  , head index $h$  query, key, value linear operator $W_h^Q,~W_h^K,~W_h^V$ multi-head linear operator $W_o \\in \\mathbb{R}^{hd \\times d}$ ,

$$
    \\begin{aligned}
        Q_h =& W_h^QX,~K_h = W_h^KX,~V_h = W_h^VX, \\newline
        Z_h =& V_h\\cdot softmax(\\frac{Q_h \\cdot K_h^\\top}{\\sqrt{d}}) \\in \\mathbb{R}^{n \\times d}, \\newline
        Z_{concat} =& \\text{Concat}(Z_1;~Z_2;~\\cdots;~Z_h) \\in \\mathbb{R}^{n \\times hd}, \\newline
        Z_{output} =& W_o \\cdot Z_{concat} \\in \\mathbb{R}^{n \\times d}
    \\end{aligned}
$$

   .

## Positional encoding
RNN     causality  .            context     ,  token sequential  RNN     transformer   constraint     .       ,

$$
    \\text{I have a dog named Adam and my friend has a cat named Epoch}    
$$
 ,  <U>''   </U> ,   <U>''   </U>  .              .        token    ,    .   
   
'I have **a dog** named Adam and my friend has a cat named **Epoch**'   
'I have a dog named **Adam** and my friend has **a cat** named Epoch'   
   
 <U>    attention value   </U>,           .             .  CNN object     , translation      inductive bias     token      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152440-74866c8f-538e-46de-86a9-6e3de9f32142.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209152441-05269b19-26ac-48e1-8312-1979c03876d9.png" width="400"/>
</div>

Positional encoding      sinusoidal  . 

$$  
    \\begin{aligned}
        PE_{(pos,~2i)} =& \\sin (pos/10000^{2i/d_{model}}) \\newline
        PE_{(pos,~2i+1)} =& \\cos (pos/10000^{2i/d_{model}})
    \\end{aligned}
$$

 $i$ embedding dimension  , $pos$  token   position.         .      $d_{model}$   embedding   $d$ , $i$ <U></U> sinusoidal  <U>  </U>  .      y     **   index** reference       .  <U>      y </U>(pos ), <U>      y (pos )</U>   .      embedding position   encoding   .      ,   encoded embedding(x  value )  <U>  unique</U>. ,      token      , <U>    token   </U>.

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152442-d12a5bfc-aaf1-442e-9733-ea9911e1b1b1.png" width="400"/>
</div>

   token  encoding dimension    embedding  .

## Transformer 

  supervision   cross-entropy loss   . Output  softmax prediction     index  ,     1    .

##  ?
Transformer  neural network             . 2017   task   transformer  , BERT, GPT-3  NLP    ,  vision  vision transformer  <U>multimodal approach</U> .  modality    encoding     modality  supervision    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152438-03afe1d5-bd0f-4aa5-8ae5-1f7be17c522f.png" width="600"/>
</div>



# Vision transformer

   <U>transformer</U>      .      transformer     ,   tansformer based approach   <U>NLP  </U>   .   NLP  transformer       'Attention is all you need'     .   
  <U>tokenize </U> natural language audio(    )  image          tokenize   ,      word2vec        .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152451-54daf42a-40fa-49fc-91cf-e6aaf2570e52.png" width="400"/>
</div>

   vision transformer    [ViT: An Image is Worth 16x16 Words: Transformers for Image Recognition at Scale](https://arxiv.org/abs/2010.11929) ,      .     .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162457-43a1b681-e2d6-4e20-9e85-b8e964efebf5.gif" width="600"/>
</div>

  $n$ patch .     ,   $256 \\times 256$    $16 \\times 16$ patch .          $H,~W$  3 9      .  patch  flatten 1    linear projection  embedding space ,  patch sequence  <U>cls token</U>(   , global inference      ) .  transformer      positional embedding ,   natural language embedding    sinusoidal embedding       <U>learnable positional embedding</U>  .  attention    encoder output <U>cls token</U> ,   attention    cls_token 16 patch embedding  <U>global reference</U>  .  cls token $B \\times D$  ,   class   attention   '<U>   </U>'  .  class embedding      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152455-2fb10959-e2cf-48cb-89f6-7237f5a803b7.png" width="600"/>
</div>


16 patch   transformer model $Q,~K,~V$ dimension $d$  output cls token  $(16+1) \\times d$  tensor .  MLP head class  output  linear ($d \\rightarrow C$ where $C$ is the number of classes)  , layer normalization  <U>class   score map </U>. ,  logit  softmax     cls token output  class   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152460-d5a17d63-28b3-4860-a9fa-c56412abd7af.png" width="800"/>
</div>


 vision transformer     BiT(ResNet  transformer)  CNN      ,      inductive bias  . CNN based network      inductive bias      ,      attention   <U>vision transformer     </U>.   
     , CNN  inductive bias        representation map  feature map       , vision transformer     attention    ,            .   
  Vision transformer <U> </U> JFT dataset($3 \\times 10^8$ samples)   ,  **downstream task**  fine-tuning        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152462-5da11123-b4d4-46f5-b56e-d1c4106d0732.png" width="800"/>
</div>


 <U>convolution</U>   <U>attention</U>   parameter     CNN <U> </U>     . VGG-16       175.12M parameter    ViT-Large  ViT-Huge       .  ResNet        <U>ResNet-152</U>  paramter  <U>60.34M</U>   ,  transformer         . 


#  Vision transformer CNN   ?

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152466-28ea9cdf-ab8d-400c-8c10-d6e17abde10c.png" width="800"/>
</div>

    self-attention   mechanism,  layer  input   inference  .   CNN , $3 \\times 3$    $32 \\times 32$  receptive field  

$$
    3+2 \\times (n-1) \\ge 32,~n > 14    
$$

14   layer .       max-pooling  filtering ,    <U>global fine detail  </U> **image classification**     .    ViT     representation map   , self-attention     global information   .    global       ,   representation     .   <U>dataset    </U>( 10  )  <U>parameter   </U>      .  high-resolution image  attention  $Q,~K,~V$  attention score     multi-head self attention computation $(H \\times W)^2$      .        .


# Dataset     

 ,            [DeiT: Training data-efficient image transformers & distillation through attention](https://arxiv.org/pdf/2012.12877.pdf)   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152469-4fde8fda-f626-4d1c-999a-6d4d75435c68.png" width="400"/>
</div>

DeiT ViT  transformer    , JFT     pre-training   ImageNet dataset    .     Knowledge distillation     ([](https://6unoyunr.github.io/blog/transfer)),  distillation  transformer        <U>teacher</U>  <U>convolutional neural network</U>    . Convolutional neural network   ,  distillation loss    token   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152470-4bcf4a9a-85f6-4145-a535-20449cd5d23e.png" width="400"/>
</div>

     .  teacher network prediction  soft-label distillation loss  ,  teacher network prediction  one-hot encoding  hard-label distillation loss  .

$$
    \\mathcal{L}_{\\text{global}} = (1-\\lambda) \\mathcal{L}_{\\text{CE}}(\\psi(Z_s), y) + \\lambda \\tau^2 \\text{KL}(\\psi(Z_s/\\tau),~\\psi(Z_t/\\tau))    
$$

  temperature value $\\tau$   $lambda$    weighted soft-distillation loss    ,

$$
    \\mathcal{L}_{\\text{global}}^\\text{hard Distill} = \\frac{1}{2} \\mathcal{L}_{\\text{CE}}(\\psi(Z_s), y) + \\frac{1}{2} \\mathcal{L}_{\\text{CE}}(\\psi(Z_s),~y_t)   
$$

  hard target    hard distillation .   $y_t$ $\\arg \\max_c Z_t(c)$ .  teacher prediction prediction  1,  0  one-hot encoding  . DeiT      loss term .        ,  <U>CNN   upper bound </U> . **ViT**  , <U>JFT   </U>     <U>CNN     </U> transformer based vision approach ,     CNN teacher network     .


# High resolution image   
    Vision transformer   <U>high resolution image</U>  . Vision transformer    , image   patch ,  embedding linear projection   attention   .   image resolution 2 , linear projection    4  , attention   $Q,~K,~V$  attention weight      16  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162456-586c1b3e-7855-426e-a332-73e7542e2863.gif" width="400"/>
</div>

    token  , CNN     scale feature   . Global information        ,      scale  .  vision transformer   segmentation image restoration  <U>high-level vision task</U>   ,     .       [Swin-Transformer](https://arxiv.org/pdf/2103.14030.pdf)  hierarchical feature extraction.

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152473-0853ced7-3895-4745-93cd-810b097bf40f.png" width="700"/>
</div>

 high-resolution   <U> </U> patch    <U> patch  </U>   merge  , ' fine detail    coarse feature  CNN   ?'   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152478-69203891-82b7-4c8b-86e9-8ca45c1610a7.png" width="800"/>
</div>

   . ViT     patch partition     $\\frac{HW}{4^2}$  patch(  ),   patch    $\\frac{HW}{32^2}$  patch .       .

1.    patch partition  $4 \\times 4 \\times 3$  .           , $\\frac{H}{4} \\times \\frac{W}{4}$ patch   ,     $4 \\times 4$  RGB      .

2. Stage 1  Linear embedding patch   $4\\times4\\times3$ $4\\times4\\times C/16$ .      stage  .   C = 192 ,  RGB  3  $192/16 = 12$ 4   .

3. Stage 2    attention . ,  patch-merging . Patch merging    4 patch   patch ,       channel . , $\\frac{H}{4} \\times \\frac{W}{4}$     4     $\\frac{H}{8} \\times \\frac{W}{8}$ ,      (   !) **merge   Attention   **. ?   attention     ,    merge   .   channel  2 .

4.  Attention    .      ,             .        .       (3  '     '   !      )

5.   attention block  .   W-MSA SW-MSA    .

      attention    .             .  '<U>patch</U>'  '<U>window</U>'  paper   .           , shifted-window method    (?)    .   W-MSA SW-MSA  ,   

W-MSA     attention.       $7 \\times 7$ embedding  ,        .      <U>           </U> .     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152481-5933823c-3a1e-494b-9059-f66622435286.png" width="800"/>
</div>

         ,   attention layer  <U> attention  </U>.    locality   image       , ViT    global information    .     .
  attention       .  shifted window attention   window   .      window ,   $4 \\times 4$   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152489-66f1f113-14bc-4870-a7b2-268ea4441a18.png" width="800"/>
</div>

    ,        .     '<U> </U>'  .    , cyclic shift .   (    ..)               .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152493-93751ee4-db63-4ef8-8009-1b555bd27a11.png" width="800"/>
</div>


 window   attention      <U> window </U> attention    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152498-b0ec4bc1-d4c5-4974-acc9-ee8c482c4cf6.png" width="800"/>
</div>


    scaled dot product self-attention  ,  relative position  bias score  .

$$
    \\text{Attention}(Q,~k,~V) = softmax(QK^\\top / \\sqrt{d}+B)V    
$$

  positional embedding  (sinusoidal embedding)        attention embedding .      query    , attention     $x, y$    bias ,     $x, y$    bias  . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152501-db6b06b0-11df-4d00-a5ad-61d3b9966b4e.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/209152505-289cca9a-ae69-414b-872b-cd81661513d8.png" width="400"/>
</div>


   ,  Attention      9 patch (1~9   ),  patch  <U>row index </U>  $x$-axis matrix,  <U>column index </U>  $y$-axis matrix   . 

 ,         .

\`\`\`
#  matrix (window -1)  
y_axis_matrix += window_size - 1
x_axis_matrix += window_size - 1

# 2M-1 scaling  
x_axis_matrix *= (2 * window_size -1)
relative_position_M = x_axis_matrix + y_axis_matrix
\`\`\`

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152507-ff3cc005-39bb-4e7a-a54c-dee94c41934d.png" width="400"/>
</div>


 scaling    $-M-1 \\sim M-1$    relative matrix $0 \\sim 2M-1$ scaling ,   $0 \\sim (2M-1)^2$      .


# CNN ViT      ?
  Shifted window   <U>Swin-T</U> ,      hierarchical   CNN   scale  flexibility   ,    image size  quadratic  <U>Linear</U>       .   scale flexibility  classification   vision task,   detection segmentation         .   
  Swin-T     scratch   ,   ViT     .   Data effficient transformer  CNN teacher model  knowledge distillation ,  CNN     .   CNN ViT   , inductive bias  representation  (<U>data efficiency</U>) <U>global information</U>       ?   
     [Convolutional vision Transformer(CvT)](https://arxiv.org/pdf/2103.15808.pdf). CNN   ViT    .   CNN object  shift, scale      distortion   <U>invariance </U>  .   ViT dynamic attention, global information    generalization .   
CvT         .

1. Transformer   , convolutional token embedding    .
2. Convolutional transformer block  convolutional projection .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152513-48020390-58f3-4788-8e29-1a6ecab74d94.png" width="600"/>
</div>


 ,        DeiT parameter     CNN teacher network   , CvT parameter      ViT     .    ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152516-f6734f30-56b8-45dd-8bd9-d22545e46aec.png" width="900"/>
</div>


    input image   feature map  <U>convolution</U>  <U>token embedding</U> ,  token  <U>attention</U> .   output   <U>lower resolution</U> feature map   convolution  , <U>token  attention </U>  .

$l-1$ layer output $x_{l-1}$  $l$ convolution  output    new token map $f(x_{l-1})$ .  $f$   .  official   convolutional embedding    ,

\`\`\`python
class ConvEmbed(nn.Module):
    """ Image to Conv Embedding
    """

    def __init__(self,
                 patch_size=7,
                 in_chans=3,
                 embed_dim=64,
                 stride=4,
                 padding=2,
                 norm_layer=None):
        super().__init__()
        patch_size = to_2tuple(patch_size)
        self.patch_size = patch_size

        self.proj = nn.Conv2d(
            in_chans, embed_dim,
            kernel_size=patch_size,
            stride=stride,
            padding=padding
        )
        self.norm = norm_layer(embed_dim) if norm_layer else None

    def forward(self, x):
        x = self.proj(x)

        B, C, H, W = x.shape
        x = rearrange(x, 'b c h w -> b (h w) c')
        if self.norm:
            x = self.norm(x)
        x = rearrange(x, 'b (h w) c -> b c h w', h=H, w=W)

        return x

\`\`\`
default setting   \`\`\`patch_size = 7\`\`\`, \`\`\`stride = 4\`\`\`, \`\`\`padding = 2\`\`\`   input image spatial resolution $H_i \\times W_i$  output embedding resolution $H_o \\times W_o$

$$  
    \\begin{aligned}
        H_o = \\left( \\frac{H_i + 2 \\cdot 2 - 7}{4} + 1 \\right) \\newline
        W_o = \\left( \\frac{W_i + 2 \\cdot 2 - 7}{4} + 1 \\right) 
    \\end{aligned}
$$

 .    embedding  , layernorm    .    <U>token</U>  <U>attention </U>  ,   attention  Convolutional projection  projection    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209152520-24aa2a13-3d4d-4560-9a55-eafc4bb0f32d.png" width="900"/>
</div>


   (a) ViT token Query, Key  Value mapping   linear projection .  weight $W^Q,~W^K,~W^V$    .   convolutional projection(   (b)) token reshape  padding  convolution   window  ,  convolutional projection  query, key  value .    official        .

\`\`\`python
def forward_conv(self, x, h, w):
    # Class    / Convolution       
    if self.with_cls_token:
        cls_token, x = torch.split(x, [1, h*w], 1)

    # einops rearrange  HW * C  input C * H * W  
    x = rearrange(x, 'b (h w) c -> b c h w', h=h, w=w)

    # conv_proj_   embedding dimension channel input  output  convolution 
    #  convolution (kernel=3, stride=1, padding=1)  spatial dimension  
    if self.conv_proj_q is not None:
        q = self.conv_proj_q(x)
    else:
        q = rearrange(x, 'b c h w -> b (h w) c')

    if self.conv_proj_k is not None:
        k = self.conv_proj_k(x)
    else:
        k = rearrange(x, 'b c h w -> b (h w) c')

    if self.conv_proj_v is not None:
        v = self.conv_proj_v(x)
    else:
        v = rearrange(x, 'b c h w -> b (h w) c')

    #     rearrange      .
    if self.with_cls_token:
        q = torch.cat((cls_token, q), dim=1)
        k = torch.cat((cls_token, k), dim=1)
        v = torch.cat((cls_token, v), dim=1)

    #    class    , attention   query, key, value   
    return q, k, v
\`\`\`
   convolutional block depthwise + pointwise convolution . 

\`\`\`python
def _build_projection(self,
                    dim_in,
                    dim_out,
                    kernel_size,
                    padding,
                    stride,
                    method):
    if method == 'dw_bn':
        proj = nn.Sequential(OrderedDict([
            ('conv', nn.Conv2d(
                dim_in,
                dim_in,
                kernel_size=kernel_size,
                padding=padding,
                stride=stride,
                bias=False,
                groups=dim_in
            )),
            ('bn', nn.BatchNorm2d(dim_in)),
            ('rearrage', Rearrange('b c h w -> b (h w) c')),
        ]))
    elif method == 'avg':
        proj = nn.Sequential(OrderedDict([
            ('avg', nn.AvgPool2d(
                kernel_size=kernel_size,
                padding=padding,
                stride=stride,
                ceil_mode=True
            )),
            ('rearrage', Rearrange('b c h w -> b (h w) c')),
        ]))
    elif method == 'linear':
        proj = None
    else:
        raise ValueError('Unknown method ({})'.format(method))

    return proj
\`\`\`
  projection       .   

- Depth-wise convolution 2d
- BatchNorm2d
- Point-wise convolution 2d

        , pointwise convolution  <U>linear projection </U>  channel  correlation   .   
 Transformer based model  CvT   parameter  FLOPS    accuracy . Attention   MLP  ,  projection     parameter  .  CNN based model  ViT based network     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162407-d9b17c8b-faf9-4458-987b-ee98bb0abab4.png" width="800"/>
</div>



# Multimodal using transformer

    .   <U>CNN, RNN</U>  <U>Sequence to sequence</U>.   <U>attention mechanism</U>   <u>attention only network(transformer)</U> .   NLP  vision task    <U>ViT</U>        (<U>DeiT, Swin-T, CvT</U>)  .  **multimodal**      transformer              .   


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162417-87272d02-5e7d-49fd-bec4-55df5e350680.png" width="300"/>
</div>


<U>Modality</U>           .     ''      . '<U>Modality</U>' vision, audio  language   sensor        <U>communication channel</U>.       LiDAR()         modality  . Thermal       modality, CT MRI         modality   .   
 <U>multimodality</U>,  <U> </U>   task vision, text, sound, data           representation learning    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162421-7299f3f4-06d3-4ad1-9fbb-d16ff22339ba.png" width="700"/>
</div>


 multimodal cross-modal     ,    .     ,   modality <U> </U>   .  ,         ,    computer    .   cross-modal multimodal deep learning  ,  <U>modality </U> <U> modality</U> <U> </U>  .    ,    '   '    .   
AI system   modality       multimodal , cross-modal   task      . ** **  <U> </U>            **cross-modal**    ,    <U> </U>  co-work         **multi-modal**    .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162424-488ac1d5-e7fb-4b7e-aa55-91343d969211.png" width="600"/>
    <img src="https://user-images.githubusercontent.com/79881119/209162425-9ed2e379-a796-43de-b55c-6940358e2a56.png" width="600"/>
</div>

 text vision   multimodal      video captioning   , video question answering  reasoning .      text description   retrieval task , text  video image   audio  video       .   
   'Transformer' multimodal     . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162442-15f32068-0ad1-455b-b1ea-70bcaf09d8e8.png" width="700"/>
</div>

Transformer    input tokenize  ,    representation space embedding  attention   . Embedding   ,    '  '   .  Multimodal transformer <U>fusion</U>  <U>alignment</U>  cross-modality interation attention   .    [survey paper](https://arxiv.org/pdf/2206.06488.pdf)       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162448-0652bcf8-93e9-4427-aa81-96085c12f147.png" width="900"/>
</div>

    modality embedding     .   <U> attention  </U> (a),   <U>  </U>   (b).    transformer layer <u></U>  ,   output  <U> transformer layer </U>  (c),    layer   <U> layer  </U> (d).    layer ,  query <U></U>  layer attention   (e),  cross-attention    concatenate  (f).      conceptually  ,  modality           .   
  task          .      '<U>Transformer   modality         </U>' .


# CLIP: Learning Transferable Visual Models From Natural Language Supervision

 multimodal    ,      CLIP   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162453-316f70d1-ae33-4bda-9b11-2cd983ad6d6b.png" width="900"/>
</div>

 ,      text prompt  ,  transformer encoder  embedding  . image embedding text embedding  positive pair (diagonal ), negative pair  ( )  ,  image  classification text-driven   .  contrastive pre-training    label text dataset classifier  , <U> </U> <U>text description</U>   classification  <U>  description</U>   '  '   .   
     ,     classification           ,      multimodal    baseline   .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/209162454-22fc6fb0-c39a-457e-b9a5-c25945eabd37.png" width="400"/>
</div>

   zero-shot clip fully-supervised ResNet     .    supervision   ResNet  training sample            . [CLIP ](https://arxiv.org/pdf/2103.00020.pdf)                 .
`,Yte=`---
title: "About GAN supervsed alignment(GAN-gealing)"
category: "ai papers"
publishedAt: "2023-01-01"
thumbnail: "https://user-images.githubusercontent.com/79881119/210498660-f6d0b978-b4b6-49e3-9569-9ce755c9b37b.png"
---

#    

           <U>GAN-supervised learning</U>.      ,  [ ](https://arxiv.org/abs/2112.05143)    .     generative network   , GAN-supervised learning  'GAN'   supervision     . [Classical congealing](http://vis-www.cs.umass.edu/papers/PAMI_congeal.pdf) method     .


# What is congealing?

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210159138-2413884d-8cae-4102-9f4d-abf4589c980a.png" width="700" />
</div>

  MNIST( ) .   0 1   .     ,      ,           .            .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210159184-7d57918a-2cd4-41c7-bd61-4bd1ada9111e.png" width="500" />
</div>

   $j^{th}$ image $I^j$ transformation matrix $U^j$    $I^{j\\prime}$ ,    pixel   index $i$         $i$ $x_i^j$  .  transformed digit image ,     empirical entropy(entropy estimation) . 

$$
    \\hat{H}(x_i) = -\\left( \\frac{N_0}{N} \\log _2 \\frac{N_0}{N} + \\frac{N_1}{N} \\log _2 \\frac{N_1}{N} \\right)
$$

  notation $N_0$ $N_1$        ($1$)  ($0$)   .          .      , <U>    transformation      </U>  . 


#  , abstract
 framework  ideation    unalign   <U> target mode   </U>, STN(Spatial Transform Network)    **supervision** GAN mode    ?  .   
     SOTA  precise correspondence(aligned   )  $3 \\times$ ,   augmented reality image editing   GAN downstream task         .


# Why GAN-gealing?
    introduction    ,   '  GAN-gealing ?'  , MNIST   congealing    RGB    .   
<U>Visual alignment</U>       /   correspondence(         )  registration ,  computer vision   <U>optical flow</U>, <U>3D matching</U>(depth estimation ), <U>medical imaging</U>  <U>tracking and augmented reality</U>   .   
    pairwise alignment(image A image B) alignment ,     alignment      .  ,     annotation ,    keypoint    <U>reference frame</U>      .   
 FFHQ, AFHQ  CelebA-HQ     crop/transform  <U>align </U>  generative model   <U>  quality    </U>      ,  global keypoint reasoning alignment  .   
  binary digit   modality     congealing     dataset    GAN-gealing  .   
            <U>GAN</U>  ( unaligned dataset  )  random sample target sample spatial transformer networks(STN) supervision , <U>STN </U> <U>target sample</U>  .  STN   GAN (exclusively) .


# Related works

## GAN  
GAN  generative model classification segmentation,  representation learning 3D graphics   computer vision   .    deep generative networks pre-trained joint distribution   .   GAN    GAN     ,   discriminative network   , GAN-generated image discriminative model     GAN-gealing.   , generative network   'GAN generated image'   .  GAN   supervision    ,     augmentation domain knowledge       .

## Joint image set alignment
 <U></U>   semantic content   image set  alignment   .        congealing unsupervised joint alignment( ,  image      )   .   binary digit         ,       .         low-rank subspace projection , image color, appearance  shape feature factorize       .   
   image  mode( projection <U> subspace</U>  )   .   joint visual alignment  clustering  user-driven data  . Unsupervision alignment   bounding box supervision , object    mode  cluster .    ,  domain   .    optimization    warping network      , large-scale collection  clustering alignment  ,  simple color transformation   .   complex dataset  paper  assumption   .

## Spatial transformer networks

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210162591-a1184fcc-93ff-47f9-bec4-ca6c21ae6cde.png" width="700" />
</div>

     GAN supervision    , deep learning based data processing    [STN](https://arxiv.org/pdf/1506.02025.pdf). Deep learning framework    geometric transformation   . Warpining    parameter   , sampling grid input image   warpining        . STN framework    discriminative task     , robust filter learning, view-synthesis  3D representation learning  .    STN   task     constraint,   STN    GAN network   . 


# GAN  supervised learning

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210162569-06a79464-3c31-48f9-9831-ce2ddb04e6a2.png" width="800" />
</div>

         .   supervision pair $(x,~y)$  supervised learning    source-target    .  <U>'STN'</U> , **source image**    (    )  , **target image**   (      )  .      GAN generator     .   
, $x$   GAN generator   sample.  $y$ $x$ latent code   latent manipulation  . pair STN network $f_\\theta : x \\rightarrow y$  supervision .

$$
    \\mathcal{L}(f_\\theta,~y) = l(f_\\theta(x),~y)    
$$

 $l$ reconstruction loss.      $x$   $y$   .  supervised learning   $x$ $y$ ,  GAN supervised learning   STN($f_\\theta$)     <U>target  $y$  end-to-end </U>.    STN network $f_\\theta$  GAN generated image  real input   .

## Dense visual alignment
    congealing  GAN-supervision     .  GANgealing      .   
GANgealing   latent variable generative model $G$ unaligned input dataset    . , input  latent vector $w \\in \\mathbb{R}^{512}$ .  $z$  ,     generator styleGAN  .    $G$ ,  source  input sample    latent space $w \\sim \\mathcal{W}$ , generator   $x = G(w)$  . ,  target image  $G(c)$ .  $c$ latend vector input  $w$  dimension ,  STN target  .    '$w$    $c$ source  G(w)  latent   ?',      $c$ STN network     , generator $G$ input $c$     gradient descent    .

$$
    \\mathcal{L}_\\text{align}(T,~c) = l(T(G(w)), G(c))    
$$

 $T(\\cdot) = f_\\theta(\\cdot)$  . $l$     distance metric .   <U>perceptual loss</U>  .   latent vector $c$     <U>latent $c$ </U>     $x$ <U>spatial transformer($T$)     </U>    .  $G(c)$    $x$ alignment     .   $c$     $T$       ,  loss function     ,  iteration    $c$        .   
      dataset diversity     .     input image $x$  constant latent $c$    $G(c)$       .   
 GAN inversion    ,  sampling latent   <U>input image   sample   </U>          .    .  same target $G(c)$  randomly sampled image $G(w)$   , pose  orientation     appearance $G(w)$  ,   latent .      image manipulation StyleGAN based GAN inversion    , StyleGAN    <U>low resolution latent constant  coarse style  fine detail  </U>.    target vector $c$ input sample    random latent $w$ , $\\text{mix}(c, w) \\in \\mathbb{R}^{512}$  $c$     $w$      .

$$
    \\mathcal{L}_\\text{align}(T,~c) = l(T(G(w)), G(\\text{mix}(c,~w)))
$$

  StyleGAN2 generator ,    StyleGAN   style-pose disentanglement    .    target image $G(\\text{mix}(c, w))$ style mixing   ,  $c$ synthesis generator  (coarse feature)  sample pose  , $w$ later layer (fine feature) texture  .  mixing point    ablation  . 

## STN parameterization
STN   .    , STN(spatial transformer network)     insight        .  spatial transformer  $T$ input image , input image  sampling grid $g \\in \\mathbb{R}^{H \\times W \\times 2}$ . ,     $g$ parameter  . Gangealing  , scaling,      transform  , unconstrained( ) ,   $T$ <U>unconstrained STN</U> <U>similarity STN</U>(  , scaling )   .     STN horizontal flip     .   
Unconstrained $T$  , "<U>total variational(TV)</U>" regularizer    . Total variation  input  gradient ,   (    ) supremum ,     .

$$
    TV(x) = \\sum_n \\vert y_{n+1} - y_n \\vert    
$$

 total variance     ,   regularizer sampling grid $g$       loss   .

$$
    \\mathcal{L}_\\text{TV} (T) = \\mathcal{L}_\\text{Huber} (\\Delta_x g) + \\mathcal{L}_\\text{Huber} (\\Delta_y g)
$$

   , $g$  ($x,~y$)  partial derivative .  , regularizer $g$ identity transformation        norm   .

$$
    \\mathcal{L}_I (T) = \\parallel g \\parallel^2_2
$$

## Parameterizationn of $c$
 target      latent vector $c$ ,  $c$    generator network $G$   backpropagation   ,    . , $\\mathcal{W}$ space top-$N$ principal direction linear combination   parameterize.

$$
    c = \\bar{w} + \\sum_{i=1}^N \\alpha_i d_i    
$$

 principal direction     PCA( )     .   $\\bar{w}$ $w$ vector empirical mean, $d_i$ $i$ principal direction.  $\\alpha_i$    coefficient,   $N$       .   $c$   StyleGAN $\\mathcal{W}$ space     .   constraints   $c$   <U>target image  </U>, natural image( )  <U>manifold  </U> .   $N$   ,  $c$ feasible direction   ,     $\\mathcal{W}$-mean space constraint        manifold    .   
,     GANgealing objective     .

$$
    \\mathcal{L}(T,~c) = \\mathbb{E}_{w \\sim \\mathcal{W}} (\\mathcal{L}_\\text{align} (T, c) + \\lambda_\\text{TV} \\mathcal{L}_\\text{TV} (T) + \\lambda_I \\mathcal{L}_I (T))
$$

  hyperparameter  $\\lambda_\\text{TV} = 1000,~2500$, loss weight $\\lambda_I$ 1.

# Joint alignment and clustering
GANgealing     LSUM Bicycles Cats   multimodal data      .  LSUN Horses    data <U>single mode     pose  </U> .      GANgealing   target latent $c$    , clustering algorithm   .   
     $c$ vector  $K$ .  latent constant $c$ data  mode  ( mode  ,     feature    )   $(c_k)_{k=1}^K$   dataset   mode     .     $c$   $\\mathcal{W}$ space top-$N$ principal direction linear combination ,  $c_k$   $\\alpha$ coefficients .      $K$  Spatial Transformer $T_k$ ,  spatial transformer  mode   .    GANgealing   cluster    dense correspondence    .      $c_k$   $T_k$ pair  mode   guidance ,

$$
    \\mathcal{L}_\\text{align}^K (T, c) = \\min_k \\mathcal{L}_\\text{align} (T_k, c_k)    
$$

  hard-assignment step   mode  unaligned image align   .   
$K = 1$    unimodal case   . Test time input fake image $G(w)$  cluster index $k^\\ast = \\arg \\min_k \\mathcal{L}_\\text{align} (T_k,~c_k)$ ,   spatial transformer $T_{k^\\ast}$ warping .           ,  mode assignment       $\\mathcal{L}_\\text{align}$ ,  <U>input image</U>  input image  <U>$w$ vector</U>  .   
      ,    $K$  clustering     modality   ,  $c$  input image  latent $w$  mixing      real image    latent variable  .      GAN inversion ,    [GAN  ](https://6unoyunr.github.io/blog/imagemanipulate) , image $x$      latent variable $w$   .  StyleGAN FFHQ( )    <U>  dataset</U>  GAN inversion  challenging  .   
     ,   input image cluster assignment classification       .  input fake image  target cluster $k^\\ast$    $(G(w),~k^\\ast)$  supervision    GAN inversion      assignment . Classifier spatial transformer weight , warping head classification head  .    fake sample   sptial transformer, classifier  real image    . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210498660-f6d0b978-b4b6-49e3-9569-9ce755c9b37b.png" width="1000" />
</div>



# ...

 GANgealing  ,        .              ,       insight(related works, preliminary)       .      GAN    GAN  STN ,    unaligned real image alignment       contribution   .         .
`,Kte=`---
title: "CLIP(Learning transferable visual models from natural language supervision) "
category: "ai papers"
publishedAt: "2023-01-22"
thumbnail: "https://user-images.githubusercontent.com/79881119/213904183-1ff81e1a-0a92-42f2-8742-bc87e5dd69e6.png"
---


# What is modality?
   <U>multimodal</U>       'modality'   .  modality      .     , modality <U> probability density function</U> ,  multimodal <U>  peak</U>(local maxima)     mode .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213900325-9960901d-7940-4231-834b-c9052dc051e7.png" width="400"/>
</div>


        ()  ,   ****    <U>sensory</U>()    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213900373-ac1c69a4-5919-4a9d-a020-375e67560f91.png" width="400"/>
</div>


    modality( ,    ) , ,             <U> </U> .  multimodal     ,   <U>  </U>  .   
 , Verbal()      <U>Lexicon</U> , Speech         <U>Syntax</U>()    context    ,           <U>Pragmatics</U>() .   
   Visual()  <U>gesture</U>, <U>body posture</U> <U>proxemics</U>(          )  .     eye contact, facial expression  **modality**     .   
                ,      modality    .


# Modality in computational environment

Modality      .  <U>  </U> modality     ,       .        , **'Image' ** modality       'jpeg', 'bmp', 'png'  **    **  modality   .   
     sensory modality     probability modality   , modality( medium, media)         .  <U>    </U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213900749-965f0ba0-5878-41e5-b53a-c3e5b08230cc.png" width="800"/>
</div>


 <U>  communities</U>()  /  **** , modality           . <U>deep learning</U>    **Natural
language**(spoken or written), **Visual**(images, videos)  **Auditory**(voice, sounds and music)     ,  multimodal    modality    task   .     text image  (   modality) task , <U>modality </U>(ex.   +  )  multimodal   .


# Learning Transferable Visual Models From Natural Language Supervision

 multimodal           paper main contribution   '<U>text image   </U>'    . ~~ 48   ~~         ,          .       [ ](https://arxiv.org/abs/2103.00020)  <U>paper</U> <U></U> ,  contribution. 


# NLP task  CV task 
**Computer vision task** **Natural language processing(NLP)** deep learning     .    CNN(Convolutional Neural Network) baseline recurrent neural network , attention mechanism  transformer     task   , <U>transformer encoder  decoder  </U> GPT BERT model  ** downstream task**     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213901161-30db60a8-bb44-46c8-9f42-ea2e45de38fe.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/213901191-b4994362-af6a-4685-bcf0-9a9924ec3b1a.png" width="400"/>
</div>


               <U>  </U>.  (image)  task    domain ,  domain  distribution          .     task  ,            .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213901272-c17978e2-d803-4e0f-b7d8-4b80fa4ca7cb.png" width="800"/>
</div>


  **image dataset**   .      /     index labeling ,     background  ( object   ),       <U>    </U>    .       distribution  dataset ,  ''   class  <U>  </U>  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213901370-3d8a3d22-f504-4aaf-bcc4-74cfa9f3cf82.png" width="800"/>
</div>


    ** ** ,   <U>text prompt</U> <U>token  supervision </U>   NLP    .  computer vision ,        '<U>gold labeling</U>' ,  gold label  **computer vision task** deep learning    .   
 NLP CV    new task  zero-shot  few-shot   .                (continous signal)      vocabulary     variation (discrete signal)  <U>     </U>  **task**   .


# Restricted form of supervision
 SOTA computer vision system (  object category     ,           )     .    <U>NLP </U>  **generality**( ), **usability**( downstream task   ) CV     .   
 CLIP  <U>image  raw text  </U>, image supervision    text prompt   **text representation** **image representation**   .   
       computer vision     ,      <U>class categorize</U>  ,      **text prompt**       <U> domain distribution  dataset  </U>   .          '<U> </U>',  text   image ' ' text     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213902189-7c92b1f4-776c-4334-a980-0a461eedbb02.png" width="800"/>
</div>


      .    task   , <U>image/text  </U>  **text prompt**       . **Text prompt**      <U>task based dataset </U>   ** **  .


## Task-robust representation learning with CLIP
         CLIP  . <U> </U>   **content based image retrieval**(      nouns, adjectives  task), **caption prediction with manifold learning**  **multimodal deep Boltzmann machine**  low level image text tag feature  .  CNN based approach Transformer based approach  <U>deep learning </U>  ,  '<U>image representation learning</U>'  natural language  <U>zero-shot learning</U>    .  CLIP  deep learning   JFT-300M dataset     ,  prompt instagram hashtag   dataset      computer vision  **gold-label** **unlimited amounts of text prompt**       .   supervision  ,  softmax classifier    representation   zero-shot    .   
 weakly-supervised method  [VirTex](https://arxiv.org/abs/2006.06666), [ICMLM](https://arxiv.org/abs/2008.01392)  CLIP    insight  [ConVIRT](https://arxiv.org/abs/2010.00747)      language   image representation .    <U>   </U>  CLIP  <U>ConVIRT</U>( ConVIRT medical diagnosis  task  )   ,  WebImageText dataset ($400M$) scratch contrastive representation learning  .   
        ,    <U>GPT </U>  <U> task  </U>    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213903087-38687ef4-47e8-43ef-ad4c-0d5b8c209277.png" width="600"/>
</div>


Image-captioning baseline transformer language    <U>bag of words</U> prediction(BoW)    , bag of words prediction CLIP(constrastive learning)    **zero-shot**      $12$    .


# Several approaches

    ,   **approach**     <U>main contribution</U>           .

## NLP supervision
 <U>text image pair  </U>  unsupervised, self-supervised, weakly-supervised    <U>natural language supervision</U>   image representation  text      NLP     .  NLP training  $1$ to $N$ mapping , categorized labeling        .       NLP supervision  image  text   image/text multimodal learning   concept , **NLP representation** **image representation**   concept .

## Dataset 
MS-COCO, Visual Genome  YFCC100M     ,    image metadata(ex. image filename)         .   
 NLP supervision  web based  motivation ,     query(text prompt) augmentation $500,000$  ,  query  (image, text) pair  $20,000$  .    **GPT-2 training dataset** '<U>WebText</U>'      '<U>WebImageText</U>'   .

## Selecting an efficient pre-training method

         ,     pre-training method   .         .

#### Jointly trained an image CNN and text transformer from scratch
VirTex     .        (transformer based learning)   baseline **ResNet BoW encoder **     ( $3$)   .

#### Bag or Words with simpler baseline
 BoW  transformer   (parameter , CNN and transformer)           exact words   <U>NLP supervision concept</U>  .   
      description  ,       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213903991-7ee64c92-1253-4f0e-b06d-0119cade64cb.png" width="500"/>
</div>

   text prompt  '   '   , '   ', '    '  <U> text embedding space</U> **    **  representation    .  contrastive learning(  text embedding  ,   text embedding  )          CLIP  .

## Contrastive learning
 $N$ (image, text) pair batch  . CLIP $N \\times N$  (image, text) pair  **prediction** .   text prompt batch  image   $N$  , $N \\times N$ prediction $N$ positive pair   $N^2-N$ negative pair .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213904183-1ff81e1a-0a92-42f2-8742-bc87e5dd69e6.png" width="500"/>
</div>


    sample embedding  <U>symmetric cosine similarity</U> matrix  ,  normalize cross-entropy loss   . Batch  similarity  cross-entropy loss   multi-class $N$-pair loss, InfoNCE loss   ,   ** ** .   

## Training from scratch
  $400M$ overfitting   .   pre-training   representation  initializing   scratch   crop  data augmentation  .  multi-modal embedding space mapping  non-linear projection  ,  self-supervised learning     <U> training efficiency</U>  method        .  entropy   temperature normalizing hyperparameter $\\tau$    ablation      parameter .

## Network selection
BoW baseline  ResNet-50 CLIP ,  [ResNet-D](https://arxiv.org/pdf/1812.01187v2.pdf)     improvement  encoder .  image embedding dimension   feature extraction global average pooling attention pooling layer .   
ResNet   ViT(Vision Transformer)  patch position embedding  layer normalization      .   
Text encoder [GPT-2](https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf) , base size $12$ layers $512$ channel dimension width   (attention head $8$).


# Results
      3  .

1. Related works  .
2.   contribution .
3.     ()  .

     ,         .   <U>  </U> figure  .

## Zero-shot with prompt engineering

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213904974-bec5109c-1bf0-4a67-8347-91b0c299e048.png" width="400"/>
</div>

 CLIP   , ** **  ** **     representation learning ,   <U> task  performance</U> **zero-shot**     .  task(classification)  downstream task    .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905079-04fba334-510c-4708-ab1e-a83b8c1bc098.png" width="500"/>
</div>


   class  prompt   , '<U>A photo of a {object}</U>'  prompt engineering  dataset        .   (image, text) pair  object     , <U>image scene  description</U>   **domain distribution** **class name distribution**     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905043-21a4ccaa-184a-4d46-8655-c98ac5ffd531.png" width="500"/>
</div>


$N$ class  text prompt $N$  similarity   ,      index  image prediction  .  **prompt engineering**  <U>classification </U>(average)     .

## Zero-shot vs fully-supervised baseline


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905261-bb97911c-d308-46b4-b911-242a256b5bcd.png" width="350"/>
</div>


ResNet-50 baseline study   linear probe   ,     $27$ dataset fully-supervision   $16$ dataset   (positive $\\Delta$)     .

## Zero-shot vs Few-shot


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905359-aff9e1f2-6790-4283-9644-f744974df527.png" width="500"/>
</div>


  few-shot methods  <U>   </U>         zero-shot CLIP 4-shot method   ,  <U>BiT-M, SimCLRv2</U>    **16-shot**  **Zero-shot CLIP  **      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905487-ccc29be3-832e-4a68-9fff-c82e28244278.png" width="500"/>
</div>


<U>CLIP zero-shot</U>       few-shot sample      dataset   $20.8$ sample     ,   CLIP method  **data efficiency**  **task robustness**    .

## Zero shot performance & Linear probe


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905589-43e5a2ec-1605-45b9-b596-fc0278564a4d.png" width="500"/>
</div>


   CLIP '    connection'  , classifier  linear probe system   image representation image encoder        . <U>Zero-shot   </U>  <U>Linear probe   </U>  , classification   task  **CLIP   ** .

## Zero shot performance with network scale


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905665-6b1e381e-eae6-4b74-8742-6596d334146f.png" width="500"/>
</div>

 ** **(ex. EfficientNet)    image encoder representation power (network scale )    <U>CLIP zero-shot   </U>   .

## CLIP is also a good representation learner

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905803-ed18c7b2-8dfb-4017-8290-d026b85e3ae2.png" width="1000"/>
</div>


  **GFLOPS/Image**  **Average score**    .    zero-shot     CLIP pre-trained   representation <U>Linear probe</U>      .       CLIP network,   network    representation learning   <U>EfficientNet-NoisyStudent</U>      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213905957-a00dd72b-9d84-44c5-a202-b33e76587155.png" width="350"/>
</div>


 <U>ViT(L/14)   CLIP</U>        $27$ dataset  $21$      (positive $\\Delta$) .

## Robustness to natural domain shift
 supervision  deep learning network    ,  distribution shift     .    <U>ImageNet dataset</U>     class object   ** feature**   , <U>training dataset</U> **in-distribution** neural network fitting    . ImageNet dataset  $7$ natural distribution shift  dataset [ImageNetV2](https://arxiv.org/abs/1902.10811), [ImageNet Sketch](https://arxiv.org/pdf/1905.13549v2.pdf), [Youtube-BB
and ImageNet-Vid](https://arxiv.org/pdf/1906.02168v3.pdf),  [ObjectNet](https://papers.nips.cc/paper/2019/hash/97af07a14cacba681feacf3012730892-Abstract.html), [ImageNet Adversarial](https://arxiv.org/abs/1907.07174)  [ImageNet Rendition](https://arxiv.org/pdf/2006.16241v3.pdf)  validation .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213913187-9e5293a6-e6fd-4442-86da-29541a8c0ce3.png" width="700"/>
</div>


  figure                 CLIP zero-shot  linear probe  domain transfer ,  ImageNet      domain shift      .   figure main ,  figure   <U>CLIP model</U> **zero-shot**  **domain shift** task game changer        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213913448-cd6058d5-26bc-47f1-927c-4bb18ae42be9.png" width="1000"/>
</div>


  domain shift  ImageNet dataset   domain shifted dataset  ($y = x$).  ImageNet      $2 \\sim 30\\%$     , zero-shot CLIP   $7$ natural domain shifted dataset   <U>  $75\\%$   </U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213913670-3f082bde-b940-4d35-ba77-4029d3b233f5.png" width="1000"/>
</div>


     ,  zero-shot     dataset <U>specific</U> **fine-tuning** <U>logistic regression classifier</U>        .    ImageNet  fine-tuning  original dataset  $9.2\\%$   , ImageNet     ImageNetV2        , Video dataset Youtube-BB ImageNet-Vid       .   
  text encoder  CLIP model <U>zero-shot classification</U> ,      'text guidance   domain robust    '    ,   classifier  downstream task fine-tuning  domain shift      . **         ** .   
      transfer dataset class  $1000$-way classifier  ImageNet       ,    ImageNet class    prediction  max-pooling .    ,     CLIP     'class name prompt  text embedding' .   Video based dataset Youtube-BB, ImageNet-Vid    ObjectNet    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213914563-51f46a4c-8b7e-4d08-86e4-b79b67b7e6ec.png" width="400"/>
</div>


   Zero-shot CLIP Few-shot  supervision , fully-supervised learning   robustness     .    dataset sample  <U>in-distribution</U> fitting  zero-shot CLIP model   ImageNet performance  robustness    .

## Comparison to Human Performance

  zero-shot    .    zero-shot  few-shot task performance     ,  Oxford-IIT Pets dataset($37$     )  .           .
  ,           'I don't know'  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213914909-19070974-15ed-476d-b066-2acbf47ac437.png" width="600"/>
</div>


     ,   $1$  (one-shot)      ,  $n$         .    'humans know what they don't know',              .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213914869-d1f0cf60-7da0-4929-a566-938483f2fb9c.png" width="600"/>
</div>


 <U>  </U>   **few-shot**  prior knowledge       ,    **CLIP  **   .      ,    zero-shot    ,    breed         .

## Data overlap analysis
 WebImageText    <U>  </U>   ,      validation   dataset  web     sample    validation set pre-training dataset  (<U>leak into</U>)    .          duplicated image(validation set  )    ,  <U> dataset   </U>  time-consuming.   
 brute-force  ,  overlap        overlap .

1.  validation dataset  duplicate detector( appendix  )  example  .   nearest neighbor   ,  threshold(sample  metric)  Overlap(threshold    ) Clean(threshold    ) subset . Data clean (   )   All(Overlap + Clean)  Overlap  .

2.   All, Overlap, Clean  CLIP RN50x64  zero-shot accuracy . (All accuracy) - (Clean accuracy)   contamination  accuracy  ,     overlapping data  over-fitting    .

3. Overlap      binomial significance test  . Clean accuracy null hypothesis  Overlap subset  one-tailed $p$-value(greater) .  $99.5\\%$ Clopper-Pearson confidence intervals  Dirty subset .

#### Binomial distribution test
    Binomial distribution test      .  $H_0$ test hypothesis ,  null hypothesis  .   test null hypothesis clean accuracy,   <U>overlapping dataset  </U> zero-shot validation  .   

$$
    H_0 = \\pi = \\pi_0    
$$

 $0 \\sim 1$   ,  CLIP model overlapping       '  ' .   
Overlap dataset $n$ ,    $k$ CLIP model         .

$$
    \\text{Pr}(X = k) = \\begin{pmatrix}
        n \\newline k
    \\end{pmatrix}   p^k (1-p)^{n-k} 
$$

 Overlap dataset   $p$     $p$-value  .   <U>overfitting    </U>.

$$
    p = \\sum_{i=0}^{k} \\text{Pr}(X = i) = \\sum_{i = 0}^k \\begin{pmatrix}
        n \\newline i
    \\end{pmatrix}   \\pi_0^i (1-\\pi_0)^{n-i}
$$


 $p$  one-tail test  . Sucess  $n\\pi_0$     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213917253-bea7c88d-647d-408d-b0c8-a059d9744ae1.png" width="1000"/>
</div>


   .  $35$ dataset    , Overlapping Clean subset accuracy  $9$ dataset  overlap   .     overlap  , overall accuracy  shifted  $0.1\\%$ threhold  $7$ dataset .   Bonferroni correction  $2$ dataset    (Birdsnap, Country211). 


# 
      appendix        .
   contribution        .

1. Text model   dataset  image model  .
2.  text to image    . , multimodal  .
3. Zero-shot transfer learning   .

      contribution  .    main contribution  sub contribution .

1. Linear probe logistic regression  , representation learning       .
2. Domain shift robust  .
3.   dataset   , dataset overlapping  ,     overfitting    .

`,Xte=`---
title: "MaskCLIP  "
category: "ai papers"
publishedAt: "2023-01-24"
thumbnail: "https://user-images.githubusercontent.com/79881119/214461848-424e4ad3-6f46-4ccf-b7e2-15559865bc6b.png"
---


# ...

  MaskCLIP ECCV paper CVPR paper   .    main idea        .     '[Extract Free Dense Labels from CLIP](https://arxiv.org/abs/2112.01071)',    CVPR    '[MaskCLIP: Masked Self-Distillation Advances Contrastive Language-Image Pretraining](https://arxiv.org/abs/2208.12262)',         NeurIPS 2023    . ECCV 2022   Dense label extraction segmentation task  CLIP zero-shot representation           ,    self-distillation CLIP image representation  self-supervised learning    generative approach(masked autoencoder )  . 


# CLIP ?
VL(Visual-language) contrastive learning  vision modality image text modality    CLIP ,     dataset downstream task(classification, object detection  segmentation ) zero-shot  few-shot       .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214461848-424e4ad3-6f46-4ccf-b7e2-15559865bc6b.png" width="500"/>
</div>

 GPT      computer vision      text prompt       CLIP ,  downstream task     language vision    image captioning, view synthesis  prompt  DL engineering   <U>    </U>   .


# Segmentation   ?
ECCV 2022  'Extract Free Dense Labels from CLIP'   CLIP  ,   CLIP zero-shot performance segmentation      .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214462980-32bef7a2-dce7-4c90-bba2-3d18798696f9.png" width="500"/>
</div>

           segmentation   ,    instance labeling   .             supervision     segmentation    ,         labeling     label   <U>   </U>     .   
 SOTA segmentation  ImageNet  pre-trained weight  representation  segmentation task  ,   CLIP  <U>global image representation</U>(Web image scale  representation)  . CLIP ImageNet base  representation     .

1.  feature local image semantic( feature dimension     )  .    ImageNet pre-trained baseline weight      .
2. Open-vocabulary concept   .     labeling   object  segmentation .
3.   ,   spatial location      .

 CLIP   segmentation task CLIP representation supervision   , <U> task performance</U>    .


# Failure and success
      .      , CLIP   image encoder ResNet    pre-trained weight  , CLIP image encoder weight <U>segmentation task  fine-tuning</U>        .   segmentation task DeepLab  SOTA , DeepLab weight CLIP image encoder weight   backbone segmentation    .   CLIP text embedding      ,   CLIP    <U>unseen class  segmentation    </U>   .   
  weight  fine-tuning    , MaskCLIP   CLIP image encoder  patch-level feature ,  CLIP  layer attention pooling   CLIP text encoder    $1 \\times 1$ convolution weight  dense prediction .   convolution      trick  ,   text embedding image embedding  similarity  classification  task ,     prompt  text embedding   image embedding  correlation  ,  $1 \\times 1$ convolution     <U>dimension</U>  <U>inner production</U> .   
 CLIP baseline     MaskCLIP  zero-shot  , ResNet ViT   segmentation    ( <U>attention pooling</U>    ViT <U>image class token</U> self-attention    ).  segmentation       **key smoothing** **prompt denoising**  .         .


# MaskCLIP approach

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214468226-ea549c5c-8af7-4828-8b52-3f01f5fa6f24.png" width="500"/>
</div>


MaskCLIP+      ,  MaskCLIP  ( )    .  MaskCLIP     ,       class label  text prompt  ,    class text prompt encoding  $1 \\times 1$ convolution weight  <U>image embedding</U> <U>dense prediction</U> .  attention pooling image feature average class  token   pixel   attention   , MaskCLIP **attention pooling**       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214469422-31e57d8d-8ba7-4791-93ef-444e269fb30a.png" width="400"/>
</div>


     prediction    ,   text prompt similarity  prediction   ,  segmentation task  locality(  pixel  class  )    ,  feature  <U>pixel prediction</U> noisy     .          **key smoothing** **prompt denoising** .

## Key smoothing

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214470022-12174ae9-f4d6-4873-a3b0-76114b4e7bf1.png" width="400"/>
</div>


 attention pooling layer ,  key, value       .   attention layer CLIP   prediction   , segmentation task       attention layer CLIP image encoder representation       .   , attention layer       key value  ,     local semantic  '<U>  </U>'       .     $K_1,~K_2$  $K_3$  feature   .      $K_1$() $K_2$()  , $K_2$() $K_3$()   . 

$$
    \\text{pred}_i = \\sum_j \\cos \\left( \\frac{k_i}{\\parallel k_i \\parallel_2},~\\frac{k_j}{\\parallel k_j \\parallel_2} \\right) \\text{pred}_j   
$$

  key value   prediction key smoothing, $i$ patch  prediction  , <U>  patch  key  </U>   .   similarity  $\\text{pred}$  index $i$  ,    $j$      .

## Prmopt denoising

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214471903-e7364181-c82e-4c0d-b6a5-3dc60b7571e1.png" width="400"/>
</div>

  image  class     .     'cat', 'grass'  'tree stump'  segmentation task , 'tree stump'       key smoothing  <U> class  confidence </U>  .      class  key similarity  feature pixel  $0.5$  ,  class prediction     ,         .


# Mask CLIP to Mask CLIP+

    Mask CLIP  <U>Mask CLIP+</U>   . Mask CLIP  CLIP base zero-shot segmentation  ,   CLIP architecture  segmentation     baseline <U>DeepLab</U> <U>PSPNet</U>      .  [ASPP](https://arxiv.org/abs/1606.00915)       segmentation task    CLIP based method   .   


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214472605-12257674-fbfc-45e4-a386-82f0dbc8444b.png" width="600"/>
</div>


   MaskCLIP+    framework .  CLIP network  ,  MaskCLIP+  network    pseudo-label . MaskCLIP+  backbone <U> fine-tuning  </U> ImageNet  pre-trained  .      fine-tuning   classifier   CLIP text-prompt   $1 \\times 1$ convolution  .   CLIP   network  <U>CLIP space  knowledge distillation</U>   .   
, MaskCLIP+ pseudo label  supervision   segmentation backbone(dilated backbone)  upper bound CLIP        schedule   $1/10$  CLIP pseudo label ,       <U>self-training</U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214473245-c8549814-b913-4dfd-9b8b-de184aab570f.png" width="600"/>
</div>


     segmentation  ,  fine-tuning    CLIP guidance learning  text prompt representation <U>supervised based segmentation</U>    <U>zero-shot segmentation</U>      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214473452-a071fb41-b647-4398-867a-68a657778a56.png" width="600"/>
</div>


Fully supervised mIoU  <U>zero-shot     </U>   , MaskCLIP+    SOTA           .


# CLIP 
   CLIP   .           , CLIP   contribution       .   ECCV  MaskCLIP   CVPR MaskCLIP  , ECCV segmentation CLIP     CLIP  text prompt based representation  contextual meaning    , CVPR  MaskCLIP <U>CLIP  </U> <U>image representation</U>     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214480622-c8502045-89dd-4799-ad3a-7bd188ad9cf5.png" width="600"/>
</div>


     ,    "Two cats are on the grass"  ,  text prompt    contextual information <U> object     </U>  ,   background object   /texture           .   
  language information guidance  CLIP      image to text relationship  ,     text prompt     , image description    representation      representation    .


# Learn image representation with self-supervised learning 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214481546-868cabe5-9c33-46b3-84a8-c27b75abc2cb.png" width="1000"/>
</div>


     CLIP    supervision     SimCLR, Moco  contrastive  MAE, BEiT  DINO  generative approach SSL CLIP   ,   <U>image representation</U>     .   self-supervised learning  CLIP   SLIP   ,   contrastive learning  , salient object      CLIP    surrounding object  contextual information    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214482252-0b21e9f1-d436-4713-ae8f-367f9ec41219.png" width="1000"/>
</div>


 BEiT, MAE   token image patch  self-supervision  image representation    , high level feature image embedding text embedding     CLIP  generative learning   <U>    representation level</U>   .   
   pixel  supervision  feature  supervision, patch   global  representation  CLIP   self-teacher  patch  <U>knowledge distillation</U>  **self-distillation**  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214482836-8d69ec8c-0256-4f86-9bbb-c9af20290ded.png" width="1000"/>
</div>


 ablation   framework   .    MaskCLIP       .   main contribution      .

1. VL contrastive   framework , masked self-distillation  VL model transfer    .
2.  SSL   visual model     ,  MaskCLIP   ablation .
3.  MaskCLIP(self-distillating)  zero-shot, linear-probing  finetuning  setting    .


# Results

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214483478-fa3cfe96-c0af-47e7-8903-49facd9bcdfb.png" width="500"/>
    <img src="https://user-images.githubusercontent.com/79881119/214483520-8f688413-14af-4c02-a9bd-7fe94f51bb04.png" width="500"/>
</div>


 MaskCLIP  CLIP    ,    image representation   loss term  <U>   </U>  .    image representation supervision    embedding text space  signal image space text  representation                .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/214483978-01d2e1ac-129d-4f60-8d5b-03984dcaa0a6.png" width="700"/>
</div>


      text prompt      reasonable    .
`,Qte=`---
title: "(StyleCLIP, StyleGAN-NADA) CLIP based image manipulation "
category: "ai papers"
publishedAt: "2023-01-29"
thumbnail: "https://user-images.githubusercontent.com/79881119/215320268-1ddc118f-2e02-4fe1-be7a-919196a3d324.png"
---


# StyleGAN
[StyleGAN](https://arxiv.org/abs/1812.04948)     style based approach      . StyleGAN        , constant vector   feature map  ($4 \\times 4 \\times 512$),   latent vector  style ( $\\mu$  $\\sigma$) affine layer    feature map modulation    .  feature map spatial resolution       [PGGAN](https://arxiv.org/abs/1710.10196)   .

# Image manipulation

 styleGAN       , styleGAN        .   latent vector $z$  $w$ '<U>style </U>'          ,      latent vector $z$  $w$     .   
 GAN inversion  image manipulation   ,  styleGAN  high-resolution image synthesis     <U>    </U> main contribution .      ,        [image manipulation ](https://6unoyunr.github.io/blog/imagemanipulate)      .   
StyleCLIP     StyleGAN  Image manipulation task   ,      VL contrastive  CLIP  <U>text guidance</U>  image manipulation       .


#   ?

   <U>image manipulation task</U>       styleGAN latent space  semantical information ,    .   latent space searching         ,        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215320268-1ddc118f-2e02-4fe1-be7a-919196a3d324.png" width="900"/>
</div>


     ,      latent vector $w_1$ ,        latent vector $w_2$  .  latent space searching  ' '    latent manipulation      random      . Latent vector $512$      supervision        .     [GANspace](https://arxiv.org/pdf/2004.02546.pdf), [Semantic face editing](https://arxiv.org/pdf/1907.10786.pdf)  [StyleSpace ](https://openaccess.thecvf.com/content/CVPR2021/papers/Wu_StyleSpace_Analysis_Disentangled_Controls_for_StyleGAN_Image_Generation_CVPR_2021_paper.pdf)  .      attribute  classification guidance  [InterfaceGAN](https://arxiv.org/pdf/2005.09635.pdf) [StyleFlow](https://arxiv.org/pdf/2005.09635.pdf) .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215321251-44e2194d-1ae1-4fc8-857e-ac61137e92e4.png" width="900"/>
</div>


 latent space  element   attribute  ' '   attribute    latent manipulation   .  parametric model 3DMM  3D face mesh consistent sampling  [StyleRig](https://arxiv.org/pdf/2004.00121.pdf)   .   
    semantic direction    ,   image manipulation     (latent space searching, classifier  guidance).    latent space mapping  direction  searching  (StyleRig), <U>manual effort</U>   <U>annotated data</U>     .


# CLIP  image manipulation
   text-image web dataset prompt  image representation  VL contrastive model  ,   <U>prompt based zero-shot image classification</U>      image manipulation        . CLIP   framework styleGAN       ,        .

1.    text-guided latent optimization  .  CLIP model loss network(latent vector trainable parameter gradient , clip encoder  text encoder   similarity loss   latent   )
2. Latent residual mapper  .   latent vector     latent mapper , $\\mathcal{W}$ space  latenr CLIP representation   latent vector mapping.
3.    text prompt  style space  .   styleGAN   $\\mathcal{W}$ space disentanglement    style mapping     .


# Related works

## Vision-Language tasks
     related works <U>vision + language</U> representation    . Vision Language   language based image retrieval(  ), image captioning(   )  visual question answering(     )    task . BERT   language task      ,  VL   joint representation(    )   <U>transformer backbone</U>  . CLIP  <U>transformer backbone</U>    .  image encoder ResNet50      transformer   , attention pooling    embedding   transformer     . 

## Text-guided image generation and manipulation
 image generation   multimodal   .   conditional GAN  ,  condition vector text embedding      .   ([](https://arxiv.org/abs/1605.05396))   transformer      RNN   text embedding ,  generator discriminator   conditional   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215374864-a3774c59-1894-4e93-925b-bbba30f72354.png" width="900"/>
</div>


 multi-scale GAN   image quality , attention mechanism text image feature     ([](https://arxiv.org/pdf/1711.10485.pdf)).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215375227-be754bf6-97c0-4b3a-9ca0-dadbcd63ae91.png" width="900"/>
</div>


    image generation ,      image  text    supervision    image manipulation    .  image manipulation task generation       <U> </U>    .  GAN     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215375676-9fc38293-eff9-41d8-bb78-8b525cf9322c.png" width="900"/>
</div>

GAN encoder/decoder structure      image text description  semantic disentangle  .    image manipulation       [ManiGAN](https://arxiv.org/pdf/1912.06203.pdf) ACM text-image <U>affine combination module</U>  manipulated     .    styleGAN  affine   style modulation       .     styleGAN base    basic GAN approach , StyleCLIP  StyleGAN approach      .   
 StyleGAN  approach StyleCLIP  . [TediGAN](https://arxiv.org/pdf/2012.03308.pdf)  StyleGAN approach , StyleCLIP     text StyleGAN latent space mapping encoder ,   text   style space image style space   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215376914-5c2dedbc-189c-49b9-b9c0-8054b37e78d8.png" width="600"/>
</div>


 TediGAN approach StyleGAN 8 MLP  $\\mathcal{W}$-space  normal distribution $\\mathcal{Z} \\sim \\mathcal{N}(0,~I)$  , image modality text modality    <U>encoder  implicit functional mapping </U>   .      text image   representation   , CLIP   TediGAN StyleCLIP    .  DALL-E   GPU    text to image manipulation    . StyleCLIP         StyleGAN CLIP image manipulation   ([ ](https://towardsdatascience.com/generating-images-from-prompts-using-clip-and-stylegan-1f9ed495ddda)).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215377921-95be986c-42e7-436a-811b-640742392199.png" width="500"/>
</div>


     StyleCLIP image manipulation approach  latent optimization       .        latent optimization,      style space latent vector  optimization , <U>image manipulation</U>        .

## Latent space image manipulation
Image manipulation task pre-trained styleGAN generator      . StyleGAN intermediate style space $\\mathcal{W}$ disentanglement  image manipulation     .    latent space  , manipulated image representation guidance   ,  image annotation supervision  approach  meaningful direction  approach   .  styleGAN base  manipulation  $512$  $\\mathcal{W}$-space vector ,    feature level  style  $\\mathcal{W}+$ vector .  [stylespace  ](https://arxiv.org/pdf/2011.12799.pdf) stylespace $\\mathcal{S}$      ,  space disentanglement  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215379873-de5b104f-831d-4240-bf46-97d1a6705691.png" width="700"/>
</div>

    StyleCLIP    optimization  ,  

1.    text-guided latent optimization  .  CLIP model loss network(latent vector trainable parameter gradient , clip encoder  text encoder   similarity loss   latent   )
2. Latent residual mapper  .   latent vector     latent mapper , $\\mathcal{W}$ space  latenr CLIP representation   latent vector mapping.
3.    text prompt  style space  .   styleGAN   $\\mathcal{W}$ space disentanglement    style mapping     .

 .  latent optimization    1 2   StyleGAN space $\\mathcal{W}$,  $\\mathcal{W}+$   , 3  $\\mathcal{S}$ space    (input agnostic).


# StyleCLIP text-driven image(latent) manipulation

         .     source image  style   text prompt   .    hyperparameter           mapping network  latent space mapping    .  <U>local mapper</U> , mapper  latent space    latent vector  step inference   mapping     .  mapper   text prompt   image sample latent starting point   .   
       manipulation  mapper    mapper step  (manipulation  ) disentanglement       .  input agnostic( starting point ) mapping network   ,  global manipulation direction style space $\\mathcal{S}$  .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215386009-5771a369-9e87-4e98-8bea-427fe25502e4.png" width="900"/>
</div>


## Latent optimization
Latent optimization    .            .

$$
    \\begin{aligned}
    &\\arg \\min _{w \\in \\mathcal{W}+} D_\\text{CLIP} (G(w), t) + \\lambda_\\text{L2} \\parallel w - w_s \\parallel_2 + \\lambda_\\text{ID} \\mathcal{L}_\\text{ID} (w) \\newline
    &\\mathcal{L}_\\text{ID} (w) = 1- \\left< R(G(w_s)), R(G(w)) \\right>
    \\end{aligned}
$$

 $R$ ArcFace network( ) pretrained feature extractor  , $\\left< \\cdot, \\cdot \\right>$       feature embedding  cosine similarity   . Input image [e4e](https://arxiv.org/abs/2102.02766)  $w_s$ mapping  . $D_{\\text{CLIP}}$       <U>CLIP image embedding</U> <U>text embedding</U>       ,  term <U>    </U>(contents )   .    weight $\\lambda_\\text{L2},~\\lambda_\\text{ID}$   .

## Latent mapper
   latent optimization   input image text prompt      process  hyperparamer   .        latent starting point $w$ (input image  ), text prompt $t$  latent mapper $M_t$  $\\mathcal{W}+$ manipulation step   . , pretrained styleGAN  latent   <U>  </U>  mapper .   

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215380004-e5e82b34-8b57-44fe-9211-6dc1013b3178.png" width="900"/>
</div>

StyleGAN  layer level   image detail   coarse, medium  fine  mapper  .  mapper StyleGAN mapper layer   4 layer  fully-connected networks .   , latent mapper latent $w_s$   latent vector $w$   , <U> </U>  .

$$
    \\mathcal{L}_\\text{CLIP}(w) = D_\\text{CLIP}(G(w + M_t (w)), t)    
$$

   loss term  . , $M_t(w) = w - w_s$   .  $\\lambda_\\text{L2} = 0.8$  $\\mathcal{L}_\\text{ID} = 0.1$ .

$$
    \\mathcal{L}(w) = \\mathcal{L}_\\text{CLIP}(w) + \\lambda_\\text{L2} \\parallel M_t(w) \\parallel_2 + \\lambda_\\text{ID} \\mathcal{L}_\\text{ID} (w)
$$

     <U>  parameter  </U>  .    <U> limitation</U>    , text based approach    **latent searching**    **hyperparameter searching**         .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215389280-7f136251-9a53-4692-ab5a-1c4265161981.png" width="700"/>
</div>



## Global direction
Latent mapper optimization    inference time , fine-grained disentangled manipulation(    manipulation)       ,   $\\mathcal{W}+$ spcae     .     style space $\\mathcal{S}$ global direction  .  $s \\in \\mathcal{S}$ style space code .  $G(s)$  style code   image   . Manipulation  attribute  text prompt  ,  style code $s$ manipulation direction $\\Delta s$  . ,   attribute   $G(s + \\alpha \\Delta s)$    .  style direction $\\Delta s$ <U>manipulation  attribute   attribute  </U>.   step size $\\alpha$  .   
 CLIP text encoder  joint language-image embedding $\\Delta t$ ,   manipulation direction $\\Delta s$ mapping . Text  direction $\\Delta t$ natural language text prompt engineering ,   $\\Delta s$  style channel target attribute    .      .   image embedding  manifold $\\mathcal{I}$ text embedding  manifold $\\mathcal{T}$   , image semantic changes    text semantic changes       collinear(large cosine similarity)   ,   normalization     .   
  style  $G(s)$  style   $G(s + \\alpha \\Delta s)$   $\\mathcal{I}$ manifold embedding $i$, $i+\\Delta i$   .   CLIP   $\\Delta i$    ,    text embedding  $\\Delta t$      global direction    .

##### Natural language to $\\Delta t$

    CLIP based approach   /    ,    text prompt    image  mapping      modality      .  '  ' image description    ,              image text  one to one mapping function ,   CLIP space   manifold      .   
 inconsistency        ImageNet zero-shot classification  template,   task  dataset    text prompt augmentation    .    .


\`\`\`python
imagenet_templates = [
    'a bad photo of a {}.',
    'a photo of many {}.',
    'a sculpture of a {}.',
    'a photo of the hard to see {}.',
    'a low resolution photo of the {}.',
    'a rendering of a {}.',
    'graffiti of a {}.',
    'a bad photo of the {}.',
    ...
    ...
]
\`\`\`

     text prompt     $80$ prompt engineering template .      ,  embedding   embedding space    mapping  , probability distribution mapping    .

##### Channelwise relevance

     $\\Delta i$ $\\Delta t$     style code $s$   manipulation  ,  style code channel    attribute         .   <U>style code coordinate</U> $c$      <U>CLIP image manifold</U> $\\mathcal{I}$  $\\Delta i_c$ .   coordinate  $\\Delta i$   , <U>style coordinate $c$  relevance</U>($R_c$) $\\Delta i_c$ $\\Delta i$ projection  .

$$
    R_c (\\Delta i) = \\mathbb{E}_{s \\in \\mathcal{S}} \\left( \\Delta i_c \\cdot \\Delta i \\right)    
$$

 100 image pair      .   image pair $G(s \\pm \\alpha \\Delta s_c)$ ,  $s_c$ $c$ coordinate   $0$ , $c$ coordinate  channel standard deviation .    relevance $R_c$    relevance threshold $\\beta$    . Threshold parameter <U>entanglement   </U>   .

$$
    \\Delta s = \\begin{cases}
        \\Delta i_c \\cdot \\Delta i, & \\text{if }\\vert \\Delta i_c \\cdot \\Delta i \\vert \\ge \\beta \\newline
        0, & \\text{otherwise}
    \\end{cases}    
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215396601-781f1bdf-d647-4ed8-bc39-532e271cb8e0.png" width="1200"/>
</div>



# 

  main contribution  stylespace   CLIP embedding   image manipulation       text embedding     CLIP space   style transfer     .   <U>hyperparameter </U>  sample clip  <U>attribute change      </U>,     object ( ) <U>image manipulation  </U>    .   
 StyleGAN  baseline     modality style mixing ,   CLIP space  broad diversity  embedding representation   .     , StyleGAN baseline style mapping  image manipulation   ,       paper      .


# StyleGAN-NADA

StyleCLIP  , latent manipulation    layer finetuning  [styleGAN-NADA](https://arxiv.org/pdf/2108.00946.pdf)  .      task image generator  manifold   target domain mapping  <U>text prompt  guidance(supervision)</U>   ,  style  image supervision   domain  image manipulation  <U>   </U> .   StyleGAN-NADA       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648852-17c8a3ef-4706-4bd5-ac3b-63b845322d30.png" width="500"/>
    <img src="https://user-images.githubusercontent.com/79881119/215648859-836d6a4d-0823-4d12-8d9e-7e1778baf484.png" width="500"/>
</div>


**StyleCLIP**     $\\mathcal{W}+$ space, $\\mathcal{S}$ space     StyleGAN domain  image manipulation   in-domain     .       CLIP text guiding    .       adversarial solution(  image manifold  artifact   ) **target domain    **.       loss  StyleCLIP    CLIP embedding space **text direction** **image direction**  ().


# Related works

 text guided image synthesis    .  CLIP    image text      ,   text prompt  image synthesis manipulation task    . StyleCLIP    , CLIP  StyleGAN           latent optimization , <U>   latent code   </U>   .  StyleGAN-NADA    <U>image generator  text prompt guidance  </U>,  domain  image manipulation  .

  text-guided synthesis   task    generator  .   few-shot learning generator       generator overfitting mode-collapse(   )       augmentation   auxiliary task  representation    . Style-NADA      overfitting mode-collapse   ,      CLIP based text prompt guidance  .

     StyleGAN, StyleCLIP          . StyleCLIP      , StyleGAN    ([ ](https://6unoyunr.github.io/blog/gan2)).


# CLIP based guidance


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648862-2005c3e6-3ee6-4692-b814-eee2b7aff28b.png" width="500"/>
</div>


         figure. Source domain    generator $G$ copy ,  <U>frozen</U>  source domain      <U>fine tuning</U> target domain  ,  guidance CLIP loss  .

  StyleCLIP    Global loss   directional CLIP loss  .    **CLIP based style transfer, image manipulation **        .

### Global loss

      generator   target  text prompt  CLIP loss  .

$$
    \\mathcal{L}_\\text{global} = D_\\text{CLIP} (G(w), t_\\text{target})
$$

Latent code $w$  , image generator $G$    image encoder $E_I$   , target text prompt text encoder $E_T$       . StyleCLIP    loss   parameter $w$  $G$ parameter .       ,     <U>adversarial solution</U>    . Generator parameter      Wassertein loss adversarial loss  real image manifold         .    loss term <U>mode collapse</U>  ,       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648868-84893a52-5139-413f-8a42-45c5777f728f.png" width="500"/>
</div>


  ** ** target domain  ** ** source domain  .   CLIP space(image embedding)       .  ** text prompt**  CLIP space(text embedding)  ** text prompt**  CLIP space(text embedding)     /  .

   text prompt    (b)    .     text prompt   image embedding    minimizer  ,      <U>    </U>        .  mode-collapse .

### Directional CLIP loss

       StyleCLIP    global direction approach  . Global direction approach,  target text prompt     source text target text  ,  source image                . 

$$
    \\begin{aligned}
        \\Delta T =& E_T(t_\\text{target}) - E_T (t_\\text{source}) \\newline
        \\Delta I =& E_I (G_\\text{train}(w)) - E_I (G_\\text{frozen}(w)) \\newline
        \\mathcal{L}_\\text{direction} =& 1-\\frac{\\Delta I \\cdot \\Delta T}{\\vert \\Delta I \\vert \\vert \\Delta T \\vert}
    \\end{aligned}
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648873-6a890147-2e22-4e6a-a66e-629cb218cb7f.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/215648877-d6a9ac55-27b5-4fa5-ab6d-2cf4085ff31a.png" width="500"/>
</div>


        .       target domain         .


# Layer freezing

Domain shift texture  ( ,     )   training scheme  mode collapse  overfitting  .  few-shot domain adaptation  network weights     synthesized result  ,    zero-shot  task     . <U>    </U>    network    ,    overfitting    <U> </U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648878-55b6b464-864e-46b3-bde7-8dbda2792575.png" width="500"/>
</div>


      ? 

    **   **  . StyleGAN      style code   semantic attribute  .     $w_1$, $w_2$  coarse feature  latent code  ,   $w_l$  fine feature  latent code  . Image manipulation     $\\mathcal{W}+$   layer  style   style code       .            $w_i \\in \\mathcal{W}$        layer  fine-tuning  , high quality     .

 $k$ layer     $N$ latent code $M(z) = w$  ,  $\\mathcal{W}+$    style code replicate .      image manipulation       ([ ](https://6unoyunr.github.io/blog/imagemanipulate)).   $i$ iteration  StlyeCLIP latent-code optimization (  parameter generator  latent code  ),  latent code  .     $w$ code  $k$ layer ,   .


# Latent-Mapper mining

           .    generator   target domain    ,   dog cat  task, fine-tuning        ,          .     StyleCLIP latent-mapping   , latent code cat  region    .


# 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/215648880-5fcf3a4d-9426-46d1-ab6b-9fc4d76902c0.png" width="1000"/>
</div>


     <U>image embedding, text embedding</U>  guidance   ,     guidance    .    contribution StyleCLIP  StyleGAN generator  parameter  fine-tuning  ,       out of domain style      .    latent code   domain     latent mapping   ,  layer mining        .   **CLIP   style mixing   **  .
`,Zte=`---
title: "Zero-shot Text-Guided Object Generation with Dream Fields "
category: "ai papers"
publishedAt: "2023-02-07"
thumbnail: "https://user-images.githubusercontent.com/79881119/217228342-09cbf4d6-be6e-4086-98dc-e34b2a8a5fe2.png"
---


#  

  **   **  , text representation   multi-modal image   3D object  . 3D generation  rendering        captioning 3D dataset .  3D generation network   (pool) category      (ex. [ShapeNet](https://arxiv.org/abs/1512.03012)).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228269-31afad43-1d31-4c0a-9976-eeff42540e1f.png" width="400"/>
</div>


    texture    ,    ( 4  text prompt-image pair) [WebImageText dataset](https://github.com/google-research-datasets/wit)  [CLIP ](https://arxiv.org/abs/2103.00020)  generation guidance   .         ,    camera view   Neural Radiance Field(NeRF) target caption   .    guidance    **CLIP network**,  CLIP network  loss    3D   fidelity        geometric prior . **Geometric prior** sparsity  transmittance regularization,  scene bound,   MLP  . 


# Why zero-shot is important?

   **  **  .   Neural Field   ,  dataset  high fidelity 3D representation     image      .  zero-shot  SOTA  ,   fully supervised learning       .   zero-shot    ** **       . 3D object model  Game Virtual reality       . Unity                 3D object,  2D object  digital software(Blender Maya )    texture()     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228280-adf8cbe4-089f-4d9c-8520-10ae5c91075e.png" width="400"/>
</div>



 NeRF      object   ,   WebImageText dataset       3D       ** **  .     ,            ,        distribution     .

      **    **(meta learning, low-shot learning, domain generalization, unsupervised-domain adaptation )    zero-shot learning   ,       task      problem  limitation   .


# Challenging in multimedia application

NeRF     3D dataset     category ,       .                 (, ,  )    texture     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228284-122e98ee-493f-4cec-b8ac-78d00445e54e.png" width="300"/>
    <img src="https://user-images.githubusercontent.com/79881119/217228288-b8e3512a-1b8f-413b-bad8-a12e5f886c0a.png" width="900"/>
</div>


 approach 3D dataset  **point cloud** **voxel grid**,  **triangle mesh**        3D geometry texture    .


# Automatically generate open-set 3D models

    dream fields        open-set natural language prompt image representation ,    zero-shot task     CLIP . Dream fields NeRF   scene geometry color  perceptual metric   ,       3D training dataset   . NeRF     RGB photo ground truth    image reconstruction .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228289-d2db45e9-7a88-411d-a44d-f53a51e0bd67.png" width="700"/>
</div>



      $F_\\theta$ implicit 3D space ,    object  representation viewing point, direction         . NeRF  interpolation        . NeRF       ,    description novel image    . Input image ,         **text description** 3D semantic feature   . CLIP image-text representation NeRF volumetric rendering        dream fields zero-shot   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228291-99eb8691-35bd-4c4c-a80b-42bdfe2f116f.png" width="500"/>
</div>



  regularization  CLIP representation(text prompt  supervision)    **artifact** ,    **geometric constraints**  .


# Contribution

   contribution   ,   introduction .    ,

- Image/Text pair  CLIP   3D shape multi-view dataset  NeRF   .
- Zero-shot description   3D object generation .
- Geometric priors   fidelity .

   **geometric prior**       sub-contribution      ,         .


# Related works

  [DeepDream](https://ai.googleblog.com/2015/06/inceptionism-going-deeper-into-neural.html)     .      too much ,  NeRF    object       CLIP           .  Neural network        .  pre-trained generative network     image   GAN inversion latent optimization    .   CLIP       style transfer    differentiable image parameterization .

            CLIP     style transfer       paper  paper insight               .     related works      .  ,  style content  loss image-text loss  text prompt  style  content  generation controllability   .  style transfer    target  style image feature ,  style   quality      CLIP  style transfer  style image    description  . [ ](https://distill.pub/2018/differentiable-parameterizations/)   geometry(   object) optimized texture  transfer  dream fields   open-ended text guided generation  .

  paper  CLIP  3D generation    [CLIP-Forge](https://arxiv.org/abs/2110.02624) ,   geometry  decoder  ShapeNet category  guidance   out of domain generation   . [Text2Shape](http://text2shape.stanford.edu/)     text-conditional WGAN   voxelized objects  task ,   ShapeNet   task    NeRF  voxel   resolution   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228296-61ab9531-1744-4afd-afed-18d554b37d55.png" width="1200"/>
</div>



 voxel  shape generation         .

Related works   , MIT         [Evolving evocative 2D views](https://arxiv.org/pdf/2111.04839.pdf)  4   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228302-dadb4e0a-b689-4857-ad05-5ad936f86c04.png" width="800"/>
</div>



  3D supershapes(3D   )  viewpoint  projection 2D view  loop   CLIP score , manually coloring  .  CLIP    ,   human SMPL model vertices textures  stylize [ClipMatrix](https://arxiv.org/abs/2109.12922), signed-distance fields editing      .      , SIREN network weight CLIP   image generation , VQGAN-CLIP, StyleGAN-CLIP  image generation      CLIP    .  2D image  generative model NeRF   3d-aware GAN   ,   open-set text  generation       .


# Backgrounds

### NeRf

NeRF       ,           . NeRF scene density color MLP   ,  network query    3D point  $(x,~y,~z)$ viewing direction $(\\theta,~\\phi)$. Notation         canonical space spherical space   ,  canonical space implicit  MLP   density  transmittance    spherical space   color(RGB value)   .          2D image    .

  ,   MLP 3D position $x$ input      density $\\sigma_\\theta(x)$ color $c_\\theta (x)$ output  .  MLP    ,  viewpoint image      .     ray $r(t)$  volume rendering equation    .

$$
    C(r, \\theta) = \\int_{t_n}^{t_f} T(r, t) \\sigma_\\theta (r(t)) c_\\theta (r(t)) dt  
$$


  $T(r, t)$ transmittance, $t_n$  ray $t$   absorb(object  decaying)   . , scene boundary $t_n$  $t$       .

$$
T(r, t) = \\exp\\left( -\\int_{t_n}^t \\sigma_\\theta (r(s))ds \\right)
$$

    ray   point        ray smaller segments $(t_{i-1} \\leq r_i < t_i)$ ,  segment  $\\sigma$ $c$   constant   .  point          .

$$
C(r, \\theta) \\approx \\sum_i T_i (1 - \\exp (-\\sigma_\\theta (r(t_i))\\delta_i))c_\\theta (r(t_i))
$$

$$
T_i = \\exp \\left( -\\sum_{j < i} \\sigma_\\theta (r(t_j))\\delta_j \\right),~\\delta_i = t_i - t_{i-1}
$$

MLP parameter $\\theta$ pose $p$  setting ,  pixel  ray  color  density      rendering   color $C(r, \\theta)$    image $I(\\theta, p)$    .

 MLP  , 3D representation  implicit    feature representation    positional encoding .

$$
\\gamma (x) = (\\cos (2^l x),~\\sin (2^l x))^{L-1}_{l=0}
$$

$L$ positional encoding level .    [mip-NeRF](https://arxiv.org/abs/2103.13415)  integrated positional encoding(IPE)  .

### IPE(Integrated Positional Encoding)


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228304-e1060464-073b-4717-8264-dacccf47592a.png" width="700"/>
</div>



IPE       . NeRF   frequency  encoding,         encoding value aliasing (encoding frequency sampling rate    ).         gaussian  ,  region     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228305-fc2e71d1-590a-4195-b89e-f7bc210faca6.png" width="300"/>
</div>



 center of projection $o$ pixel    (normal vector)    .    $o$ $d$      (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228310-064b35c9-b705-44a5-9959-3d4156c97254.png" width="700"/>
</div>



     center of projection $o$    ($o+d$)  image plane   ,   pixel ( width) $\\dot{r}$ parameter   .      $t_0$ $t_1$  position $x$   .

$$
F(x, o, d, \\dot{r}, t_0, t_1) = \\left(t_0 < \\frac{d^\\top(x-o)}{\\vert \\vert d \\vert \\vert_2^2} < t_1 \\right) \\& \\left( \\frac{d^\\top (x-o)}{\\vert\\vert d \\vert\\vert_2 \\vert\\vert x-o \\vert\\vert_2} > \\frac{1}{\\sqrt{1+(\\dot{r}/\\vert\\vert d \\vert\\vert _2)^2}}  \\right) 
$$

    $x$   $n$    ,   positional encoding   .      positional encoding $\\gamma (x)$  point   ,    point   .

$$
\\gamma^* (o, d, \\dot{r}, t_0, t_1) = \\frac{\\int \\gamma (x) F(x, o, d, \\dot{r}, t_0, t_1) dx}{\\int F(x, o, d, \\dot{r}, t_0, t_1) dx}
$$

           intractable        approximation  .        $\\gamma(x)$ expectation  multivariate gaussian  integrated positional encoding .

### Image-text models

CLIP  image-text          .     $g$   $h$ .   modality  data embedding space mapping  .   $I$  text prompt $T$ , image embedding $g(I)$ text embedding $h(T)$      .     CLIP space ,      ,   L2 norm $1$  normalize .  CLIP classification     .

\`\`\`python
# Prepare the inputs
image, class_id = cifar100[3637]
image_input = preprocess(image).unsqueeze(0).to(device)
text_inputs = torch.cat([clip.tokenize(f"a photo of a {c}") for c in cifar100.classes]).to(device)

# Calculate features
with torch.no_grad():
    image_features = model.encode_image(image_input)
    text_features = model.encode_text(text_inputs)

# Pick the top 5 most similar labels for the image
image_features /= image_features.norm(dim=-1, keepdim=True)
text_features /= text_features.norm(dim=-1, keepdim=True)
similarity = (100.0 * image_features @ text_features.T).softmax(dim=-1)
values, indices = similarity[0].topk(5)

# Print the result
print("
Top predictions:
")
for value, index in zip(values, indices):
    print(f"{cifar100.classes[index]:>16s}: {100 * value.item():.2f}%")
\`\`\`

 top 5 most similar labels for the image    , \`.encode_image()\`  \`.encode_text()\`    embedding normalize     .      cosine similarity(distance)      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228312-43dc415c-c74d-43ef-b957-85011bccdb8e.png" width="500"/>
</div>



$N$ text-image pair     $N$   positive pair,  $N^2-N$   negative pair  contrastive learning . InfoNCE  matrix     text embedding  information image embedding  information  (mutual information)   .


# Methods

### Object representation

NeRF scene representation     dream fields MLP parameter set $\\theta$  neural network query position $x$  output $\\sigma_\\theta (x)$ $c_\\theta(x)$  .  NeRF space MLP  implicit ,  3D space   density color      .      NeRF   simplified  camera viewing direction   ,  viewing direction      .   pose $p$         pixel  ray r$(t)$   ,  ray  sampling equation

$$
T_i = \\exp \\left( -\\sum_{j < i} \\sigma_\\theta (r(t_j))\\delta_j \\right),~\\delta_i = t_i - t_{i-1}
$$

   $I(\\theta, p)$   .    fidelity  ,  $192$   .

### Objective function

 dream fields    object function  . NeRF space MLP parameter $\\theta$     CLIP encoder $g, h$  freeze     backpropagation  gradient  .  CLIP loss  end-to-end    parameter $\\theta$   loss

$$
\\mathcal{L}_\\text{CLIP}(\\theta, \\text{pose } p, \\text{caption } y) = -g(I(\\theta, p))^\\top h(y)
$$

 . Camera pose $p$  rendering  $I$    ,  text prompt     (cosine similarity ).  image encoder, text encoder CLIP   ViT   , [LiT baseline](https://arxiv.org/abs/2111.07991)  .  Few-shot NeRF     [DietNeRF](https://arxiv.org/abs/2104.00677) rendering  real image    ,   real image   caption   zero-shot(object photo   ) task  .  DietNeRF    CLIP image encoder  consistency loss   CLIP embedding space low-shot learning     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228314-1ec75432-97c3-4f06-8e04-25734551295e.png" width="400"/>
</div>



### Challenges with CLIP guidance

 CLIP           , text  image   semantic information   .   NeRF     , multiple direction      3D representation      supervision         spurious density (novel view    representation    )    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228317-b95e1d77-e74e-4352-b935-1344dfa2706b.png" width="400"/>
</div>



 zero-shot task  ,       supervision text prompt  NeRF    unconstrained  .   optimization       , PCA     penalty(regularization)   feasibility   searching space   . NeRF     ,  large dataset       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228320-f2c77e3a-52dd-49b5-8228-a9dc4a1e958e.png" width="500"/>
</div>



   /        viewing image  constraints  .  $N$          , $1$      $N^l$       .  $l$   .  zero-shot learning   text prompt         .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228322-b8424c53-3796-4677-81bf-25e400e2eb57.png" width="500"/>
</div>



    density   region( ) , object  density   fidelity object   camera space    .

### Pose sampling

Random crop  image dataset   augmentation     style transfer  deep dream   image generation    . Image augmentation  in-plane 2D transformation     . Dream fields 3D data augmentation    training iteration   camera pose extrinsics   . Scene  $360^\\circ$  azimuth uniformly sample,  training iteration object       . MLP   scene representation   ,  camera sampling   object geometry      .

    camera elevation(focal length , object )  augmentation       .

### Encouraging coherent objects through sparsity

Near field artifacts(field  artifact  ) spurious density(  )    dream fields rendering  opacity regularization  . Opacity   transmittance  , transmittance ray $r$ $t$ plane  $t_n$       (     ).    total transmittance $N$ sampling segment   joint transmittance .       .

$$
\\begin{aligned}
T_i =& \\exp \\left( -\\sum_{j < i} \\sigma_\\theta (r(t_j))\\delta_j \\right) \\newline
=& \\prod_{j=1}^{i} \\exp \\left( -\\sigma_\\theta(r(t_j))(t_j - t_{j-1}) \\right)
\\end{aligned}
$$

 , transmittance loss   .

$$
    \\begin{aligned}
        \\mathcal{L}_T =& -\\min (\\tau, \\text{mean}(T(\\theta, p))) \\newline
        \\mathcal{L}_\\text{total} =& \\mathcal{L}_\\text{CLIP} + \\lambda \\mathcal{L}_T
    \\end{aligned}
$$

 $\\tau$   target transparency .  joint probability   spurious density  ,   ray   density     loss term   object      .      $\\tau$ $88\\%$   , $500$ iteration  $40\\%$  completely transparent(object   ) . Focal length  $\\tau$ scaling    object distance    .     white  black background    transmittance  scene background   ,    background     object    . Dream fields gaussian noise, checkerboard  random fourier texture background   random gaussian noise smoothing  . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228324-8d62abcd-d50f-4404-b5eb-ec212b29e11e.png" width="600"/>
</div>



 prompt An illustration of a pumpkin on the vine.     regularization   sparse image      ,  white background augmented background   sharper object     .

### Localizing objects and bounding scene

Neural Radiance Fields image reconstruction  , scene content NeRF       align  . Dream fields  center   3D object     , ray shifting      . Origin   rendering object  exponentially moving  , object      density masking   cube  object .

### Neural scene representation architecture

NeRF 8 layer  MLP ,   width(channel )   RGB value      layer (   ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228327-5dba54b4-f3af-45c7-9b7a-1d8d4a93eacf.png" width="700"/>
</div>



     residual MLP structure , residual connection two dense layer   .        official     . Google  \`pytorch\`  \`flax, jax\`  .

\`\`\`python
class MipMLPLate(nn.Module):
  """MLP architecture."""
  activation: str, features_early: Sequence[int], features_residual: Sequence[Sequence[int]]
  features_late: Sequence[int], fourfeat: bool, max_deg: int, use_cov: bool, dropout_rate: float

  @nn.compact
  def __call__(self, mean, cov=None, x_late=None, decayscale=1., *, deterministic):
    """Run MLP."""
    # Integrate the positional encoding over a region centered at mean.
    if not self.fourfeat:
      # Axis-aligned positional encoding.
      feat = 2**np.arange(self.max_deg)[:, None, None] * np.eye(3)
      feat = feat.reshape(-1, 3)
    else:
      # Random Fourier Feature positional encoding. Fix the PRNGKey used for the
      # fourier feature basis so the encoding does not change over iterations.
      fourfeat_key = random.PRNGKey(124124)
      dirs = random.normal(fourfeat_key, (3, 128))
      dirs = dirs / np.linalg.norm(dirs, axis=-1, keepdims=True)
      rads = 2 ** (self.max_deg * random.uniform(fourfeat_key, (128,)))
      feats = (rads * dirs).astype(np.int32)
      feats = np.concatenate([np.eye(3), feats], 1).astype(np.float32)
      feat = feats.T

    mean_proj = (mean[Ellipsis, None] * feat.T).sum(-2)
    if self.use_cov:
      cov_diag_proj = ((cov[Ellipsis, None] * feat.T).sum(-2) * feat.T).sum(-2)
      decay = np.exp(-.5 * cov_diag_proj * decayscale**2)
    else:
      # Disable IPE
      decay = 1.
    x = np.concatenate([decay * np.cos(mean_proj),
                        decay * np.sin(mean_proj)], -1)

    # Network
    activation = nn.__getattribute__(self.activation)
    for feat in self.features_early:
      x = activation(nn.Dense(feat)(x))
      x = nn.Dropout(self.dropout_rate)(
          x, deterministic=deterministic)

    for feat_block in self.features_residual:
      h = nn.LayerNorm()(x)
      for l, feat in enumerate(feat_block):
        h = nn.Dense(feat)(h)
        h = nn.Dropout(self.dropout_rate)(
            h, deterministic=deterministic)
        if l < len(feat_block) - 1:  # don't activate right before the residual
          h = activation(h)
      x = x + h

    if x_late is not None:
      x = np.concatenate([x, x_late], axis=-1)
    for feat in self.features_late[:-1]:
      x = activation(nn.Dense(feat)(x))
      x = nn.Dropout(self.dropout_rate)(
          x, deterministic=deterministic)
    x = nn.Dense(self.features_late[-1])(x)  # don't activate output
    return x
\`\`\`

\`jax\`  \`np\` \`numpy\`    \`flax.linen\`  \`nn\` \`pytorch\` \`torch.nn\`     . Residual layer 2 layers , layer normalization  residual layer     .  API    bottleneck    channel expansion    .

 vanishing gradient  highly transparent scenes( rendering 0  )     ReLU activation function   Swish  density $\\sigma_\\theta$ softplus function  rectify .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228329-5722b141-5cec-4e42-8a78-5c926ea4e878.png" width="400"/>
</div>



$$
f(x) = x \\cdot \\sigma(x),~\\sigma(x) = \\frac{1}{1+e^{-x}}
$$


# Results

### Quantitative results on geometric priors


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228331-f17970bf-ae50-4883-9765-f6f54d2e8791.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/217228340-29b945ee-0cb9-4b02-9a32-8d2b3fc017fa.png" width="900"/>
</div>



    geometric prior COCO caption    retrieval    .   metric       retrieval      .  regularization  (  transparency  ) retrieval      .

### Compositional generation


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228342-09cbf4d6-be6e-4086-98dc-e34b2a8a5fe2.png" width="900"/>
</div>



  cherry picking  dream fields  . Shape material     object   . DALL-E    caption       ,    3D object     .

### Regularization strength


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/217228352-e6281836-ba10-4ed6-bc3f-808d6c190523.png" width="800"/>
</div>



 transparency  strength    object       .  object  description A cake toped with white frosting flowers with chocolate centers.


# Discussion and Limitations

Dream fields zero-shot  NeRF      ,   .  generation  iterative optimization   ,      .   meta-learning amortization        .

  perspective   prompt .  object         ( texture collapse     ).              .            texture           appearance    .

 CLIP    .  CLIP image to text representation  , ground truth training image    score rendering   . CLIP   generation     . Pre-trained model       bias  .
`,Jte=`---
title: "Bootstrapping Language-Image Pre-training(BLIP, BLIP2)  "
category: "ai papers"
publishedAt: "2023-02-14"
thumbnail: "https://user-images.githubusercontent.com/79881119/218607874-ab1d0447-78ca-431f-b45f-9d74f7afdbbd.png"
---


# BLIP  

   <U>CLIP</U>  vision language multimodality   <U>Vision-Language Pre-training</U>(VLP) .   VLP   understanding based task(Encoding  downstream task  )  generation based task(Decoding   modality  )       .  VLP    CLIP     web  noisy image-text dataset  ( noisy     ,       ,    text prompt   image    ),     supervision        ,  **   **.   supervision      web     billion  pair ,  pair  prompt matching   .    .

BLIP paper     VLP framework    understanding task generation task      .         task       multitask learning     vision-language task(VL task)    ,      .    task            generation task    **decoder** understanding task    **encoder**  caption synthesizer caption filter  .  web     dataset noise     ,   task      . BLIP    ([ ](https://arxiv.org/abs/2201.12086)).


#  VLP 

    VLP    model  data    .

### Model perspective

 VLP  encoder-based   ([CLIP](https://arxiv.org/abs/2103.00020), [VILLA](https://arxiv.org/abs/2006.06195))  transformer  encoder-decoder  ([Unifying Vision and Language](https://arxiv.org/abs/2102.02779), [Deep Learning Library](https://arxiv.org/abs/1912.01703)).  encoder   text generation task     ( representation  transfer ), encoder-decoder text   image-text retrieval  modality understanding  task      .

### Data perspective

CLIP, [ALBEF](https://arxiv.org/abs/2107.07651)(about alignment)  [SimVLM](https://arxiv.org/abs/2108.10904)(about weakly supervised learning)   SOTA  Web    image-text pair .  dataset      performance  ,      vision-language learning      , noisy web text(   )        .       BLIP ,       VLP framework       . 


# Contribution

  data model  contribution  .

### Multimodal mixture of Encoder-Decoder(MED)

 <U> transfer learning</U>    model architecture . MED  encoder based encoder-decoder structure  unimodal encoder, image-grounded text encoder  image-grounded text decoder . Model multitask learning      $3$ objective function , **unimodal encoder**  image embedding text embedding  <U>contrastive learning</U>, **image-grounded text encoder** <U>image-text matching</U>    **decoder** <U>image-conditioned language modeling</U>  .

### Captioning and Filtering(CapFilt)

Noisy image-text pair dataset bootstrapping      <U>synthetic model</U>(decoder) **captioner** <U>understanding model</U>(encoder) **filter**  original <U>web caption</U> <U>synthetic caption</U>  **noisy   **.     captioner filter     ,  synthetic caption   filtering (filter only) captioning  (captioner only)         ,    caption bootstrapping   .    caption   augmentation        .

     BLIP  image-text retrieval, image captioning  VQA(video question answering)   task    .     video-language task transfer  zero-shot performance SOTA    representation     .


# Related works

### Vision-language pre-training

VLP task vision model language         <U>human-annotated text   </U>  web   image/text pair  .   VLP task  web based dataset  filtering(    )    web text  <U>noise   </U>    .  noise  drawback ,  <U>     </U>       .    VLP     noisy web text , noisy web text          CapFilt(Captioner and Filter) .

 vision task language task     (image captioning, VQA )      <U>understanding task</U> <U>generative task</U>        .  encoder-decoder model encoder only  decoder only    modality     BLIP   downstream task     pre-training     .

### Knowledge distillation

<U>Knowledge distillation</U>(KD)       .   knowledge distillation  task     teacher network,  teacher network representation   student network  .  classification task student network   teacher network   class probability ,       KL-divergence .     <U>self-distillation</U> teacher network student network      . KD   classification VLP task   . BLIP   KD  ,  KD   teacher network prediction student network    , <U>captioner</U> semantic-rich synthetic caption(     ) knowledge distill , <U>filter</U> noisy caption  distillation   .   distillation   ,      <U>   </U>    .

### Data augmentation

Computer vision data augmentation <U>dataset regularization</U>, overfitting    .   language task  data augmentation domain specific( ,           )      .   language model  generative model  synthesize   augmentation  .  NLP generative model     low-resource(  )  task  ,   <U>synthetic caption dataset</U> VLP      .


# Method

  BLIP  VLP(Vision-Language Pre-training)   noisy-image pair      ,   CapFilt     main contribution    <U>dataset bootstrapping</U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607874-ab1d0447-78ca-431f-b45f-9d74f7afdbbd.png" width="1000"/>
</div>


### Model architecture

****      ,   BLIP  trainining  <U>MED(Multimodal mixture of encoder-decoder)</U>  ,  3   encoder  decoder    .

 CLIP  VLP   image text embedding  <U>contrastive learning</U>  unimodal encoder image domain text domain  . **Image domain** encoder Vision transformer  **text encoder** BERT  .    image   caption   understanding module image-grounded text encoder . Image-grounded text encoder    cross-attention layer  image embedding  text encoder    matching    .

  image  synthesized caption augmentation(    , dataset bootstrapping)     text decoder  .  framework  description     ,                .

### Pre-training objectives

** **  figure  functionality    objective function  .     <U>ITC(Image-text contrastive loss)</U> ,  visual transformer text transformer  positive pair(image text description  ) , negative pair(   )  encoding unimodal encoder  . Vision text  <U>understanding improving</U>   ,      VLP  contrastive learning   .

  <U>ITM(Image-text matching loss)</U> image grounded text encoder  , binary classification task  . Encoder  prediction unimodal vision encoder    semantic  text embedding attention   text image positive(match) negative(unmatch)  .   BCE task   contrastive loss  <U>negative sample  </U>  loss optimization     <U>hard negative mining strategy</U>    negative sample        .

 <U>LM(Language modeling loss)</U> image grounded text decoder  , autoregressive   text input  cross-entropy loss  . VLP  MLM loss  LM loss visual information   caption     .

         4 parameter   .     self-attention layer  text encoder text decoder  parameter   multi-task learning . Self-attention layer   encoding decoding task input       ,   encoder bi-directional attention  decoder causality  (      context attention   ).   image grounding   cross-attention layer FFN network       parameter       .

### CapFilt


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607877-6bb08a32-dd2b-48dd-826b-f5814d00f125.png" width="1000"/>
</div>


**Annotation cost**  **image-text pair**   web-crawled dataset$(I_w, T_w)$ high-quality pair$(I_h, T_h)$    .     alt-text      <U> distribution  </U> .  noise   <U>   </U>   , BLIP    CapFilt    . 

 human annotated(high quality dataset) $(I_h, T_h)$  $(I_w, T_w)$  . <U>High quality dataset</U> <U>web based dataset</U>  noisy alt-text    filter captioner finetune  . Fine-tuned text decoder synthetic text $T_s$  web image $I_w$    fine-tuned text encoder   $I_w$ grounding  $T_w$ $T_s$  .  web dataset  $I_w$   text prompt     , text decoder  caption    .  CapFilt   dataset   high-quality dataset $(I_h, T_h)$, filtering web dataset $(I_w, T_w)$  $(I_w, T_s)$. <U>   bootstrapping dataset</U>   network pre-training  .   **  quality** dataset  ,   ** **   .


# Limitations and appearance of BLIP-2

        <U>  </U>.  pre-training  parameter      (fine-tuning)  <U>    </U> ,    end-to-end     . Bootstrapping Language-Image Pre-training for Unified Vision-Language Understanding and Generation             image encoder text encoder,  text decoder    task  performance      .    modality gap      .

BLIP 2   <U>    </U> VLP  .  


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607879-5e02144a-fbcb-4675-b4a4-b7ef6b84d617.png" width="800"/>
</div>


 main figure  .  BLIP 2 framework           . BLIP   4 transformer block   optimize ,  process  2 step pre-training   vision language alignment  .         .


# VLP research ?

CLIP  vision language    task       .       cost         . Vision-language  vision language      unimodal (vision computer vision SOTA, language NLP SOTA)      .   vision model language model  generic compute-efficient  , pre-trained vision model language model   (  guidance , frozen  ) bootstrapping      . LLM(Large language models)  GPT3 BERT    ,  language  generation zero-shot transfer     , vision task   task    representation (catastrophic forgetting)    pre-trained representation    .

VLP  unimodal LLM representation    cross-modal alignment   (vision representation language representation    ) . Text embedding space    $T$     image embedding space $I$  ,  manifold $1$ $1$ mapping      ,              .    modality   embedding space     multimodal  alignment , VLP     .

 BERT GPT3     image modality supervision    representation    freezing      .  BLIP-2    [Frozen](https://proceedings.neurips.cc/paper/2021/hash/01b7575c38dac42f3cfb7d500438b875-Abstract.html)  [Flamingo](https://arxiv.org/abs/2204.14198)  image to text generation loss ,   modality gap alignment    loss .

       frozen unimodal models image encoder, LLM     modality  Q-former(Querying Transformer) ,   image encoder  embedding LLM     embedding ,   LLM    .            **  STN** **transformer encoder** .   insight VLP     cross-attention layer ,  ** module ** **scalability    **      .

Q-former  image encoder  text decoder      module    (, lightweight)     vision language   modality relationship        .


# Contributions of BLIP-2

  BLIP    BLIP-2  contribution    . BLIP-2  Bootstrapping Language-Image Pre-training with Frozen Image Encoders and Large Language Models .

- BLIP-2 frozen pre-trained image and text network ** ** Q-former  **modality gap    ** .   representation learning stage text generative learning stage . BLIP-2 **    **   VL task SOTA .
- OPT, FlanT5    LLMs  BLIP-2 zero-shot image to text generation .   LLM   visual knowledge reasoning, visual conversation      BLIP-2       ,   vision language task      . **, scalable approach**.
- Frozen unimodal models  lightweight Q-former  BLIP-2 compute-efficient    .   BLIP-2   Flamingo zero-shot VQA  $8.7\\%$ ,  **54  parameter   **  .


# Related work

### End-to-end VLP(Vision-Language Pre-training)


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607881-56fa1d22-c69e-40ca-8c96-c9b906771fee.png" width="800"/>
</div>


  multimodal learning with transformers survey ([ ](https://arxiv.org/abs/2206.06488))   multimodal learning research architecture  . Survey  ,  task     .               ablation  challenging task .     pre-training objective function  ,   image-text contrastive learning, image-text matching  masked language modeling    loss term  .

    VLP  **large scale(web based) image/text pair** dataset  end-to-end  .     transformer based    CNN based architecture       trade-off parameter  ,   VLP   bottleneck   .     representation  LLMs   representation  leverage      .

### Modular Vision-Language Pre-training(VLP)

    pre-trained model frozen         ,    on-the shelf   SOTA    network     <U>off-the-shelf method</U>   .     related works <U>pre-trained network frozen</U>    ideation     .

  frozen object detector  visual feature     [LiT](https://arxiv.org/abs/2111.07991) pre-trained image encoder for CLIP frozen  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607884-2515bfe6-eb75-4b77-94dc-954117489268.png" width="700"/>
</div>


    <U>image encoder frozen</U> , <U>text encoder fine-tuning</U>      .     CLIP representation            . LiT image encoder lock(frozen)    language model(LLM) freeze  vision to language task . Frozen LLM       text image semantic information  alignment,    Frozen  LLM    text prompt image encoding  soft prompt .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607886-a2c36b2f-baaa-4cb2-895e-f7ac345907a7.png" width="700"/>
</div>


LLM   , <U>vision encoder LLM  </U> alignment   fine-tuning      . Flamingo Frozen   input alignment   <U>feature map alignment</U> , <U>cross-attention layers</U> LLM  visual feature  text prompt attention    ,    layer pre-training   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607888-cfc642a7-a09d-47e9-aaac-46363220b585.png" width="800"/>
</div>


    LLM  freeze   ,  **Frozen** image encoder fine-tuning  input alignment    **Flamingo** image encoder freeze  cross-attention   layer scratch  .

    image encoder LLM     <U>fine tuning    alignment </U> ,   computational cost     .      <U>BLIP-2  </U>, image encoder LLM representation <U> leverage</U>    .


# Method

  BLIP   BLIP-2       . BLIP     $3$   (unimodal representation learning, image-grounded matching and image-grounded text generation)        bootstrapping  .

Vision modality language modality  modality gap bridge   <U>Q-former(Querrying Transformer)</U>  Q-former   image encoder  <U>vision-language representation learning stage</U>   LLM  <U>generative learning stage</U> .  limitation    training step   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607891-a876e26d-6fa0-4f2f-b95c-e0060e53cc42.png" width="1200"/>
</div>


 framework  figure  . **Q-former** <U>  querry</U>  ,  querry   text  alignement    feature   . Q-former  BLIP  image-text matching, image-text contrastive learning  image-grounded text generation    loss term   network( text encoder decoder  weight )  , BLIP-2 Q-Former encoder-decoder   <U>causality </U> encoder decoder  task  optimization     .    image and text matching(bi-directional) image-grounded text generation(uni-direction)   x     uni-modal(encoder decoder)  contrastive learning.     image and text matching  semantic   alignment   , image-grounded text generation autoregressive    causality       .  image-text contrastive learning  query token  positive sample(  ) negative sample(  )    .

### Bootstrap vision-language representation learning from a frozen image encoder

Representation learning stage Q-former frozen image encoder  image-text pair   .       Q-former    parameter querry   visual representation text prompt       . BLIP        objective .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607893-960183d0-a794-4292-9710-dcbade846a95.png" width="600"/>
</div>


Loss term   ablation        ITG(generation) loss term       .  training       frozen image encoder  text prompt    feature    **text generation loss(ITG)**       (?) ITC+ITM loss      .

  BLIP      , negative sampling   momentum queue  BLIP-2 paper batch  positive pair negative pair    . momentum queue   moco ([ ](https://arxiv.org/abs/1911.05722)) SimCLR ([ ](https://arxiv.org/abs/2002.05709))     .

### Bootstrap vision to language generative learning from a frozen LLM

    frozen image encoder Q-former  representation alignment      Q-former frozen LLM  alignment  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607895-2ea24f75-a584-4f40-b676-2b903d921e8c.png" width="1000"/>
</div>


    Q-former   lightweight transformer  visual   embedding output  ,     LLM input   FC layer  projection   .   text prompt prepend( )    input  alignment  frozen    image encoder Q-former     . ~~ fully connect layer ..~~   Frozen     input prepend   FC layer  .

       LLM   decoder base encoder-decoder base   . Decoder base(OPT) FC layer  soft visual prompt  output text   input , encoder-decoder base(FlanT5) FC layer  soft visual prompt  prefix text   .


# Results


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607897-2809d23c-ebdc-4767-b33b-972f384e0ed7.png" width="1000"/>
</div>

 open-source  BLIP         SOTA Flamingo BEIT-3     $+8$       . Q-former  representation alignment   ,        stage        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607902-cc4d0603-2f7b-4f50-b83b-4cc506b75180.png" width="800"/>
</div>


   stage     LLM baseline decoder based/encoder and decoder based    FlanT5  encoder-decoder     image question and answering     .   task VQA  question answering   instructed zero-shot image-to-text generation      (?).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/218607906-4e28961b-3d6b-4fdb-8aa3-bba81aa05179.png" width="800"/>
    <img src="https://user-images.githubusercontent.com/79881119/218607912-7c0b577d-aace-499c-90f0-9244361d1c6d.png" width="500"/>
</div>


   VQA fine-tuning   .


# Conclusion and discussion

VLP task   vision model language model       BLIP   BLIP-2  .                    insight    .

    BLIP-2  FC layer  , ITG loss  performance          ,       limitation few-shot  in-context learning     LLM up-to-date information   image to text generation failure case  .

Web             LLM        inference image       .
`,ene=`---
title: "Prompt learning in Vision-Language(CoOp, CoCoOp)  "
category: "ai papers"
publishedAt: "2023-02-19"
thumbnail: "https://user-images.githubusercontent.com/79881119/219934909-7b186c22-5b2c-4431-abb6-059bf1d07357.png"
---


# 

 <U>pre-trained VL model</U>(CLIP, ALIGN )  downstream task <U> representation transfer</U>   .  zero-shot linear probing   vision language     open world set      .  one-hot encoding  <U>discretized label</U>(class label mapping )   traditional representation learning , VLP(Vision language pre-training) task image text  feature space          .     downstream task   <U>prompting</U> ,   prompting  <U>  </U>  .     prompt learning  prompt          .

          <U>prompt engineering</U> challenging   .        hyperparameter    ,  VLP task prompt     task          .    task     <U>   </U>  prompt       ,       prompt     task <U> prompt engineering   </U> .     representation   prompt   <U>domain expertise</U>    .

   NLP task  prompt learning  , prompt   <U>Context Optimization</U>(CoOp) , CoOp prompt context word     VL task model parameter frozen    downstream task  prompt     . CoOp    shot( ) hand-crafted prompt         downstream task   $15\\%$   .


# Limitations of existing methods and apperance of VLP

CLIP    CLIP     representation    <U>Web   </U>  ,  <U>  image modality  </U>  representation learning     . ResNet Vision Transformer      classification task    object category ,    description indexing  discrete label  .   <U>CIFAR10</U>  ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934924-6bf23756-4bec-4c2d-ab25-90539e24cdf9.png" width="600">
</div>


   $10$    ,   (airplane, cat, frog )     supervision    one-hot encoding  cross-entropy loss  . ImageNet dataset  1000  ,    .

\`\`\`python
281: 'tabby, tabby cat',
282: 'tiger cat',
283: 'Persian cat',
284: 'Siamese cat, Siamese',
285: 'Egyptian cat',
\`\`\`

    orange mushroom /     <U>       </U>  supervision    .  <U>discretized label</U>       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934884-25d0d7bd-acf1-4b77-a5e4-eb580320e411.png" width="400">
    <img src="https://user-images.githubusercontent.com/79881119/219934885-578f5f29-c458-4aa6-94bd-88a2eaeff2e3.png" width="480">
</div>


 **siamese cat** **tiger cat**   <U>   </U>,          ,       object attribute(,  ,   )    .       ** **      attribute    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934886-e477a8f9-9163-48af-afa8-17812c16b808.png" width="400">
</div>


  classification task   label <U>text  </U>      .    open world set      object   continous signal image discrete signal one-hot encoding  mapping    .    text  <U> </U> network  <U>category  </U>     label  <U> object    </U>    .  computer vision     visual recognition system closed set    ,       <U> classifier </U>   (   continual learning, domain generalization    ).

   pre-training discretized label  text embedding   VLP model CLIP ALIGN  , vision representation learning    zero-shot transfer      .   ,  image encoder text encoder output align   . CLIP ALIGN   <U>contrastive loss</U> objective function ,  image  text  **positive pair**(image-text pair   ) **embedding space**  <U></U>, **negative pair** <U></U>  .    CLIP ALIGN    pre-trained   <U> task</U>  <U>prompting</U>  knowledge transfer .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934887-21a4e1bc-569d-4078-870f-45422742032a.png" width="700">
    <img src="https://user-images.githubusercontent.com/79881119/219934888-e0ad3742-7bac-42f8-ad7f-c722a75f515c.png" width="600">
</div>


**Task specific prompting**    (<U>CLIP framework</U>)   , classification  class object name  A photo of (Class)  (task prompt  ) <U>formatting </U> , text encoder   ** ** <U>classifier weight </U> .


# Limitations of prompt engineering in VLP

  network  VL task       prompt engineering.   prompt       tuning     ,  prompt  <U>  </U> task .   Caltech101 dataset  , a photo of (class)  a photo of a (class)     $5\\%$   <U>  </U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934889-04937a61-abee-4e74-b265-93c782e1ce81.png" width="600">
</div>


 prompt engineering task  prior knowledge  language model    domain knowledge . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934891-8f949757-edd8-4e9c-8726-41c50737d8bf.png" width="1200">
</div>


texture, centered satellite photo  specific description  dataset       <U>prompt engineering   </U>.           prompt engineering  <U>optimal    </U>         .


# Prompt engineering in VLP task

        NLP task    <U>prompt learning research</U>   CoOp <U>downstream task </U> prompt  .  prompt    hyperparameter   tuning     CoOp     prompt    .  prompt context words   vector  .  task    <U>   </U>.  <U>unified context</U>  class   prompt    <U> class prompt </U> .      ,  fine-grained category  task     .


# Contributions

   <U>prompt learning</U>  prompt engineering   text prompt discretized explanation(category)   continous signal   . CoOp <U>prompt optimization </U>   $11$   ,  object scene  action    category  task evaluation .     contribution  .

-  VLP    ,   downstream application    .   VLP    (prompt engineering).
-   VL model  prompt engineering     , continous prompt learning    unified/class specific       recognition task     .
- Hand crafted prompt  linear probe model  downstream task   VLP  representation transfer learning           .   VL model  domain shift  robust  .


# Related works

### Vision Language models

 <U>prompt learning</U>   VLP task <U>pre-trained representation</U> <U> transfer</U>   ,    **CLIP** **ALIGN**  text image encoder  <U>contrastive  </U> image/text multimodal   .    web      large minibatch  contrastive learning      .  CLIP ALIGN  text image  embedding space    , text embedding  (Word2Vec, TF-IDF ) matching (metric learning, multi-label classification, n-gram language learning )  SOTA contrastive representation learning based  .

         vision-language model    .   VLP task <U>image text  embedding space  alignment </U>         <U>pre-trained knowledge transfer </U>    .  hand-crafted  prompt engineering   prompt learning     .

### What is prompt learning?

**Large pre-trained language model**(LLM) knowledge probing   <U> </U>  cloze texts  ,  NLP task <U>prompt learning</U>      .

**Knowledge probing**    ,  <U>probing  </U>  cloze-style prompt  <U> </U>  . [How can we know what language models know?](https://arxiv.org/pdf/1911.12543.pdf)  text mining   prompt  , training accuracy  prompt optimal prompt   . [AutoPrompt](https://arxiv.org/pdf/2010.15980.pdf)        label likelihood    gradient   token searching (<U>gradient based search</U> )  prompt generation .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934893-cec8afe9-afe0-49c9-b10b-bd8b0b98e477.png" width="800">
</div>


  <U>continous prompt</U>   ,     discrete token  text embedding space    word <U>  prompt </U>    .    continous prompt    VLP task    prompt embedding   , VL model <U>downstream task</U>      prompt <U>tuning  </U> . 


# Method


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934894-0538a799-821f-4650-9ad6-9139a0b6255d.png" width="800">
</div>


  .   prompt engineering    context vector     .  VLP     orthogonal      CLIP baseline framework step (2) (3)  .  <U>downstream task</U>  <U>supervision  </U> context    .

### CLIP baseline

  CLIP ,    <U>vision encoder</U> <U>language encoder</U>   vision encoder ResNet50  **CNN baseline** ViT  **transformer baseline**  language encoder **transformer** . CLIP    BPE .   related work       . Batch  image-text pair  matched pair(contrastive learning positive pair)  cosine similarity  unmatched pair(contrastive learning negative pair)  cosine similarity   .  image/text representation    CLIP web  ($400M$) paired dataset  .

CLIP  <U>contribution</U>    <U>zero-shot inference</U>   , CLIP   <U> text prompt</U>      category  classification dataset  **downstream task**   .  $f$ image encoder image $x$   feature, $(w_i)_{i=1}^K$  class  description $t_i$ text encoder   weight  . $K$ downstream task    prompt a photo of a (class).  , (class)   cat, dog  class   .   prediction cosine similarity  softmax probability  . cosine similarity  score  (<U></U> ,  class <U> </U> ). 

$$
    p(y = i \\vert x) = \\frac{\\exp (\\cos (w_i, f) / \\tau)}{\\sum_{j=1}^K \\exp(\\cos (w_j, f)/\\tau)}
$$

$\\tau$ <U>temperature parameter</U> CLIP pre-train   parameter.  classifier <U>closed-set visual concepts</U>( class  task )  discrete label  , CLIP <U>open-set visual concept</U>      <U>high-capacity network</U>     . 

### Context Optimization

      a photo of a (class)  prompt    task  <U>   prompt </U> tuning  . CoOp           .

**Unified Context**

 class   context  . Text prompt $g(\\cdot)$  prompt      .

$$
    t = (V)_1(V)_2 \\cdots (V)_M (\\text{CLASS})
$$

$(V)_m$     word embedding  (CLIP $512$ dimension ). $M$ <U> word embedding </U> ,  hyperparameter  . Prompt $t$ text encoder   class  <U>classification weight vector</U>   , <U>prediction probability</U>       .

$$
    p(y = i \\vert x) = \\frac{\\exp (\\cos (g(t_i), f) / \\tau)}{\\sum_{j=1}^K \\exp(\\cos (g(t_j), f)/\\tau)}
$$

  <U> context </U> a photo of (class)   , a photo of (class), a type of object    <U>  prompt</U>     .

$$
    t = (V)_1 \\cdots (V)_{\\frac{M}{2}}(\\text{CLASS})(V)_{\\frac{M}{2}+1} \\cdots (V)_M
$$

 prompt **latter cell**   , **termination signal**         .

**Class-specific context**

    class  <U> context</U>  ,    <U>class  context </U>  .   class index $i$ $j$ ,

$$
    (V)_1^i(V)_2^i \\cdots (V)_M^i \\neq (V)_1^j(V)_2^j \\cdots (V)_M^j
$$

  <U>  context </U> .    task  <U>fine-grained classification</U>    .


# Experiments

    $11$, ImageNet, Caltech101, Oxford-Pets, StanfordCars, Flowers102, Food101, FGVCAircraft, SUN397, DTD, EuroSAT  UCF101  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934896-5b60da1e-4aad-4333-aa57-133fc7aaaf76.png" width="800">
</div>


<U> dataset statistics</U>  . Hand-crafted prompt  prompt  ablation  <U>    prompt</U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934897-83e27c9f-e872-4f31-8354-e88cb744e457.png" width="600">
</div>


$11$ dataset  <U>CoOp    </U>   . end   CLASS description   context    mid   CLASS description   context   . CSC class specific  ,     <U>unified prompt</U>        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934899-7721601c-223b-4336-b857-76a4d4035639.png" width="400">
    <img src="https://user-images.githubusercontent.com/79881119/219934901-c0484884-3fa8-4620-84e3-ea55dc8b34be.png" width="400">
    <img src="https://user-images.githubusercontent.com/79881119/219934902-11a25846-78f8-4266-b61d-e9a5ebcd20f8.png" width="400">
</div>


   **unified prompt**      dataset  sample   <U> CSC   </U>   .    main contribution , zero-shot CLIP   dataset fine-tuning(Linear probing) 4-shot  few-shot  zero-shot      limitation , prompt learning  <U>few-shot </U>  <U>zero-shot   </U>     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934903-f53b86ca-f618-4fef-8be9-829627e7c7fc.png" width="600">
</div>


    <U>  </U>, Zero-shot CLIP   CoOp  <U>$16$-shot  few-shot network</U>  $1.24\\%$,  $45.97\\%$       .     (Food101) , $11$ dataset  $10$ dataset  <U>   </U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934905-2383c97b-1547-4d97-a356-93514afbabe7.png" width="700">
</div>


 <U>CoOp  </U>   <U>domain shifting </U>   robustness     .  ImageNet-R, ImageNet-Sketch  dataset   source                .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934906-b68c65df-b638-40cd-b97f-b6b3a5304b34.png" width="700">
</div>


    context length $16$ ,   **ablation** <U>vision backbone</U>  <U>CoOp </U>  .  zero-shot CLIP         , backbone   <U>CoOp       </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934908-7e1ff3ff-e917-4602-ba88-00ff341c9812.png" width="800">
</div>


 appendix  dataset   context   vector  . Continous prompt learning    vector     ,     prompt  word   .      prompt continous    text       ,    CoOp    <U>image/text     </U>.   related works     <U>VLP    </U>      .


# Limitation in CoOp and appearance of CoCoOp

CoCoOp   .     context <U>downstream task overfitting</U> , in-domain class     <U> distribution</U>  <U>out-of domain class</U>     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934909-7b186c22-5b2c-4431-abb6-059bf1d07357.png" width="900">
</div>


  SUN397 dataset  class category Arrival gate Cathedral   class  accuracy zero-shot   prompt    ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934910-961725f8-8edb-43f1-aa47-9649558a6220.png" width="900">
</div>


Wind farm Trail railway   distribution(<U>scene understanding</U> ) hand crafted prompt  zero-shot baseline        .   text prompt  dataset  <U>seen class</U>  <U>overfitting</U>  .

            CoOp  experiment    Appendix    ,  prompt nearest neighbor    word      <U>    description</U>     .   <U> context</U>   CLASS prompt       variation ,    text domain  intuition      .


# Conditional Context Optimization

  <U>weak-generalization </U>   image captioning   . Input image <U> prompt</U> guidance    meta-network ,   prompt class overfitting   . Image captioning instance  optimization class shift    robust   . Prompt   text encoder    image representation transfer   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934912-418fd3ed-99a5-4f2d-b677-77a68e085ba5.png" width="900">
</div>


 image encoder(ViT, ResNet) class token  meta network ,  image sample instance  <U>conditioning meta-token</U>   . Context tokens($v_1, v_2, \\cdots v_M$)   dataset  prompt   overfitting    , context token     prompt ,   image   $\\pi$    <U>token</U> <U>lightweight meta network</U> conditioning .     context token   <U>    </U>, $\\pi$    representation <U>    </U>  .  CoOp   prompt   overfitting   , CoCoOp conditioning  text encoder image encoder <U> </U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934914-24332975-a9da-4efe-99f1-10a30fa67162.png" width="1100">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934915-aaf4b8b2-224c-480b-b973-263cc98ca375.png" width="1100">
</div>


    <U>CoOp vs. CoCoOp</U>   .   class specific prompt   CoOp CoCoOp     ,   unseen class prompt   CoCoOp    .  CoOp zero-shot  $10\\%$        .


# Conditional Context Optimization(CoCoOp)

      <U>related works</U> <U>method</U>    CoOp paper   .   paper  reference    tackle            .     meta-network    experiment setting  .

       meta network  meta token $\\pi$     .       $M$ context token  <U> </U> $M$ neural networks  .  $M\\times$ neural network    CoOp  $16$ network     <U> heavy</U>, <U>parameter     </U>   $M$ context vector      token  <U>meta network </U>.

 $\\theta$     Meta-Net($h_\\theta(\\cdot)$)  input image embedding $f = E_I(x)$  context vector     .   CoOp     ,

$$
    t = (V)_1(V)_2 \\cdots (V)_M (\\text{CLASS})
$$

    prompt vector   , meta token $\\pi = h_\\theta(f)$  vector  conditioned vector $V_m(f) = (V)_m + \\pi$ prompt   .

$$
    t(f) = (V_1(f),~V_2(f), \\cdots ,~V_M(f), (\\text{CLASS})
$$

   prediction probability   .

$$
    p(y = i \\vert x) = \\frac{\\exp (\\cos (g(t_i(f)), f) / \\tau)}{\\sum_{j=1}^K \\exp(\\cos (g(t_j(f)), f)/\\tau)}
$$

  meta network <U>parameter $\\theta$</U> <U>context vector</U> $V_m$  gradient based update.

Meta network   2 layer  structure, Linear-ReLU-Linear MLP  .    future work  ,            contribution   (~~    ~~).


# Experiments

  dataset  CoOp  $11$ dataset  .    accuracy   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934917-5e774c08-85e1-45ab-be82-293f41344704.png" width="600">
</div>


CoCoOp   New(unseen class), H(Base + New)  CoOp   .  CLIP unseen class  zero-shot   , base dataset   $11\\%$    CoCoOp  seen class unseen class <U>    </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934919-f8061919-1e32-4526-96b4-9ab6a3803c51.png" width="800">
</div>


 dataset  unseen class base class    . Base class  CoOp     ,  <U>overfitting</U>       <U>unseen class</U>  CoCoOp <U>   </U>   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934920-76be2e2f-152d-4995-a844-7116db4e7d85.png" width="800">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/219934923-1506df2d-ae29-4475-9cd1-5e9c582481a9.png" width="800">
</div>


Generalization     domain generalization     ,  CoCoOp source domain target domain   CoOp robust   .


# 

CoOp , CoCoOp    <U>prompt learning </U> <U>CLIP downstream task</U>     . CoOp NLP task  prompt learning        <U>continous prompt learning</U>  , <U>downstream task   </U> CoCoOp CoOp    <U>seen class  overfitting </U>  unseen class  <U>generalization </U> meta-network  .

NLP task  domain generalization  VL network  VLP  orthogonal     contribution   ,  CoOp CoCoOp              paper .
`,tne=`---
title: "CoCa - Contrastive Captioners are Image-Text Foundation Models  "
category: "ai papers"
publishedAt: "2023-03-01"
thumbnail: "https://user-images.githubusercontent.com/79881119/222339744-76d29d47-10f1-4dbb-bd7d-503221bf6f6e.png"
---


# 

 task   <U>large-scale pretrained network</U>    downstream tasks  <U>representation  </U> ,   **representation transfer**  **knowledge transfer**  .  [CoCa ](https://arxiv.org/pdf/2205.01917.pdf)   image/text pair    task robust    <U>large network </U>   . CoCa CLIP ALIGN  encoder  contrastive learning(understanding task) SimVLM  encoder-decoder  generative learning(generation task) <U> </U> .

   encoder-decoder  encoder output  decoder attention layer cross-attention  , CoCa  ( unimodal encoder ,   multimodal decoder ) embedding  <U>contrastive  captioning</U> ** **    .    CoCa(Contrastive + Captioner)      .

      ,     loss term          computational graph end-to-end   .  contrastive learning generative learning        CoCa  ,    <U>scratch </U> VLP        contraative learning generative learning <U> </U>   .


# Why new architecture is needed?

 VLP task    introduction       .       <U>   </U>      .

Vision      CNN(Convolutional Neural Network)  single-encoder  ,  task  .         ResNet, GoogleNet, EfficientNet  pretrained backbone image understanding(classification) video understanding(action recognition, grounding )    head  fine-tuning   <U>representation transfer </U>.    CLIP ALIGN   VLP(Vision-Language Pretraining) ,  web     image-text pair    contrastive learning  . Image Text pair   <U>positive sample</U>  ,    <U>negative sample</U>   . Contrastive learning   VL task image encoder text encoder  unimodal  dual-encoder  ,   modality embedding space  <U>contrastive loss</U>  **cross-modal alignment ** .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339732-fa0d3d4e-d8e6-4087-bf5b-4cc564f92fb8.png" width="600">
</div>


**CLIP** **ALIGN** contrastive  image text align  , **SimVLM**  generative     .     modality image text  <U>alignment</U>    , dual-encoder  contrastive learning   encoder implicit modality    <U>explicit supervision</U>      generative learning    + prompt   attention    text      <U>decoder </U> alignment    .  encoder-decoder  encoder output  query  key/value    alignment    . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339735-8948bcb0-f6e3-4ddf-8ed6-472afcd5036f.png" width="600">
</div>


 **  ** <U>  </U> <U>    </U>,  task   task agnostic   .  contrastive learning  zero-shot classification  understanding  downstream task   ,     captioning/reasoning     , generative learning  encoder-decoder    image  text-only representation    (text modality  unimodal encoder  ) , image encoder output  <U>understanding task</U> probing  <U>representation   </U>   .

   single-encoder/dual-encoder/encoder-encoder          ,    image/text   end-to-end      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339738-b00793f2-afba-4d96-959d-a080a6aa642e.png" width="600">
</div>


          .     multimodal     vision recognition(understanding) task ,  CLIP/ALIGN  VL contrastive learning ,   generative learning  encoder-decoder  .    <U>multimodal decoder   </U>          .


# Is it first time?

..   . ALBEF    image/text   task  large network   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339740-e32b3821-62da-4dd4-8fa4-bd1b5598dc36.png" width="600">
</div>


       <U> batch</U>  single process   , encoder    generative task <U> decoder head </U>   BERT  pre-trained model representation    <U>scratch       </U>  (+momentum module  distillation  ).


# Approach

  <U>   </U> single encoder/dual encoder/encoder-decoder   supervision natural language  .   encoder classification  cross entropy loss  human annotated class vector KL divergence <U> </U> score network .

$$
\\mathcal{L}_\\text{Cls} = -p(y) \\log q_\\theta (x)
$$

$p(y)$  one-hot encoding class vector $q_\\theta(x)$ parameter set $\\theta$  score network prediction .   class vector    label  natural language   discretized label   language <U>  </U> .       contrastive learning image encoder text encoder $\\mathcal{I}$ $\\mathcal{T}$   image embedding $x$, text embedding $y$ contrastive .

$$
\\mathcal{L}_\\text{Con} = -\\frac{1}{N} \\left( \\sum_i^N \\log \\frac{\\exp (x_i^\\top y_i / \\sigma)}{\\sum_{j=1}^N \\exp(x_i^\\top y_j/\\sigma)} +  \\sum_i^N \\log \\frac{\\exp (y_i^\\top x_i / \\sigma)}{\\sum_{j=1}^N \\exp(y_i^\\top x_j/\\sigma)} \\right)
$$

Captioning  ,  autoregressive language decoder      causality ($t$  prompt  ) conditional likelihood  negative log likelihood   .  captioning loss  generation     caption       .

$$
\\mathcal{L}_\\text{Cap} = -\\sum_{t=1}^T \\log P_\\theta (y_t \\vert y_{< t}, x)
$$

<U>sequence to sequence</U>     teacher-forcing (prediction     ground truth    ).

   contrastive loss captioning loss   masked decoder  encoder-decoder (decoder    ) end-to-end  objective function   .

$$
\\mathcal{L}_\\text{CoCa} = \\lambda_\\text{Con} \\cdot \\mathcal{L}_\\text{Con} + \\lambda_\\text{Cap} \\cdot \\mathcal{L}_\\text{Cap}
$$


# Decoupled text decoder and CoCa architecture

  loss    <U>captioning</U> <U>contrastive learning</U>  .      captioning <U>conditional likelihood</U>  , contrastive <U>unconditional likelihood</U> .     modality  encoder  output <U>   </U> joint distribution  negative log likelihood   .

   decoder       objective   (conditional likelihood unconditional likelihood),        decoder   decouple, unimodal multimodal   . Unimodal decoder layer input text latent vector ,  input  transformer decoder    causality  masking( $n_\\text{uni}$ layers).    text encoder  output  image encoding  cross-attention   $n_\\text{multi}$   . Decoder layer    ($n_\\text{uni} = n_\\text{multi}$).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339744-76d29d47-10f1-4dbb-bd7d-503221bf6f6e.png" width="500">
</div>


Transformer  vision task encoder cls         ,  encoder    $n$   .  contrastive learning    image encoder  unimodal text decoder   cls       representation  contrastive loss .


# Attention pooling

<U>Contrastive loss</U>  <U>understanding </U>    token  modality        (single pooled image embedding),   downstream tasks(    generation task)    /        <U> visual token </U>      .

      contrastive learning  attention pooler multimodal text decoder cross attention  attention pooler ,  attention pooler <U>image encoder output</U> key/value  $n$ <U>query  </U>   . Generative loss  query $256$, contrastive loss  query $1$ .


# CoCa for downstream tasks

 CoCa image/text   zero-shot transfer . CLIP/ALIGN     classification, image and text retrieval, video and text retrieval  .

 zero-shot  task  frozen encoder   .   attention pooler  task  query  , <U>task  attention pooler </U>   encoder  <U>representation     </U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339746-9c293ab0-018c-4433-8647-019d12d76fc6.png" width="500">
</div>


  video action recognition ,     encoder  embedding  attention pooling ,     spatial/temporal information  query    query attention   action recognition task  softmax cross-entropy  . Pooler query  (spatial  temporal)    .

Video-text retrieval   $16$  embedding   ,  target embedding  <U>video  </U> . 


# Experiments


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339747-275fc33a-a582-4321-b764-71ae043efd81.png" width="500">
</div>


CoCa       task          .   task  SOTA    , CoCa       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339752-f5c93277-10cf-4e0d-bbcb-5fa01b94835f.png" width="600">
</div>


      CoCa encoder frozen        , task  fine-tuning  SOTA       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339754-ff548bd1-a5e2-4c75-83a5-a26f466199bc.png" width="700">
</div>


CoCa image encoder  ViT           .  parameter       parameter     classification  fine-tuned  zero-shot    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339756-6cc09827-9dbc-4a7d-b2f1-4d786ca8b090.png" width="600">
</div>


    Flickr MSCOCO  image-text retrieval   . Image to text retrieval      task text to image retrieval      task .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339759-8da1be12-d92c-4af5-8455-1df24f7dcfb0.png" width="600">
</div>


 domain generalization  dataset ImageNet-   zero-shot       . SOTA BASIC   dataset   ,  domain shift  dataset    .  video/text retrieval, captioning   task            .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339761-b836d1ce-81fe-4e60-9b44-323b263031f1.png" width="700">
</div>



# Ablations


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/222339766-ba9ea371-a6f7-408e-8cea-3989c313f1b1.png" width="650">
</div>


   ablation  .    LE linear evaluation, ZS zero-shot, AE attention evaluation  FT fine-tuning . Ablation          .

`,nne=`---
title: "DDIM(Denoising Diffusion Implicit Models) "
category: "ai papers"
publishedAt: "2023-04-20"
thumbnail: "https://user-images.githubusercontent.com/79881119/233402059-ca6cb328-11d6-4039-bf0c-7248553516be.png"
---


#  

<U>DDPM</U> adversarial training   latent prior    GAN   collapse        <U>generative model  </U>   .

 DDPM     iteration($T = 1000$)        ,  step  noised input($x_t$)     Markov process   .

Markov process  prior $p(z)$    , **      ** DDPM      .  Markov process  state   state  cascade  ,  GPU  hardward     .   resolution     GAN  implicit model  **    **    ( $32 \\times 32$   $50k$    GAN 1     DDPM 20 ).         DDPM   DDPM     .

   DDPM **    ** , DDPM objective       non-Markovian process      .  DDPM  stochastic    deterministic(  $x_0$   )   decoder   $1$ to $1$ mapping trajectory ,   <U>DDIM(Denoising diffusion implicit model)</U> . 


# 

DDPM  Markov process forward process tractable  posterior $q(x_{t-1} \\vert x_t, x_0)$ reverse process   . DDIM non-Markov process  deterministic      time $t$  **noised input** $x_0$     state     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402059-ca6cb328-11d6-4039-bf0c-7248553516be.png" width=""/>
</div>



  $p_\\theta(x_{t-1} \\vert x_{t})$   <U>Markovian  non-Markovian</U>     sampling    $x_0$     implicit    .

        <U>objective function   </U>,   objective function             pre-trained DDPM      .    $x_0$   deterministic sampling   noised sample    forward process $T = 1000$  reverse process      sub-sequence $T_\\text{sub} = [\\tau_n,~\\tau_{n-1}, \\cdots,~\\tau_0]$  <U> quality    </U>  .

   $x_{t(t < T)}$ noised image  $x_0$    **latent space interpolation**  <U>semantic interpolation</U>    .

 GAN inversion GAN  image editing    latent $z$ mapping   style mapper $F$ image synthesizer $G$  implicit  $x = F(G(z))$ $z$   $x$   non-linear warping   .     $x_1$ $x_2$   latent $z_1$, $z_2$ interpolation $\\alpha \\cdot z_1 + (1-\\alpha) \\cdot z_2$ image  $\\beta \\cdot x_1 + (1-\\beta)x_2$      .  non-linearity  Affine      semantic             .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233407069-92d7f333-5069-41c3-9f3b-3ec90976b4b7.png" width="1000"/>
</div>


  sampling diffusion process stochasticity    ,         **DDIM**    .


#  

DDIM DDPM  notation      .  DDPM notation   **DDIM     DDPM notation  **.

$$
q(x_{1:T} \\vert x_0) := \\prod_{t=1}^T q(x_t \\vert x_{t-1}) , \\text{ where }q(x_t \\vert x_{t-1}):= \\mathcal{N}(\\sqrt{\\alpha_t}x_{t-1}, ~(1-\\alpha_t)I)
$$

    $\\alpha_t$  time step $t$  scheduling variance $\\beta_t$ $1$  ,         forward process  noise   variance $1$      .    noise   $q(x_t \\vert x_0)$      .   $\\bar{\\alpha}_t = \\prod_{\\tau=1}^t \\alpha_\\tau$ .

$$
q(x_t \\vert x_0) := \\int q(x_{1:t} \\vert x_0)dx_{1:(t-1)} = \\mathcal{N}(x_t;~\\sqrt{\\bar{\\alpha}}_t x_0, (1-\\bar{\\alpha}_t)I)
$$

    stochastic process(   )  reparameterization metric   DDPM .

$$
x_t = \\sqrt{\\bar{\\alpha}_t} x_0 + \\sqrt{1-\\bar{\\alpha}_t} \\epsilon, \\text{ where }\\epsilon \\sim \\mathcal{N}(0, I)
$$

    DDIM    .     Bishop pattern recognition  2 115   ( ,      marginal  ).      .

$$
\\begin{aligned}
p(x) =& \\mathcal{N}(x \\vert \\mu,~\\Lambda^{-1}) \\newline
p(y \\vert x) =& \\mathcal{N}(y \\vert Ax+b,~\\mathrm{L}^{-1})
\\end{aligned}
$$

    , $x$  projection $y$   .

$$
p(y) = \\mathcal{N}(y \\vert A\\mu+b,~\\mathrm{L}^{-1}+ A \\Lambda^{-1}A^\\top)
$$

  $x$     prior  ,     .  DDIM ,     constraint  non-Markovian process posterior  . 

$$
q_\\sigma(x_{t-1} \\vert x_t,~x_0)
$$

  ?   DDPM    forward $q(x_{t-1} \\vert x_t)$ $t>1$  time step  $x_0$  Markov process   Bayes rule  ( ).

$$
q(x_{t-1} \\vert x_t,x_0) = q(x_t \\vert x_{t-1},x_0) \\frac{q(x_{t-1} \\vert x_0)}{q(x_t \\vert x_0)}
$$

      time step $t$  marginal $q(x_{t} \\vert x_0)$   non-Markovian  $q_{\\sigma}(x_{t} \\vert x_{t-1}, x_0)$   .         process  .

1. $t = 1$ , $q(x_{1} \\vert x_0) = q_{\\sigma}(x_1 \\vert x_0)$  .
2. $t = \\tau$ , $q(x_{\\tau-1} \\vert x_0) = \\int q_{\\sigma}(x_{\\tau-1} \\vert x_{\\tau}, x_0) dx_\\tau$  ($\\tau \\ge 1$).
3.  $t = \\tau + 1$  $q(x_{\\tau} \\vert x_0) = \\int q_{\\sigma}(x_{\\tau} \\vert x_{\\tau+1}, x_0) dx_{\\tau+1}$   ,  $t \\ge 1$  DDIM  forward process marginal DDPM   .

 Bishop          marginal   .

$$
q(x_{t-1} \\vert x_0) = \\mathcal{N}(x_{t-1};~\\sqrt{\\bar{\\alpha}}_{t-1} x_0, (1-\\bar{\\alpha}_{t-1})I)
$$

  $x_{t}$      .  $q(x_t \\vert x_0)$       .

$$
\\begin{aligned}
q(x_t \\vert x_0) =& \\mathcal{N}(x_{t};~\\sqrt{\\bar{\\alpha}_t}x_0,(1-\\bar{\\alpha}_{t})I) \\newline
q_\\sigma(x_{t-1} \\vert x_t, x_0) =& \\mathcal{N}(x_{t-1};~\\sqrt{\\bar{\\alpha}_{t-1}}x_0 + C\\cdot(x_t - \\sqrt{\\bar{\\alpha}_t}x_0),\\sigma_t^2 I)
\\end{aligned}
$$

  $\\sigma_t$  marginal      standard deviation  .   $C$ constant        . Bishop  2 115         ,

$$
\\mathbb{E}\\left(q_\\sigma(x_{t-1} \\vert x_0)\\right) = \\mathbb{E}\\left(q_\\sigma(x_{t-1} \\vert x_t, x_0)\\right) \\rvert_{x_t = \\mathbb{E}(q(x_t \\vert x_0))}
$$

   $\\sqrt{\\bar{\\alpha}_{t-1}}x_0 + C\\cdot(x_t - \\sqrt{\\bar{\\alpha}_t}x_0)$  $x_t$   $\\sqrt{\\bar{\\alpha}_t}x_0$   $\\sqrt{\\bar{\\alpha}_{t-1}}x_0$      . $C$ constant       variance    ,

$$
\\mathrm{Var}(q_\\sigma(x_{t-1} \\vert x_0) = \\mathrm{Var}(q_\\sigma(x_{t-1} \\vert x_t, x_0))+C^2 \\cdot \\mathrm{Var}(q(x_t \\vert x_0))
$$

,     marginal  variance     ,

$$
(1-\\bar{\\alpha}_{t-1})I = \\sigma_t^2I + C^2 \\cdot (1-\\bar{\\alpha}_t)I
$$

Identity matrix($I$)   $C$ coefficient   ,

$$
C = \\frac{\\sqrt{1-\\bar{\\alpha}_{t-1}-\\sigma_t^2}}{\\sqrt{(1-\\bar{\\alpha}_t)}}
$$

    .   variance $\\sigma_t^2$  non-Markovian posterior     .

$$
q_\\sigma(x_{t-1} \\vert x_t, x_0) = \\mathcal{N}(x_{t-1};~\\sqrt{\\bar{\\alpha}_{t-1}}x_0 + \\frac{\\sqrt{1-\\bar{\\alpha}_{t-1}-\\sigma_t^2}}{\\sqrt{(1-\\bar{\\alpha}_t)}} \\cdot(x_t - \\sqrt{\\bar{\\alpha}_t}x_0),\\sigma_t^2 I)
$$

     DDPM  posterior    .    non-Markov process posterior likelihood  ,

$$
q_\\sigma(x_{t} \\vert x_{t-1}, x_0) = q_\\sigma(x_{t-1} \\vert x_t,x_0) \\times \\frac{q_\\sigma(x_t \\vert x_0)}{ q_\\sigma(x_{t-1} \\vert x_0)}
$$

 .     Markov forward process $q$  Margin  non-Markovian forward process $q_\\sigma$    .


# Non Markovian posterior to DDPM loss

     $q$   DDPM loss  .  DDPM loss    $q$       . DDPM lower bound non-Markovian forward process  .

$$
\\mathbb{E}(-\\log p_\\theta (x_0)) \\leq \\mathbb{E}_q \\left( -\\log p_\\theta(x_T) - \\sum_{t \\ge 1}\\log \\frac{p_\\theta(x_{t-1} \\vert x_t)}{q_\\sigma(x_t \\vert x_{t-1}, x_0)} \\right)
$$

 posterior     DDPM           variational inference loss   .

$$
D_{KL}(q(x_T \\vert x_0) \\vert\\vert p_\\theta(x_T)) -\\sum_{t > 1} D_{KL} (q_\\sigma(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t)) -\\mathbb{E}_q\\left(\\log p_{\\theta}(x_0 \\vert x_1) \\right)
$$

   forward process   $q$ $\\sigma$ non-Markovian posterior standard deviation  . DDPM    term   term     reverse process $p_\\theta$     . 

$$
p_\\theta^{(t)}(x_{t-1} \\vert x_t) = \\begin{cases} \\mathcal{N}(x_0(x_t, \\epsilon_\\theta), \\sigma_1^2I), &\\text{if }t = 1\\newline q_\\sigma (x_{t-1} \\vert x_t,~x_0(x_t,\\epsilon_\\theta)),& \\text{otherwise}\\end{cases}
$$

   $x_0(x_t, \\epsilon_\\theta)$   $x_t$     noise $\\epsilon_\\theta^{(t)}$     $x_0 = (x_t - \\sqrt{1-\\bar{\\alpha}_t} \\cdot \\epsilon_\\theta^{(t)}(x_t)) / \\sqrt{\\bar{\\alpha}_t}$ .   $t>1$       KL divergence exponential   .

$$
\\begin{aligned}
&D_{KL} (q_\\sigma(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta^{(t)}(x_{t-1} \\vert x_t)) \\newline
&=D_{KL} (q_\\sigma(x_{t-1} \\vert x_t, x_0) \\vert\\vert q_\\sigma(x_{t-1} \\vert x_t,~x_0(x_t,~\\epsilon_\\theta))) \\newline
&=\\mathbb{E}_q\\left(\\frac{\\parallel x_0 - x_0(x_t,\\epsilon_\\theta) \\parallel_2^2}{2\\sigma_t^2} \\right)
\\end{aligned}
$$

Reparameterization  $\\epsilon$(  noise)   ,

$$
=\\mathbb{E}_q\\left( \\frac{\\parallel (x_t-\\sqrt{1-\\bar{\\alpha}_t}\\epsilon)/\\sqrt{\\bar{\\alpha}_t} - (x_t-\\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t))/\\sqrt{\\bar{\\alpha}_t} \\parallel_2^2}{2\\sigma_t^2} \\right)
$$

      .      simplified version    .

$$
=\\mathbb{E}_q \\left( (1-\\bar{\\alpha}_t)\\cdot\\frac{\\parallel \\epsilon - \\epsilon_\\theta^{(t)}(x_t) \\parallel^2}{2\\sigma_t^2\\bar{\\alpha}_t} \\right) = \\mathbb{E}_q\\left( \\frac{1-\\bar{\\alpha}_t}{2\\sigma_t^2\\bar{\\alpha}_t} \\cdot \\parallel \\epsilon - \\epsilon_\\theta^{(t)}(x_t) \\parallel^2  \\right)
$$

 DDIM sampling    non-Markovian posterior  DDPM loss   .


# Sampling with DDIM

  non-Markovian forward process predicted $\\epsilon_\\theta$      .

$$
x_{t-1} = \\sqrt{\\bar{\\alpha}_{t-1}}\\underset{\\text{predicted }x_0}{\\left( \\frac{x_t - \\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_t}} \\right)} + \\underset{\\text{direction pointing to }x_t}{\\sqrt{1-\\bar{\\alpha}_{t-1} - \\sigma_t^2} \\cdot \\epsilon_\\theta^{(t)}(x_t)} + \\underset{\\text{random noise}}{\\sigma_t z},~z \\sim \\mathcal{N}(0, I)
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402043-3f3fc8fe-24cd-4eb2-949e-3f8ffc9d7af8.png" width=""/>
</div>



   $x_0$  $x_t$    ,   $t-1$     $t-2$         .  DDIM  $T$ time step     $t$     .    $T$  time sequence $[1,~2,~\\cdots,~T]$ sub-sequence $[x_{\\tau_1},~\\cdots,~x_{\\tau_S}] (S < T)$  , non-Markov process forward process  $q(x_{\\tau_i} \\vert x_0) = \\mathcal{N}(\\sqrt{\\bar{\\alpha}_{\\tau_i}}x_0,~(1-\\bar{\\alpha}_{\\tau_i})I)$   ,   state     sequence   .


# Experiment

Sampling    $\\sigma$  hyperparameter     .

$$
x_{t-1} = \\sqrt{\\bar{\\alpha}_{t-1}}\\underset{\\text{predicted }x_0}{\\left( \\frac{x_t - \\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_t}} \\right)} + \\underset{\\text{direction pointing to }x_t}{\\sqrt{1-\\bar{\\alpha}_{t-1} - \\sigma_t^2} \\cdot \\epsilon_\\theta^{(t)}(x_t)} + \\underset{\\text{random noise}}{\\sigma_t z},~z \\sim \\mathcal{N}(0, I)
$$

  variance           .

$$
\\mathrm{Var}(x_{t-1}) = \\frac{\\bar{\\alpha}_{t-1} \\cdot (1-\\bar{\\alpha}_t)}{\\bar{\\alpha}_t} + (1-\\bar{\\alpha}_{t-1} - \\sigma_t^2) + \\sigma_t^2 = \\frac{(1+\\alpha_t-2\\bar{\\alpha}_t)}{\\alpha_t}
$$

     $\\sigma$ DDPM DDIM stochastic deterministic   ,  sampling variance       . DDPM   recap   .

$$
x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)+\\sigma_tz
$$

     Markovian forward process  tractable probability distribution $q(x_{t-1} \\vert x_t, x_0)$   .

$$
\\tilde{\\sigma}_t^2 = \\beta_t \\times \\left( \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t} \\right)
$$

 DDIM $\\sigma_t$     DDPM   .    $\\eta$ hyperparameter   DDPM DDIM     .

$$
\\sigma_{t} = \\eta\\sqrt{(1-\\alpha_t) \\times \\left( \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t} \\right)}
$$

$\\eta = 1$  DDPM  $0$  DDIM .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402047-07361544-87f3-4d51-8d6f-718fab06dcfc.png" width=""/>
</div>


DDPM($\\eta = 1$) DDIM($\\eta = 0$)     $T < 1000$   step   FID  DDPM        DDIM      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402052-326292dc-ad90-42b9-a89d-aa7147de3bfb.png" width=""/>
</div>


 step          .

 $20 \\sim 100$ step $1000$ step    ,   10 50   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402053-53e4c7da-a2e3-4602-9be9-fe526824eef8.png" width=""/>
</div>


    latent interpolation   semantic    .  Shutterstock    (  )


# Neural ODE with DDIM

 DDIM DDPM diffusion diffusion discrete      .  DDIM  ()    .     ,

$$
x_{t-1} = \\sqrt{\\bar{\\alpha}_{t-1}}\\underset{\\text{predicted }x_0}{\\left( \\frac{x_t - \\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_t}} \\right)} + \\underset{\\text{direction pointing to }x_t}{\\sqrt{1-\\bar{\\alpha}_{t-1} - \\sigma_t^2} \\cdot \\epsilon_\\theta^{(t)}(x_t)} + \\underset{\\text{random noise}}{\\sigma_t z},~z \\sim \\mathcal{N}(0, I)
$$

   DDIM    $\\sigma = 0$  .

$$
\\frac{x_{t-1}}{\\sqrt{\\bar{\\alpha}_{t-1}}} = \\frac{x_t - \\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_t}} + \\frac{\\sqrt{1-\\bar{\\alpha}_{t-1}} \\cdot \\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_{t-1}}}
$$

 discrete        $\\Delta$  differential equation    .

$$
\\frac{x_{t-\\Delta}}{\\sqrt{\\bar{\\alpha}_{t-\\Delta}}} = \\frac{x_t }{\\sqrt{\\bar{\\alpha}_t}} + \\left(\\frac{\\sqrt{1-\\bar{\\alpha}_{t-\\Delta}} }{\\sqrt{\\bar{\\alpha}_{t-\\Delta}}} - \\frac{\\sqrt{1-\\bar{\\alpha}_t}}{\\sqrt{\\bar{\\alpha}_t}} \\right)\\cdot \\epsilon_\\theta^{(t)}(x_t)
$$

$x_t/\\sqrt{\\bar{\\alpha}_t} = \\bar{x}_t,~\\frac{\\sqrt{1-\\bar{\\alpha}_t}}{\\sqrt{\\bar{\\alpha}_t}} = \\sigma$   ,

$$
d\\bar{x}(t) = \\epsilon_\\theta^{(t)}\\left(\\frac{\\bar{x}(t)}{\\sqrt{\\sigma^2+1}}\\right)d\\sigma(t)
$$

    . SDE  continous diffusion process    DDPM     Neural ODE solution $x(T)$   one to one mapping(deterministic)    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233402056-f89e08b1-e534-43ec-bdb8-b21473f591bb.png" width=""/>
</div>


 ODE  $x_0$ $x_T$   $x_0$  ,  trajectory $\\Delta$     $S$ (  )         .  CIFAR-10   error .
`,rne=`---
title: "Score-based generative modeling through stochastic differential equations "
category: "ai papers"
publishedAt: "2023-04-22"
thumbnail: "https://user-images.githubusercontent.com/79881119/233843040-036f2660-0202-4772-8e70-070b16379e88.png"
---


#  

   <U>Score based generative modeling</U> continous variable SDE  , diffusion based approach    DDPM  **  **  (      ). DDPM    sampling  <U>numerical   </U>     DDPM DDIM    .    **score based approch**         generative sampling   .

DDPM          constraint            .     <U> </U>  DDPM, DDIM        .

# Score based generative process

    $x \\sim \\mathcal{X}$  marginal   $p(\\mathcal{\\mathcal{X}})$  .     $z \\sim \\mathcal{Z}$      $\\hat{x} \\sim q(\\mathcal{\\hat{X} \\vert \\mathcal{Z}})$       ,  task     deep generative modeling .

  likelihood <U>maximum lower bound</U>(ELBO)  intractable    alignment  (Variational Autoencoder), 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843039-c0351a11-e6bb-4f20-b737-195bb27afc76.png" width="1000">
</div>


     $z$   ( )          sampling quality  <U>GAN</U>(Generative Adversarial Network) .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843050-649389c2-9cb9-4fcc-bdad-11684cc004bd.png" width="900">
</div>


 <U>    </U> flow ,   latent data     flow based modeling .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843037-b7cb4339-09b1-4ac4-8086-40d40993c48e.png" width="900">
</div>


   score based model   ,        (gradient) ,      process  .


# What is score?

Score   DDPM         .         $p(x)$ , 
$t$ step   noised sample $x_t$       $p(x)$ gradient  ,  energy based approach   log likelihood gradient score    .

$$
\\nabla_x \\log p(x)
$$

          SMLD(Score matching with Langevin Dynamics) DDPM(Denoising diffusion probablistic Model).                   (     ).


# Score estimation = Solving SDE


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843040-036f2660-0202-4772-8e70-070b16379e88.png" width="900">
</div>


            ?     . DDPM SMLD        diffusion  .  discretized($x_0,~x_1,~\\cdots,~x_T$)      distribution           ,  **Ito SDE **   .

      DDPM  SMLD process          .

$$
dx = f(x,~t)dt + g(t)dw
$$

<U>  </U>       , ($dx, dt, dw$)    .    $x(t)$     <U>trajectory()</U>   .      solution $x(t)$  <U>stochastic term</U> $dw$    (   ). 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843036-45330187-3a23-4343-95fe-36dbdaff1608.png" width="700">
</div>


$dw$  ($x$  trajectory ) diffusion term $dt$ $x$ ** trajectory  **  .  solution $x(t)$   $t$  ,   $x(t)$      ,      <U>  </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843042-3bb40e10-aae5-40d4-87c6-8c9274cf4ea0.png" width="700">
</div>


    solution  trajectory         $x_T$ $x_0$  $x(t)$      .

$$
dx = \\left(f(x,~t) -g^2(t)\\mathbf{\\nabla_x \\log p_t(x)}\\right) dt + g(t) d\\bar{w}
$$

   **diffusion term** $g(t)dw$ forward SDE  **drift term** $dt$    forward reverse   score term     (   ).

  <U>forward SDE</U> <U>reverse SDE</U>       ,   forward SDE( )    reverse SDE ** **   .  score    reverse SDE   ,  SDE solver         .   PC(Predictor-Corrector) sampler deterministic sampler   .    PC sampler  score based model       , deterministic sampler        latent manipulation     .


# Training and sampling with SMLD/DDPM

SMLD        NCSN(Noise Conditional Score Network). **NCSN** **DDPM**  <U>score based generative model</U>  SDE problem     .     **SMLD** **DDPM**   score estimator ,    .

### Denoising score matching with Langevin Dynamics(SMLD)

$x$  $\\sigma^2$ variance  perturbation kernel  .  kernel noise  $p_\\sigma(\\tilde{x} \\vert x) := \\mathcal{N}(\\tilde{x}; x, \\sigma^2I)$ . <U>  noise scale</U> $\\sigma_{\\min} = \\sigma_1 < \\sigma_2 < \\cdots < \\sigma_N = \\sigma_{\\max}$   .    noise $\\sigma_{\\min}$  $p_{\\sigma_{\\min}}(x) \\approx p_\\text{data}(x)$      ,   noise $\\sigma_{\\max}$  $p_{\\sigma_{\\max}}(x) \\approx \\mathcal{N}(x;0,\\sigma_{\\max}^2I)$      .

Denoising score matching   $\\nabla_x \\log p_\\text{data}(x)$    (  intractable)       noised sample $\\tilde{x}$ conditioned score  ($\\nabla_{\\tilde{x}} \\log p_{\\sigma_i}(\\tilde{x} \\vert x)$).           <U>  </U>  score estimator $s_\\theta(x, \\sigma)$   objective .

$$
\\theta^\\ast = \\underset{\\theta}{\\arg\\min} \\sum_{i=1}^N \\sigma_i^2 \\mathbb{E}_{p_\\text{data}(x)} \\mathbb{E}_{p_{\\sigma_i}(\\tilde{x} \\vert x)} \\left( \\parallel s_\\theta(\\tilde{x}, \\sigma_i) - \\nabla_{\\tilde{x}} \\log p_{\\sigma_i}(\\tilde{x} \\vert x) \\parallel_2^2 \\right)
$$

   capacity   score-based model    score   .    Annealed Langevin dynamics   loop  .    $\\sigma_i$  $N$ $1$      noise kernel   $M$ Langevin MCMC .  $N \\times M$  process  .  $\\sigma_i$     ,

$$
x_i^m = x_i^{m-1} + \\epsilon_i s_{\\theta^\\ast}(x_i^{m-1}, \\sigma_i) + \\sqrt{2\\epsilon_i}z_i^m
$$

gradient ascent learning rate    step size $\\epsilon_i > 0$  standard normal distribution vector $z_i^m \\sim \\mathcal{N}(0, I)$     $M$ . $M$  sampling       $\\sigma_{i-1}$   $M$ MCMC ($x_{i-1}^0 = x_i^M$).

$$
x_{i-1}^m = x_{i-1}^{m-1} + \\epsilon_{i-1} s_{\\theta^\\ast}(x_{i-1}^{m-1}, \\sigma_{i-1}) + \\sqrt{2\\epsilon_{i-1}}z_{i-1}^m
$$

\`\`\`python
for sigma in sigma_N, ..., sigma_1:
	for step in 1, ..., M:
		noise = N(0, I) # Random noise
		x = x + epsilon * model(x, sigma) + sqrt(2*epsilon)*noise
\`\`\`

  $M$(sampling )   $\\epsilon$(step size)    $x_1^M$      .

$$
p_{\\sigma_{\\min}}(x) \\approx p_{\\text{data}}(x)
$$

### Denoising diffusion probabilistic models(DDPM)

DDPM noise scale   variance schedule(sequence) $\\beta_i$ .

$$
0 < \\beta_1,~\\beta_2,~\\cdots,~\\beta_N < 1
$$

 training data point() $x_0 \\sim p_\\text{data}(x)$ ,   variance schedule  perturbation kernel   Markov Chain     .

$$
p(x_i \\vert x_{i-1}) = \\mathcal{N}(x_i;~\\sqrt{1-\\beta_i}x_{i-1},~\\beta_i I)
$$

   sequence     marginal   .

$$
p(x_i \\vert x_0) = \\mathcal{N}(x_i; \\sqrt{\\bar{\\alpha}_i}x_0,~(1-\\bar{\\alpha}_i)I),~\\bar{\\alpha}_i := \\prod_{j=1}^i (1-\\beta_j)
$$

    SMLD  perturbed data distribution    ($p_{\\bar{\\alpha}_i}(\\bar{x} \\vert x)$   marginal ).

$$
p_{\\bar{\\alpha}_t}(\\tilde{x}) = \\int p_\\text{data}(x)p_{\\bar{\\alpha}_i}(\\tilde{x} \\vert x) dx
$$

 DDPM     process  variance $1$   $x_N \\sim \\mathcal{N}(0, I)$  . DDPM reverse process    SMLD  score matching  reverse process variational Markov chain   .

$$
p_\\theta (x_{i-1} \\vert x_i) = \\mathcal{N}(x_{i-1};~\\frac{1}{\\sqrt{1-\\beta_i}}(x_i + \\beta_i s_\\theta(x_i,~i)), \\beta_iI)
$$

   evidence lower bound  weighted summation  .    SMLD        , weighted summation   $1-\\bar{\\alpha}_i$ $i$ perturbation kernel $p_{\\bar{\\alpha}_i}(\\tilde{x} \\vert x)$ variace    .  SMLD  perturbation kernel variance $\\sigma_i^2$        .

   noised score estimation $\\nabla_x \\log p(\\tilde{x} \\vert x)$  $1/\\mathbb{E}\\left[  \\parallel \\nabla_x \\log p(\\tilde{x} \\vert x) \\parallel_2^2 \\right]$  .

$$
\\theta^\\ast = \\underset{\\theta}{\\arg\\min} \\sum_{i=1}^N (1-\\bar{\\alpha}_i) \\mathbb{E}_{p_\\text{data}(x)} \\mathbb{E}_{p_{\\bar{\\alpha}_i}(\\tilde{x} \\vert x)} \\left( \\parallel s_\\theta(\\tilde{x}, i) - \\nabla_{\\tilde{x}} \\log p_{\\bar{\\alpha}_i}(\\tilde{x} \\vert x) \\parallel_2^2 \\right)
$$

  loss term  $\\theta^\\ast$   Markov chain process   .

$$
x_{i-1} = \\frac{1}{\\sqrt{1-\\beta_i}} (x_i + \\beta_i s_{\\theta^\\ast}(x_i, i)) + \\sqrt{\\beta_i}z_i,~i=N,~N-1,~\\cdots,~1
$$

    **ancestral sampling(**     reverse process $p_\\theta$  **)** .  DDPM loss     ( )  DDPM score estimation model        .

$$
\\mathbb{E}_{x_0,\\epsilon} \\left( \\frac{\\beta_t^2}{2\\sigma_t^2 \\alpha_t(1-\\bar{\\alpha}_t)} \\parallel \\epsilon - \\epsilon_\\theta(\\sqrt{\\bar{\\alpha}_t}x_0 + \\sqrt{1-\\bar{\\alpha}_t}\\epsilon, t) \\parallel^2\\right)
$$

     score-based generation  SMLD DDPM  inference(forwarding) SDE  ,   score matching  SDE      .


#   

   data  noise scale  perturbation kernel     .   score based generation    noise scale(discrete value)  (continuous value) noise scale  ,

  SDE **  **    (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843045-c8923c29-280a-4101-b8b0-01316dae6958.png" width="900">
</div>


   forward reverse  SDE    ,     .

###     ( )

Diffusion        i.i.d.  $x(0) \\sim p_0$ continous/discrete time  $t \\in [0, T]$  diffusion process     $x(T) \\sim p_T$  .   $p_0$prior  $p_T$  diffusion process        solution   .

$$
dx = f(x,~t)dt + g(t) dw
$$

$w$ Brownian motion  standard Wiener process . $f(x, t)$ $x, t$  drift coefficient $g(t)$ diffusion coefficient. SDE $f(x, t)$  $g(t)$ state time   Lipshitz   (  bounded   )    unique strong solution   ([ ](https://link.springer.com/book/10.1007/978-3-642-14394-6)).

$$
\\begin{aligned}
&\\vert \\nabla_{x,~t} f(x,~t) \\vert \\le \\epsilon_1 \\newline
&\\vert \\nabla_{t} g(t) \\vert \\le \\epsilon_2
\\end{aligned}
$$

###    

Prior  (  ) prior sample $x(T) \\sim p_T$   .   prior       $x_T$   .    diffusion SDE   SDE     ([ ](https://www.sciencedirect.com/science/article/pii/0304414982900515)).

$$
dx = \\left(f(x,~t) -g^2(t)\\mathbf{\\nabla_x \\log p_t(x)}\\right) dt + g(t) d\\bar{w}
$$

$\\bar{w}$     forward process  Wiener process $w$   .  noise       $t$     , reverse     $t$     .    marginal distribution $p_t(x)$ score       $x_T$  $x_0$    .

### Reverse SDE   score 

   score  ,     marginal  score     score-matching  time-dependendent model $s_\\theta(x, t)$   SMLD DDPM loss term    .    SMLD DDPM   perturbation sequence $N$   ,    $t$     .

$$
\\theta^\\ast = \\underset{\\theta}{\\arg\\min} \\mathbb{E}_t\\left(\\lambda(t) \\mathbb{E}_{x(0)} \\mathbb{E}_{x(t) \\vert x(0)} \\left( \\parallel s_\\theta(x(t), t) - \\nabla_{x(t)} \\log p_{0t}(x(t) \\vert x(0)) \\parallel_2^2 \\right)\\right)
$$

    $\\lambda(t) \\propto  1/\\mathbb{E} \\left[ \\parallel \\nabla_{x(t)} \\log p_{0t}(x(t) \\vert x(0)) \\parallel_2^2 \\right]$   .      score matching   denoising score matching      **sliced score matching** **finite-difference score matching**  .

### VE  VP SDE 

SMLD DDPM noise perturbation   SDE discrete     . $N$ noise scale  , SMLD Markov chain  forward process  .

$$
x_i = x_{i-1} + \\sqrt{\\sigma_i^2 - \\sigma_{i-1}^2} z_{i-1},~i = 1,~\\cdots,~N
$$

  $N$  ($\\infty$) noise scale     $\\sigma(t)$     standard gaussian variable $z_{i-1}$  $z(t)$   .  Markov chain continuous stochastic process $x(t)$ ,

$$
x(t+\\Delta) = x(t) + \\sqrt{\\sigma(t+\\Delta)^2 - \\sigma(t)^2}z(t)
$$

$\\Delta$     <U> 1 </U>      .     .

$$
dx = \\sqrt{\\frac{d\\sigma^2(t)}{dt}} dw
$$

 DDPM 

$$
x_i = \\sqrt{1-\\beta_i} x_{i-1} + \\sqrt{\\beta_i}z_{i-1},~i=1,~\\cdots,~N
$$

  forward process   $N$  ,

$$
x(t+\\Delta) = \\sqrt{1-\\beta(t+\\Delta) \\cdot \\Delta}x(t) + \\sqrt{\\beta(t+\\Delta)\\cdot \\Delta}z(t)
$$

 .  $\\beta$  scheduling  Markov process     variance   $\\Delta$    .       

$$
dx = -\\frac{1}{2} \\beta(t) x dt + \\sqrt{\\beta(t)} dw
$$

  .  SMLD   variance   VE(Variance Exploding) SDE DDPM  variance  VP(Variance Preserving) SDE .

, drift coefficient drift coefficient  affine    variance     (  ). 

$$
\\frac{d\\Sigma_{\\text{VP}}(t)}{dt} = \\beta (t) (I - \\Sigma_{\\text{VP}}(t))
$$

       gaussian    non-linear case  .  ODE   $x(t$ ) covariance function   .

$$
\\Sigma_\\text{VP} (t) = I+\\exp\\left(\\int_0^t -\\beta(s) ds\\right)(\\Sigma_\\text{VP}(0) - I)
$$

   $t$  variance $\\Sigma_\\text{VP}$ $\\Sigma_{\\text{VP}}(0)$  bounded  .  DDPM  $\\Sigma_\\text{VP}(0) = I$  $t$ $I$ .     sub-VP SDE  .

$$
dx = -\\frac{1}{2} \\beta(t) x dt + \\sqrt{\\beta(t) (1 - \\exp\\left(-2\\int_0^t \\beta(s) ds\\right))}dw
$$

   Covariance  ODE solution      covariance   .

$$
\\Sigma_\\text{sub-VP}(t) = I+\\exp\\left(-2\\int_0^t \\beta(s) ds \\right)I + \\exp\\left(-\\int_0^t \\beta(s) ds \\right) (\\Sigma_\\text{sub-VP}(0)-2I)
$$

sub-VP SDE  VP SDE upper bound   . Diffusion proces $dx = f(x,~t)dt + g(t)dw$       discrete diffusion    continuous function     SDE    . sub-VP       (likelihood).

###   Stochastic Differential Equations

  3   SDE ,  perturbation kernel   marginal distribution   .

$$
p_{0t}(x(t) \\vert x(0)) = \\begin{cases}
\\mathcal{N}(x(t); x(0), (\\sigma^2(t)-\\sigma^2(0))I),& \\text{(VE SDE)} \\newline
\\mathcal{N}(x(t);x(0)e^{-\\frac{1}{2}\\int_0^t \\beta(s)ds}, I-Ie^{-\\int_0^t \\beta(s) ds}),&\\text{(VP SDE)} \\newline
\\mathcal{N}(x(t);x(0)e^{-\\frac{1}{2}\\int_0^t \\beta(s)ds}, \\left(1-e^{-\\int_0^t \\beta(s) ds}\\right)^2I),&\\text{(sub-VP SDE)} 
\\end{cases}
$$

sub-VP SDE      ,   DDPM   

$$
p(x_i \\vert x_0) = \\mathcal{N}(x_i; \\sqrt{\\bar{\\alpha}_i}x_0,~(1-\\bar{\\alpha}_i)I),~\\bar{\\alpha}_i := \\prod_{j=1}^i (1-\\beta_j)
$$

 , variance  quadratic   .

$$
p(x_i \\vert x_0) = \\mathcal{N}(x_i; \\sqrt{\\bar{\\alpha}_i}x_0,~(1-\\bar{\\alpha}_i)^2I),~\\bar{\\alpha}_i := \\prod_{j=1}^i (1-\\beta_j)
$$


# Solving the reverse SDE

  score    time point  $s_\\theta(\\cdot)$       reverse-SDE        . Reverse SDE numerical  $x_0$      .

SDE numerical    solution   (trajectory)   . SDE   Euler-Maruyama stochastic Runge-Kutta  (   )  ,     score predictor    SDE solver  sample    .

DDPM  ancestral sampling   , SDE       ( ).      reverse diffusion sampler (  ),    SMLD/DDPM  ancestral sampling      .

$$
x_i = x_{i+1} - f_{i+1}(x_{i+1}) + G_{i+1}G_{i+1}^\\top s_{\\theta^\\ast}(x_{i+1}, i+1) + G_{i+1}z_{i+1}
$$

  0    $\\Delta$(time )   ancestral sampling <U> SDE solution  </U> ,  ancestral sampler SDE     ($p_\\theta(x_i \\vert x_{i+1})$ ).


# Predictor-corrector samplers

 SDE   score prediction   ,   MCMC approach  (Langevin dynamics).   numerical SDE  time step solution ,  point score estimation  correction sampling( )  . **Numerical SDE solver** **predictor**   **score model** **corrector**  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843046-232508c8-1d46-4906-b9a3-61b85b1c324f.png" width="800">
</div>


 (Predictor /Corrector /  )  SMLD, DDPM   , PC    predictor   corrector       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843048-dfae2905-b393-467d-9ffc-fb86e3bbc6ec.png" width="800">
</div>



# Probability flow and Neural ODE

Score-based model  SDE numerical    .    diffusion process marginal likelihood $p(x_{0:T})$   ODE   .   diffusion SDE  ,

$$
dx = f(x, t)dt + g(t)dw 
$$

 SDE  marginal likelihood  ODE

$$
dx = \\left( f(x, t) - \\frac{1}{2}g(t)^2 \\nabla_x \\log p_\\theta(x) \\right) dt
$$

  .          $\\tilde{f}(x, t) = f(x, t) - \\frac{1}{2}g(t)^2 \\nabla_x \\log p_\\theta(x)$  Wiener process term $dw$  ODE

$$
dx = \\tilde{f}(x, t)dt
$$

  SDE  marginal likelihood . , sampling     .   DDPM   discrete likelihood   ( ), 

$$
p_\\theta(x_0 \\vert x_1) = \\prod_{i=1}^D \\int_{\\delta_{-}(x_0^i)}^{\\delta_+(x_0^i)} \\mathcal{N}(x; \\mu_\\theta^i (x_1, 1), \\sigma_1^2) dx
$$

$$
\\delta_+(x) = \\begin{cases}
\\infty,&\\text{if }x=1 \\newline
x+\\frac{1}{255},&\\text{if }x<1
\\end{cases},~~\\delta_-(x) = \\begin{cases}
-\\infty,&\\text{if }x=-1 \\newline
x-\\frac{1}{255},&\\text{if }x>-1
\\end{cases}
$$

 likelihood    .

$$
\\log p_0(x(t)) = \\log p_T(x(T)) + \\int_0^T \\nabla \\cdot \\tilde{f}_\\theta(x(t),t)dt
$$

 ODE  $dw$( )       datapoint $x(0)$   $x(T)$ $1$ $1$ mapping  .   flow based model neural ODE  invertible model   ,   latent representation  image editing interpolation   .     latent mapping  forward SDE  encoder   ( forwarding     ).

 neural ODE stochastic     .


# Conditional sampling

Continous SDE              $p_0(x(0) \\vert y)$      . ,   time step class  $p_t(y \\vert x(t))$ .

$$
dx = \\left( f(x, t) - g(t)^2(\\nabla_x \\log p_t (x) + \\nabla_x \\log p_t(y \\vert x)) \\right)dt + g(t)d\\bar{w}
$$

 conditional probability class guidance  Diffusion beats GAN   noised sample  supervised learning   .   Appendix         . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/233843049-83e1b687-74f2-4af8-8dbe-63528f8871db.png" width="">
</div>
`,ane=`---
title: "Consistency models  "
category: "ai papers"
publishedAt: "2023-04-26"
thumbnail: "https://user-images.githubusercontent.com/79881119/234603447-6a5db911-d522-479e-96c9-321d0e009ac2.png"
---


# 

**Yang Song**    ** **.         (?) **Appendix   **.     score based diffusion     [Score-based generative modeling through stochastic differential equations](https://6unoyunr.github.io/blog/scoresde)  Appendix   .  diffusion       ,      DDPM NCSN           .  diffusion       ,    Bishop pattern recognition    .                        .                       . 

      diffusion       ,   <U>  </U>     .


# Diffusion model 

 **diffusion model**      .    image manipulation   large language model based chatbot       ,    /    /   .  AI      ,     .  <U>    </U> .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603450-76d2b35e-993c-42f7-aae3-de2ba2acc664.jpg" width="800">
</div>


GAN  implicit       ,    **trade-off** <U> </U>     .


#   


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603561-58d2adc4-f683-4124-9bc2-1dda75a6f580.png" width="400">
    <img src="https://user-images.githubusercontent.com/79881119/234603471-f7852e02-c77f-4bfe-b43b-e43a19667484.png" width="700">
</div>


      .   ** ** ( $t$ )    , ** **     .   GAN    $G(z)$      .        .

- DDIM : Markovian process  marginal likelihood  Non-Markovian forward process ,     time step 
- Diffusion model distillation :      ex) DDPM    step    probability flow ODE 

  DDIM  probability flow ODE             .          ,     .   distillation  probability flow ODE      transfer   ,        <U>    </U> **bottleneck**   .


# Related works

  consistency model   Yang Song  diffusion   .    ,  diffusion process marginal likelihood $p(x_{0:T})$   ODE   .   diffusion SDE  ,

$$
dx_t = \\mu(x_t, t)dt + \\sigma(t)dw_t 
$$

 SDE  marginal likelihood  ODE

$$
dx_t = \\left( \\mu(x_t, t) - \\frac{1}{2}\\sigma(t)^2 \\nabla_x \\log p_t(x_t) \\right) dt
$$

    .     **Appendix** Yang Song (SDE diffusion )  .

ODE   SDE    <U>stochastic diffusion coefficient   </U>($dw$), probability flow ODE  starting point $x_0$    solution  trajectory  $x_T$   $x_t$       (  ).    drift term   ,        starting point ending point  ,    $x_t$         $1$ $1$ mapping   .  ODE  trajectory         .     $x_t$  score     $s_\\phi(x, t) \\approx \\nabla \\log p_t(x)$ ,   perturbation kernel $p_t(x) = p_\\text{data}(x) \\otimes \\mathcal{N}(0, t^2I)$    form   .

$$
\\frac{dx_t}{dt} = -ts_\\phi (x_t, t)
$$

  configuration Elucidating the design space of diffusion-based generative models   , **diffusion    **  drift term diffusion term          .   $\\mu = 0, \\sigma = \\sqrt{2t}$    solution.

  $x_T\\sim \\mathcal{N}(0,T^2I)$    probability flow ODE $\\frac{dx_t}{dt} = -ts_\\phi (x_t, t)$ , $x_0$ $x_T$   trajectory    .     Euler Heun solver  numerical       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603477-6678e3ad-a648-435c-89c2-bb7961322e32.png" width="">
</div>


   Analytic   ( solution )   ,          .        numerical      solution     ,     ,     variance  .

$$
\\hat{x}_t,~t \\in (0,~T)
$$

  numerical instability   $t = \\epsilon(0.002)$  solution    $x_0$   , time step   $T = 80$ .

Diffusion model   sampling     .   ODE solver sampling       score model score   $s_\\phi(x, t)$  .  numerical ODE solver       distillation    .

     ODE solver        step   . Distillation    DDPM   prior  ,  DDPM  time step         <U>     </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603480-db2f2eb3-5e5e-4532-8aa1-70c66e000835.png" width="500">
</div>


         distillation  time step   progressive distillation.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603487-edb4fe29-d5cb-402b-b7ef-0866993120e1.png" width="500">
</div>


  trajectory   score      .    trajectory    ODE score estimator   distillation    , **      **         .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603492-70a828eb-da05-4c7f-bf2e-cfb1695ea092.png" width="600">
</div>


    progressive distillation   consistency distillation  ODE solver   prior      . Consistency        [progressive distillation ](https://arxiv.org/pdf/2202.00512.pdf).


# Consistency models

**Consistency model**        . Consistency model diffusion process SDE   probability flow ODE    ,  ODE       DDPM  distillation     scratch          .   normalizing flow    <U>    </U>        .

### Consistency model 

 Probability flow ODE

$$
dx_t = \\left( \\mu(x_t, t) - \\frac{1}{2}\\sigma(t)^2 \\nabla_x \\log p_t(x_t) \\right) dt
$$

   trajectory() $\\{x_t \\}_{t \\in [\\epsilon, T]}$  . Consistency function       $x_\\epsilon$     .

$$
f : (x_t, t) \\rightarrow x_\\epsilon
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603497-b5c391e5-7fc7-4c33-9e6b-63ad8529232d.png" width="550">
</div>


      .    $\\epsilon$ $T$  PF ODE  ,     ** **     consistency model  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603447-6a5db911-d522-479e-96c9-321d0e009ac2.png" width="500">
</div>


           consistency    .

$$
f(x, t) = f(x_{t^\\prime},t^\\prime),~\\forall t,~t^\\prime \\in \\{\\tau \\vert \\epsilon \\le \\tau \\le T\\}
$$

 <U>time argument </U>(   ),   invertible function .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603500-a362aee4-fbfb-4943-9ff8-3cf4e9939f5b.png" width="600">
</div>


 consistency model ODE     ****    $x_\\epsilon$   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603457-969dd89b-f352-45d3-952e-bbc823803b5e.gif" width="500">
</div>


### Parameterization

       parameter   .   consistency function boundary constraints( )   .  ,

$$
f(x_\\epsilon, \\epsilon) = x_\\epsilon 
$$

  ** ($x_\\epsilon$)** ($f(\\cdot)$)  ** **  .              solution      constraint     .       ,    case 

$$
f_\\theta(x, t) = \\begin{cases}x,&t = \\epsilon \\newline F_\\theta(x, t),& \\epsilon <t<T \\end{cases}
$$

Skip point $t = \\epsilon$ $c_\\text{skip}(\\epsilon) = 1$  $c_\\text{out}(\\epsilon) = 0$ **  **    .

$$
f_\\theta(x, t) = c_\\text{skip}(t)x + c_\\text{out}(t) F_\\theta(x, t)
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603502-8ca6c9df-af07-4480-836c-c110b22cdca2.png" width="900">
</div>


 consistency model       [ ](https://arxiv.org/pdf/2206.00364.pdf) ,         ,      .

### Sampling

   consistency model $f_\\theta(\\cdot, \\cdot)$   ,    prior   

$$
\\hat{x}_T \\sim \\mathcal{N}(0, T^2I)
$$

 ( )     .

$$
\\hat{x}_\\epsilon = f_\\theta(\\hat{x}_T, T)
$$

 single step generation     .     **consistency  **     **multiple step generation**    <U>       </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603506-0f846807-dea8-4e77-9a81-f576867dc715.png" width="600">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603509-ca5b4bde-cd26-46a0-be61-591b039491b8.png" width="550">
</div>


### Zero shot data editing

  consistency model (prior  data        $x_0$  )   image editing manipulation zero shot   .       GAN, VAE  latent variable model    interpolation.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603454-c1fe1ac7-aacf-4aed-9040-bb4ada32befa.jpg" width="600">
</div>


Laent  sample parameter  implicit decoder   GAN VAE   $x_0$  latent $z_0$   $x_1$  latent $z_1$    ($\\text{Image}(x_0, x_1)$)   ,             .

$$
F_\\Theta(\\alpha \\cdot z_0 + (1-\\alpha) \\cdot z_1) = \\text{Image}(x_0, x_1) 
$$

   diffusion process   DDPM baseline  prior sample $x_T$     $F_{\\Theta_{1:T}}(x_T) = x_0$ $1$ $1$    .  latent sample $x_T$       dataset   $x_0^1, \\cdots x_0^N$  Markov process    latent interpolation image  interpolation    .   consistency model  Probability flow ODE solution    $x_T$  data modallity  one to many mapping  .  GAN     latent manipulation  <U> manipulation </U>    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603514-6ef113b5-a82d-4ef0-9626-8f4dbf318c19.png" width="600">
</div>


  sample modality  condition   zero-shot     .    image inpainting, colorization  super-resolution          task    explicit  .      consistency model   noise $x_\\epsilon$       noise level  denoising ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603517-ef598c62-a4a4-4883-93b3-60bb501bbae1.png" width="700">
</div>




    input **multiple step generation**    input        (condition    prior sampling     ).  input **grey image**  consistency model  multistep(  $x_0$   )   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603527-bcd67b05-4c1c-4cc0-b062-a8db6a1fc8fe.png" width="700">
</div>


  <U>condition     </U>    inpainting, super-resolution  SDEdit(painting to image)  task      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603536-91cb5030-69f6-4067-8cc9-495050027f7b.png" width="700">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603538-1e75c3b7-b61c-4239-96b2-62d87dc09eb1.png" width="700">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603541-223f5440-e14f-4bf1-b06b-ff6a180c6380.png" width="700">
</div>



# Train consistency model

     consistency model     pre-trained source model score  distillation ,     .        .

### Distillation  

$$
dx_t = \\left( \\mu(x_t, t) - \\frac{1}{2}\\sigma(t)^2 \\nabla_x \\log p_t(x_t) \\right) dt,~~\\frac{dx_t}{dt} = -ts_\\phi (x_t, t)
$$

  PF ODE .         score       score prediction     empirical PF-ODE     .  $[\\epsilon,~T]$ $N-1$ sub-interval  .    boundary condition $t_1 = \\epsilon$  $t_N = T$   sequence $[t_1,~t_2,~\\cdots,~t_N]$   .       ,     setting .

$$
t_i = \\left(\\epsilon^{1/\\rho} + \\frac{i-1}{N-1} (T^{1/\\rho} - \\epsilon^{1/\\rho}  )\\right)^\\rho,~\\rho = 7
$$

 <U> </U> numerical ODE solver  solution   $N$         .   solver     $\\hat{x}_{t_n}^\\phi$ ,

$$
\\hat{x}_{t_n}^\\phi := x_{t_{n-1}} + (t_n - t_{n-1}) \\Phi(x_{t_{n+1}}, t_{n+1}; \\phi)
$$

 step ODE solver update function $\\Phi(\\cdots; \\phi)$      .   $\\phi$  ODE solving      score estimator empirical PF ODE ,     score estimator   . Numerical ODE solver       <U> </U>   ,

$$
\\hat{x}_{t_n}^\\phi := x_{t_{n-1}} - (t_n - t_{n-1})t_{n+1} s_\\phi(x_{t_{n+1}},~t_{n+1})
$$

    .   SDE PF-ODE     score estimate function   .     connection    $1$ to many mapping   .

$$
x \\sim p_\\text{data},~x = x+\\eta \\text{(Gaussian noise)} 
$$

   data point $x$ , PF ODE   data point $(\\hat{x}_{t_n}^\\phi,~x_{t_{n+1}})$   ,  $x_{t_{n+1}}$ SDE transition kernel  $\\mathcal{N}(x,~t^2_{n+1}I)$   (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603543-2607ff4a-647b-474c-835e-eb9551974072.png" width="600">
</div>


   adjacent point  consistency network .      sample point( forward SDE  ,     score estimator numerical ODE solver   )       .

$$
\\mathcal{L}^N_{CD}(\\theta, \\theta^-;\\phi) := \\mathbb{E}(\\lambda(t_n)d(f_\\theta(x_{t_{n+1}}, t_{n+1}),~f_{\\theta^-}(\\hat{x}^\\phi_{t_{n}},t_n)))
$$

$\\lambda(\\cdot)$   kenrel   loss weight   term $d$     metric,    $\\theta$ student parameter loss  gradient descent    $\\theta^-$ teacher parameter student parameter EMA  .   distillation  .          MSE, L1  LPIPS     weight term $\\lambda(\\cdot)$ <U> $1$   </U>  task  dataset     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603546-c1e191df-b7c5-4db4-9c1b-8208cd6cc737.png" width="500">
</div>


     ** pseudo code**  . Numerical ODE  bounded condition(numerical  solution  solution       ) consistency network $f$  Lipshitz condition    loss function supremum      .   **empirical PF ODE(**Consistency model**),    consistency network** distillation  SDE   Numerical ODE     .

$$
\\begin{aligned}
&\\text{If local error uniformly bounded by }O((t_{n+1} - t_n)^{p+1}),\\newline
&\\sup_{n, x} \\parallel f_\\theta(x, t_n) - f(x, t_n;\\phi)\\parallel_2 = O((\\Delta t)^p)
\\end{aligned}
$$

   Appendix A.2  ,     (   ).

     $f_\\theta$ student network  online() network,  EMA   $f_{\\theta^-}$ teacher network  target( ) network . Consistency distillation loss   time step sample $N$    target online parameter    ,   distillation   **consistency network**  <U>  </U>   .

### Isolation() 

   consistency network score network  ODE solver    consistency loss      .  consistency model  diffusion   PF ODE   ,          .

Distillation     diffusion process model ,   score estimation $s_\\phi(x, t)$        .  consistency model    <U>  </U>(  $\\nabla_x \\log p_t(x_t)$ ).

$$
dx_t = \\left( \\mu(x_t, t) - \\frac{1}{2}\\sigma(t)^2 \\nabla_x \\log p_t(x_t) \\right) dt
$$

 score estimator     .

  **score** data **marginal distribution**   projection  .

$$
\\nabla \\log p_t(x_t) = \\nabla_{x_t} \\log \\int p_\\text{data}(x) p(x_t \\vert x) dx
$$

 $\\log$   closed form .

$$
\\nabla \\log p_t(x_t) = \\frac{ \\int p_\\text{data}(x) \\nabla_{x_t}p(x_t \\vert x) dx}{\\int p_\\text{data}(x)p(x_t \\vert x)dx}
$$

   $p(x_t \\vert x)$   log likelihood $\\log (p(x_t \\vert x))$     .

$$
\\nabla \\log p_t(x_t) = \\frac{ \\int p_\\text{data}(x) p(x_t \\vert x)\\nabla_{x_t}\\log p(x_t \\vert x) dx}{\\int p_\\text{data}(x)p(x_t \\vert x)dx}
$$

   ,

$$
\\nabla \\log p_t(x_t) = \\frac{ \\int p_\\text{data}(x) p(x_t \\vert x)\\nabla_{x_t}\\log p(x_t \\vert x) dx}{p_t(x_t)}
$$

 $x_t$     
$x$     .

$$
\\nabla \\log p_t(x_t) = \\int\\frac{  p_\\text{data}(x) p(x_t \\vert x)}{p_t(x_t)}\\nabla_{x_t}\\log p(x_t \\vert x) dx
$$

  Bayes rule     ,

$$
\\nabla \\log p_t(x_t) = \\int p(x \\vert x_t) \\nabla_{x_t} \\log p(x_t \\vert x) dx
$$

 $x_t$      $x$     .

$$
\\nabla \\log p_t(x_t) = \\mathbb{E}(\\nabla_{x_t} \\log p(x_t \\vert x) \\vert x_t)
$$

  diffusion process     

$$
-\\mathbb{E}\\left(\\frac{x_t - x}{t^2} \\vert x_t\\right)
$$

   .           numerical error    .    score   score estimation  pre-trained network   ,    consistency network  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603552-c24a46a3-00b3-4db2-942f-329b570711f5.png" width="500">
</div>


   process       diffusion SDE  ,   consistency model  .  process  consistency network  loss   .  standard gaussian  $z \\sim \\mathcal{N}(0, I)$ ,

$$
\\mathcal{L}^N_{CT}(\\theta, \\theta^-) := \\mathbb{E}(\\lambda(t_n)d(f_\\theta(x + t_{n+1}z, t_{n+1}),~f_{\\theta^-}(x + t_nz,t_n)))
$$

 ,   loss   distillation loss       .       Taylor expansion  $o(\\Delta t)$   term            ..  Appendix Theorem 2.  .


# Experiments

    factor     factor    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/234603556-63854500-a4b1-40fa-80b2-513fe79bd466.png" width="900">
</div>


 (a)   <U>LIPS loss   distance metric</U> $d(\\cdot)$   ,    (b)   LPIPS  metric     . (b) solver    , 1    2   Heun         .

(c)  bias    time step sample  $N$   <U>  </U>  ,  $N$   .       . 
$N$      <U>   </U>    .  numerical ODE    bottleneck  .

(d)  CT   ,  FID      . CT  CD   <U>numerical ODE solver    </U>(      ) solver   . CT  distillation    $N$   ,  $N$                .        $N$ <U>  </U> () , EMA factor $\\mu$      .      +   (FID)     .


# 

  few-step image generation, direct generation  zero-shot image editing    .  consistency network  empirical PF ODE          ,   diffusion          .    stable diffusion  zero-shot text to image generation      <U>   </U>     .
`,ine=`---
title: "Improved DDPM + Diffusion beats GAN + Classifier free diffusion guidance  "
category: "ai papers"
publishedAt: "2023-04-30"
thumbnail: "https://user-images.githubusercontent.com/79881119/235350616-84dda90c-0784-4dd0-a515-78d964a55385.png"
---


# 

    3 ,   (DDPM, DDIM)  ** ** ,  diffusion model sampling quality       .   [Improved DDPM](https://arxiv.org/abs/2102.09672)  DDPM  baseline      modification   log likelihood      [Diffusion beats GAN](https://arxiv.org/abs/2105.05233)    architecture ablation classifier guidance   GAN       .  [classifier-free diffusion](https://arxiv.org/abs/2207.12598)   classifier guidance     conditional generation  classifier explicit      .               .


# Improved DDPM

DDPM <U>   </U>  <U> </U>     CIFAR-10 LSUN    diversity  ImageNet        . GAN                    , VAE  likelihood             GAN     .   DDPM  .         .     ,     future work     .

         .  hybrid objective,  DDPM Variational lower bound(VLB)  simplified loss ,     VLB loss   .

  variance   variance ,   DDPM  forward process          forward pass($50$)    . DDIM non-Markovian process     ,   DDPM Markovian process      .

###  DDPM

DDPM              . DDPM   data distribution $x_0 \\sim q(x_0)$  , forwarding noise process       .

$$
q(x_t \\vert x_{t-1}) = \\mathcal{N}(x_t; \\sqrt{1-\\beta_t}x_{t-1}, \\beta_t I)
$$

    $T$   scheduling $\\beta_t$  parameterized prior $x_T \\sim \\mathcal{N}(0, I)$   . , forward process      .       $q(x_{t-1} \\vert x_t)$       $x_0$    ,        <U>tractable </U>.


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350616-84dda90c-0784-4dd0-a515-78d964a55385.png" width="600">
</div>


   neural network   step noised sample $x_t$  $p_\\theta(x_{t-1} \\vert x_t)$ ,      $x_0$   .          <U>   </U> approximate .

$$
p_\\theta(x_{t-1} \\vert x_t) := \\mathcal{N}(x_{t-1}; \\mu_\\theta (x_t, t), \\Sigma_\\theta (x_t, t))
$$

   variational lower bound    .

$$
\\mathcal{L} 
\\le D_{KL}(q(x_T \\vert x_0) \\vert\\vert p_\\theta(x_T)) -\\sum_{t > 1} D_{KL} (q(x_{t-1} \\vert x_t, x_0) \\vert\\vert p_\\theta(x_{t-1} \\vert x_t)) -\\mathbb{E}_q\\left(\\log p_{\\theta}(x_0 \\vert x_1) \\right)
$$

    $T$    $x_0$ perturbation     $0$    .      .      forward process posterior      KL divergence  .  $x_1$ $x_0$   $256$ RGB     projection   .    loss  term   DDPM   .           simplified loss.

$$
\\begin{aligned}
&\\mathbb{E}_{x_0,\\epsilon} \\left( \\frac{\\beta_t^2}{2\\sigma_t^2 \\alpha_t(1-\\bar{\\alpha}_t)} \\parallel \\epsilon - \\epsilon_\\theta(\\sqrt{\\bar{\\alpha}_t}x_0 + \\sqrt{1-\\bar{\\alpha}_t}\\epsilon, t) \\parallel^2\\right) \\newline
\\approx& \\mathbb{E}_{t, x_0, \\epsilon} \\left( \\parallel \\epsilon - \\epsilon_\\theta(x_t, t) \\parallel^2\\right) 
\\end{aligned}
$$

### DDPM log-likelihood 

DDPM       FID IS(Inception Score)    log-likelihood      . Log likelihood generative model data distribution mode     .    log-likelihood    generative model  data distribution        .                  . DDPM   log likelihood         , log likelihood       <U>       </U>   .

### Learnable Standard deviation(Variance)

DDPM    variance  ($\\sigma_t^2I$).    $\\sigma^2_t$ $\\beta_t$   forward process posterior  $\\tilde{\\beta}_t = \\frac{1-\\bar{\\alpha}_{t-1}}{1-\\bar{\\alpha}_t} \\beta_t$        .      $q(x_0)$  $t$ kernel variance isotropic Gaussian    delta function  . $\\beta_t$ $\\tilde{\\beta}_t$ variance      ,            .       DDPM    ,     

>    $t$ step variance $\\beta_t$ $\\alpha_t^2$     ,   variance   $\\bar{\\alpha}_t$ step    $t$       ( ).
> 

 .     10%      .  Improved DDPM     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350647-b458c10f-a842-40eb-ab2e-6550b8fff47c.png" width="500">
</div>


Diffusion step  $\\beta_t$ $\\tilde{\\beta}_t$   .   diffusion step    $\\sigma_t$           .       $t = 0$ ,    <U> </U>(small noise)        .

, Diffusion step   $\\Sigma_\\theta(x_t, t)$   image distribution      .   $\\sigma_t$   diffusion process      (?) .    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350618-13bb612e-572c-41b2-9c6d-ac0d3c79dcf5.png" width="500">
</div>


Log likelihood   diffusion process  VLB(Variance Lower Bound)  ,    ($T = 4000$)   ($T=0$)  loss  (importance)      .  DDPM log likelihood        variance       $\\Sigma_\\theta(\\cdot)$      , DDPM  loss term   $\\Sigma_\\theta(x_t, t)$     .   $\\Sigma_\\theta(x_t, t)$     ($t$     $\\log$   infimum/supremum   ) neural network      (      ).   variance $\\beta_t$ $\\tilde{\\beta}_t$   parameterization.  <U> dimension   </U> interpolation vector $v$ ,  output variance   interpolate.

$$
\\Sigma_\\theta(x_t, t) = \\exp(v\\log \\beta_t + (1-v)\\log \\tilde{\\beta}_t)
$$

   $\\beta_t$  interpolation   $\\log$  interpolation   numerical      .   $v$     $0\\sim1$      ,        <U>   </U> . Simplify loss VLB loss variance  normalize     parameterized variance    .  $L_\\text{simple}$  variance      $L_\\text{VLB}$ weighted summation loss .

$$
L_\\text{hybrid} = L_\\text{simple} + \\lambda L_\\text{vlb}
$$

 DDPM      $L_\\text{simple}$       $\\lambda = 0.001$   , $\\mu_\\theta(x_t, t)$ term $L_\\text{vlb}$     loss   stop gradient .  $\\Sigma_\\theta$ $L_\\text{hybrid}$  simplified loss guided   variance        $\\mu_\\theta$  simplified loss  .

### Better noise scheduling

DDPM  **noise scheduling**   noise scheduling  . Linear scheduling  ( resoltuion)   ,  ($32 \\times 32$)       .  forward process  gaussian noise   low resolution image    ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350619-7cdd3163-4cfc-49e5-b7e3-c82f25024500.png" width="700">
</div>


    **linear scheduling**(upper row)    prcoess   <U>    </U>   .    diffusion process  variance  $\\bar{\\beta}_t$    noisy  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350620-a77002e6-61e7-41d9-bb59-f901518a64ac.png" width="500">
</div>


 Linear schedule   diffusion process $20\\% \\sim 30\\%$ skip FID       ,  diffusion step             .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350622-3af084f8-02bc-4480-8f3f-1b4c297d4346.png" width="500">
</div>


  cosine schedule  ,    (linear)   variance    .

$$
\\bar{\\alpha}_t = \\frac{f(t)}{f(0)},~f(t) = \\cos \\left( \\frac{t/T + s}{1+s} \\cdot \\frac{\\pi}{2}\\right)^2
$$

   $\\beta$ $t = T$  $1$    ,  singularity(  modality   )   $0.999$   clip  .   offset $s$  $t = 0$     ,   bin(    )  $1/127.5$ ,   $s = 0.008$  .

### Gradient noise 

Hybrid loss    .   log likelihood   VLB optimize   .     ..


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350623-087f6934-e107-411a-8b5e-44bbd8c12fd5.png" width="500">
</div>


 <U>log likelihood</U>   loss VLB loss      hybrid    noisy      .   hybrid   loss curve     .  VLB loss     log-likelihood      ,  VLB loss  gradient Hybird  gradient **noise  **(  ). 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350624-bfe1dd94-a7a0-420b-9fa6-356a3e639339.png" width="500">
</div>


 $L_\\text{VLB}$ simplified loss   step magnitude . , loss  time step $t$     ,  $t$ <U>uniform   VLB objective   </U> .  ,   importance sampling .

$$
\\begin{aligned}
&L_\\text{VLB} = \\mathbb{E}_{t \\sim p_t} \\left( \\frac{L_t}{p_t} \\right) \\newline
&\\text{Where }p_t \\propto \\sqrt{\\mathbb{E}(L_t^2)} \\text{ and }\\sum p_t = 1
\\end{aligned}
$$

 focal loss    ,   $10$ previous loss       loss   loss sampling   .    $t$  $10$    uniformly   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350625-0d11d863-2ce3-4458-a2da-2e5a73ce5828.png" width="500">
</div>


   , Improved DDPM    likelihood based network  DDPM log likelihood       . Variance parameterize  FID    .


# Diffusion beats GAN

  GAN     ( DDPM baseline ImageNet         )   Diffusion beats GAN .    (?) OpenAI      <U>     </U> .  GAN  SOTA BigGAN    ImageNet   , unconditional/conditional image generation     .

### Why diffusion is not good enough?

  sample diversity ,     <U>     ?</U>      ,            .   diffusion  generative model         .

1. GAN(Generative Adversarial Networks)  diffusion    ,      ,       .
2. GAN fidelity   diversity trade off  ,      GAN   .

   DDPM       ( diffusion beats GAN  DDPM   $1$   ),  GAN           .    GAN   (   +  ) diffusion ,  GAN     .

### Background

  background    DDPM,     improved DDPM(trainable variance)      DDIM(Denoising  diffusion implicit models)  .   Improved DDPM   time step             , DDIM    marginal distribution  non-Markovian process            . DDIM           .

    Improved DDPM hybrid loss,   50 step  sequence    DDIM  .        <U>Improved DDPM </U>  (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350626-de4e219c-8302-40b1-b59d-44430094be02.png" width="">
</div>


     $50$ step  DDIM        . 

### Sample quality metrics

Sampling quality     GAN  IS, FID ,          .     ** **     ** ** <U>     </U>   .                 .  GAN  adversarial network   fake sample gradient attack    FID score    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350613-d14a2024-bd45-4d3f-a4c2-565c297fc8bf.png" width="700">
</div>


$$
IS(G) = \\exp(\\mathbb{E}_{x \\sim G})(D_{KL}(p(y \\vert x, p(y))))
$$

Inception score   . $p(y)$     class      $p(y \\vert x)$    .  IS           .  CIFAR-10 dataset  10         IS     (collapse   ).    inception network  layer feature ,         FID  .

$$
FID(x, g) = \\parallel \\mu_x - \\mu_g \\parallel^2_2 + Tr(\\Sigma_x + \\Sigma_g - 2(\\Sigma_x \\Sigma_g)^{1/2}) 
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350630-f9820d26-0213-40c2-b50f-cc206ca1f2e2.png" width="650">
</div>


   precision recall metric sample fidelity(precision) sample diversity(recall)     .    implicit probability $P_g$    $P_r$  ,                                 .

$$
(Precision) = \\frac{TP}{TP+FP}
$$

True positive($P_r$   $P_g$  )  + False positive($P_r$    $P_g$  )  True positive($P_r$   $P_g$  )    ,

$$
(Recall) = \\frac{TP}{TP+FN}
$$

True positive($P_r$   $P_g$  ) + False negative($P_r$   $P_g$   )  True positive($P_r$   $P_g$  )      .   Precision, IS fidelity  , Recall diversity   .

### Architecture improvement

 DDPM baseline                     .   diffusion model sampling quality       .

- Depth( )  Width( )  .       .
- Attention head  (  UNet residual block attention ).
- Attention  $16 \\times 16$ feature map level ,  $32 \\times 32$, $8 \\times 8$ feature map .
- Activation upsampling  downsampling  BigGAN residual block .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350631-2f69801a-2bb9-49d4-95de-77ef0cd49169.png" width="700">
</div>


- Residual connection $\\frac{1}{\\sqrt{2}}$ .

  ImageNet $128 \\times 128$    $256$ batch size, $250$ sampling step  FID   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350632-8ba35f51-f417-4e88-b698-f16e3c56fb8c.png" width="500">
    <img src="https://user-images.githubusercontent.com/79881119/235350633-37db8891-bdad-42e5-8fec-a90d7b99533e.png" width="500">
</div>


  rescaling      FID       .      depth         ,           .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350635-ce72acaf-3c88-4dc0-9b36-8ac82719d400.png" width="750">
</div>


 attention configuration   ,     head    head channel      FID .   $64$ channel             .    ( ) transformer   .

### Adaptive group normalization

AdaGN    time step class embedding  residual block stylization  .  hidden layer activation $h$  time step class embedding linear projection $y = [y_s,~y_b]$  ,

$$
\\text{AdaGN}(h,~y) = y_s \\cdot\\text{GroupNorm}(h) + y_b
$$

  .  StyleGAN   GroupNorm   AdaIN     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350636-39e8c778-bbe4-4e29-b846-2fdbfefed0c5.png" width="">
</div>


AdaGN         ,  ablation    .          .

-  resolution 2 residual block(BigGAN) , width resolution  
- Attention head $64$ channel  , resolution $32, 16, 8$  attention layer 
- BigGAN residual block upsampling, downsampling   AdaGN  timestep class embedding 

### Classifier guidance

GAN   conditional image synthesis label           .  GAN           discriminator $p(y \\vert x)$ explicit     label       generator    .

     AdaGN  class embedding time step   style    .  class embedding    discriminator  explicit   .         .    classifier  .  classifier  time step $t$  noisy image $x_t$  classification task   ($p_\\phi(y \\vert x_t,~t)$).   log likelihood gradient $\\nabla_{x_t} \\log p_\\phi(y \\vert x_t,~t)$ diffusion sampling guidance  .   DDPM sampler Markovian process    conditional guidance DDIM sampler non-Markovian process    conditional guidance  .     .

### Conditional reverse noising process

 noised image    pre-trained classifier network $p_\\phi(y \\vert x_t,~t)$ diffusion pcoess  explicit     normalizing factor $Z$  constant  .    Appendix   .

$$
p_{\\theta,\\phi}(x_t \\vert x_{t+1} , y) = Zp_\\theta (x_t \\vert x_{t+1}) p_\\phi(y \\vert x_t)
$$

   recall (class condition ) diffusion process    .  time process   $\\mu, \\Sigma$ ,

$$
\\log p_\\theta(x_t \\vert x_{t+1}) = -\\frac{1}{2}(x_t-\\mu)^\\top \\Sigma^{-1} (x_t - \\mu)+C
$$

  $\\log p_\\phi(y \\vert x_t)$  curvature $\\Sigma^{-1}$    .     . $\\log p_\\theta(x_t \\vert x_{t+1})$ $1/2\\parallel \\Sigma \\parallel$   quadratic function.   quadratic function     $\\Sigma$   , diffusion step  $\\Sigma$ $0$         .  $p_\\phi$  function           .

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235352170-23a9d778-f0ab-4fc6-ad1b-3cbe2efa7517.png" width="500">
</div>

  $x_t = \\mu$ (diffusion reverse process quadratic function  ) classifier guidance   1     .

   $\\mu$ ,    $p_\\theta$  $p_\\phi$  <U>    </U>    .

$$
\\log p_\\phi(y \\vert x_t) \\approx \\log p_\\phi(y \\vert x_t) \\vert_{x_t = \\mu}+(x_t - \\mu)\\nabla_{x_t} \\log p_\\phi (y \\vert x_t) \\vert_{x_t = \\mu} = (x_t - \\mu)g+C_1
$$

 $g$ $x_t = \\mu$ classifier  log likelihood gradient .     ,

$$
\\begin{aligned}
\\log(p_\\theta(x_t \\vert x_{t+1}) p_\\phi(y \\vert x_t)) \\approx& -\\frac{1}{2}(x_t-\\mu)^\\top \\Sigma^{-1} (x_t - \\mu)+(x_t - \\mu)g + C_2 \\newline
=& -\\frac{1}{2}(x_t-\\mu-\\Sigma g)^\\top \\Sigma^{-1} (x_t - \\mu -\\Sigma g)+ \\frac{1}{2}g^\\top \\Sigma g + C_2 \\newline
=& -\\frac{1}{2}(x_t-\\mu-\\Sigma g)^\\top \\Sigma^{-1} (x_t - \\mu -\\Sigma g)+ C_3 \\newline
=& \\log p(z) + C_4,~z \\sim \\mathcal{N}(\\mu + \\Sigma g, \\Sigma)
\\end{aligned}
$$

 classifier  guidance   gradient     (drift ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350637-0aa972ae-3e28-4476-99b9-afa4de6b4442.png" width="700">
</div>


### Conditional sampling for DDIM

    drift   ,   <U>Markov process </U>  DDIM deterministic sampling     . 

$$
x_{t-1} = \\sqrt{\\bar{\\alpha}_{t-1}}\\underset{\\text{predicted }x_0}{\\left( \\frac{x_t - \\sqrt{1-\\bar{\\alpha}_t}\\epsilon_\\theta^{(t)}(x_t)}{\\sqrt{\\bar{\\alpha}_t}} \\right)} + \\underset{\\text{direction pointing to }x_t}{\\sqrt{1-\\bar{\\alpha}_{t-1} - \\sigma_t^2} \\cdot \\epsilon_\\theta^{(t)}(x_t)} + \\underset{\\text{random noise}}{\\sigma_t z},~z \\sim \\mathcal{N}(0, I)
$$

      deterministic DDIM $x_0$ $x_t$     $x_t$  classifier gradient     .      SDE diffusion model    .   .   VP-SDE        .   DDPM   process   .

$$
x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)+\\sigma_tz
$$

 ,   score estimate function $s_{\\theta^\\ast}(\\cdot)$       .

$$
x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}} (x_i + \\beta_i s_{\\theta^\\ast}(x_i, i)) + \\sqrt{\\beta_i}z_i
$$

  ancestral sampling  score function time $t$     . 

$$
\\nabla_{x_t} \\log p_\\theta (x_t) = -\\frac{1}{\\sqrt{1-\\bar{\\alpha}_t}}\\epsilon_\\theta (x_t)
$$

   $p(x_t)p(y \\vert x_t)$ score function    .

$$
\\begin{aligned}
\\nabla_{x_t}\\log \\left( p_\\theta(x_t)p_\\phi(y \\vert x_t)\\right) =& \\nabla_{x_t} \\log p_\\theta(x_t) + \\nabla_{x_t} \\log p_\\phi(y \\vert x_t) \\newline
=& -\\frac{1}{\\sqrt{1-\\bar{\\alpha}_t}}\\epsilon_\\theta(x_t) + \\nabla_{x_t} \\log p_\\phi(y \\vert x_t)
\\end{aligned}
$$

, epsilon       .  DDPM   gradient  .

$$
\\hat{\\epsilon}_\\theta(x_t) := \\epsilon_\\theta(x_t) - \\sqrt{1-\\bar{\\alpha}_t}\\nabla_{x_t} \\log p_\\phi (y \\vert x_t) 
$$

### Classifier gradient scaling

Classfier $p_\\phi$  score guide   classification model  . Classifier architecture UNet model downsampling   feature map attention pooling($8 \\times 8$)   output  . Classifier         time step  noised input  .     gradient      .

 unconditional ImageNet model(class condition  embedding   ) , classifier guidance $s$ $1$     class        ,      <U>       </U> . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350638-8036a8c0-dedf-424f-9130-085fcdee73e5.png" width="">
</div>


 Pembroke Welsh corgi class  scale $1.0$  ()      $10.0$        .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350639-d330f2db-523f-4e8c-b4a9-6c419e2ff940.png" width="">
</div>


    unconditional model classifier guidance     (guidance = $10.0$) conditional model  FID  IS     .

     low resolution image condition  2-stage diffusion process   BigGAN      ,       classifier training    labeled sample   .


# Classifier-free diffusion guidance

### Low Temperature Sampling

Classifier guidance  classifier  gradient    <U>  </U>  **fidelity**   . Classifier guidance             .

     trade-off GAN  generative model     .   Low temperature sampling ,   <U>energy based model</U>    .

Samping  prior   state ($S(\\tau)$) .           state .    ($\\tau \\uparrow$)        .     ($\\tau \\downarrow$)       state  .    ,  state     state           fidelity     .

 Low temperature sampling <U>   fidelity  </U>, truncation trick (feasibility    )   Glow  autoregressive model   rejection         .

Diffusion beat GANs         ( process gaussian noise  /Score   ),      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350640-205bdc8e-b12b-4f64-8ed1-b59488f5effd.png" width="">
</div>


Temperature  fidelity  predicion          .  class guidance scale $s$   trade-off    .

### Classifier  guidance?

   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235351438-cac45ec0-b464-4ade-b500-725a40fc9e16.png" width="">
</div>


 task   <U> pipeline  </U>  . Classifier guidance diffusion model  pipeline   .      UNet  diffusion model   time step noised sample downsampled feature  classifier   .   classifier      time step       .

 classifier guidance sampling image classifier   gradient based adversarial attack   .  FID IS  metric    classifier-based metric,   classifier  (classifier   image )  FID IS  <U>metric     </U>  .   classifier guidance         FID IS score  ,   metric          .   ..  diffusion beat GANs OpenAI    Googlebrain  .    


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350617-fa8547b8-cacd-4eac-91bc-9f3192cf3877.jpg" width="">
</div>


### Background

  (?)  .       DDPM            .  continuous time diffusion model .  $p(x)$  $x$   $\\lambda \\in [\\lambda_{\\min},~\\lambda_{\\max}]$ latent $z_\\lambda$ , forward process $q(z \\vert x)$ variance preserving(VP) markov process   .

$$
q(z_\\lambda \\vert x) = \\mathcal{N}(\\alpha_\\lambda x, \\sigma_\\lambda^2I), \\text{ where }\\alpha_\\lambda^2 = 1/(1+e^{-\\lambda}),~\\sigma_\\lambda^2 = 1-\\alpha_\\lambda^2
$$

Continuous  $z_\\lambda$    marginal  ,  latent       .

$$
q(z_\\lambda \\vert z_{\\lambda^\\prime}) = \\mathcal{N}((\\alpha_\\lambda/\\alpha_{\\lambda^\\prime})z_{\\lambda^\\prime}, \\sigma_{\\lambda \\vert \\lambda^\\prime}^2) , \\text{ where }\\lambda < \\lambda^\\prime,~\\sigma^2_{\\lambda \\vert \\lambda^\\prime} = (1-e^{\\lambda-\\lambda^\\prime})\\sigma_\\lambda^2
$$

$\\lambda$    $\\alpha_\\lambda$ $\\sigma_\\lambda$    SNR     ,  process input signal           .  input $x$   Bayes rule  posterior     parameterized reverse process $p_\\theta$ loss   DDPM    .        .

$$
\\mathbb{E}_{\\epsilon, \\lambda}(\\parallel \\epsilon_\\theta(z_\\lambda)- \\epsilon \\parallel_2^2)
$$

$\\epsilon \\sim \\mathcal{N}(0, I)$ $z_\\lambda = \\alpha_\\lambda x + \\sigma_\\lambda \\epsilon$  . Continous function  score mathinc      . $p(\\lambda)$    variational lower bound    classifier guidance    cosine schedule    .          noise            .

$$
\\begin{aligned}
&\\lambda = -2\\log \\tan(au+b),~u \\sim \\mathcal{U}(0, 1) \\newline
&a = \\arctan (e^{-\\lambda_{\\min}/2})-b,~b = \\arctan(e^{-\\lambda_{\\max}/2})
\\end{aligned}
$$

### Classifier guidance

 low temperature sampling    GAN Flow based model  FID score IS  trade-off     ,        .      prior   diffusion process  .        classifier guidance  diffusion score noised image  classifier guidance     .

$$
\\hat{\\epsilon}_{\\theta, \\phi}(z_\\lambda, c) := \\epsilon_\\theta(z_\\lambda, c) - w\\sigma_\\lambda\\nabla_{z_\\lambda} \\log p_\\phi (c \\vert z_\\lambda) 
$$

  classifier   $w$  probability scale factor, log likelihood      label       diversity  fidelity   .

$$
\\tilde{p}_{\\theta, \\phi}(z_\\lambda \\vert c) \\propto p_\\theta(z_\\lambda \\vert c)p_\\phi(c \\vert z_\\lambda)^w
$$


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350641-c99563f7-e436-48f9-bd57-fd7b2b53deb6.png" width="">
</div>


     toy experiment      ,    classifier guidance                  .

### Classifier free guidance

Classifier guidance     IS FID  trade off   ,     low temperature sampling    image classifier   .   classifier free guidance   $\\epsilon_\\theta(z_\\lambda, c)$ $\\hat{\\epsilon}_{\\theta, \\phi}(z_\\lambda, c)$  auxiliary   classifier guidance      .    classifier parameter $\\phi$    .

  classifier  , unconditional diffusion model $p_\\theta(z)$  conditional model $p_\\theta(z, c)$    .        ,  probability  parameterize  .    .

1. Unconditional model class identifier $c$  $\\emptyset$ null token . , $\\epsilon_\\theta(z_\\lambda) = \\epsilon_\\theta(z_\\lambda, \\emptyset)$
2. $p_\\text{uncond}$  hyperparameter probability  null class sample     unconditional model  .
3. Conditional unconditional weight    . $\\tilde{\\epsilon}(z_\\lambda, c) = (1+w)\\epsilon_\\theta(z_\\lambda, c) - w\\epsilon_\\theta(z_\\lambda)$

  classifier gradient $\\phi$          approximation( 1 )   .  gradient     adversarial attack .

###  


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350642-63f54983-7e25-4ea0-9cd0-43d5de9a6a11.png" width="">
</div>


 unconditional conditional         $0.5$   .     3    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235350644-5713b6a9-d3c6-40c4-b0cd-d243a8273876.png" width="500">
    <img src="https://user-images.githubusercontent.com/79881119/235350645-6227a31e-e75a-4de2-b3d6-123d1f194454.png" width="500">
</div>



# 

 3             .   improved DDPM  DDPM                      .

  classifier     OpenAI  classifier guidance   GAN flow based model         diffusion model architecture     contribution   .

 classifier guidance free   classifier   class condition            unconditional diffusion model $p_\\theta(z)$  conditional model $p_\\theta(z, c)$    ,   classifier guidance score estimation classifier parameter $\\phi$     .
`,one=`---
title: "ControlNet    "
category: "ai papers"
publishedAt: "2023-05-01"
thumbnail: "https://user-images.githubusercontent.com/79881119/235462207-4ecbc531-2eae-4da1-a9be-b2dcfc6cca9c.png"
---


# 
ControlNet    'Adding conditional control to text-to-image diffusion models'.  <U>ControlNet</U>      large diffusion model   **input condition**  <U> knowledge transfer</U>    .  Diffusion model            .   LLM(Large Language Model)      Parameter efficient fine tuning    .        ControlNet     GPU  <U> GPU   </U>,     ControlNet  input condition    .    ControlNet       zero convolution ,    input condition        .


# Input condition in diffusion models

Input condition diffusion model     .       stable diffusion    [latent diffusion ](https://arxiv.org/abs/2112.10752)     , 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462245-c6711e21-c0b8-435f-80e9-09fea31ea502.png" width="700">
</div>


  <U> semantic  </U>      high frequency feature  vector quantized encoder/decoder   (,  $x$   resolution  latent image   ).   latent diffusion process          **DDPM**  **DDIM**    .

     attention pooling   class label  projection embedding   ([diffusion process conditioning  ](https://6unoyunr.github.io/blog/diffusionpapers)).   ,     condition     task specific encoder $\\tau_\\theta$ ,      $\\tau_\\theta$   condition vector attention layer    .       description   ( : BLIP ),

> Description : The car is driving past a small old building
> 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462200-a917f64d-6bd3-4c05-9f05-29ef14451152.png" width="400">
</div>


CLIP text encoder  <U>  </U>   embedding   (reverse process)         prior prompt    text to image task     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462194-52d7d549-92c8-4f76-a8eb-a31384addbbd.png" width="800">
</div>


 prompt        , <U>    encoder</U>  attention pooling   diffusion process   .

# Naive conditioning 

     .

 diffusion model  condition    score network <U> condition    </U>,    ** **  <U>  </U>.  Vision-Language(VL) task      CLIP, ALIGN      (pose to image, semantic to image )   .  LAION-5B  stable diffusion  base    object shape pose             .  <U>  </U> .

,   manipulation  processing            .       <U>     </U>  .

 processing  problem     boundary     ,    .       greedy   (   attention activation  )      (depth, pose )    .         latent diffusion      , latent diffusion process   task specific encoder embedding output conditioning  (embedding       constraints )   task          .  <U>end-to-end      </U>.      conditioning part     end-to-end    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462202-abcf9761-fbf6-41cd-b966-3d012c7433e9.png" width="1000">
</div>



# ControlNet, end-to-end neural network

     conditioning      <U>transfer learning  </U>.  ControlNet    .

- diffusion model parameter      parameter  .   trainable( )  copy locked( ) copy .
- Locked copy  network     representation     .
- Trainable copy conditional control   task-specific dataset   .
- Locked copy Trainable copy zero convolution   . Zero convolution     .

         .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462204-48bf3f2f-bc94-423d-a3f7-a6f4a900382a.png" width="700">
</div>


$x$  $y$   diffusion process     noised latent vector $z_{t}$ input    noised latent vector $z_{t-1}$   .   neural network  diffusion model           <U>    </U>    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462207-4ecbc531-2eae-4da1-a9be-b2dcfc6cca9c.png" width="500">
</div>


        condition    . Trainable copy fine-tuning   parameter        .


# Method

      conditioning      .  conditioning  neural network block    resnet bottleneck block transformer multi-head attention block  .

2D(  ) feature  .  feature map $x \\in \\mathbb{R}^{h \\times w \\times c}$  , neural network block $\\mathcal{F}_\\Theta(\\cdot)$   parameter $\\Theta$  input feature map $x$ transform .

$$
y = \\mathcal{F}_\\Theta(x)
$$

       (a) .   parameter $\\Theta$  (  ).     trainable parameter $\\Theta_c$    input condition $c$ input    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462208-12e86232-15ef-4f0f-b15d-f4d66b69869a.png" width="500">
</div>


     <U>activation    </U>    $2$   . Backpropagation   gradient     optimization   .

### Zero convolution

         zero convolution  ,  neural block /    . /    $\\mathcal{Z}_{\\Theta_1}(\\cdot), \\mathcal{Z}_{\\Theta_2}(\\cdot)$ .  zero-convolution feature map     $1\\times 1$   convolution weight bias  zero    .

   output $y$ conditioning   output   .

$$
y_c = \\mathcal{F}_\\Theta(x) + \\mathcal{Z}_{\\Theta_2}(\\mathcal{F}_{\\Theta_c}(x + \\mathcal{Z}_{\\Theta_1}(c)))
$$

   weight  bias $0$  Zero convolution   . Zero-convolution weight  bias  $0$, input    $0$ output .

$$
\\begin{cases}
\\mathcal{Z}_{\\Theta_1}(c) = 0 \\newline
\\mathcal{F}_{\\Theta_c}(x+\\mathcal{Z}_{\\Theta_1}(c)) = \\mathcal{F}_{\\Theta_c}(x) = \\mathcal{F}_{\\Theta}(x) \\newline
\\mathcal{Z}_{\\Theta_2}(\\mathcal{F}_{\\Theta_c}(x + \\mathcal{Z}_{\\Theta_1}(c))) = \\mathcal{Z}_{\\Theta_2}(\\mathcal{F}_{\\Theta_c}(x)) = 0
\\end{cases}
$$

  $y_c = y$  .     training   ControlNet   input/output    diffusion input/output    ,   optimization   neural network          .

### Gradient flow in zero convolution

$1 \\times 1$ convolution   zero convolution    local gradient   .  input feature map $I \\in \\mathbb{R}^{h \\times w \\times c}$  forward pass

$$
\\mathcal{Z}(I,; \\{W, B\\})_{p, i} = B_i + \\sum_{j}^c I_{p, i}W_{i, j}
$$

 , zero convolution   $W = 0, B = 0$  $I_{p, i}$ $0$   point 

$$
\\begin{cases}
\\frac{\\partial \\mathcal{Z}(I; \\{W, B\\})_{p, i}}{\\partial B_i} = 1\\newline
\\frac{\\partial \\mathcal{Z}(I; \\{W, B\\})_{p, i}}{\\partial I_{p, i}} = \\sum_{j}^cW_{i,j} = 0 \\newline
\\frac{\\partial \\mathcal{Z}(I; \\{W, B\\})_{p, i}}{\\partial W_{i, j}} = I_{p, i} \\neq 0
\\end{cases}
$$

  . Input  gradient $0$  weight bias  gradient $0$    .  first step   Hadamard product  $\\odot$ 

$$
W^\\ast = W-\\beta_\\text{lr} \\cdot \\frac{\\partial \\mathcal{L}}{\\partial \\mathcal{Z}(I; \\{W, B\\})} \\odot \\frac{\\partial \\mathcal{Z}(I; \\{W, B\\})}{\\partial W} \\neq 0
$$

$0$  weight     step

$$
\\frac{\\partial \\mathcal{Z}(I; \\{W^\\ast, B\\})_{p, i}}{\\partial I_{p, i}} = \\sum_{j}^cW^\\ast_{i,j} \\neq 0
$$

 .


# Stable diffusion + ControlNet


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462212-cafb40f1-f222-4560-9491-52d370dd512f.png" width="">
</div>


    stable diffusion    . Loss  diffusion algorithm task specific condition $c_f$   .

$$
\\mathcal{L} = \\mathbb{E}_{z_0, t, c_t, c_f, \\epsilon \\sim \\mathcal{N}(0, 1)}\\left( \\parallel \\epsilon - \\epsilon_\\theta(z_t, t, c_t, c_f) \\parallel_2^2 \\right)
$$


# 

### Canny Edge


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462216-b7291a87-32f6-4ac2-983f-b7193936fd35.png" width="">
</div>


### Hough Line


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462217-4d045efa-eddb-4450-9ec2-92a3ad0cb070.png" width="">
</div>


### Scribble


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462218-4986d394-2c30-4e23-b3fd-18f65c34bcb9.png" width="">
</div>


### HED edge


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462222-f9f9d56d-ee9f-4e1c-af07-9fb29cd10880.png" width="">
</div>


### Pose


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462224-f1f5b4d8-579f-473e-b033-aad1b955a387.png" width="">
</div>


### Segmentation


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462226-5209cf47-c377-400e-add5-07738a63644b.png" width="">
</div>


### Depth


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462230-9f60b1a4-d1d7-41c3-a5d8-a3b74f07af57.png" width="">
</div>


### Cartoon line drawing


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462232-8dbc6b0e-ad70-41f6-aa4b-fb2d91c40f60.png" width="">
</div>



# Official Code  

 official code [ ](https://github.com/lllyasviel/ControlNet.git)  .          .            .  repository  

\`\`\`bash
git clone https://github.com/lllyasviel/ControlNet.git
\`\`\`

Conda   .

\`\`\`bash
cd ControlNet
conda env create -f environment.yaml
conda activate control
\`\`\`

     stable diffusion [Hugging Face Page](https://huggingface.co/lllyasviel/ControlNet)  .   ControlNet/models stable diffusion ckpt  detector ControlNet/annotator/ckpts  .

### Detector()  (ControlNet  )

\`\`\`bash
cd ./annotator/ckpts
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/body_pose_model.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/dpt_hybrid-midas-501f0c75.pt
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/hand_pose_model.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/mlsd_large_512_fp32.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/mlsd_tiny_512_fp32.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/network-bsds500.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/annotator/ckpts/upernet_global_small.pth
\`\`\`

        curl  .

### Models()  (ControlNet  )

\`\`\`bash
cd ./models
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_canny.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_depth.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_hed.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_mlsd.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_normal.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_openpose.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_scribble.pth
curl -LO https://huggingface.co/lllyasviel/ControlNet/resolve/main/models/control_sd15_seg.pth
\`\`\`

         curl  .

###   API 

    

\`\`\`bash
python gradio_2.py
\`\`\`

  ,           .   \`gradio_2.py\`       

\`\`\`python
block.launch(server_name='0.0.0.0')
\`\`\`

       .

\`\`\`python
block.launch(server_name='0.0.0.0', share=True)
\`\`\`

  

\`\`\`python
python gradio_scribble2image_interactive.py
\`\`\`

 .    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462235-7dd62696-6f57-4ae8-a0ee-640a2b1cf4e8.png" width="">
</div>


 public URL 72   ,   vpn     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462236-0d8e2563-80b2-45a8-9b61-46aa33e51c64.png" width="900">
</div>


   .    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462237-2678713e-f6ad-441a-aed9-0debfa373a47.png" width="700">
</div>


 ..  ControlNet

Run   DDIM sampler  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462239-0268dd2a-2e93-45fa-aff1-f9261b635f62.png" width="">
</div>



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235462241-f63bdb2f-ddd6-437f-9aa0-e27094bbe81c.png" width="">
</div>


          ...    .  10  GPU   .
`,sne=`---
title: "GLIDE(Towards Photorealistic Image Generation and Editing with Text-Guided Diffusion Models)    "
category: "ai papers"
publishedAt: "2023-05-02"
thumbnail: "https://user-images.githubusercontent.com/79881119/235698021-b1c810ca-e900-404c-bf79-f4ae880b3c1b.png"
---


# 

 DDPM     DDIM   diffusion model   .   diffusion condition   classifier guided/free     conditioning paper ControlNet  .    [GLIDE](https://arxiv.org/abs/2112.10741)  conditional diffusion  ,   classifier   label  discretized category     GLIDE **text description**    diffusion sampling  ** **    .

DALLE-2     diffusion    GLIDE        diffusion        **  **  . Diffusion       1 , GLIDE        ** ** GAN   generative method     <U>      </U>   .


# Diffusion model 

**Diffusion model**    SMLD DDPM score based generative model              .    **GLIDE** diffusion GAN     task      ,       <U>T2I(Text to Image synthesis)</U>   .

### CLIP  T2I

**T2I **  SOTA     generative model   .       transformer     Image/Text corresponding model CLIP. CLIP         .   ,


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698004-59d9e19f-d74a-4b51-a774-5d5616fad369.png" width="700">
</div>


****     **caption**(text prompt) pair   ,   positive pair  text prompt  embedding      negative pair   prompt  embedding   . **Contrastive learning**   classification task discrete label(one hot encoding label) ,  <U>   </U>      .

### Embedding similarity into classifier

           .  <U>     </U>      dataset domain $p(x)$     , semantic understanding    **snowball effect**            <U>multimodal      </U> . GLIDE classifier     CLIP        understanding      .

### Guided diffusion models

     [Diffusion beat GANs](https://arxiv.org/abs/2105.05233)  [Classifier free diffusion](https://arxiv.org/abs/2207.12598)  GAN  autoregressive modeling  /  trade-off(low temperature sampling)      ,    controllability  latent manipulation    .

$$
\\log p_\\phi(y \\vert x_t) \\approx \\log p_\\phi(y \\vert x_t) \\vert_{x_t = \\mu}+(x_t - \\mu)\\nabla_{x_t} \\log p_\\phi (y \\vert x_t) \\vert_{x_t = \\mu} = (x_t - \\mu)g+C_1
$$

  point  **curvature**     classifier score <U> 1 </U>  gradient guidance   classifier guidance           .

$$
\\tilde{\\epsilon}(z_\\lambda, c) = (1+w)\\epsilon_\\theta(z_\\lambda, c) - w\\epsilon_\\theta(z_\\lambda)
$$

    classifier free  classifier guidance  classifier   classifier  scale noise    <U>pipeline </U> ,  classifier  gradient   FID IS                    .

### CLIP guidance and classifier-free guidance

   (classifier /classifier  )  <U>   </U> ,    **text to image sample quality**    .

 text description   task  classifier       CLIP score()   , classifier-free guidance classifier     ADM(Diffusion beat GANs)    conditioning   .         .


# Diffusion model   

### DDPM as Score estimator

GLIDE    diffusion             .    DDPM   Score based generative modeling    ,    .

    intractable solution    variational inference     prior $p_\\theta(z)$   .  GAN    VAE auto-encoder   KL divergence     ,  diffusion model     <U>diffusion process</U> .

$$
q(x_t \\vert x_{t-1}) := \\mathcal{N}(x_t; \\sqrt{\\alpha_t}x_{t-1}, (1-\\alpha_t)I) 
$$

       Brownian motion ,      stochastic differential equation,  SDE solution    diffusion process .   gaussian noise  ,   $t$   $x_T$    .

   reverse process()     .        $q(x_{t-1} \\vert x_t)$  tractable  ,   parametric function $p_\\theta(x_{t-1} \\vert x_t)$     .

      diffusion process(DDPM)   simplified loss,

$$
L_\\text{simple} := \\mathbb{E}_{x_0 \\sim q(x_0), \\epsilon \\sim \\mathcal{N}(0, I)} \\left( \\parallel \\epsilon - \\epsilon_\\theta(x_t, t) \\parallel_2^2 \\right)
$$

  score matching   DDPM network   epsilon score function normalized    ( ).

$$
\\begin{aligned}
&x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}}\\left( x_t - \\frac{\\beta_t}{\\sqrt{1-\\bar{\\alpha}}_t} \\epsilon_\\theta(x_t, t)\\right)+\\sigma_tz \\newline
\\rightarrow~~&x_{t-1} = \\frac{1}{\\sqrt{\\alpha_t}} (x_i + \\beta_i s_{\\theta^\\ast}(x_i, i)) + \\sqrt{\\beta_i}z_i
\\end{aligned}
$$

  variance    <U>improved DDPM </U>.     condition   ,    diffusion model          downsampled input $x$   concatenate   <U>superresolution diffusion model</U>.         .

$$
p_{\\theta}(y_{t-1} \\vert y_t,~x) 
$$

### Guided diffusion

Noise   process  sample  classifier $p_\\phi(y \\vert x_t)$    gradient  ($s$ guidance power ).

$$
\\hat{\\mu}_\\theta(x_t \\vert y) := \\mu_\\theta(x_t \\vert y) + s \\cdot \\Sigma_\\theta(x_t \\vert y)\\nabla_{x_t} \\log p_\\phi (y \\vert x_t) 
$$

### Classifier-free guidance

   noise sample  classifier    .  classification  implicit classifier $p^i(y \\vert x_t)$ ,  implicit classifier   (Bayes rule).

$$
p^i(y \\vert x_t) \\propto \\frac{p(x_t \\vert y)}{p(x_t)}
$$

log likelihood  gradient(score)      .

$$
\\nabla_{x_t} \\log p^i(y \\vert x_t) \\propto \\nabla_{x_t} \\log p(x_t \\vert y) - \\nabla_{x_t} \\log p(x_t) \\propto \\epsilon^\\ast(x_t \\vert y) - \\epsilon^\\ast(x_t)
$$

,  classifier conditioned sample  unconditional sample      extrapolated direction   .

$$
\\hat{\\epsilon}_\\theta(x_t \\vert y) = \\epsilon_\\theta(x_t \\vert \\emptyset) + s \\cdot (\\epsilon_\\theta(x_t \\vert y) - \\epsilon_\\theta(x_t \\vert \\emptyset))
$$

### CLIP guidance

       CLIP guidance    . CLIP image encoder $f(x)$     text encoder $g(c)$      similarity   .   cosine similarity .

$$
f(x) \\cdot g(c)
$$

 image text    inner product     . CLIP          ,  value  classification probability    .

$$
\\hat{\\mu}_\\theta(x_t \\vert y) := \\mu_\\theta(x_t \\vert y) + s \\cdot \\Sigma_\\theta(x_t \\vert y)\\nabla_{x_t} (f(x_t) \\cdot g(c))
$$

 classifier guidance    CLIP  noised image $x_t$   ,   reverse process     gradient    .   Noised CLIP .

  CLIP  diffusion text     <U> noised CLIP  fine tuning  </U>,  data augmentation perceptual loss  ** ** . CIFAR-10C  corruption dataset domain shift problem  task   , noised input classifier  out of distribution domain  ,     classification   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698044-d3810eb0-0921-4997-80c4-6a3e8a866020.png" width="600">
</div>



# Related works

### Text conditional image generation

Text  image  task   .    SOTA GAN      captioning dataset  ,       DALLE  Vector Quantized learning  .   diffusion baseline  ,     text conditioning      .  DALLE       vector quantized diffusion  diffusion based T2I   .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698010-5d52e1aa-0efe-4246-8660-b3abd2e76c7b.png" width="600">
</div>


### Diffusion model based generation tasks

Diffusion  text to image    task   .  [SDEdit](https://sde-image-editing.github.io/)   diffusion process SDE   inpainting  task  rough sketch(stroke) to image  conditioned task    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698012-e5a084b7-69c8-4e16-9938-8b93cee78de5.png" width="600">
</div>


 [Palette](https://arxiv.org/pdf/2111.05826.pdf)  image to image translation task   diffusion model     task    .

### Use CLIP guidance into image generation(GAN)

GAN    CLIP guided image generation    .      StyleCLIP(StyleGAN + CLIP), BigSleep(BigGAN + CLIP)  StyleGAN-NADA     . GAN CLIP guidance           . [LAFITE paper](https://arxiv.org/pdf/2111.13792.pdf) CLIP text embedding      perturb CLIP image embedding  GAN model  ,  image/text pair dataset (language free) text to image      .

### Use CLIP guidance into image generation(Diffusion)

  diffusion CLIP guidance    GLIDE   . Crowson   [ ](https://colab.research.google.com/drive/12a_Wrfi2_gwwAuN3VvMTwVMz9TfqctNj), DDIM reconstruction process  CLIP loss  diffusion model fine tuning [DiffusionCLIP](https://arxiv.org/pdf/2110.02711.pdf)  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698017-8e20d77b-42a5-4cbb-b307-022372c776e3.png" width="700">
</div>


### Text based image editing

[Paint by Word](https://arxiv.org/pdf/2103.10951.pdf) [Diffusion based image editing](https://arxiv.org/pdf/2111.14818.pdf)   CLIP  GAN Diffusion model    prompt        .


# Training 

GLIDE diffusion  T2I       .       $64 \\times 64$ image  (3.5B) diffusion  model(+text condition) ,   (1.5B) upsampling diffusion model($64 \\times 64 \\rightarrow 256 \\times 256$) .  CLIP guidance     $64 \\times 64$ image  ViT-L CLIP  noised input  .

### Training text conditional diffusion models

  Diffusion beat GANs   ADM model .     diffusion       ,

-  resolution 2 residual block(BigGAN) , width resolution  
- Attention head $64$ channel  , resolution $32, 16, 8$  attention layer 
- BigGAN residual block upsampling, downsampling   AdaGN  timestep class embedding 

 .   ADM   class embedding time embedding attention    class conditioning , GLIDE   transformer  text embedding .        github official code   .

### Transformer  text embedding 

\`\`\`python
xf_in = self.token_embedding(tokens.long())
xf_in = xf_in + self.positional_embedding[None]
if self.xf_padding:
    assert mask is not None
    xf_in = th.where(mask[..., None], xf_in, self.padding_embedding[None])
xf_out = self.transformer(xf_in.to(self.dtype))
if self.final_ln is not None:
    xf_out = self.final_ln(xf_out)
xf_proj = self.transformer_proj(xf_out[:, -1])
xf_out = xf_out.permute(0, 2, 1)  # NLC -> NCL

outputs = dict(xf_proj=xf_proj, xf_out=xf_out)
\`\`\`

\`Text2ImUNet\`     \`get_text_emb\`  . \`xf_in\` transformer  prompt input tokenize   + positional encoding    transformer      conditioning   output   token  embedding(\`xf_out[:, -1]\`) dimension  projection  . Output   token    .

\`\`\`python
tokens = [self.start_token] + tokens[: text_ctx - 2] + [self.end_token]
\`\`\`

Transformer tokenizer   BPE  ,           \`<EOS>\` .  ViT   class token   encoder   token feature map class    , Text embedding  transformer   \`<EOS>\`      attention      text  feature   .  , class embedding  conditioning    .

### UNet module conditioning 

\`\`\`python
emb = self.time_embed(timestep_embedding(timesteps, self.model_channels))
if self.xf_width:
    text_outputs = self.get_text_emb(tokens, mask)
    xf_proj, xf_out = text_outputs["xf_proj"], text_outputs["xf_out"]
    emb = emb + xf_proj.to(emb)
\`\`\`

  (UNet)    ,     \`xf_proj\` feature dimension token index  permute \`xf_out\` .

\`xf_proj\`    timestep embedding , \`xf_out\`    .

\`\`\`python
for module in self.input_blocks:
    h = module(h, emb, xf_out)
    hs.append(h)
h = self.middle_block(h, emb, xf_out)
for module in self.output_blocks:
    h = th.cat([h, hs.pop()], dim=1)
    h = module(h, emb, xf_out)
\`\`\`

module      \`UNet\`     TimestepBlock  AttentionBlock  .

\`\`\`python
class TimestepEmbedSequential(nn.Sequential, TimestepBlock):
    def forward(self, x, emb, encoder_out=None):
        for layer in self:
            if isinstance(layer, TimestepBlock):
                x = layer(x, emb)
            elif isinstance(layer, AttentionBlock):
                x = layer(x, encoder_out)
            else:
                x = layer(x)
        return
\`\`\`

    text condition      ,  ResBlock  TimestepBlock     time+text embedding(\`xf_proj\`)   group normalization  ( ADM ),

\`\`\`python
if self.use_scale_shift_norm:
    out_norm, out_rest = self.out_layers[0], self.out_layers[1:]
    scale, shift = th.chunk(emb_out, 2, dim=1)
    h = out_norm(h) * (1 + scale) + shift
    h = out_rest(h)
else:
    h = h + emb_out
    h = self.out_layers(h)
\`\`\`

AttentionBlock     text token information key/value cross-attention  query   noised image \`x\` text      .

\`\`\`python
def forward(self, x, encoder_out=None):
    b, c, *spatial = x.shape
    qkv = self.qkv(self.norm(x).view(b, c, -1))
    if encoder_out is not None:
        encoder_out = self.encoder_kv(encoder_out)
        h = self.attention(qkv, encoder_out)
    else:
        h = self.attention(qkv)
    h = self.proj_out(h)
    return x + h.reshape(b, c, *spatial)
\`\`\`

      resolution $32, 16, 8$  attention layer     attention map  projection(\`self.qkv(self.norm(x).view(b, c, -1))\`) key/value  .

### Training dataset and architecture

Dataset DALL-E     .  Diffusion beat GAN  width             text     $512$  . Transformer    $2048$  $24$ residual block ,   (UNet + Transformer)     3.5B .

  upsampling diffusion model   conditioning ,   UNet   transformer($2048 \\rightarrow 1024$)  .  training detail       .

### Classifier free guidance

  transformer output  text conditioning    CLIP guidance classifier free    .     , $20\\%$   text token sequence empty sequence(NULL = $\\emptyset$)  text  unconditional representation  (fine-tuning).     classifier free guidance   unconditional diffusion model $p_\\theta(z)$  conditional model $p_\\theta(z, c)$     .   $c$ class embedding text embedding   .

### Image inpainting

 related  [Palette](https://arxiv.org/pdf/2111.05826.pdf)  image to image translation task    .    diffusion model  task   ,      diffusion forward perturbed input  noise       perturbed edge   artifact   .

   Palette   inpainting   .  Impaint  UNet      .

\`\`\`python
def forward(self, x, timesteps, inpaint_image=None, inpaint_mask=None, **kwargs):
    if inpaint_image is None:
        inpaint_image = th.zeros_like(x)
    if inpaint_mask is None:
        inpaint_mask = th.zeros_like(x[:, :1])
    return super().forward(
        th.cat([x, inpaint_image * inpaint_mask, inpaint_mask], dim=1),
        timesteps,
        **kwargs,
    )
\`\`\`

x(   ) x   RGB masking   concat.   inpaint mask   $7$ channel input   . (RGB( ) + RGB( ) + Mask).

Input channel       module channel   , fine-tuning   $3$       channel $0$   .   upsampling model fine tuning  low-resolution  ( RGB) , high resolution image masking   (  ).

\`\`\`python
def forward(self, x, timesteps, inpaint_image=None,
			      inpaint_mask=None, low_res=None, **kwargs):
    if inpaint_image is None:
        inpaint_image = th.zeros_like(x)
    if inpaint_mask is None:
        inpaint_mask = th.zeros_like(x[:, :1])
    _, _, new_height, new_width = x.shape
    upsampled = F.interpolate(
        low_res, (new_height, new_width), mode="bilinear", align_corners=False
    )
    return super().forward(
        th.cat([x, inpaint_image * inpaint_mask, inpaint_mask, upsampled], dim=1),
        timesteps,
        **kwargs,
    )
\`\`\`

,  upsampling module $256 \\times 256$   noised $x_t$ $64 \\times 64$  GT bicubic upsampling  concatenate  , inpainting   concatenate  inpainting high resolution GT mask   .

### Noised CLIP models

Diffusion beat GANs    classifier guidance  classifier  noise input    , GLIDE CLIP guidance  CLIP model noised image $x_t$   .


# 

### CLIP guidance vs. Classifier-free guidance


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698021-b1c810ca-e900-404c-bf79-f4ae880b3c1b.png" width="700">
</div>


     .    , artifact   CF Guide      .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698028-34cbeb76-9949-45e8-b0fe-4b39afb04e0f.png" width="700">
</div>


   Classifier-free guidance    . Precision/Recall   Precision  CLIP guidance      ,       Recall   Precision    trade-off .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698031-bf332432-d596-4cfe-99e5-5cf16734508d.png" width="700">
</div>


 precision      $P_r$ $P_g$   ,    text prompt       . IS/FID  Classifier free guidance         ,    CLIP score()  FID  CLIP  guidance   classifier free       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/235698035-f6822431-04d9-42e2-9ebf-7a695732f510.png" width="500">
    <img src="https://user-images.githubusercontent.com/79881119/235698039-b32dd194-cb2a-4f15-8cbc-d2f9cb5b5ea0.png" width="500">
</div>


  Elo score  Classifier free guidance    ,  (photorealism)  (Caption similarity)  DALL-E    . DALL-E reranking(CLIP      picking )  GLIDE reranking       $\\%$  .  row GLIDE output DALL-E d-VAE   .
`,lne=`---
title: "MERU(Hyperbolic Image-Text Representations)  "
category: "ai papers"
publishedAt: "2023-07-12"
thumbnail: "https://github.com/user-attachments/assets/26b67f08-0036-4e9d-936d-dd1ca659a7f4"
---


# 

  , **CLIP** **ALIGN**   **Vision-Language Modeling**    .        **MERU**         space( datapoint      )         CLIP       .

       .  (     )      $180^\\circ$   , Spherical       .  Modality    (  **Curvature**  )       .


<div align="center">
    <img src="https://github.com/user-attachments/assets/044c8c53-8fcd-4392-9324-c29a4e3e0507" width="700">
</div>


 (?)        .    /     **Euclidean**  **non-Euclidean**   .      VLM       .


#    

     . 


<div align="center">
    <img src="https://github.com/user-attachments/assets/1de1e8fe-7f13-4fb6-bd7f-eb4325c4f0e3" width="300">
</div>


  $n$      ,   .  .        $n$      .       .

-   .
-    .
-   .

       .             .        .   .     semantic  .                 .     .     ,    /         .


<div align="center">
    <img src="https://github.com/user-attachments/assets/0d9ab3a9-6554-416b-913c-9e986afc5706" width="300">
</div>


    .             .            ,     .           .     /         .              .

   ?             .        .            ,                    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/11646a36-d907-41c6-8d0a-f74afe8ae0a5" width="700">
</div>


     (  ),     semantic        .            cosine similarity( )          .  

  VLM baseline  contrastive learning objective   ** embedding  ** .


#     Recap


<div align="center">
    <img src="https://github.com/user-attachments/assets/d2d1694b-ab09-408a-a2d3-840c97d39faf" width="800">
</div>


      geometry     .       disk(  ball)   paper([ ](https://papers.nips.cc/paper/2017/file/59dfa2df42d9e3d41f5b02bfc32229dd-Paper.pdf))    .        ()       projection  .    (  Analytic   $X, Y$     )      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/f0f7697a-4661-41bb-ace6-70514de129a7" width="700">
</div>


          ([ ](https://chumji.tistory.com/3)).    [Curvature Regularization to Prevent Distortion in Graph Embedding](https://arxiv.org/abs/2011.14211)  ,     **A**  /     .         node classification ,   (    )     (embedding)   .      proximity preserving( ,    )              representation     (  diffusion process  random walk  ).      central limit theorem     ,  **B1**       space  .     mapping                 .

B1 mapping(Proximity Preserving   ) B2 mapping   distance  , **Geodesic distance** **Shortest path distance**       ( **C**), **Euclidean distance**( **D**)      .  Oracle Embedding       ,   objective function           .   **            **.


### Riemannian manifolds( )

       .         space    ,    space   .        manifold  .

 Smooth surface  Manifold   2 sheet    ,         smooth surface  Locally Euclidean(   $\\epsilon$  manifold           . $d\\vec{x}*d\\vec{y}$ )


<div align="center">
    <img src="https://github.com/user-attachments/assets/ff4f14fa-cd8e-4bee-832a-5cb13b7cef20" width="300">
</div>


 Riemannian manifold            smooth manifold $\\mathcal{M}$  manifold      metric $g$.    Euclidean inner product   Riemannian manifold   space  .  **  CLIP ** **manifold implicit**  metric $g$(     ) Euclidean inner product(** **)   .

         space  space  manifold constant negative curvature  .        MERU           (Lorentz model)  .


###      


<div align="center">
    <img src="https://github.com/user-attachments/assets/b2e0de57-e031-484c-843f-0ce89034e1f4" width="">
</div>


MERU    .         ( ..?)       $x$    .  $x$ additional axis  ,     \`permute\`       $\\mathbb{R}^{3}$   smooth manifold  upper half    ($z < 0$  ).  hyperboloid   ( ) $z$          (time dimension)   ,    $n$    (space dimension)   .     $\\rm{x}_\\text{space} \\in \\mathbb{R}^n$ $x_\\text{time} \\in \\mathbb{R}$  $[\\rm{x}_\\text{space}, \\it{x}_\\text{time}]$    .     ($\\rm{x}, \\rm{y}$)   2      ($x, y$)   1   . Riemannian manifold    smooth sheet ,    .   Euclidean inner product $\\left< \\cdot, \\cdot \\right>$    .

$$
    \\left< \\rm{x}, \\rm{y} \\right>_\\mathcal{L} = \\left< \\rm{x}_\\text{space},\\rm{y}_\\text{space} \\right> - x_\\text{time} y_\\text{time}
$$

  norm inner product  $\\parallel \\rm{x} \\parallel_\\mathcal{L} = \\sqrt{\\vert \\left< x, x \\right>_\\mathcal{L} \\vert}$  .          ,    curvature     curvature   scalar value $-c$       (constraints)     .

$$
    \\begin{aligned}
    &\\mathcal{L}^n \\{ \\rm{x} \\in \\mathbb{R}^{n+1}: \\left< x, x \\right>_\\mathcal{L} = -1/c,c > 0 \\} \\newline
    &x_\\text{time} = \\sqrt{1/c + \\parallel \\rm{x}_\\text{space} \\parallel^2}
    \\end{aligned}
$$

         .


#    

### Geodesics.

Geodesic        path . 

                    .                                   .      Geodesics   .   Geodesics hyperboloid       intersection curve .


<div align="center">
    <img src="https://github.com/user-attachments/assets/fa0c1b6b-008b-4e08-aaf6-7cbc520a6992" width="700">
</div>


  

$$
    d_\\mathcal{L}(\\rm{x}, \\rm{y}) = \\sqrt{1/c} \\cdot \\cosh^{-1}(-c \\left< \\rm{x}, \\rm{y} \\right>_\\mathcal{L})
$$

### Tangent space.

  spacial vector $z$  tangent space   Lorentzian inner product( ) $0$      (span).   Euclidean space .

$$
    \\mathcal{T}_{\\rm{z}} = \\{ \\rm{v} \\in \\mathbb{R}^{n+1}: \\left< z, v\\right>_\\mathcal{L} = 0 \\} 
$$

 Ambient space(        )   $\\rm{u}$ orthogonal projection    Tangent space   .

$$
    \\rm{v} = \\text{proj}_{\\rm{z}}(\\rm{u}) = \\rm{u} + \\it{c}\\rm{z} \\left<\\rm{z},\\rm{u} \\right>_\\mathcal{L}
$$

### Exponential and logarithm maps.

Exponential map tangent space  manifold    .   projection  , ambient space    sub-space             .

$$
    \\begin{aligned}
    &\\text{expm}_{\\rm{z}} : \\mathcal{T}_{\\rm{z}}\\mathcal{L}^n  \\rightarrow \\mathcal{L}^n \\newline
    \\rm{x} = \\text{expm}_{\\rm{z}}(\\rm{v}) &= \\cosh(\\sqrt{c} \\parallel v \\parallel_\\mathcal{L})\\rm{z} + \\frac{\\sinh (\\sqrt{c} \\parallel v \\parallel_\\mathcal{L})}{\\sqrt{c}\\parallel v \\parallel_\\mathcal{L}}\\rm{v}
    \\end{aligned}
$$

    MERU space component         .        manifold  tangent    .

$$
    \\begin{aligned}
    &\\text{logm}_{\\rm{z}} : \\mathcal{L}^n  \\rightarrow \\mathcal{T}_{\\rm{z}}\\mathcal{L}^n \\newline
    \\rm{v} = \\text{logm}_{\\rm{z}}(\\rm{x}) &= \\frac{\\cosh^{-1}(-c\\left<\\rm{z},\\rm{x} \\right>_\\mathcal{L})}{\\sqrt{(c\\left< \\rm{z}, \\rm{x} \\right>_\\mathcal{L})^2-1}} \\text{proj}_{\\rm{z}}(\\rm{x})
    \\end{aligned}
$$


# 

 CLIP        .                 .

1.  Euclidean space  Lorentz space  
2. CLIP   semantic   semantic    


<div align="center">
    <img src="https://github.com/user-attachments/assets/a8ab5c13-2f1a-492c-8f58-1f6b50670f80" width="600">
</div>


### Lifting embeddings

    . $n$       .  CLIP         .       ()    ,    tangent space(Euclidean)      hyperboloid  ($\\text{expm}$)  .

### Expand dims

$$
    \\rm{v} = (\\rm{v}_\\text{enc}, 0) \\in \\mathbb{R}^{n+1}
$$

### Onto **Hyperboloid**

     tangent space $\\rm{z} = 0$     .

$$
    \\rm{x}_\\text{space} = \\frac{\\sinh (\\sqrt{c} \\parallel v \\parallel_\\mathcal{L})}{\\sqrt{c}\\parallel v \\parallel_\\mathcal{L}} \\rm{v}_\\text{space}
$$

 **  ** **   constraints**   .

$$
    \\begin{aligned}
    &\\mathcal{L}^n \\{ \\rm{x} \\in \\mathbb{R}^{n+1}: \\left< x, x \\right>_\\mathcal{L} = -1/c,c > 0 \\} \\newline
    &x_\\text{time} = \\sqrt{1/c + \\parallel \\rm{x}_\\text{space} \\parallel^2}
    \\end{aligned}
$$

  CLIP embedding  embedding   .

### Numerical Issue

         exponential  , CLIP  weight       norm  $\\sqrt{n}$  .     exponential   $e^{\\sqrt{n}}$         .     scaling  $\\alpha$      output    .    .

### Entailment loss

Entailment loss CLIP   implicit    contrastive loss       -   .


<div align="center">
    <img src="https://github.com/user-attachments/assets/a407a6e2-d4b3-489b-8b4d-19d9464ccd5e" width="600">
</div>


             ,              aperture ( ),         (   too much align embedding collapse  representation subfold   )     loss  aperture    .   /      contrastive learning   , entailment loss  curvature       . **     **.

$$
    \\mathcal{L}_\\text{entail}(\\rm{x}, \\rm{y}) = \\max (0, ext(\\rm{x},\\rm{y})-\\text{aper}(\\rm{x}))
$$


# Experimental Results

### Image/Text retrieval


<div align="center">
    <img src="https://github.com/user-attachments/assets/44111971-567f-4621-9fb0-35e0c600b4cd" width="500">
</div>


 retrieval  CLIP      ,                .

### Zero-shot image classification


<div align="center">
    <img src="https://github.com/user-attachments/assets/bde9f6b2-e57b-4ca2-ad36-5055b8abc241" width="700">
</div>


Representation    . Retrieval      main contribution     sub contribution   .   SOTA          .

# Ablations

 ablation  . Qualitative results .


<div align="center">
    <img src="https://github.com/user-attachments/assets/aa91fb8f-698c-4ee4-86ee-097c36fac5b0" width="400">
    <img src="https://github.com/user-attachments/assets/42610df4-c06f-44e5-afdf-2622162355f6" width="400">
</div>


      .      .        . Curvature           Large model       . Contrastive learning  Large model  norm        ,          .


# Discussion and conclusion

CLIP retrieval  linear probing/fine tuning  representation   robust        .      semantic        objective constraints    multimodal task  challenging    .

MERU    contribution     CLIP representation       contribution . Hyperbolic Riemannian manifold    framework  ,  manifold     objective   paper contribution  .      projection      embedding      hierarchy embedding              .
`,une=`---
title: "DINO(Emerging Properties in Self-Supervised Vision Transformers)  "
category: "ai papers"
publishedAt: "2023-11-12"
thumbnail: "https://github.com/user-attachments/assets/7e1685db-4c89-44c9-8c0a-34c6af0f7d9f"
---



#  

      **Vision Transformer**    **    **  . ViT      Transformer  ,  GPT BERT     NLP Large Dataset self-supervised learning downstream task   semantic information     .   ViT                downstream task     ,  <U>supervised learning </U>      .


#  

    develop (self-supervised learning   approach)  motivation  ,    ****    **  **  .    ViT self-supervised learning    .

-     ViT feature  semantic segmentation   ,     ViT convnet   .      attention            object semantic       .


<div align="center">
    <img src="https://github.com/user-attachments/assets/7e1685db-4c89-44c9-8c0a-34c6af0f7d9f" width="1000">
</div>


-    feature   $k$*-NN* classifier    small ViT ImageNet(recognition task)    .
-       ablation  ViT            , momentum encoder, multi-crop training  smaller patch(more number of patches)  .


# Self-supervised learning Frameworks

 label   unsupervised(self-supervised) learning  [SimCLR](https://arxiv.org/abs/2002.05709), [MoCo](https://arxiv.org/abs/1911.05722)  [BYOL](https://arxiv.org/abs/2006.07733) .          property  ViT self-supervised learning  ,  structure        . DINO   SimCLR, MoCo  BYOL  BYOL inspiration  .


<div align="center">
    <img src="https://github.com/user-attachments/assets/651b0185-c302-4a21-a63e-5a576142efa2" width="500">
    <img src="https://github.com/user-attachments/assets/50169b98-880b-4c54-89f4-350917af5b60" width="500">
</div>


SimCLR    . Input $x$    random augmentation    $\\tilde{x}_i$  $\\tilde{x}_j$  ,    $f(\\cdot)$  output $h_i$, $h_j$   representation/embedding    Linear operation($g(\\cdot)$) mapping  latent $z_i$  $z_j$ contrastive   .  Moco   contrastive learning   branch   SimCLR  ,   SimCLR      representation   MoCo    EMA   momentum encoder  .      \`enqueue\`  \`dequeue\`    mini-batch  , positive logit    , negative logit  queue     . Querying  encoder       .


# BYOL paper    


<div align="center">
    <img src="https://github.com/user-attachments/assets/ffc4d429-a0d6-4b75-9c58-9b6b68ea941d" width="900">
</div>


BYOL momentum encoder      SimCLR   .      ,   BYOL contrastive learning   ,  negative pair   .

BYOL      negative pair  collapse         .      online/target    assymetric()    .  predictor $q_\\theta(\\cdot)$ projection   $g_\\theta$    .    prediction  classifier      projection network  dimension output .    projector   optimal point       .

Projector    projector   optimal       $q^\\ast_\\theta$   online branch  input  $z_\\theta$  $q^\\ast_\\theta(z_\\theta) = \\mathbb{E}[z^\\prime_\\xi \\vert z_\\theta]$  .     expectation $z_\\theta$   ,      .    optimal  neural network    $\\{X, Y\\}$  parameterized posterior $p_\\theta(Y \\vert X)$   projector    $z^\\prime_\\xi$    .         simplified BYOL loss( BYOL view   symmetric cost function    latent   )    

$$
\\mathcal{L}_\\text{BYOL} = \\mathbb{E}\\left(\\parallel \\mathbb{E}(z^\\prime_\\xi\\vert z_\\theta)-z_\\xi^\\prime\\parallel_2^2\\right)
$$

  (online branch) $\\theta$  gradient   expected variance gradient  .

$$
\\nabla_\\theta \\mathcal{L}_\\text{BYOL}= \\nabla_\\theta\\mathbb{E}\\left(\\sum_i \\text{Var}(z^\\prime_{\\xi, i} \\vert z_\\theta) \\right)
$$

  optimal projector    ,   BYOL loss  projector   online network   .     projection     **Lagrangian  ** envelop theorem  optimality condition .

BYOL   $\\theta$  online branch target branch $\\xi$    loss surface $\\mathcal{L}$    . Target branch projection $z^\\prime_\\xi$ online branch $z_\\theta$  Variance loss       projector       posterior    .  random variable         lower bound .  BYOL    collapse  online network projection $z_\\theta$        constant $c$   ,  parameter space   lower bound      .

$$
\\text{Var}(z^\\prime_\\xi \\vert z_\\theta) \\le  \\text{Var}(z^\\prime_\\xi \\vert c)
$$

 collapse     parameter surface       (unstable), collapse  .

   ?   $\\xi$ loss function    EMA    ,         . Target network collapse   $z^\\prime_\\xi = c$  deterministic constant ,         0 .

$$
\\text{Var}(c \\vert z_\\theta) = 0 \\le \\text{Var}(z^\\prime_\\xi \\vert z_\\theta)
$$

 $\\xi$     collapse      . BYOL     negative pair    similarity loss   latent bootstrapping ( online parameter  online parameter    )  ,  batch size            .


<div align="center">
    <img src="https://github.com/user-attachments/assets/bae8b348-da0e-45c5-b219-84484c24318c" width="800">
</div>



# DINO approach


<div align="center">
    <img src="https://github.com/user-attachments/assets/88eb8d19-7cd7-4274-a8a8-566bdecc7930" width="500">
</div>


DINO knowledge distillation with no labels ,   ViT  SSL     .    student/teacher( online/target)     ,  pseudo label  teacher loss term     consistency   update student parameter   (exponential moving average) .

### Knowledge Distillation

  SSL  . Student model teacher model      ,   probability mapper  .  student network($g$)  $\\theta_s$    $x$  output logit $g_{\\theta_s}(x)$   .   logit softmax function     .  \`softmax\`  dimension (feature embedding)   .

$$
P_s(x)^{(i)} = \\frac{\\exp(g_{\\theta_s}(x)^{(i)}/\\tau_s)}{\\sum_{k=1}^K\\exp(g_{\\theta_s}(x)^{(k)}/\\tau_s)}
$$

 temperature $\\tau_s$ ,    probability distribution         .   temperature parameter  student network  probability sharpness    .  teacher network    formulation .

$$
P_t(x)^{(i)} = \\frac{\\exp(g_{\\theta_t}(x)^{(i)}/\\tau_t)}{\\sum_{k=1}^K\\exp(g_{\\theta_t}(x)^{(k)}/\\tau_t)}
$$

Knowledge distillation  teacher output  ground truth  student output consistency loss.  cross entropy one-hot label teacher network output   .

$$
\\underset{\\theta_s}{\\min} H(P_t(x),~P_s(x)) = \\min_{\\theta_s} \\{-P_t(x) \\log P_s(x)\\}
$$

               metric             .       , DINO       .      framework  augmentation   ,        distillation     .

### Data augmentation

Transformer        local-to-global correspondence  . Transformer attention   global information   convolution network    , local information    attention map global feature  CNN     correspondency(feature     high to low level ) SSL     .

    augmentation  .     :

1. Teacher local/global  consistency      , teacher  global      .
2.    teacher network  global image   .
3. Teacher student  EMA. , teacher    student   local/global  consistency      .
4.  student local image   .

   teacher network    augmentation  global view $x_1^g$, $x_2^g$  , student network multi-crop strategy     augmentation  local/global    .

$$
\\underset{\\theta_s}{\\min}\\sum_{x \\in \\{x_1^g,~x_2^g\\}} ~~\\sum_{x^\\prime\\in V,~x^\\prime \\neq x} H(P_t(x), P_s(x^\\prime))
$$

     multi-crop image , 2 global views    $50\\%$      local view  $50\\%$    .

### Avoiding collapse

Self-supervised learning  representation   ground truth   collapse    .      contrastive learning, clustering , predictor  BYOL   Batch Normalization   approach  collapse    .  DINO  normalization      stabilization   ,   momentum teacher network output centering  sharpening        .  Sharpening/Centering       Sharpening temperature   softmax       centering teacher output center value $c$ bias term      .  sharpening centering       .   ,  sharpening  prediction entropy minimization     centering   prediction     .        .

 centering  bias term $c$    exponentially update . EMA  teacher parameter   .

$$
c \\leftarrow mc + (1-m)\\frac{1}{B}\\sum_{i=1}^B g_{\\theta_t}(x_i)
$$

   center $c$     batch size ,  input  model output(prediction)    .  centering    ,  sharpening  .


<div align="center">
    <img src="https://github.com/user-attachments/assets/a3bef87c-f0d2-4efe-9c43-bc01c7a7622f" width="950">
</div>


      prediction sharpening          feature map     ,      input    collapse  ,      .  


<div align="center">
    <img src="https://github.com/user-attachments/assets/fd5860a0-d41f-4160-ac81-a440237a1337" width="950">
</div>


    input     feature  sharpening , contrastive learning          entropy            feature  ,   trivial solution  .   SSL approach        .


<div align="center">
    <img src="https://github.com/user-attachments/assets/9e925219-7bfa-4398-8210-00dc08db1da8" width="950">
</div>


   centering term    model prediction        , batch size  robust    .  contrastive learning positive sample negative sample        ,      metric learning                    .    output    prediction ,   output sharpning  smoothing              sharpning/centering  .      prediction  prototype   ,           .


<div align="center">
    <img src="https://github.com/user-attachments/assets/f11b6374-ef64-455f-808f-9d523fb5784e" width="950">
</div>


Sharpening  entropy 0 .  centering  smoothing   input  entropy .     epoch  representation overfitting/underfitting     .      KL divergence   .

Teacher/student      EMA   representation    teacher network prediction student     bootstrapping      representation collapse       ,  bootstrapping     student/teacher prediction   .


#  

### Classification

SSL/Unsupervised Learning   feature     .
 downstream task  head   ,  head    linear classifier/fine-tuning/k-NN classifier .

- Linear classifier :  backbone frozen  linear classifier  representation    
- Fine tuning :  backbone head   fine tuning representation    
- k-NN classifier : classifier      embedding retrieval representation/metric learning     


<div align="center">
    <img src="https://github.com/user-attachments/assets/ea1bb3ef-b531-49e5-87f0-0ef27496dda9" width="400">
    <img src="https://github.com/user-attachments/assets/ead481df-286d-4085-95fc-e083a49fef93" width="400">
</div>


          , ViT baseline  SSL      classification  .

### ViT Attention map

 classification  DINO    ViT attention map   ,  local feature attention   (localization) .   ViT     feature map .


<div align="center">
    <img src="https://github.com/user-attachments/assets/22b364b5-29c1-49eb-b071-af0c9bad81b3" width="350">
    <img src="https://github.com/user-attachments/assets/e7bf8362-48f6-4f63-a0e8-3d2e54a6c2fe" width="400">
    <img src="https://github.com/user-attachments/assets/54771b26-f8e8-4978-b829-8090832ee7c8" width="400">
</div>


Segmentation high-level image task       classification task  SSL        .   DINO attention map          ViT input  attention  localization  ,    .


# 

DINO BYOL   SSL  motivation self-distillation   collapse     sharpening/centering  ViT  .    ViT   SSL     . ViT attention map localization     .      .

 supervised learning  ,  SSL     supervised learning       task       linear probing fine tuning    representation     SSL  representation     .    inductive bias  localization  transformer baseline ViT SSL attention map segmentation  ,  NLP  Computer Vision  classification    task SSL      .
`,cne=`---
title: "DINOv2(Learning Robust Visual Features without Supervision)  "
category: "ai papers"
publishedAt: "2023-12-04"
thumbnail: "https://github.com/user-attachments/assets/aa0121a3-1c4d-4e34-a85d-8a9bae6caf95"
---


# Supervised  

   DINO    Self-supervised learning NLP   CV      ViT/CNN    ** visual feature   **   . Supervised learning label       objective value  ,    encoder  decoder hypothesis  align      task   label space   input image domain   optimal point            .  classification     task    segmentation     resolution  prediction  high-level task     . NLP        property , tuning       supervised learning   .  task    ground truth high level  cost  superficial      robust visual feature      .


# Self-supervised Learning

 DINO     EMA   batch size  overfitting/underfitting      model output entropy  centering/sharpening  . DINO  ViT  SSL,       visual feature   .  [DINOv2](https://arxiv.org/abs/2304.07193)  SSL    /  .   .


<div align="center">
    <img src="https://github.com/user-attachments/assets/aa0121a3-1c4d-4e34-a85d-8a9bae6caf95" width="900">
</div>
 

SSL     qualitative      .     low level  semantic      .     pixel  PCA      3 component visualize           ,        ( ).       ,            feature     correspondence  , sketch(drawing)  input  natural shift   PCA      .      instance      correspondence    ,    fine-tuning    visual feature  downstream task/dataset    .     **Out of Box model** .  **     **  .


# Dataset filtering/Curating


<div align="center">
    <img src="https://github.com/user-attachments/assets/a124cc5f-9906-4e4b-b630-b4ed779b8427" width="900">
</div>


   SSL   paper **data curation( )  ** .  dataset semantic   bias     visual feature   bias    .       SSL   NLP      , computer vision      data curation  .   supervised learning   data curation   label space                , self-supervised/unsupervised learning          .     .  framework figure    .

1. Curated dataset     . Uncurated dataset Crawling   img   url source   ,     PCA hash deduplication( ), NSFW filtering(/  )        blurring    .     1.2B .
    

<div align="center">
    <img src="https://github.com/user-attachments/assets/dfb7d742-ca92-4c09-be43-d8471c5f8f71" width="800">
</div>

    
2. Uncurated dataset        ,  curated dataset  curation          .  dataset     retrieval     .
3. Self-supervised image retrieval
   uncurated dataset   retrieval curated dataset  align   .     ImageNet-22k   ViT-H/16  ,           .  retrieval     query  $N$         (  sample ),   cluster   . Cluster  uncurated data source $100,000$  cluster   retrived image  cluster $10,000$  .


# Self-supervised pre-training

    DINO     ,       .

### Image-level objective

DINO    student/teacher network  local/global feature  ,  output  consistency loss cross entropy term . Loss   student  teacher EMA     .

### Patch-level objective

Student model   patch  ,   mask patch  feature  cross-entropy loss . Mask  augmentation    .

### Untying head weights between both objectives

image/patch loss    head(classifier)  image-level loss overfitting patch-level loss underfitting  ,  loss          .

### Sinkhorn-Knopp centering

DINO teacher softmax-centering  SWaV  . 


<div align="center">
    <img src="https://github.com/user-attachments/assets/6bae75bc-4fbf-4d6c-b37b-03351e86a356" width="800">
</div>

 

SWaV  prototype $C$  code book   $Q$    .    augmentation   prototype    ,        augmentation     .   contrative learning      . Collapse ( latent $z$  code $q$  )   code book $Q$            .  $B$   $K$   ,  iteration    **** $B/K$      .             SWaV   .     centering   . 


<div align="center">
    <img src="https://github.com/user-attachments/assets/28f03922-c353-486a-b16b-4e7ec58e9df6" width="400">
    <img src="https://github.com/user-attachments/assets/30dfb38a-1dd6-4c4e-89bf-dd300398abf9" width="600">
</div>


Centering         .  prediction  accumulation    input   input prediction  bias    .    representation head $m$ ,     SWaV weight       [Weighted Ensemble Self-supervised learning](https://arxiv.org/abs/2211.09981). (  )  weight    , centering SWaV   head    DINO representation      .

### KoLeo regularizer

    embedding point       term.  embedding point $n$      point  log  ,        regularizer \`reduce\`     .  embedding point            normalization   scale .          .

$$
    \\mathcal{L}_{\\text{koleo}}= -\\frac{1}{n}\\sum_{i=1}^n \\log (d_{n, i}),~~d_{n, i} = \\min_{j \\neq i} \\parallel x_i -x_j \\parallel
$$

### Adapting the resolution

      segmentation/detection  pixel level task  .  small object  low resolution      feature      .                .

 DINOv2 pretraining     $518 \\times 518$    . 


# Efficient Training Details

DINO-v2   .                insight  approach       .

### Utilizing faster transformer : Flash attention


<div align="center">
    <img src="https://github.com/user-attachments/assets/a00ed3b1-7599-45e9-8833-614b7ed0dab7" width="900">
</div>


[Flash attention](https://arxiv.org/abs/2205.14135)            .       FlashAttention   .    FlashAttention     .     ,          ??

### Nested tensors in self-attention

 implementation   patch token    global crop/local crop   forward passing  backward passing  .            .

### Efficient stochastic depth

[Stochastic depth](https://arxiv.org/abs/1603.09382)    layer dropout          layer feature map     contribution. DINO-v2   ,  skip   batch       drop out rate $d$  $(1-d)$ batch block   .  unsupervised setting  batch   label space    ,    block  stochastic drop-out             .

### Fully-shared data parallel (FSDP)

AdamW EMA     , model  4 replica . Student, teacher   Adam/AdamW   first momentum  second momentum  .      memory footprint     ,    data parallel .   replica gpu    GPU memory     ,  weight   float32    gpu   float16              .  GPU      DDP , FSDP  communication    ,    GPU        .

### Model distillation

   representation     ,   scratch     prediction align distillation       .  DINO-v2      distillation ,    framework EMA  ,   .  self-distillation   teacher  large model frozen ,   student  spare EMA .    stochastic depth, masking   .


#  


<div align="center">
    <img src="https://github.com/user-attachments/assets/d4185e15-b44b-4068-b34c-9de7eb4fc404" width="700">
</div>


DINO-v2    [iBOT](https://arxiv.org/pdf/2111.07832.pdf)(image BERT )     ,      task   ablation  .        ,      .


# 

DINO-v2         (?) .     scaling-up          representation         .              .         SSL   representation  , mapping  tuning   .
`,dne=`---
title: "Mamba modeling  (1) - Linear State-Space Layer (LSSL) "
category: "ai papers"
publishedAt: "2024-02-01"
thumbnail: "https://github.com/user-attachments/assets/4e6b47fa-4749-4dbb-9733-4236cbd95187"
---


#     DNN 

Sequential         .     **LLM**  **multimodal**     <U>Transformer </U>,   **LSTM** **GRU** Long term(     )    Recurrent Neural Network (RNN),    DNN  CNN(Convolutional Neural Network) temporal dataset    (,   temporal information        3D convolution ).

       <U>  continuous data  </U> neural differential equations (NDEs)     .

   **  **. RNN (Recurrent Neural Network)   Long-term module             ,  Long-term           .

 <U>gradient vanishing problem</U> <U>gradient exploding problem</U> continual learning  RNN      catastrophic forgetting    .

CNN(Convolutional Neural Network) local   (   )    ,      ,   object centric/semantic centric   inductive bias   .    sequence     ,   RNN   .  convolution   <U> context  local information  </U> , context length        .

NDE (Neural Differential Equation)   modality      ,     .  diffusion modeling   ,   diffusion    score function  . Implicit model    U-Net  , consistency modeling   implicit mapping    ,      solution numerical         ****  <U>      </U> .

      

- Convolution        .
- Recurrence       .
- Differential equation     time-scale  .

   .       .


#    

### CKConv

   [CKConv(Continuous Kernel Convolution)](https://arxiv.org/abs/2102.02611) ** **  vector continuous function $\\psi : \\mathbb{R} \\rightarrow \\mathbb{R}^{N_{out} \\times N_{in}}$   .    $\\psi$   MLP parameterize  , MLP value time-step ** **   position <U>convolution kernel   </U> .


<div align="center">
    <img src="https://github.com/user-attachments/assets/67214052-2cbd-4aa5-84aa-565a8b2e7d61" width="900">
</div>


### UnICORNN

RNN  ODE   (time-scaling  long-time dependency ) [UnICORNN](UnICORNN)    .     RNN 2 ODE( )    (discretization)     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/219f4ae0-eab7-4051-ba3f-2163361e9c55" width="400">
</div>


   $y$    $z$    1   . 2 ODE   <U>    </U> $y$ 1   $y^\\prime$ $z$    2  ODE $z, y$  1    .

  ODE  **Hamiltonian system** .  Hamiltonian system    input     ,

$$
    H(y, z, t) = \\frac{\\alpha}{2} \\parallel y \\parallel^2 + \\frac{1}{2}\\parallel z \\parallel^2 + \\sum_{i=1}^m\\frac{1}{w_i} \\log (\\cosh (w_iy_i + (Vu(t))_i + b_i))
$$

  $y, z$  norm  $\\parallel \\cdot \\parallel$     .            discrete dynamical system .

### LMU

[Parallelizing Legendre Memory Unit Training (LMU)](https://arxiv.org/abs/2102.11417)  RNN       linear recurrence convolution   .    input / state         ,   output input recurrence      .  Linear system    (            ),     matrices $<A, B, C, D>$   **LTI system  **  . 

$$
    \\begin{aligned}
    \\dot{m} =& Am + Bu \\newline
    y =& Cm + Du
    \\end{aligned}
$$

 I/O     $u(s), y(s)$ SISO system transfer function $G(s)$    .   **transfer function**   infinite dimensional, continous delay $\\theta$     .

$$
    G(s) = \\frac{y(s)}{u(s)} = e^{-\\theta s}
$$

 finite causal state space realization    transfer function $G(s)$ $s$  polynomial  .  transfer function       $s$  , proper  dimension      (  convergence    ).      approximation    .  Linear system      matrices , $i,~j \\in [0,d-1]$   **   **  .

        [LMU](https://papers.nips.cc/paper_files/paper/2019/file/952285b9b7e7a1be5aa7849f32ffff05-Paper.pdf)       . 

$$
    \\begin{aligned}
    A_{i,j} =& \\frac{(2i+1)}{\\theta}\\begin{cases}
    -1 & i < j \\newline
    (-1)^{i-j+1} & i \\ge j
    \\end{cases}\\newline
    B_i =& \\frac{(2i+1)(-1)^i}{\\theta}
    \\newline
    C_i =& (-1)^i \\sum_{l=0}^i {i \\choose l}{i+l \\choose j}(-1)^l \\newline
    D =& 0
    \\end{aligned}
$$

    matrix $C$ <U>  </U> . $C$     , $D = 0$  shifted input $u(t-\\theta)$    state $m_t$    . , $\\theta^\\prime$ phase       **shifted Legendre polynomial**    .

$$
    \\begin{aligned}
    C_i(\\theta^\\prime) = (-1)^i \\sum_{l=0}^i {i \\choose l}{i+1 \\choose j}&\\left(-\\frac{\\theta^\\prime}{\\theta}\\right)^l,~0 \\le \\theta^\\prime \\le \\theta \\newline
    u(t-\\theta^\\prime) \\approx& C(\\theta^\\prime)^\\top m_t
    \\end{aligned}
$$

    ,    LTI      Linear state machine ,   non-linear neural network system    LMU  . <U>   </U>    . 

### HiPPO

[HiPPO](https://arxiv.org/pdf/2008.07669.pdf) LMU ** ** .


<div align="center">
    <img src="https://github.com/user-attachments/assets/0751e256-9966-40b9-b3c8-9f122cec709a" width="800">
</div>


**HiPPO **  :

      measure   Hilbert space $\\mu$     $f$ $g$ subspace    ,   vector basis coefficient  .   Continous-time ODE LTI system      ,  system   $A(t)$ $B(t)$        .    LMU continuous-time memorization .   LMU(  )    ($\\theta$)   delay system <U>LTI     </U> . 


# LSSL 


<div align="center">
    <img src="https://github.com/user-attachments/assets/4e6b47fa-4749-4dbb-9733-4236cbd95187" width="800">
</div>


       CNN/RNN    <U>time-step  </U> .    **convolutional/recurrent model**       .

Linear State-Space Layer (LSSL)            .  formulation  approach   . LSSL 1-dimensional function  sequence $u(t) \\rightarrow y(t)$ implicit function $x(t)$  mapping  .

$A$   LMU  system **implicit function** $x(t)$ **evolution**  matrix, $B, C, D$ **projection** .

$$
    \\begin{aligned}
    \\dot{x}(t) =& Ax(t) + Bu(t) \\newline
    y(t) =& Cx(t) + Du(t)
    \\end{aligned}
$$

 $\\Delta t$ <U>discrete step-size</U> , LSSL         state  **recurrent model**   , LTI system     **continous convolution**   .  discrete-time version LTI system  convolution  .      .  LSSL LTI system   differential equation  continous-time model        . 

       LSSL          1-D Convolution     ,  step size $\\Delta t$   state matrix $A$  RNN  ODE  (  )     . $A$        , HiPPO         memory   long dependency .


# Continuous-time memorization

Continuous time memorization   (approximation) HiPPO  LSSL    /  .

                   .

           $dt$       ,       step size/time scale $\\Delta t$   .

  LSSL   property  insight    ****       .

### Approximations of differential equations

  differential equation $\\dot{x}(t) = f(t, x(t))$ integral equation $x(t) = x(t_0) + \\int_{t_0}^t f(s, x(s))ds$   .  integral solution  $x$  $f(s, x(s))$        .  $x_0(t) = x(t_0)$     ,

$$
    x_{i+1} (t) = x_0 (t) + \\int_{t_0}^t f(s, x_{i}(t))ds
$$

    .  *[Picard iteration](https://en.wikipedia.org/wiki/Picard%E2%80%93Lindel%C3%B6f_theorem)*  .

### Discretization

         discrete times $t_i$ , $x(t_i)$  . Integral equation form closed form      downsampling   $x(t_0), x(t_1), \\cdots$  , closed form   *picard iteration*   integral equation

$$
    x(t_{k+1}) = x(t_k) + \\int_{t_k}^{t_{k+1}} f(s, x(s)) ds
$$

   $t_k$     .   **generalized bilinear transform (GBT)** ,     Linear ODE    .  Linear ODE   ,

$$
    \\begin{aligned}
    \\dot{x}(t) =& Ax(t) + Bu(t) \\newline
    y(t) =& Cx(t) + Du(t)
    \\end{aligned}
$$

GBT update   .  $\\Delta t$ step size .

$$
    x(t+\\Delta t) = (I-\\alpha \\Delta t \\cdot A)^{-1}(I+(1-\\alpha)\\Delta t \\cdot A)x(t) +\\Delta t(I-\\alpha \\Delta t \\cdot A)^{-1}B \\cdot u(t)
$$

             . $\\alpha = 0$   ,

$$
    \\begin{aligned}
    x(t+\\Delta t) =& x(t) + \\Delta t \\cdot (Ax(t) + Bu(t)) \\newline
    =& x(t) + \\Delta t \\cdot \\dot{x}(t)
    \\end{aligned}
$$

       *Euler method*   .  $\\alpha$          . $\\alpha=1$  *backward Euler method*  ,          first order approximation     $t$   $t + \\Delta t$    .

$$
x(t+\\Delta t) = (I-\\Delta t A)^{-1}x(t) + \\Delta t (I - \\Delta t A)^{-1} B \\cdot \\dot{x}(t)
$$

 $\\alpha = \\frac{1}{2}$          ,           $\\Delta t$      .  *bilinear*  .

$$
x(t+\\Delta t) = (I-\\Delta t / 2A)^{-1}(I+\\Delta t / 2A) x(t) + \\Delta t (I - \\Delta t / 2A)^{-1} B\\cdot\\dot{x}(t)
$$

 *bilinear*   matrix A B $\\bar{A}, \\bar{B}$   ,     discretize    discrete-time state-space model   . 

$$
\\begin{aligned}
x_t =& \\bar{A}x_{t-1} + \\bar{B}u_t \\newline
y_t =& Cx_t + Du_t
\\end{aligned}
$$

### Timescale factor

   dependency   .  $\\Delta t$        .  ODE  RNN  $\\Delta t$  , classical RNN gating       .  CNN  $\\Delta t$ convolution kernel     . , CNN RNN ODE      $\\Delta t$         .

### Continuous-time memory

  $u(t)$  probability measure() $\\omega(t)$  ,    $N$ basis  .  time step $t$  input $u(\\tau)\\vert_{\\tau < t}$  $N$ basis   ,    projection  coefficient vector $x(t) \\in \\mathbb{R}^{N}$ .   time step     $\\omega(t)$  .   $u(t)$ coefficient $x(t)$     HiPPO (High-Order Polynomial Projection Operator) .  

HiPPO    (  LegT, LagT   ) ,  time step    uniform measure $\\omega = \\mathbb{I}\\{[0, 1]\\}$ ,  time step     exponential-decaying measure $\\omega(t) = \\exp(-t)$  .   HiPPO  sliding window   translated Legendre (LegT)  long dependency  forgetting   scaled Legendre (LegS) .   window   measure weight  , LegS   window    .    measure   matrix $A$ closed form   ,   long dependency   .


<div align="center">
    <img src="https://github.com/user-attachments/assets/fb29570d-a928-4d60-9151-57c968e217ee" width="1000">
</div>


   matrix $A$   HiPPO  Appendix  ,     .                HiPPO    LSSL     .

### Orthogonal Polynomials

Orthogonal polynomials (    )     .  measure $\\mu$   OP  unique    .  measure metric      . OP ,   OP measure   0  .  $i$ Polynomial  $i$ constraints .

$$
\\langle P_i, P_j \\rangle_\\mu = \\int P_i(x) P_j(x) d\\mu (x) = 0~~(i \\neq j),~\\deg (P_i) = i
$$

  $f$        .

$$
\\sum_{i=0}^{N-1} c_i P_i(x) / \\parallel P_i \\parallel_\\mu^2,~\\text{where }c_i = \\langle f,P_i \\rangle_\\mu = \\int f(x)P_i (x) d\\mu(x)
$$

   OP Fourier series basis   , Jacobi, Laguerre  Hermite Polynomial  .   OP Jacobi Polynomial   .

### Legendre Polynomials

      .       .  orthogonal     $[-1, 1]$  $L^2$    $\\frac{2}{2n+1}$       .      $P_n(1) = 1, P_n(-1) = (-1)^n$    .

     time-scale   Polynomial    .     measure        . 

 orthogonality $[-1, 1]$ ,  $[0, t]$          .

$$
\\begin{aligned}
(2n+1)\\int_0^t P_n \\left( \\frac{2x}{t} - 1 \\right) P_m \\left( \\frac{2x}{t}-1 \\right) \\frac{1}{t} dx = \\frac{2n+1}{2}\\int P_n P_m \\omega_\\text{leg} dx
\\end{aligned}
$$

        .  measure            .

$$
(2n+1)^{1/2} P_n \\left(\\frac{2x}{t} - 1\\right)
$$

### Translated Legendre

Translated Legendre   $\\theta$,   $t$  Legendre measure .

$$
\\begin{aligned}
\\omega(t, x) =& \\frac{1}{\\theta} \\mathbb{I}_{[t-\\theta, t]} \\newline
p_n(t, x) =& (2n+1)^{1/2}P_n\\left(\\frac{2(x-t)}{\\theta} + 1\\right) \\newline
g_n(t, x) =& \\lambda_n p_n (t, x)
\\end{aligned}
$$

   tilting    OP      .  $\\chi$ ,  $p_n(t, x)$     $p_n(x)\\chi(x)$    time step  $\\omega/\\chi^2$ orthogonal  (OP  OP  $\\chi^2$ ).  normalized measure orthonormal basis ,

$$
\\zeta(t) = \\int \\frac{\\omega}{\\chi^2} = \\int \\frac{\\omega^{(t)}(x)}{(\\chi^{(t)}(x))^2}dx
$$

   normalization constant .  normalized measure $\\nu^{(t)}$ $\\frac{\\omega^{(t)}(x)}{\\zeta(t)\\cdot(\\chi^{(t)}(x))^2}$ density .     tilted OP orthonormal  .    orthogonality   orthogonality  measure $\\omega$      .     formulation   ,   projection  .      .         shifted and scaled Legendre ,

$$
\\begin{aligned}
g_n(t, t) =& \\lambda_n (2n+1)^{1/2} \\newline
g_n(t,t-\\theta) =& \\lambda_n (-1)^n (2n+1)^{1/2}
\\end{aligned}
$$

  .

### Projection and Coefficients

$A$       HiPPO     .  tilting  measure ,   coefficient   measure projection   .

$$
c_n(t) = \\zeta(t)^{-1/2} \\lambda_n \\int fp_n^{(t)} \\frac{\\omega^{(t)}}{\\chi^{(t)}}
$$

   end-to-end model ,   online prediction    $f$        $c(t)$  ,   coefficient      .

Coefficient     .  coefficient      ,       .

$$
\\begin{aligned}
\\frac{d}{dt} c_n(t) &= \\zeta(t)^{-1/2} \\lambda_n \\int f(x) \\left(\\frac{\\partial}{\\partial t}p_n (t, x) \\right) \\frac{\\omega}{\\chi} (t, x) dx \\newline
&+\\int f(x) \\left( \\zeta^{-1/2}\\lambda_n p_n(t, x) \\right)\\left(\\frac{\\partial}{\\partial t} \\frac{\\omega}{\\chi} (t, x)\\right) dx
\\end{aligned}
$$

### Coefficient dynamics with Translated Legendre

  projection   tilting  .        OP  measure . OP       $n$   $n-1$  linear combination   .   .

   $\\lambda_n p_n(t, x)$   $g$   .

$$
\\frac{\\partial}{\\partial t} g_n (t, x) = -\\lambda_n (2n+1)^{1/2} \\frac{2}{\\theta} \\left( \\lambda_{n-1}^{-1}  (2n-1)^{1/2}g_{n-1} + \\lambda_{n-3}^{-1} (2n-1)^{1/2} g_{n-3} + \\cdots \\right)
$$

 measure   rectangular function   .

$$
\\frac{\\partial}{\\partial t} \\omega (t, x) = \\frac{1}{\\theta}\\delta_t - \\frac{1}{\\theta} \\delta_{t-\\theta}
$$

        coefficient dynamics     .

$$
\\frac{d}{dt}c_n(t) = -\\frac{\\lambda_n}{\\theta} (2n+1)^{1/2} \\sum_{k=0}^{N-1} M_{nk} (2k+1)^{1/2} \\frac{c_k(t)}{\\lambda_k} + (2n+1)^{1/2} \\frac{\\lambda_n}{\\theta} f(t)
$$

   $M_{nk}$ $k$ $n$    $1$ $k$ $n$  $(-1)^{n-k}$   value.      $\\lambda_n = (2n+1)^{1/2}(-1)^n$ 

$$
\\frac{d}{dt} c(t) = -\\frac{1}{\\theta} Ac(t) + \\frac{1}{\\theta} B f(t)
$$

 

$$
A_{nk} = (2n+1)\\begin{cases}
(-1)^{n-k}& \\text{if }k < n \\newline
1 & \\text{if }k \\ge n
\\end{cases},~~B_n = (2n+1)(-1)^n
$$

  LMU      .


# LSSL 

 LSSL  Fixed state space representation $A, B, C, D$   .  LSSL input sequence output sequence   . LSSL      $A, B, C, D$  discretize  $\\Delta t$ .   LSSL   RNN, CNN  Neural ODE       .

### LSSL to RNN

LSSL recurrent state  time step  input context  state $x_{t-1}$ .  state $x_t$  output $y_t$  LSSL formulation  .

$$
\\begin{aligned}
x_t =& \\bar{A}x_{t-1} + \\bar{B}u_t \\newline
y_t =& Cx_t + Du_t
\\end{aligned}
$$

 RNN       .  RNN  gated recurrence  .  1 gated recurrence  $(1-\\sigma (z))x_{t-1} + \\sigma(z) u_t$ backward-Euler method $\\dot{x}(t) = -x(t) + u(t)$   . $z$  expression  , sigmoid function    GBT  $\\Delta t = \\exp (z)$  gated recurrence $A = -1, B = 1$ backward-Euler method   .       , Linear system  state layer   deep RNN  non-linearity       .

  $\\dot{x}(t) = -x(t) + u(t)$   ,    *Picard iteration*    ,  deep RNN   *Picard iteration*       . ,  linear recurrence  non-linear recurrence  LSSL  non-linearity    .   RNN  LSSL      .

### LSSL to CNN

    initial state $0$ .   Linear state system  output

$$
y_k = C(\\bar{A})^k\\bar{B}u_0 + C(\\bar{A})^{k-1}\\bar{B}u_1 + \\cdots + C\\bar{A} \\bar{B}u_{k-1} + \\bar{B}u_k + Du_k
$$

   ,   discrete-time convolution  .

$$
\\begin{aligned}
&y = \\mathcal{K}_L (\\bar{A}, \\bar{B}, C) \\ast u + Du \\newline
&\\mathcal{K}_L (\\bar{A}, \\bar{B}, C) = (CA^iB)_{i \\in [L]} \\in \\mathbb{R}^L
\\end{aligned}
$$

 LSSL output convolution     ,   FFT  .

 continous state-space system  output $y$ input $u$   impulse response function $h$   .

$$
y(t) = \\int h(\\tau)u(t-\\tau) d\\tau
$$

  , convolutional filter  rational functional degree ($N$)  ,  $N$ state-space model    .       convolutional filter $h$  degree   rational function  .   HiPPO matrix    .     Translated Legendre   , $A$  ($\\theta$)      measure .  LSSL $dt$   ,  

$$
\\dot{x}(t) = Ax(t) + Bu(t)
$$

 history element     

$$
y(t) = Cx(t) + Du(t)
$$

     feature  .   LSSL  width   convolutional kernel filter      .


# Deep Linear State-System Layers

 LSSL        .   $L$  , LSSL $\\mathbb{R}^L \\rightarrow \\mathbb{R}^L$   vec to vec      parameterized .  LSSL $\\psi$ ,

$$
\\psi(\\cdot \\vert A, B, C, D, \\Delta t),~A \\in \\mathbb{R}^{N \\times N},~B \\in \\mathbb{R}^{N \\times 1},~C \\in \\mathbb{R}^{1 \\times N},~D \\in \\mathbb{R}^{1 \\times 1}
$$

   .     LSSL Recurrence, Convolution      RNN CNN   recurent unit convolution kernel   .

   transformer input $H$ hidden dimension   ($L \\times H$), LSSL $H$ LSSL   , Transformer multi-head      .

   LSSL stacking   DNN          normalization, residual connection       .


# LSSL Continuous-time Memorization

LSSL  DNN            , LSSL     .

### Long dependency into LSSLs

Discretized Linear system ODE,   parameter $\\bar{A}$   .

$$
x_t = \\bar{A}x_{t-1} + \\bar{B}u_t
$$

  gradient descent  vanishing gradient     .   $A$      ,       .

 HiPPO  framework measure $\\omega$     function      (projection/coefficient  ).  HiPPO      hippo matrix     .  HiPPO    measure      structured solution matrix $A$ ,  measure   $A$       .

 LSSL  arbitrary measure $\\omega$ ,  Low-recurrence width $A$       .

### Efficient Algorithms for LSSLs

 A $\\Delta t$   parameter  , naive LSSL    . LSSL MVM(Matrix Vector Multiplication)  Krylov function   ( convolution/recurrence )   matrix inversion  ,

$$
x(t+\\Delta t) = (I-\\alpha \\Delta t \\cdot A)^{-1}(I+(1-\\alpha)\\Delta t \\cdot A)x(t) +\\Delta t(I-\\alpha \\Delta t \\cdot A)^{-1}B \\cdot u(t)
$$

 $\\bar{A}$ feautre  $L$    .

$$
\\mathcal{K}_L (\\bar{A}, \\bar{B}, C) = (CB, CAB, \\ldots, CA^{L-1}B)
$$

   $A$         .   fixed LSSL $A$ *3-quasiseparable* .   $A$  *quasiseparable*   , MVM krylov function       .


# Evaluations and Demonstrations

    $A$   ,   HiPPO system $A$     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/b7369d07-aa59-4040-9aa1-28ba9d774e57" width="900">
</div>


     classification   long time dependency  .


<div align="center">
    <img src="https://github.com/user-attachments/assets/3298c702-4968-41bc-a739-b42807d2e26f" width="600">
</div>


  SoTA     epoch     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/4f2ba576-38d9-4a3d-a79f-5a46b60febc3" width="700">
</div>



# Conclusion

Mamba modeling    LSSL , LSSL  HiPPO       .     Mamba    State Modeling       ..
`,pne=`---
title: "Mamba modeling  (2) - (S4) Efficiently Modeling Long Sequences with Structured State Spaces "
category: "ai papers"
publishedAt: "2024-02-22"
thumbnail: "https://github.com/user-attachments/assets/448874c2-a202-4c9b-9b74-03131178e257"
---

#  ,

HiPPO SSM  Long-term range   matrix $A$   , LSSL SSM   $A$    .   Mamba modeling   LSSL  ,       .    ,                      .               state-space modeling       (Bottom-up  Top-down    ).

                .                       .       transformer      ,            .

*      .*                ,          .   **LSSL      ** **S4 **   .

###    ,

                      .             ,              . RNN  CNN             ,    SSM(state-space modeling)    LMU, HiPPO   .

###  SSM ,

SSM  Linear Time-Invariant System latent space   . LTI system    matrix               ,      latent space $x(t)$    . gate  RNN  **  ** Matrix $A$          latent long range dependent    .      , RNN     implicit latent         latent space        (    ) hidden space      Long Range Dependency    .         Transformer                 .


<div align="center">
    <img src="https://github.com/user-attachments/assets/448874c2-a202-4c9b-9b74-03131178e257" width="800">
</div>


     .   Continuous State Space  , SSM    $u(t)$  $A, B, C, D$  Linear system ( hidden state,  latent state $x(t)$ )    $y(t)$  .  $x(t)$   input to output $\\mathbf{u} \\rightarrow \\mathbf{y}$     ,  (  )  $A, B, C, D$        .     Long-Range Dependencies ,         **HiPPO: Recurrent Memory with Optimal Polynomial Projections**  .

  SSM Recurrent system  ,        ,              .    (Recurrent)             .         ($e.g.$ $A, B, C, D$  $\\bar{K}$)  **  ** .

###   SSM   ?? (S4)

      **Efficiently Modeling Long Sequences with Structured State Spaces** (S4)   .  LSSL( SSM)      ,   numerical stability(    ) .                 SSM   matrix $A$ **   **.   $A$ rank   rank(  column  ,  rank  matrix   column         )   normal matrix(   , commutable  diagonal       non-normal matrix    )     .

  SSM coefficient space(latent      orthogonal  coefficient   .)   ,      .       .

  **Low-Rank  Woodbury identity**, **Normal  Cauchy kernel**      $O(N^2L)$ $\\tilde{O}(N+L)$,  $O(NL)$ $O(N+L)$   .

#  SSM  

**     ** matrix $A$ (e.g. HiPPO ) .            .

$$
\\begin{aligned}
\\mathbf{x}^\\prime = A\\mathbf{x} + B\\mathbf{u} \\newline
\\mathbf{y} = C\\mathbf{x}+D\\mathbf{u}
\\end{aligned},\\quad A^{\\text{HiPPO}}_{n, k}= -\\begin{cases}
(2n+1)^{1/2}(2k+1)^{1/2},&\\text{if }n > k \\newline
n+1,&\\text{if }n = k \\newline
0,&\\text{if } n < k
\\end{cases}.
$$

    Continuous system Discrete( )   .     SSM  Discrete SSM.

$$
\\begin{aligned}
x_k = \\overline{A}x_{k-1} + \\overline{B}u_k\\quad &\\overline{A} = (I-\\Delta/2 \\cdot A)^{-1} (I+\\Delta/2\\cdot A)  \\newline
y_k = \\overline{C}x_k,\\quad &\\overline{B} = (1-\\Delta/2\\cdot A)^{-1}\\Delta B \\newline
&C = \\overline{C}
\\end{aligned}
$$

      [  LSSL](https://6unoyunr.github.io/blog/lssl)   .  Discrete SSM   SSM  recurrent     **RNN**    .  Matrix $\\overline{A}$ hidden state $x$ transition matrix  . ,    hidden state output $x_{-1} = 0$   , convolution kernel    .

$$
\\begin{aligned}
x_0 =& \\overline{B}u_0,\\quad x_1 = \\overline{AB}u_0 + \\overline{B}u_1,\\quad x_2 = \\overline{A}^2\\overline{B}u_0+\\overline{A}\\overline{B}u_1 +\\overline{B}u_2,~\\cdots \\newline
y_0 =& \\overline{CB}u_0,\\quad x_1 = \\overline{CAB}u_0 + \\overline{CB}u_1,\\quad x_2 = \\overline{CA}^2\\overline{B}u_0+\\overline{CA}\\overline{B}u_1 +\\overline{CB}u_2,~\\cdots \\newline
y_k =& \\overline{K} \\ast \\mathbf{u},\\quad \\overline{K}\\in\\mathbb{R}^L := \\mathcal{K}_L(\\overline{A}, \\overline{B}, \\overline{C}) := (\\overline{C}\\overline{A}^i\\overline{B})_{0\\le i < L}
\\end{aligned}
$$

  convolutional filter $\\overline{K}$       FFT(   )      ,        non-normal matrix $\\overline{A}$       . ,            .


#  : Diagonalization ()

  (Diagonalization)  (eigenvalue) $\\lambda$ (eigenvalue)          .  (Diagonalization)   $A \\in \\mathbb{R^{n \\times n}}$ ,   eigenvalue $n$   eigenvector $n$  $\\Lambda = V^{-1}AV$  . , $\\Lambda$ $V$   .

$$
\\text{For eigenvalues }\\{ \\lambda_i\\}_{i=1}^n \\text{ and eigenvectors } \\{v_i\\}_{i=1}^n,\\quad\\Lambda = \\begin{bmatrix}
\\lambda_1 & 0 & 0 & \\cdots & 0 \\newline
0 & \\lambda_2 & 0 & \\cdots & 0 \\newline
\\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\newline
0 & 0 & 0& \\lambda_{n-1} & 0 \\newline
0 & 0 & 0 & 0 & \\lambda_n 
\\end{bmatrix},\\quad V = \\begin{bmatrix}
\\mid & \\mid & \\cdots & \\mid \\newline
v_1 & v_2 & \\cdots & v_n \\newline
\\mid & \\mid & \\cdots & \\mid \\newline
\\end{bmatrix}
$$

 ,         . ,  SSM $D = 0$    $\\mathbf{y} = C\\mathbf{x}$  .

$$
\\begin{aligned}
\\mathbf{x}^\\prime =& A\\mathbf{x} + B\\mathbf{u} \\newline
\\mathbf{y} =& C\\mathbf{x}
\\end{aligned}\\quad\\rightarrow\\quad
\\begin{aligned}
\\tilde{\\mathbf{x}}^\\prime =& V^{-1}AV\\tilde{\\mathbf{x}} + V^{-1}B\\mathbf{u} \\newline
\\mathbf{y} =& CV\\tilde{\\mathbf{x}}
\\end{aligned} 
$$

    ,       $V$  , $x = V\\tilde{x}$ SSM     .       $\\mathbf{u} \\rightarrow \\mathbf{y}$  SSM ,  system latent  $A$ eigenvector matrix $V$   .     $A$    $V^{-1}AV$   ,    $A$      . ( **Vandermonde product** .    )

 , **HiPPO      **.


<div align="center">
    <img src="https://github.com/user-attachments/assets/2fe8e285-6e46-4997-a4ac-2966d1692fdc" width="600">
</div>


   HiPPO     matrix $V$  **  **.  ,    (   ),             .   HiPPO  $A$   $V_{ij} = {i+j \\choose i-j}$  (combination), state size $N$    $2^{4N/3}$      ($e.g.$  $CV\\tilde{\\mathbf{x}}$     .).

#  : Normal + Low Rank Matrix

       ! ,   HiPPO         .        $A$ unitary matrix       .       $A$  **normal matrices** .     HiPPO matrix normal matrix ,     **   ** .

  HiPPO matrix $A$ normal matrix ,   normal matrix low rank matrix     .       (Normal + Low Rank)    ,          .

$$
\\overline{K}\\in\\mathbb{R}^L := \\mathcal{K}_L(A, B, C) := (CA^iB)_{0\\le i < L}
$$

    ** **       .          .             .


<div align="center">
    <img src="https://github.com/user-attachments/assets/f63bc9a0-dceb-4d5a-bc47-e9fa453a2e74" width="900">
</div>


     $A$ NPLR (Normal + Low-Rank)  DPLR (Diagonal + Low-Rank)    .    Appendix C.1.   empirical  HiPPO    .      , **   **.

 ,        . $\\overline{K}$     $\\overline{K}$ Discrete Fourier Transform(DFT)   $\\hat{K}$ . DFT     (   $CB, CAB, CA^2B, \\cdots$       )       , DFT     IDFT  Fast Fourier Transform (FFT)    $O(L\\log L)$   .

$$
\\hat{K}_j = \\sum_{k=0}^{L-1} \\overline{K}_k\\exp(-2\\pi j\\frac{k}{L})
$$

   , Truncate SSM  **  **     $A$      **    ** .    term $(1-\\overline{A}^L)$  ( powering ),  **reparameterization**             .        $\\hat{K}$   Cauchy kernel    ,     .        .

1.  HiPPO  $A$ **NPLR (DPLR)  **,   $A \\rightarrow \\overline{A}$ (Discretize) $O(N)$    .
2. $\\overline{K}$ truncate SSM generating function DFT .  **       **,  $\\overline{A}$         .
3.    **Cauchy kernel   ** **   **.
4.  inverse **Woodburys Identity   **.


#     

      .      .  . 


<div align="center">
    <img src="https://github.com/user-attachments/assets/44895afe-576d-4912-9451-e45ab84e8295" width="">
</div>


HiPPO   NPLR (Normal Plus Low-Rank)  . HiPPO   4 ,    LegS    .

$$
A^{\\text{HiPPO}} _{n, k}= -\\begin{cases}
(2n+1)^{1/2}(2k+1)^{1/2},&\\text{if }n > k \\newline
n+1,&\\text{if }n = k \\newline
0,&\\text{if } n < k
\\end{cases}.
$$

    $\\frac{1}{2}(2n+1)^{1/2}(2k+1)^{1/2}$      .

$$
-\\begin{cases}
\\frac{1}{2}(2n+1)^{1/2}(2k+1)^{1/2},&\\text{if }n > k \\newline
\\frac{1}{2},&\\text{if }n = k \\newline
-\\frac{1}{2}(2n+1)^{1/2}(2k+1)^{1/2},&\\text{if } n < k
\\end{cases}.
$$

       $-\\frac{1}{2}I + S$  ,  $S$ normal matrix  **skew-symmetric matrix** .          rank $1$ .  HiPPO      ,        HiPPO state  Diagonal part + Low-Rank part   .     .    conjugate($\\ast$)  ,       **transpose ($\\top$)  ** .

$$
A = \\Lambda - PQ^\\top
$$

    discrete system matrix   .

$$
\\begin{aligned}
\\overline{A} &= (I-\\Delta / 2 \\cdot A)^{-1} (I+\\Delta / 2 \\cdot A) \\newline
\\overline{B} &= (1-\\Delta / 2 \\cdot A)^{-1} \\Delta B \\newline \\newline
I + \\Delta/2\\cdot A &= I + \\Delta / 2 \\cdot\\left(\\Lambda - PQ^\\top\\right) \\newline
&= \\frac{\\Delta}{2} \\left(\\frac{2}{\\Delta}I + \\Lambda - PQ^\\top\\right) \\newline
&= \\frac{\\Delta}{2}A_0 \\newline \\newline
(I-\\Delta/2 \\cdot A)^{-1} &= \\frac{2}{\\Delta}\\left(\\frac{2}{\\Delta}-\\Lambda+PQ^\\top\\right)^{-1} \\newline
&= \\frac{2}{\\Delta}\\left(D-DP(I+Q^\\top DP)^{-1}Q^\\top D \\right) \\newline
&= \\frac{2}{\\Delta}A_1, \\text{ where } D = \\left(\\frac{2}{\\Delta}-\\Lambda\\right)^{-1} \\text{ (Diagonal term)}
\\end{aligned}
$$

$A_0$      $A_1$    ,   .    $N$     .    DPLR     **Woodburys Identity  **  .    inverse    ,   low-rank term            . Woodburys Identity              (DPLR       ).

**Woodbury's Identity**     . **    ** $A\\in\\mathcal{R}^{N \\times N}, U, V \\in \\mathcal{R}^{N \\times p}$  ( $\\mathcal{R}$ commutative ring,           .)

$$
(A+UV^\\top)^{-1} = A^{-1}-A^{-1}U(I_p + V^\\top A^{-1}U)^{-1}V^\\top A.
$$

   .

    discrete system , DPLR  $A_1,$ $A_0$  $O(N)$   .

$$
\\begin{aligned}
x_k =& A_1A_0x_{k-1} + 2A_{1}Bu_k \\newline
y_k =& C^\\top x_k
\\end{aligned}.
$$

    row vector $C$ column vector   ($B, P, Q$) shape  ,         $C$ $C^\\top$   .

     ,     Recurrent system   $\\overline{K}$   . DPLR    Woodburys Identity        ,               .   , DPLR         (coefficients) generating function   .        .

$$
\\mathcal{K}(\\overline{A}, \\overline{B}, \\overline{C}) = \\{\\overline{C}^\\top\\overline{B},\\overline{C}^\\top \\overline{A}\\overline{B},\\overline{C}^\\top \\overline{A}^2\\overline{B},\\ldots\\}
$$

            $L$     .

$$
\\mathcal{K}_L(\\overline{A}, \\overline{B}, \\overline{C}) = \\{\\overline{C}^\\top\\overline{B},\\overline{C}^\\top \\overline{A}\\overline{B},\\overline{C}^\\top \\overline{A}^2\\overline{B},\\ldots,\\overline{C}^\\top \\overline{A}^{L-1}\\overline{B}\\}
$$

 $L$ (discrete)   $2\\pi\\times\\frac{0}{L} \\sim 2\\pi \\times \\frac{L-1}{L}$   .    unit $z$  ,  $z$  coefficient     $z$-transform . ,  $z$  (**Real + Imag**)         ($e^{-i\\Omega}$) $\\Omega =\\{\\frac{2\\pi l}{L}\\}_{l=0}^{L-1}$   .

$$
\\hat{K}_L(z; \\overline{A}, \\overline{B}, \\overline{C}) := \\sum_{i=0}^{L-1} \\overline{C}^\\top\\overline{A}^i\\overline{B}z^i = \\overline{C}^\\top(I-\\overline{A}^L)(I-\\overline{A}z)^{-1}\\overline{B}
$$

  DFT(Discrete Fourier Transform) , **        **  .   $\\overline{C}^\\top(I-\\overline{A}^L) = \\tilde{C}$  ,

$$
\\hat{K}_L(z; \\overline{A}, \\overline{B}, \\overline{C}) = \\tilde{C} (1-\\overline{A}z)^{-1}\\overline{B}
$$

  discretized matrix $\\overline{A}, \\overline{B}$  closed form  $A, B$   .

$$
\\begin{aligned}
\\overline{A} =& (I-\\Delta/2 \\cdot A)^{-1} (I+\\Delta/2\\cdot A) \\newline
\\overline{B} =& (1-\\Delta/2\\cdot A)^{-1}\\Delta B
\\end{aligned}
$$

     ,

$$
\\begin{aligned}
\\tilde{C}^(I-\\overline{A}z)^{-1}\\overline{B} =& \\tilde{C}\\left(I-(I-\\Delta/2 \\cdot A)^{-1} (I+\\Delta/2\\cdot A)z \\right)^{-1}\\overline{B} \\newline
=& \\tilde{C}\\overline{B}\\left(I-\\frac{\\Delta}{2}A\\right)\\left(\\left(I-\\frac{\\Delta}{2}A\\right)-\\left(I+\\frac{\\Delta}{2}A\\right)z\\right)^{-1} \\newline
=& \\tilde{C} \\Delta B\\left( I(1-z) - \\frac{\\Delta}{2}A(1+z)\\right) \\newline
=& \\frac{\\Delta}{1-z}\\tilde{C} \\left( I - \\frac{\\Delta A}{2\\frac{1-z}{1+z}} \\right)^{-1}B \\newline
=& \\frac{2}{1+z}\\tilde{C}\\left(\\frac{2}{\\Delta}\\frac{1-z}{1+z}I -A \\right)^{-1}B
\\end{aligned}
$$

+    DPLR(Diagonal Plus Low-Rank)     ,

$$
\\frac{2}{1+z}\\tilde{C}\\left(\\frac{2}{\\Delta}\\frac{1-z}{1+z}I -A \\right)^{-1}B = \\frac{2}{1+z}\\tilde{C}\\left(\\frac{2}{\\Delta}\\frac{1-z}{1+z}I -\\Lambda+PQ^\\top  \\right)^{-1}B
$$

   Woodburys Identity   .       ,

$$
R(z) = \\left( \\frac{2}{\\Delta}\\frac{1-z}{1+z} - \\Lambda \\right)^{-1}
$$

     .

$$
\\tilde{C}(1-\\overline{A}z)^{-1}\\overline{B} = \\frac{2}{1+z}\\left(\\tilde{C}R(z)B - \\tilde{C}R(z)P(1+Q^\\top R(z)P)^{-1} Q^\\top R(z)B \\right).
$$

    ,       $\\overline{C}^\\top(I-\\overline{A}^L) = \\tilde{C}$  .   $\\overline{A}^L$  ,     $\\tilde{C}$     **reparameterization**         .

   .    , $\\overline{K}$   generating function $\\hat{K}_L(\\Omega; \\overline{A}, \\overline{B}, \\overline{C})$ ,  $\\overline{A}$ Diagonal     .      Cauchy kernel  , Cauchy kernel      .  Cauchy matrix / kernel    .

$$
M \\in \\mathbb{C}^{M \\times N} = M(\\Omega, \\Lambda) = (M_{ij})_{0<=i < M,~0<=j<N},\\quad M_{ij} = \\frac{1}{\\omega_i - \\lambda_j}
$$

  $Q^\\top R(\\Omega, \\Lambda)P$   ( $z$ unit $\\Omega$      ),    **Cauchy matrix-vector multiplication   ** .    $L$    $N$ hidden state   $O(LN)$   ,     $O((L+N) \\log(L+N) \\log \\frac{1}{\\epsilon})$   .     , $Q^\\top R(\\Omega, \\Lambda)P$   $\\Omega$   $\\omega$   $\\sum_{j} \\frac{q_j^\\top p_j}{\\omega-\\lambda_j}$    ,    Cauchy kernel    ($\\omega \\neq \\lambda_j$    ).

    .         .

, $A$ DPLR    ,  $\\overline{K}$    generating function $\\hat{K}$     .    $\\overline{C}$ reparameterization.  , discretized  matrix state matrix closed form  , Woodburys Identity    ,

$$
\\begin{bmatrix}\\tilde{C}^\\top & Q\\end{bmatrix}^\\top \\left(\\frac{2}{\\Delta} \\frac{1-\\omega}{1+\\omega} -\\Lambda \\right)^{-1} \\begin{bmatrix}B&P\\end{bmatrix}
$$

 .             $\\tilde{C}^\\top = \\tilde{C}$   .       .        $\\hat{K}$     $\\overline{K}$    .          .


<div align="center">
    <img src="https://github.com/user-attachments/assets/458610cb-a810-462a-98e3-f524edd4496c" width="">
</div>



# S4  Deep layer 

    S4        . $A$ HiPPO      ,  $A$     Diagonal  vector $\\Lambda, P, Q, B, C$ . Diagonal           S4 state dimension $N$   $5N$     . S4  Linear mapping  (    ),    Non-linearity    Deep layer   .

# 

         .    efficiency  long-range   ,     display    .        SSM       (,         )    contribution        .
`,mne=`---
title: "Mamba modeling  (3) - Linear-Time Sequence Modeling with Selective State Spaces (Mamba) "
category: "ai papers"
publishedAt: "2024-03-01"
thumbnail: "https://github.com/user-attachments/assets/f607dea3-c722-4229-8ecd-d2a9af742312"
---


#   ...

   LSSL(Linear State-Space Layer)        latent space       .
      HiPPO       hidden state     ,  LSSL    HiPPO          .              ,    scalable(    )    S4   .
   SSM based modeling  ,        Mamba  .

#    

      ,  foundation model     Transformer .     transformer   Computer vision, NLP, Audio  ( )    ,    model scalability(        )           .


<div align="center">
    <img src="https://github.com/user-attachments/assets/355b77fe-80e5-43f6-98c7-a0a2b8bb19bb" width="500">
</div>


      .      (        ,   )    (Attention)     ,              .


<div align="center">
    <img src="https://github.com/user-attachments/assets/f9f1430e-eb9c-4fb1-af5b-e13bf50a6185" width="800">
</div>


      ,                 .          (Attention is All you Need) RNN  hidden state    ,        . ,                     .            .

#      ?


<div align="center">
    <img src="https://github.com/user-attachments/assets/948369c9-b2fc-4cd4-a9b6-0a00581c3125" width="550">
</div>


     ?? ,         **linear attention,** **gated convolution, RNN,**  **structured state space models (SSMs)**   Language           .                                  .   long range dependency/reasoning   SSM       task     .

# Mamba,  

 SSM . SSM      ,   attention, RNN  gate  selection  . Attention    ,            ,    .  SSM         .  selective SSM  SSM             .      recurrent   ,          .   MLP , selective SSM        Mamba  .        SSM   FlashAttention   GPU   .

### Selection 

 SSM    input     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/b98e9fc3-1996-4438-9c9e-224484e660a0" width="700">
</div>


SSM           ,           state      input   input       . SSM        ,       .         .      5  .  ,        ,       .

   OOO   ?               OOO.    5   .  , SSM          .  SSM        ,        (     QnA   )        .    SSM      SSM ( )    Selection   .

###   


<div align="center">
    <img src="https://github.com/user-attachments/assets/38ffcf27-2b6e-4189-9750-65734e49030d" width="750">
</div>


  SSM    selective SSM  .  LTI(Invariant)              .            ,  recurrent     ,       .         Linear   ,     pseudo-linearity    recurrent       .

# 

  . Selective SSM    ,     MLP (Attention  Projection ) SSM   . Selective SSM   SSM          .    Structured SSM 4 $(\\Delta, A, B, C)$  ,  discretize ($\\overline{A}, \\overline{B}, C$) . SSM LTI         ,               Selective SSM  .      Selective SSM    .

### Compression()  Selection

            hidden state  latent ?  .      trade-off    ,     (Transformer)   /    .   autoregressive   Key-Value            ,   quadratic-time consuming   .  RNN  recurrent model   state     ,    state  context()      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/e141efe2-cefb-4d05-b7d9-77f8fcd6be3b" width="800">
</div>


    task    trade-off system SSM(LTI system)    .

  task      (  )   . LTI system       delay   .  LTI system         .

    task         ( )  ( ) ,       .   task LTI system    time-varying system  non-linear system     .  Induction heads ,   LLM In-context learning  task   .       ,   ( )       ( ).                ,     .

                           .       , trade-off context     ,      (Attention    , Recurrent module   state  )  .   SSM    ,      context compression  selection mechanism  .

### SSM selection 


<div align="center">
    <img src="https://github.com/user-attachments/assets/f607dea3-c722-4229-8ecd-d2a9af742312" width="850">
</div>


 Mamba SSM  selection mechanism  ,  RNN recurrent dynamics CNN             .


<div align="center">
    <img src="https://github.com/user-attachments/assets/013d5753-7f0c-4e73-86fe-ecf4dbaa415e" width="800">
</div>


     .   $B, C, \\Delta$  ** ()    ()  **,           ,   Time-invariant system  Time-variant system   .

 $B, C. \\Delta$      $s_B(x), s_C(x), s_\\Delta(x)$            .

$$
s_B(x) = \\text{Linear}_{N}(x),~s_C(x) = \\text{Linear}_{N}(x)
$$

   , dimension $D$   $N$   Linear module parameterize  ,

$$
s_\\Delta(x) = \\text{Broadcast}_D(\\text{Linear}_1(x))
$$

       dimension    .  SSM      .

###   

Convolution , Attention     .        receptive field      ,         HBM  [SRAM     ](https://arxiv.org/abs/2205.14135)  ( FlashAttention  Tri Dao   ). Selective SSM  LTI system            .     .

(1) SSM  recurrent model (state size)    .           .

(2) Recurrent Convolution  .     latent state    (B, L, D, N)  ,      ([S4 ](https://arxiv.org/pdf/2111.00396)).

(3)  LTI state model    state dimension $N$    dual recurrent-convolutional form .

  selection mechanism   LTI system   . LTI system     Selective SSM        .        .

- Recurrent    FLOPs $O(BLDN)$, Convolution $O(BLD\\log(L))$ .       hidden state dimension $N$   Recurrent    .
-    recurrent  (  )     .   convolution    state $h$     .

      , hidden state $h$ GPU     (kernel fusion, parallel scan, recomputation)   . 


<div align="center">
    <img src="https://github.com/user-attachments/assets/95e9fdc6-cbaf-4f39-b84f-c307798e0440" width="850">
</div>


SSM    $\\overline{A}, \\overline{B}$  HBM  , SSM parameter $A, B, C, \\Delta$ SRAM ,     HBM   .      parallel scan algorithm  .    bandwidth  SRAM      .  backpropagation  recomputation  FlashAttention   .

### Neural Network Mamba 

Structured SSM(S4)  Selective SSM(Mamba)        neural network   .      H3 Gated Unit   .    ([Hungry Hungry Hippos](https://arxiv.org/pdf/2212.14052))  H3   Attention Algorithm     SSM    Shifting SSM Recalling SSM ,  multiplication    .    Q, K, V     Shifting SSM       ,      (Shifting $\\odot$ SSM),     (Value $\\odot$ SSM)    . Gated MLP    Attention  MLP     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/dc376841-3f05-48ab-a77f-057f1b689fd5" width="850">
</div>


,    SSM     Attention    H3    .     SSM  H3 .     H3 Linear Attention Q, K, V  , Mamba       Gated MLP 2 SSM  Wrapping  .

#   

  .        .

- Variable Spacing :   Discrete data         .       ($g_t = 0$)      .
- Filtering Context :     .       ,    LTI system    , selective SSM        .
- Transformer        (    ) LTI system          .  Selective SSM    $\\Delta$,   hidden state    gate $g_t$             .
-     $\\Delta$       .       $\\Delta \\rightarrow \\infty$ ()    state       ,     state      .
- $A$    hidden state   .  Selective SSM   ,   $\\Delta$ discretization    selective     . (  )
- $B, C$  gated system   $x_t$     , output $y_t$   state       . (  )

$$
\\begin{aligned}
\\mathbf{h_t}^\\prime = A\\mathbf{h_{t-1}} + B\\mathbf{x_t} \\newline
\\mathbf{y_t} = C\\mathbf{h_t}+D\\mathbf{x_t}
\\end{aligned}
$$

#  


<div align="center">
    <img src="https://github.com/user-attachments/assets/a68626a6-74af-472c-94a7-74b0eb0c8ffe" width="350">
    <img src="https://github.com/user-attachments/assets/ec4c9341-ce8f-4d4e-8730-b19314c9e3b8" width="700">
</div>


Selective copying()  Induction head()    SSM baseline       .


<div align="center">
    <img src="https://github.com/user-attachments/assets/89bca885-1f2d-4bb3-8103-5746c97e301c" width="1000">
</div>


    Perplexity,  (   )        .  H3    ,         .


<div align="center">
    <img src="https://github.com/user-attachments/assets/98d16282-81dd-4051-8e36-59ca04488d20" width="850">
</div>


 downstream task  zero-shot  .    perplexity  average ,        .  DNA, Audio modeling       .


<div align="center">
    <img src="https://github.com/user-attachments/assets/d2f29887-d420-4af5-948c-83bf56c95b37" width="1000">
</div>


Mamba      context           ,  Attention  FlashAttention   Mamba inference time  throughput     .
`,fne=`---
title: "AnimateDiff: Animate Your Personalized Text-to-Image Diffusion Models without Specific Tuning  "
category: "ai papers"
publishedAt: "2025-07-08"
thumbnail: "https://github.com/user-attachments/assets/7ed5a03c-c5f2-4a3e-9091-e7a2ef3522b4"
---

# AnimateDiff

#    

       .

1.  T2I     (Diffusion Prior).  Personalization  (DreamBooth, LoRA  )          .
2.  personalize           huggingface    .
3.      personalize , T2I      (Video prior, Motion prior)   ,           .

# T2I Model Personalization ().

Text to Image model ****   **      **    .

## DreamBooth

**   ,      Scene    .**

 T2I     -       prior   .

 ****      prior              .

  Description ** **       .

  Language model  Vision model       . (     )


<div align="center">
    <img src="https://github.com/user-attachments/assets/4e66489b-f1bb-4432-90c8-e46d9e0c86e5" width="500">
</div>


   ,  (  )       dreambooth.

###  

  prior diffusion model  (output domain    ) .

  Few-shot dataset      ?   Mode collapse / overfitting  ,      .

     :  subject prior     target distribution  task . ,   personalize   .

Diffusion model  loss ( )       prior   .

$$
\\mathbb{E}_{\\mathbf{x},\\,\\mathbf{c},\\,\\boldsymbol{\\epsilon},\\,t}
\\!\\Bigl[
  w_t \\bigl\\lVert
    \\hat{\\mathbf{x}}_{\\theta}\\!\\bigl(\\alpha_t \\mathbf{x} + \\sigma_t \\boldsymbol{\\epsilon},\\,\\mathbf{c}\\bigr)
    - \\mathbf{x}
  \\bigr\\rVert_2^{2}
\\Bigr]
$$

### Identifier  

          .


<div align="center">
    <img src="https://github.com/user-attachments/assets/ed8108a2-7443-44f4-8524-c90d549de4fb" width="500">
</div>


*(e.g.)* [\` \`] [\`\`] / [\` \`] [\`\`]

  \`\` / \`\`    ,    \`identifier\`  text    **    ** .

   ,  \`unique\` / \`special\`          \`unique\` / \`special\`   prior disentangle (      property ) personalize   ,      .

   \`xy5syt00\`        .

     tokenizer , word      strong prior   .                  .

 ** rare token  .**       , token ID   prior entanglement ,     entanglement    decode .

T5-XXL   5000 10000        .

###    

**Language drift :**           (Large Text Corpus  ) representation .

**Reduced output diversity :**            .

$$
\\mathbb{E}_{\\mathbf{x},\\,\\mathbf{c},\\,\\boldsymbol{\\epsilon},\\,\\boldsymbol{\\epsilon}',\\,t}
\\!\\Bigl[
w_t\\,
\\bigl\\lVert
\\hat{\\mathbf{x}}_{\\theta}\\!\\bigl(\\alpha_t \\mathbf{x} + \\sigma_t \\boldsymbol{\\epsilon},\\,\\mathbf{c}\\bigr)
- \\mathbf{x}
\\bigr\\rVert_2^{2}
\\;+\\;
\\lambda\\,w_{t'}\\,
\\bigl\\lVert
\\hat{\\mathbf{x}}_{\\theta}\\!\\bigl(\\alpha_{t'} \\mathbf{x}_{\\mathrm{pr}} + \\sigma_{t'} \\boldsymbol{\\epsilon}',\\,\\mathbf{c}_{\\mathrm{pr}}\\bigr)
- \\mathbf{x}_{\\mathrm{pr}}
\\bigr\\rVert_2^{2}
\\Bigr]
$$

    .    ** **   source dataset  .  domain adaptation  .

## LoRA (Low-Rank Adaptation)


<div align="center">
    <img src="https://github.com/user-attachments/assets/485e39ab-c39e-41f5-9d35-b7a15dfcd530" width="500">
</div>


     weight   conditioning            plug-and play  . Low Rank  implicit space         .

$$
h = W_0 x + \\Delta W x = W_0 x + BAx
$$

  $BA$   .     fine-tuning   .

#  

AnimateDiff  Text to Image Diffusion Model ,  T2I       GLIDE, DALL-E           Stable Diffusion (LDM)     .

 DDPM ResNet  $16 \\times 16$         , ADM  $32 \\times 32$  $8 \\times 8$ ,    dimension     . ADM  GAN   .

     ADM   text embedding     ,    GLIDE, DALL-E  Imagen    . 

LDM      ,     VQ-GAN    latent   ,           .  conditioning ,    text embedding pooling      ($t$)  positional embedding      ,   self-attention  self-attention  cross-attention      . Latent    ,    conditioning       .

AnimateDiff  T2I  personalized model  ,    T2I  LDM LoRA            ablated UNet  transformer architecture     .   Stable Diffusion Model       .


<div align="center">
    <img src="https://github.com/user-attachments/assets/3eee8c62-4a38-4a7f-8b97-3ffa6befdcb7" width="500">
</div>


AnimateDiff 3   .

1.      GAP  ( )
2.   prior  ( )
3.    personalize  ( )

      2 3 , 2    (temporal information)    , 3        .   1 3    LoRA ,  2 transformer   pretraining . 

### Alleviate Negative Effects

        .          .

                    /   compression    ,      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/251f6c57-e6ac-42df-a454-d92fbc1004db" width="500">
</div>



<div align="center">
    <img src="https://github.com/user-attachments/assets/990f0fdc-e4fb-4dd0-a41d-b6e84b830e21" width="500">
</div>


      distribution misalignment  ,    motion prior     .

1.   DM text-image conditioning space .
2.   DM       .

   ResNet   conditioning  transformer block (Attention Modules) Adapter   .      LoRA     .

$$
Q = \\mathcal{W}^Q z + \\operatorname{AdapterLayer}(z) = \\mathcal{W}^Q z + \\alpha \\cdot AB^\\top z
$$

### Learn Motion Priors

Adapter DM Block       temporal   .

        Domain adapter      ,              DM(Diffusion Model)       .

        .


<div align="center">
    <img src="https://github.com/user-attachments/assets/c0a56b99-b110-4b97-b7d7-ce2bd51fc577" width="500">
</div>


DM     Make a video   .    video frame     .    $b$  $f$,  $b \\times f$    .

   video motion  prior     , motion   temporal Transformer  . ,  prior        spatial dimension    ($b \\times h \\times w$). Conditioning   zero initialization + residual   motion      ,   Make a video     .  [ ](https://github.com/guoyww/AnimateDiff/blob/main/animatediff/models/motion_module.py) Versatile Attention   .

\`\`\`python
def forward(self, hidden_states, encoder_hidden_states=None, attention_mask=None, video_length=None):
        batch_size, sequence_length, _ = hidden_states.shape

        if self.attention_mode == "Temporal":
            d = hidden_states.shape[1]
            hidden_states = rearrange(hidden_states, "(b f) d c -> (b d) f c", f=video_length)
            
            if self.pos_encoder is not None:
                hidden_states = self.pos_encoder(hidden_states)
            
            encoder_hidden_states = repeat(encoder_hidden_states, "b n c -> (b d) n c", d=d) if encoder_hidden_states is not None else encoder_hidden_states
        else:
            raise NotImplementedError

        # ... hidden states   

        # linear proj
        hidden_states = self.to_out[0](hidden_states)

        # dropout
        hidden_states = self.to_out[1](hidden_states)

        if self.attention_mode == "Temporal":
            hidden_states = rearrange(hidden_states, "(b d) f c -> (b f) d c", d=d)

        return hidden_states
\`\`\`

   cross attention    , Temporal Attention     latent  temporal consistency   .

,        , temporal attention    temporal information   .

### Customize motion prior


<div align="center">
    <img src="https://github.com/user-attachments/assets/11ae4835-f794-40eb-9af5-6274606ff8e8" width="500">
</div>


2  T2I  T2V prior   ,         (  )      20~50      .    \`personalize\` T2I  \`personalize\` T2V   , 3 \`personalize\` T2V \`personalize + motion personalize\` T2V   .    stage2  motion module LoRA  .

#  

###  

Domain Adapter  Stable Diffusion Model  objective  , Motion module LoRA     motion     frame    

$$
\\mathcal{L}
= \\mathbb{E}_{\\mathcal{E}\\!\\left(x_{0}^{1:f}\\right),\\,y,\\,\\epsilon^{1:f}\\sim\\mathcal{N}(0,I),\\,t}
\\!\\left[
  \\left\\|
    \\epsilon
    - \\epsilon_{\\theta}\\!\\left(z_{t}^{1:f},\\,t,\\,\\tau_{\\theta}(y)\\right)
  \\right\\|_{2}^{2}
\\right].
$$

Objective   empirical frame \`1 ~ f\`   .        freeze .

###  

   align   CLIP metric      User Study


<div align="center">
    <img src="https://github.com/user-attachments/assets/3169413e-85e7-464b-b622-8793cd26d0ea">
</div>


###  


<div align="center">
    <img src="https://github.com/user-attachments/assets/783b2ed7-6f9c-4595-94ff-cd8b86b4376d">
</div>


  LoRA    (Motion prior  temporal Transformer ).   $\\alpha$ ablation  .  video domain   image domain         .
`,hne=`---
title: "Pytorch 2.0   ??"
category: "ai technology"
publishedAt: "2023-01-05"
thumbnail: "https://pytorch.org/wp-content/uploads/2025/01/pytorch_seo.png"
---


    pytorch 1.13     [pytorch 2.0](https://pytorch.org/get-started/pytorch-2.0/)  .


# OVERVIEW

 ,    ,   <U></U> <U></U>   .   (  ,       ) ,       .           ,      .   
  meta( facebook) tensorflow        .  motivation  <U> </U> <U>    </U>         .     ,  next-generation pytorch        pytorch 1.x pytorch 2.0    .   
      python API   , Pytorch 2.0        .  Pytorch 2.x    \`\`\`model.compile\`\`\`     .


# Pytorch 2.0  model.compile?
 tensorflow      . Tensorflow \`\`\`model.compile\`\`\`     (fitting) optimizer, loss  metric  .  loss    objective function , metric classification  task accuracy  .   
Pytorch 2.x \`\`\`model.compile\`\`\`         , Pytorch   C++   <U>python  </U>  .  pytorch 2.0        (optional), \`\`\`model.compile\`\`\`      <U>pytorch 2.x    </U> . ,   pytorch   <U>pytorch 2.x    </U>. \`\`\`torch.compile\`\`\`      .

- TorchDynamo : Python frame evaluation hooks  pytorch   .       graph capture   . 
- AOTAutograd :  pytorch Autograd  .    trace   autodiff . 
- PrimTorch :  PyTorch    $2000$  pytorch  $250$   canonicalize.
- TorchInductor :          . NVIDIA GPU  OpenAI Triton    .

 ,         GPU      ,  GPU        .         .     <U>      </U>.       ( ...),        .


# Pytorch  
         .         .     model    , 163 open-source model (  46 [HuggingFace Transformer](https://github.com/huggingface/transformers) , 61 [TIMM](https://github.com/rwightman/pytorch-image-models) model  56 [TorchBench](https://github.com/pytorch/benchmark/) ),  Image classification  NLP task      . ,  task       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/210737816-cd5c206a-c632-4417-ba8d-f6a3f1a19848.png" width="700"/>
</div>


   . open-source model       \`\`\`torch.compile\`\`\`  wrapping,   validate accuracy .    data-type    float32 Automatic Mixed Precision(AMP)     ,     $0.75 \\times AMP + 0.25 \\times float32$  .  AMP weight        ()  .   
163 open-source model  \`\`\`torch.compile\`\`\` 93%,   43%    .     ** GPU A100**  ,   desktop  GPU 3090       ,      .

> Caveats: On a desktop-class GPU such as a NVIDIA 3090, weve measured that speedups are lower than on server-class GPUs such as A100. As of today, our default backend TorchInductor supports CPUs and NVIDIA Volta and Ampere GPUs. It does not (yet) support other GPUs, xPUs or older NVIDIA GPUs.

   ..   pytorch 2.0      .      .


# Direction of Pytorch 2.x
   \`\`\`pytorch 2.0\`\`\`              .            \`\`\`pytorch 2.0\`\`\`         . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225178361-b159f7d8-06b0-44a0-9807-b2e706bee4b5.png" width="700"/>
</div>


 \`\`\`2.x\`\`\`     \`\`\`compile\`\`\`    .       model ,            scalable    .      \`\`\`Pytorch 2.0\`\`\`      <U> interaction</U>   , <U>  </U>      .

       <U>   </U>  .

#### Sylvain Gugger the primary maintainer of HuggingFace transformers:
> "With just one line of code to add, PyTorch 2.0 gives a speedup between 1.5x and 2.x in training Transformers models. This is the most exciting thing since mixed precision training was introduced!"

  Transformer \`\`\`model.compile\`\`\` ,    1.5 2.0  .


#### Ross Wightman the primary maintainer of TIMM (one of the largest vision model hubs within the PyTorch ecosystem):

> It just works out of the box with majority of TIMM models for inference and train workloads with no code changes

  (?)  TIMM    inference train     . ~~ ...?~~



#### Luca Antiga the CTO of Lightning AI and one of the primary maintainers of PyTorch Lightning
> PyTorch 2.0 embodies the future of deep learning frameworks. The possibility to capture a PyTorch program with effectively no user intervention and get massive on-device speedups and program manipulation out of the box unlocks a whole new dimension for AI developers.

  <U>   </U> pytorch       , pytorch           .


# Motivation
       flexibility hackability  .      <U> </U>       .       performance     .

Pytorch   2017,   GPU   /    <U>  </U> <U> </U>    .    eager execution    pytorch   C++  (   source C++      ),      (hackability)    .  eager execution,    <U>  </U>    .         ,    pytorch tensorflow       <U>  </U>      .

    eager execution       .  pytorch    2017 (7) pytorch  compiler  .  <U>pytorch  </U> ,   <U>pytorch experience  </U>(   )  .   /   flexibility    dynamic shapes, programs  .



<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225183779-0bc28ba9-1d24-424f-a3b3-f9395f0e3337.gif" width="500"/>
</div>



# Pytorch 2.0 
   2017    .     3  .        <U>graph acquisition</U> .

- Graph acquisition
- Graph lowering
- Graph compilation

   \`\`\`torch.jit.trace\`\`\`, TorchScript, FX tracing  Lazy Tensors      ,     <U>' '</U>  .       ,      trade-off  .                      .  TorchScript     code           .  <U>   </U>     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225185127-0875e8fa-bd44-4322-914d-752e9877950b.png" width="700"/>
</div>


    \`\`\`compiler\`\`\`         .  \`\`\`TorchDynamo\`\`\`, \`\`\`AOTAutograd\`\`\` eager execution   <U>  </U>, gradient   .  \`\`\`Prim\`\`\`     ,        <U> </U>  .     <U>TorchInductor </U> .

#### TorchDynamo: Acquiring Graphs reliably and fast

TorchDynamo [PEP-0523](https://peps.python.org/pep-0523/) 'frame evaluation API'  Cpython feature .     graph acquire ,   c        .       pytorch  $7000$      , TorchScript   graph   $50\\%$ (  overhead ), TorchDynamo $99\\%$    graph ,    .   flexibility(overhead), speed(graph acquisition)   .

#### TorchInductor: fast codegen using a define-by-run IR

Pytorch 2.0      , [Triton language](https://github.com/openai/triton)     (   GPU       ).   Pytorch eager  , pytorch   <U>      </U>. 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225198662-229ead11-7a41-4d34-bf0a-8cc28256232c.png" width="400"/>
	<img src="https://user-images.githubusercontent.com/79881119/225198674-6acda856-d06f-48f0-a22b-a63f6dcc7324.png" width="500"/>
</div>


Pytorch tensorflow         ,      <U>'define by run'</U> , TorchInductor <U>IR   </U>  GPU Triton /CPU  C++/OpenMP   . Core loop IR   operator   <U>python  </U> C++ hackable/extensible    .

#### AOTAutograd: reusing Autograd for ahead-of-time graphs
Pytorch 2.0          .    user-level code capture  ,      backpropagation  capture  . <U>Capture</U>   ,          ()    .        loss function   backpropagation       <U>  </U>  <U>  </U>    .   pytorch  autograd system     , AOTAutograd pytorch \`\`\`torch_dispatch\`\`\`  backward pass Autograd   <U> capture </U>(Ahead-Of-Time)   . 

#### PrimTorch: Stable Primitive operators
Pytorch backend    ,  Pytorch operators    (   $2000$ ).

<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225202341-6c5a5716-2c96-4e09-b6a5-dbf4ab8c04b4.png" width="500"/>
</div>


 <U> operator</U>   <U>  </U>     .  PrimTorch     operator       operator set  . Pytorch   operator <U>  operator set </U>     . Prim    operator set  .

- Prim operators($\\sim 250$) :  Low level operator (  ).
- ATen operators($\\sim 750$) : ATen level operator level  . Prim operator high level operator .


# Pytorch 2.0 

  GPU  .

\`\`\`bash
nvidia-smi
\`\`\`

 CUDA  11.7    latest nightlies .

\`\`\`bash
pip3 install numpy --pre torch torchvision torchaudio --force-reinstall --index-url https://download.pytorch.org/whl/nightly/cu117
\`\`\`

  CUDA  11.6  install   ,

\`\`\`bash
pip3 install numpy --pre torch torchvision torchaudio --force-reinstall --index-url https://download.pytorch.org/whl/nightly/cu116
\`\`\`

  CPU   install   .

\`\`\`bash
pip3 install numpy --pre torch torchvision torchaudio --force-reinstall --index-url https://download.pytorch.org/whl/nightly/cpu
\`\`\`


# Pytorch 2.0 

\`\`\`python
import torch
import torchvision.models as models

model = models.resnet18().cuda()
optimizer = torch.optim.SGD(model.parameters(), lr=0.01)
compiled_model = torch.compile(model)

x = torch.randn(16, 3, 224, 224).cuda()
optimizer.zero_grad()
out = compiled_model(x)
out.sum().backward()
optimizer.step()
\`\`\`

\`\`\`compiled_model\`\`\`      \`\`\`forward\`\`\`      . Compiling        .

\`\`\`python
def torch.compile(model: Callable,
  *,
  mode: Optional[str] = "default",
  dynamic: bool = False,
  fullgraph:bool = False,
  backend: Union[str, Callable] = "inductor",
  # advanced backend options go here as kwargs
  **kwargs
) -> torch._dynamo.NNOptimizedModule
\`\`\`

  model          <U>default  </U>.  arg    .

- mode
   <U> </U>  . Default mode         <U>compile  </U>.   \`\`\`reduce-overhead\`\`\`      overhead   , \`\`\`max-autotune\`\`\`             .

\`\`\`python
# API NOT FINAL
# default: optimizes for large models, low compile-time
#          and no extra memory usage
torch.compile(model)

# reduce-overhead: optimizes to reduce the framework overhead
#                and uses some extra memory. Helps speed up small models
torch.compile(model, mode="reduce-overhead")

# max-autotune: optimizes to produce the fastest model,
#               but takes a very long time to compile
torch.compile(model, mode="max-autotune")
\`\`\`

- dynamic
 dynamic shape  code path enabling   boolean . Compiler    dynamic shape       ,          .         shape   <U>graph  </U>        .

- fullgraph
 Numba \`\`\`nopython\`\`\` .     ,      error  .     .

- backend
  compiler backend    .      \`\`\`TorchInductor\`\`\` ,    (  ).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225205790-9ddc3526-28d3-49e9-9859-f00132e0d015.png" width="800"/>
</div>



# Compile     

#### Reading and updating Attributes

Eager mode      model weight       ( , \`\`\`model.conv1.weight\`\`\`). TorchDynamo    attribute           .

\`\`\`python
# optimized_model works similar to model, feel free to access its attributes and modify them
optimized_model.conv1.weight.fill_(0.01)

# this change is reflected in model
\`\`\`

#### Serialization
\`\`\`optimized model\`\`\` state-dict \`\`\`model\`\`\` state-dict serialize  .      parameter   <U>    </U> .

\`\`\`python
torch.save(optimized_model.state_dict(), "foo.pt")
# both these lines of code do the same thing
torch.save(model.state_dict(), "foo.pt")
\`\`\`
 
 \`\`\`model\`\`\`  serialize   .   \`\`\`optimized model\`\`\`  \`\`\`model\`\`\`    .

\`\`\`python
torch.save(optimized_model, "foo.pt") # Error
torch.save(model, "foo.pt")           # Works
\`\`\`

   .

#### Model inference
Model inference  , \`\`\`compile\`\`\`  compiled model   warm-up step    latency  .  pytorch 2.x   , \`\`\`export\`\`\`   latency          .        .

\`\`\`python
# API Not Final
exported_model = torch._dynamo.export(model, input)
torch.save(exported_model, "foo.pt")
\`\`\`

#### 
    .    <U>compile mode </U>, eager mode( pytorch ) compile <U>  </U>,    <U>speedups  </U>     .    <U> </U> eager mode   <U>  </U>  ,     .   reproduction    **minifier** . Minifier  issue  code snippet   ,       github issue    .                  .       , \`\`\`torch._dynamo.explain\`\`\`   graph breaks       .

#### Distributed
  GPU        \`\`\`torch.distributed\`\`\` . Pytorch   distributed wrapper DDP(\`\`\`DistributedDataParallel\`\`\`), FSDP(\`\`\`FullySharedDataParallel\`\`\`)          eager mode( )  <U>  </U>  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225211378-95021b7f-6639-4903-9315-a3770148e2b7.png" width="500"/>
	<img src="https://user-images.githubusercontent.com/79881119/225211544-3c1be915-c671-4c0c-9c04-7de56dd473fe.png" width="500"/>
</div>



# ...


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/225211779-bdfc9e43-2b39-4efd-859c-f5b27d6e5611.png" width="600"/>
</div>


        \`\`\`compile\`\`\`  eager mode   pytorch model ,  (   ,         )   . Pytorch 2.x  \`\`\`compile\`\`\`         ,       tensorflow  <U>  </U> ,   <U> </U>        .
`,gne=`---
title: "ChatGPT()      !? RLHF  "
category: "ai technology"
publishedAt: "2023-03-25"
thumbnail: "https://user-images.githubusercontent.com/79881119/213901191-b4994362-af6a-4685-bcf0-9a9924ec3b1a.png"
---


  huggingface   <U>'Illustrating Reinforcement Learning from Human Feedback (RLHF)'</U>            .     ([ ](https://huggingface.co/blog/rlhf)).

> Lambert, et al., "Illustrating Reinforcement Learning from Human Feedback (RLHF)", Hugging Face Blog, 2022.

#  AI ?
 AI    <U> </U>   .   4        . (                 ...)

   ChatGPT           .

<U> </U>  spotlight                .          <U> </U>    .

  <U>''</U>    .        (  toy project  )    .        /         .

    [ChatGPT](https://openai.com/blog/chatgpt)      /       .    Stability AI   [Stable diffusion](https://stability.ai/blog/stable-diffusion-public-release) ChatGPT           ,  ,   ChatGPT /  .    LLM(  )   <U>  </U> <U> </U>        .


# ...
     <U> </U>(NLP)  language model      .       [Transformer](https://arxiv.org/abs/1706.03762)(Attention is all you need)     (Machine translation)    GPT, BERT     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/213901161-30db60a8-bb44-46c8-9f42-ea2e45de38fe.png" width="400"/>
    <img src="https://user-images.githubusercontent.com/79881119/213901191-b4994362-af6a-4685-bcf0-9a9924ec3b1a.png" width="400"/>
</div>


GPT BERT  , GPT <U> ''</U>       BERT   <U>  ''</U>        .  <U>ChatGPT</U>   GPT  **'   '**     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227694380-30f31f95-4ffc-4a30-bc46-768e0566d49d.png" width="600"/>
</div>



#  ?
   .             ,        <U>' text'</U>     ,           .

GPT   <U></U>  , <U></U>     <U> absract</U>       <U>  </U>   .  <U> </U>     ( ) ,   '   ' setting  <U>  </U>   ** ** .    'loss function',  'objective function'   .

 language model        categorical function cross entropy  <U>trivial solution</U>    .  trivial solution '  ,       '  .       <U>  </U>   .        human preferences(  )    metric( ) [BLEU](https://en.wikipedia.org/wiki/BLEU) [ROUGE](https://en.wikipedia.org/wiki/ROUGE_(metric))   .

$$
    \\begin{cases}
        \\text{ROUGE}, &(w_{ref} \\in S_{gen} \\vert w_{ref} \\in S_{ref}) / \\vert S_{ref} \\vert \\newline
        \\text{BLEU}, &(w_{gen} \\in S_{ref} \\vert w_{gen} \\in S_{gen}) / \\vert S_{gen} \\vert
    \\end{cases}
$$

      'ROUGE' reference()  ($S_{ref}$)  ($w_{ref}$) generated() ($S_{gen}$)     'BLEU' generated() ($S_{gen}$)  ($w_{gen}$) reference()       .   metric     <U>  </U>  ,     /      .   <U></U>  .


# RLHF 

  ,     <U>  feedback</U>    <U>performance </U>()          <U> </U>      ?    .      ChatGPT   <U>Reinforcement Learning from Human Feedback</U>(RLHF).


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227696698-d5dc083b-e0c1-4b6d-9ab2-abb3bc6bd255.png" width="400"/>
</div>


RLHF   feedback reinforcement learning( )   penalty/reward    . RLHF   LLM(Large Language Model)   <U>    </U>    .     RLHF     ?


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227696407-8e1db0e8-1a20-49a8-9516-e2ccc910198f.png" width="600"/>
</div>


  <U>  </U>      .         <U>  </U>    RLHF  .      ,       .


# RLHF :  
  reinforcement learning           ~~ ~~.. hugging face    <U>  </U>    . RLHF     pipeline  training process .

- Language Model(LM)  (Pre-training)
- Data  reward model 
- LM   fine-tuning

      .

### Pretraining language models
RLHF  feedback  language model . [Language model ](https://huggingface.co/blog/how-to-train)   <U>classical pretraining objective</U> (  Cross-entropy loss BLEU, ROUGE   ).   OpenAI GPT-3       RLHF    [InstructGPT](https://openai.com/research/instruction-following) .   [CLAUDE](https://www.anthropic.com/)  Anthropic  $10 \\times 10^6 \\sim 52 \\times 10^9$ parameter    transformer  RLHF , DeepMind   [GoPher](https://arxiv.org/abs/2112.11446)   LM .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227706651-afae5325-30f4-40a4-9c69-312578fbec5b.png" width="600"/>
</div>


   (Initial model) fine-tuning  .  OpenAI <U>  </U> " (preferable)" prompt fine-tuning , Anthropic RLHF  LM     "helpful, honest, and harmless" <U>  </U>     .     ' '    ,       <U>cost  </U> RLHF      fine tuning    .

  (RLHP) <U>starting point</U>         .  Large language model       RLHF    design space           .  RLHF '   '  <U>   </U>      .

### Reward model training
       .    text(document)     ,     reward(       )    reward model(RM),  <U>  </U>.

    , LM    ,    <U> </U> <U>scalar</U> reward(   )    <U> </U> <U> </U>   .         ,   scalar  reward  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227707301-41fcb50f-6542-42c7-8908-500aed82f700.png" width="600"/>
</div>


RM output scalar   RL       .   <U>  </U>     RL  RLHF(      )        .

Reward modeling  ''  ranking       preference data ( ,   LM fine-tuning     )   .  Anthropic   LM  PMP(preference model pretraining)  fine-tuning  ,   sample efficient(       ) .   RLHF <U>  LM    </U>      <U>(RM  )</U>      .

RM(Reward model)      prompt     (prompt-generation pair),      . Anthropic  Amazoon Mechanical Turk <U>chat tool</U>  prompt   , Open AI   GPT API <U> </U> <U>prompt submission</U>  (   ).

  LM text output human annotator(     ) ,  text     .   '<U>  </U>    scalar value <U> </U> reward model    ?'        .   human annotator, prompt         ''        .                ,     (For example, $0 \\sim 10$)          score   <U>calibration</U> <U>noise</U>  .          text      <U>dataset   </U>. 

Text  ranking   .     prompt     LM output  . 1 1           ,    LM  output       [Elo system](https://en.wikipedia.org/wiki/Elo_rating_system)   . Elo system        .   <U>' '</U>      .   <U>  </U>   <U>  </U> .        ranking  .  () ranking     normalizing.

Reward model  <U> </U>  . RLHF         Reward model  .
 OpenAI $175 \\times 10^9$    LM $6 \\times 10^9$    RM , Anthropic DeepMind LM RM      .         reward model    capacity  .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227710112-caa2fb85-638c-4e77-9995-b7637a36487b.png" width="600"/>
</div>


   LM   RM     ,   process    RM  LM          ( )    .    ,      language model  representation      representation   RM      .

 <U> </U> <U> </U>  <U>  </U>    .      ( parameter   )         ,    ( parameter   )       .   /    representation  ,  <U> </U>  /  <U>  </U>     .

 <U>LM   </U> <U>RM  </U>  ,   prompt   (LM),      scalar   (RM)    . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227710523-b2e06ced-140e-4f22-bb28-994df461cd98.png" width="600"/>
</div>


### Fine-tuning with Reinforcement Learning
<U></U>(Reinforcement Learning)  Large language model        .       backpropagation   agent      ''  .    <U> </U>   <U> </U>     pipeline  engineering , algorithm    .  

    RL <U>policy gradient algorithm</U> Proximal Policy Optimization(PPO)  ([ ](https://lilianweng.github.io/posts/2018-04-08-policy-gradient/)) **initial LM **(    copy )  <U>/ fine-tuning</U>   .  LM    $10B$  $100B$   heavy ,   fine-tuning  .  Low-Renk Adaptation(LoRA) ([ ](https://arxiv.org/pdf/2106.09685.pdf)) <U> parameter</U>  <U>low intrinsic dimension</U> <U>manifold</U>        fine-tuning  . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227755020-bb0b3979-16f0-4ae8-ac7b-2f3a52e03e32.png" width="400"/>
</div>


 DeepMind Sparrow model([ ](https://arxiv.org/pdf/2209.14375.pdf))  prompt answering/   data bootstrapping   <U>RL  policy </U> pipeline .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227755264-f5cbfdfe-4c98-4a4b-aaff-e432c96a296e.png" width="600"/>
</div>


               .

PPO RL           mature    .       RLHF scalable approach      . RLHF  RL  <U>large language model</U>(LM)   <U> </U>       . 


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227756620-e29ff2c1-f9a3-4b10-8565-6b64a238ebef.png" width="550"/>
</div>


   <U>Fine-tuning task</U> RL    . , **policy** language model,  prompt  sequence of text() . LM fine tuning  parameter     policy  ,   output <U>sequence of text</U>  <U>text probability distribution</U> **policy**   .   policy **action space** LM vocabulary  token    .
**Observation space**  agent    environment ,  RL   LM         input    <U> token sequence </U>   .    input token sequence   observation space .  RL  observation space    ,       
$$
    \\text{ }^\\text{   }
$$
   .   observation      text    . **Reward function** preference model(output   ) policy shift  constraint( ) .

Reward function     model  pipeline RLHF process   .  dataset prompt $x$     language model  $y_1$ text,  iteration  update policy  $y_2$ text   .  policy   text $y_2$ preference model  ,     ""  scalar value($r_{\\theta}$)  .  text initial model  text $y_1$ , <U> </U>  <U>penalty </U> . OpenAI, Anthropic  DeepMind  paper <U>   </U>  <U>distribution </U>      Kullback-Leibler(KL) divergence scale  penalty  . KL divergence($r_{\\text{KL}}$)   token     .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227758349-88896b92-f828-4dec-a931-c4d2ac94d7f0.png" width="700"/>
</div>


<U>KL divergence </U>     RLHF     task    .    ,     task   encoder decoder output  feature map align  <U>KL divergence </U>  , RLHF    policy optimized           <U>  </U> .    term  policy  preference model   <U> text </U>  reward    (  ).  RL update rule  reward     .

$$
    r = r_{\\theta} - \\gamma r_{\\text{KL}}    
$$

Reward  , initial LM  sequence of text    reward  .

 RLHF framework  reward function  term  .  OpenAI RLHF  [InstructGPT](https://arxiv.org/pdf/2203.02155.pdf)   pretraining gradients   .

$$
    L(\\phi) = E_{(x, y)\\sim D_{\\pi_\\phi^{\\text{RL}}}} (r_\\theta (x, y) - \\beta \\log (\\pi_\\phi^\\text{RL}(y \\vert x) / \\pi^\\text{SFT} (y \\vert x))) + \\gamma E_{x \\sim D_\\text{pretrain}} (\\log (\\pi_\\phi^\\text{RL} (x)))
$$

   pretraining human annotated set  gradient .  RLHF <U>reward function</U>  <U>  </U>    .

 **update rule**   data batch reward metric   parameter update . PPO on-policy ,  parameter  <U> batch </U>   . PPO trust region optimization  ,   gradient     learning process     constraints         .DeepMind Gopher   reward setup  gradient   synchronous advantage actor-critic(A2C) ([ ](http://proceedings.mlr.press/v48/mniha16.html?ref=https://githubhelp.com))    .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227759528-b3d978c7-7ed3-44db-a51e-796b75b2d0cf.png" width="700"/>
</div>


, RLHF reward model policy <U>  </U>   . RL(Reinforcement learning) policy  user  output       ranking() .           operation   paper  .

Anthropic  optional   Iterated Online RLHF ([ ](https://arxiv.org/abs/2204.05862)),    iteration policy ELO ranking system   .


# Open-source tools for RLHF(   )
    RLHF   ,   RLHF   tool  . RLHF LM    2019 tensorflow   OpenAI   ([lm-human-preferences  ](https://github.com/openai/lm-human-preferences)).

  Pytorch     repository  . Transformers Reinforcement Learning([TRL](https://github.com/lvwerra/trl), [TRLX](https://github.com/CarperAI/trlx))  Reinforcement Learning for Language models([RL4LMs](https://github.com/allenai/RL4LMs))   .

TRL   Huggingface       LM PPO    fine-tuning . TRL fork  TRLX LLM PPO/ILQL([Implicit Q-Learning](https://sea-snell.github.io/ILQL_site/))  RLHF    API.  TRLX parameter   LLM    ,  scaling up         .

RL4LMs   RL (PPO, NLPO, A2C  TRPO) reward function  metric LLM fine-tuning     .     customizing , trasformer     encoder/decoder   reward function      . TRLX, RL4LM   experiment   ,         .


# ...
  RLHF     <U> </U>    ,      .  model     <U>harmful, factually inaccurate text</U>  .       .


<div align="center">
    <img src="https://user-images.githubusercontent.com/79881119/227761255-0373f966-3961-4200-bab8-7bf2473ad398.png" width="700"/>
</div>


      LM    , RLHF   ,  <U>ChatGPT</U>     .

RLHF     <U> preference data</U>   training loop     ,  RLHF   upper-bound  annotation quality        (  text,   preference).

 prompt    human-text        .    reward model    data scale    . Image dataset annotation        .      <U>   </U> ,    RLHF   .   large scale  Anthropic     .        <U>human annotator    </U> ,    preference  ranking variance     noisy labeling .

 RLHF     loss function  ablation  ,    searching      .      RL optimizer  PPO  ,  PPO         RLHF         <U>    </U>   .  RL framework environment reward model   ,    cost         .  online RL cost    <U>ILQL  offline RL </U>    .  RL exploration-exploitation balance(   trade-off)    ,     RLHF    LLM         .
`,bne=`---
title: "AI      (Flash Attention, MIG GPU )"
category: "ai technology"
publishedAt: "2025-11-24"
thumbnail: "https://github.com/user-attachments/assets/75275fb1-3aa4-42e3-96b2-0f02debf5fce"
---

# AI  

 AI    AI    .       ,    GPU  96GB FULL  .

   /    .      ,         .

 AI   quantization    trade-off   ,    post-training          ,       .          ,    AI        .

#  

       ,         .     ,          48GB .     ,     .

### 1.     cache   2  .

     .           .

  ,         GPU   GPU   . ,        ,      2    .


<div align="center">
    <img width="1000" alt="Image" src="https://github.com/user-attachments/assets/75275fb1-3aa4-42e3-96b2-0f02debf5fce" />
</div>

          , **   +      **     2 cache  .

     :

\`\`\`python
device = 'cuda'
model = MyModel().to(device)
ckpt = torch.load('model.pt', map_location=device)
model.load_state_dict(ckpt['model'])
\`\`\`

\`\`\`python
model = MyModel().to('cuda')
state_dict = torch.load('model.pt')
model.load_state_dict(state_dict)
\`\`\`

      .     cpu , cache     .

\`\`\`python
ckpt = torch.load(path, map_location='cpu')
model.load_state_dict(ckpt)
model.to('cuda')
\`\`\`

               .     .

### 2.      .

   AI    ,     CPU  GPU     .   GPU     CPU        .

 CPU     cuda  ,   CPU       GPU    .     .

### 3.     

            .               .     , cuda  hanging  API          CPU   .    \`try except\`    hanging      .          . 

# Flash Attention 

Flash attention        .     48GB    Flash attention       24GB   .

 Flash attention      cuda   .  \`torch\`      .

## NVML    CUDA   

GPU           , **  GPU       **.     \`torch.cuda.is_available()\`  NVML   .   ,  GPU     **CUDA      ** .

 , **         **  .      **CUDA Graph ** ,  Graph GPU       . ,      ,  CUDA  NVML     .


<div align="center">
    <img width="400" alt="Image" src="https://github.com/user-attachments/assets/dc0efd1d-1eba-4352-92f7-513d7f53cd84" />
</div>

     Docker   cgroups    .

(/etc/nvidia-container-runtime/config.toml)

\`\`\`jsx
--no-cgroups=true
\`\`\`

NVIDIA Container Runtime GPU      cgroups      .

- GPU    
- NVML   GPU visibility 
-   GPU  ID 
- /  cgroups   

 no-cgroups=true      .

cgroups  , NVIDIA Container Runtime GPU   ,     GPU        .      GPU  , cgroups    **   GPU      **,  NVML   CUDA     .         .

# MIG  ?

       .      GPU       .    $N$  GPU      throughput    ( ).    Blackwell   GPU ,       .        2     .

   MIG(Multi-Instance GPU)     .  NVIDIA MIG  GPU    ,  GPU       , ,           .

   ,  GPU         ,      **    **  .

### MIG    Throughput 

   4   GPU     ,        .  MIG GPU     .   3   .

       ,     API        . (    )

| 1 | 2 | 3 | 4 |   |
| --- | --- | --- | --- | --- |
| $\\times15.19 (\\pm 0.07)$ | $\\times9.76 (\\pm 1.515)$ | $\\times7.02 (\\pm 1.933)$ | $\\times 5.47 (\\pm 2.642)$ | $\\times 7.26 (\\pm 0.204)$ |

### MIG   Throughput 

MIG     . , MIG   GPU MIG    \`nvidia-smi\` .


<div align="center">
    <img width="250" alt="Image" src="https://github.com/user-attachments/assets/f6c333e6-85c9-4281-8711-65e3054da6a8" />
    <img width="250" alt="Image" src="https://github.com/user-attachments/assets/02597d1a-ab0e-407e-9d05-33a7b2b6e57e" />
</div>

  MIG  N/A   MIG   ,   MIG  \`Disabled\`   MIG    .  / GPU MIG .

 MIG     \`sudo nvidia-smi -i {gpu_id} -mig 1\`    .  Enable  Enabled MIG Mode for GPU 0000:xx:00.0    . Reboot     reboot  .

\`nvidia-smi\`    Enable  .


<div align="center">
    <img width="344" height="300" alt="Image" src="https://github.com/user-attachments/assets/d35f7841-27ff-415b-a89a-2decfd874806" />
</div>

  , GPU        .    GPU    , 96G GPU 24G 4, 28G 2            .

\`nvidia-smi mig -lgip\`       ,  Blackwell GPU  $2^n$ $(1, 2, 4)$     .


<div align="center">
    <img width="1152" height="1052" alt="Image" src="https://github.com/user-attachments/assets/19ccb391-ba8b-475a-86b5-88b600888182" />
</div>

  me, gfx            . 4       ID 14  .

\`sudo nvidia-smi mig -i {gpu_id} -cgi 14,14,14,14 -C\` 


<div align="center">
    <img width="1288" height="550" alt="Image" src="https://github.com/user-attachments/assets/5da213a5-5974-4d9d-8bf9-49ceedfb6ddd" />
</div>

 \`nvidia-smi\`  MIG devices      . \`nvidia-smi -L\`     UUID   ,   \`gpu_id\`   ,  UUID    .

      .

| 1 | 2 | 3 | 4 |   |
| --- | --- | --- | --- | --- |
| $\\times6.99 (\\pm 0.896)$ | $\\times6.85 (\\pm 0.495)$ | $\\times6.60 (\\pm 0.664)$ | $\\times6.33 (\\pm 0.471)$ | $\\times 7.26 (\\pm 0.204)$ |

### MIG,   


<div align="center">
    <img width="3600" height="2100" alt="Image" src="https://github.com/user-attachments/assets/82e559bc-5eb3-432a-af7e-55b9d234c1a7" />
</div>

        .        , NVML, CUDA                .       ,      **   **        . ,  GPU   MIG    Legacy Server   2     $(\\times 7.26 \\rightarrow \\times 15.19)$,  MIG  Legacy Server            $(\\times 7.26 \\rightarrow \\times 6.99)$.  0.3        ,  1     53    . 10      3    .  GPU   10         :


<div align="center">
    <img width="1000" height="2022" alt="Image" src="https://github.com/user-attachments/assets/f3880ef0-29fc-49a4-89a8-a76df90704ef" />
</div>

              ,  MIG              .


<div align="center">
    <img width="1000" alt="Image" src="https://github.com/user-attachments/assets/be0fd8d8-d942-4ecc-a115-bf988a81e232" />
</div>

          API ,        ,        .    API       ,  MIG     .

# 

AI                  .

     Flash Attention       .            ,       .          GPU        .               .

     GPU   ,  hanging error    , NVMLCUDADocker runtimecgroups                .

MIG ,            . MIG     ,          .    CPUGPU  , API ,  vs       MIG           .

       ,    ,  ,          .         ,       .          :

> AI  GPU      .
> 

       ,  GPU ,            .
`,vne=`---
title: "  GPU /   GPU /   "
category: "ai technology"
publishedAt: "2025-12-26"
thumbnail: "https://github.com/user-attachments/assets/68ec0460-49a6-4bed-aa44-907a43f38579"
---

##  GPU  

 (Gradient     ),       .      ,               .    .     LLM/VLM    GPU    ,  GPU     .  huggingface model \`device_map=auto\`   , vLLM    API   argument \`tensor_parallel_size=4\`   .

       GPU         (**Distributed Data Parallel**)     ,             .       :

-  :    GPU  (Gradient )  ,     GPU  gradient  .
-  :       GPU      (OOM)   ,     GPU      .  (     activation)  .


##   

###  : DDP = Data Parallel

     GPU  . ,    **   GPU   ** ,            .   :

-   GPU     .
-  GPU  (  ) (mini-batch) forward/backward.
- Backward ,   gradient \`all-reduce\`   GPU   .

,   Backward ,   gradient \`all-reduce\`          . Loss       .

**Forward  Loss  GPU  **. 

 Rank(    GPU)      .
**- GPU0 : batch0  forward  loss0
- GPU1 : batch1  forward  loss1
- GPU2 : batch2  forward  loss2
- GPU3 : batch3  forward  loss3**
, loss  GPU   .

**Loss   (X)  Gradient  **.  

 DDP     .
    
\`\`\`python
loss = criterion(model(x), y)   #  GPU local batch 
loss.backward()                 #  GPU backward 
optimizer.step()
\`\`\`

 Loss     .   DDP    Loss   , Loss  Gradient .

Backward    ,         .     4  ,
- Loss  Layer4 Gradient 
- Layer4 Gradient  Layer3 Gradient 
- Layer3 Gradient  Layer2 Gradient 
- Layer2 Gradient  Layer1 Gradient 

 DDP Loss   ( ) gradient         (GPU0 ~ GPU3)  .

,    \`grad\`      \`grad\`  GPU  \`all-reduce(sum)\`,  world_size ()    .  DDP \`all-reduce\`   (backward)  .

 GPU      Local Gradient   :
$g0 = d(loss0) / d\\theta$.  
$g1 = d(loss1) / d\\theta$.  
$g2 = d(loss2) / d\\theta$.  
$g3 = d(loss3) / d\\theta$.  

DDP all-reduce  GPU  gradient : $g = (g0+g1+g2+g3)/4$    ,  GPU          .
    

###  :  !?

 ,       :

 ,       $N$ GPU  .         ,      .
-   $N$ GPU .
-  GPU  activation merge() ,  activation    .
-   (activation   activation  ).

     ,         ..?       .          ,      .

(1) HF \`device_map=auto\`:     

    GPU   .          .
  GPU(e.g. GPU0) , GPU0      activation   activation GPU1     .
  GPU   ,    GPU  .  

(2) Tensor Parallel (\`Megatron\` / \`vLLM Tensor Parallel\`):     

       ,   GPU  merge   . Tensor Parallel     GPU (\`device_map\`)  ,  (Linear/GEMM)  GPU    .

       :
$Y = XW$. ($X \\in \\mathbb{R}^{\\text{Batch}\\times\\text{seq}, \\text{hidden}},~W \\in \\mathbb{R}^{\\text{hidden}, \\text{hidden}}~Y \\in \\mathbb{R}^{\\text{batch}\\times \\text{seq}, \\text{hidden}}$, )  

Hidden   $W$   ,  GPU $W$ ,     . TP      GPU    . ,   $X$   $W$   .

**   **  

 $W$ (column)  : $W = \\begin{bmatrix}W_1&W_2&W_3&W_4\\end{bmatrix}$.  

  GPU   ,  :  

$Y_1 = XW_1,~Y_2 = XW_2,~Y_3 = XW_3,~Y_4 = XW_4$, $Y = \\begin{bmatrix}Y_1&Y_2&Y_3&Y_4\\end{bmatrix}$  

   $X$  GPU   ,  GPU    all-gather    .  

> :   ($X$) ,   ( )  .

**   **  

 $W$     : $
W =
\\begin{bmatrix}
W_1 \\newline W_2 \\newline W_3 \\newline W_4
\\end{bmatrix}
$.

   $X$  : $X = \\begin{bmatrix}X_1&X_2&X_3&X_4\\end{bmatrix}$.  

  GPU         :  

$Z_1 = X_1W_1,~Z_2 = X_2W_2, \\cdots$. $Y = Z_1 + Z_2 + Z_3 + Z_4$.  

   all-reduce(sum)  .  

> :   ($X$ )  ($Y$) ,  ()   .
    
(3) Data-parallel inference:   .  

   DDP .         GPU   ,  GPU   .             .


##  (   )

    .  DDP        .     GPU         ?

###    

1~2B           (   ) DDP  .

###    

    ,         DDP    ,     :

### ZeRO / FSDP (, ,   sharding)

DDP  GPU  , gradient  optimizer state      . ZeRO/FSDP  GPU  (shard)   .

ZeRO   3  :

- ZeRO-1: Optimizer state  
- ZeRO-2: Optimizer state + Gradient  
- ZeRO-3: Optimizer state + Gradient + Parameter  

FSDP(Fully-Sharded Data Parallel) \`Pytorch\`  ZeRO-3    .            .

### ZeRO/FSDP Forward/Backward    ?

- forward      GPU shard  ,  all-gather full weight  
- forward  :         shard  
- backward    gather/reshard
- optimizer step  optimizer state  

, forward/backward   gather/sharding    .

### Tensor Parallel (TP)  Pipeline Parallel (PP)

     TP       Linear     ,     .    Pipeline Parallel   GPU    .

  huggingface model   \`device_map=auto\`     ,       . Pipeline parallel  ,     .        GPU   GPU  .                ,           .

 PP  batch   micro-batch     :

- microbatch1 GPU0 layer$(1\\sim k)$  
- microbatch2 GPU0 
- microbatch1 GPU1  layer$(k+1)\\sim$ 

               .

### GPU   ,  DDP +     ?

 ,     GPU   ,  GPU    /   .

, ZeRO/FSDP  /      GPU     GPU   shard  .  GPU       .

### (A) DP  / TP  / PP stage / 

  128 GPU    :

- \`TP=8\` (   8 GPU )
- \`PP=2\` ( 2 )
- \`DP=8\` (   8 )

   $8\\times2\\times8 = 128$.  .

 GPU  :

-  GPU pipeline stage 0,  GPU stage 1, etc
- TP  weight slice  (   )
- DP  (\`TP, PP\`)    

            .

### (B) (offload)   CPU/NVMe 

- ZeRO-Offload   optimizer state CPU   .
-     GPU    CPU       .

###   (     )

- DDP:  ,  , grad all-reduce
- ZeRO/FSDP: /grad/     
- TP:  (Linear/Attention)     
- PP:      activation stage  
-    (TP/PP/FSDP   ) + DP 
-  GPU +   


## 

    GPU  ,  (DDP)  (device_map/TP/DP inference) * *       .

### 1) (DDP)   

> DDP loss       gradient   .
> 

 GPU ,  GPU      gradient all-reduce()   GPU     .

### 2)     

>     .  /  OOM    .
> 
- Layer/PP(sharding, \`device_map="auto"\`):    GPU     (activation  GPU   ).
- Tensor Parallel(tensor_parallel_size):  Linear/Attention GPU   (  all-reduce/all-gather ).
- Data-parallel inference( ):  GPU     (  , throughput ).

### 3)   

-  1 GPU    PP(device_map)  TP *  *
-   /      TP   
- ( /)  +  1   DP inference()   
`,yne=`---
title: "RAG(Retrieval Augmented Generation)    LangChain   "
category: "ai technology"
publishedAt: "2026-01-23"
thumbnail: "https://github.com/user-attachments/assets/7473ab15-7dda-4c01-a324-b8dd6a6be9f0"
---

## LLM 

LLM      .  ChatGPT    ,  Autoregressive     ,  ,           .  OpenAI      ,          .

     ChatGPT    ,            ,  AI          AI            .

-   LLM       .
-   LLM       .

 AI    ,      .


## LLM 


<div align="center">
    <img src="https://github.com/user-attachments/assets/7ecc22e3-13c5-4353-9851-0a4b62ef8bad" width="700">
</div>

  LLM      .  LLM       .

       ,

>     !
> 

    (meme)  ,             .

    ,     ,                 !

   ,       ( + )      LLM   (, LLM     meme       ).   LLM   ,    :

>           .
> 

     ,         .

             .            ? focusing.

            .       .        ,               .

                 ,             .      .

 LLM         ,   .       ,                       .     ,          .            .


##   

 LLM   .   $N$   1)       , 2)     ,       .   /    ,        100    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/0774bc79-e7f3-4b05-8fca-58a461a31306" width="700">
</div>

GPT 2024 6  general knowledge update .    2024     (    KRW to USD  ).

  ChatGPT     ChatGPT       ,     In-Context Learning(ICL),  RAG.

 /          ,             ,  0    .           ,                   .     .

###    

LLM     . LLM        , LLM    .    () $\\mathcal{C}$ ,  $N$ () $D^{(k)}$  :

$$
\\mathcal{C} \\;=\\; \\{\\, D^{(k)} \\,\\}_{k=1}^{N}.
$$

  $D^{(k)}$ / (, ,  ) $t^{(k)}_i$  :

$$
D^{(k)} \\;=\\; \\bigl(t^{(k)}_{1},\\, t^{(k)}_{2},\\, \\dots,\\, t^{(k)}_{n_k}\\bigr),
\\qquad n_k \\;=\\; |D^{(k)}|.
$$

    (: $D := D^{(1)}$),

$$
D \\;=\\; (t_1, t_2, \\dots, t_n), \\qquad n \\;=\\; |D|.
$$

### Corpus   

  $D^{(k)}=(t^{(k)}_1,\\dots,t^{(k)}_{n_k})$ ,  $p_\\Theta$     .

$$
p_\\Theta\\!\\bigl(D^{(k)}\\bigr)
\\;=\\;
p_\\Theta\\!\\bigl(t^{(k)}_{1:n_k}\\bigr)
\\;=\\;
\\prod_{i=1}^{n_k} p_\\Theta\\!\\left(t^{(k)}_i \\mid t^{(k)}_{1:i-1}\\right).
$$

    MLE(=NLL )     .

$$
\\Theta^\\ast=
\\arg\\max_\\Theta \\sum_{k=1}^{N}\\sum_{i=1}^{n_k}
\\log p_\\Theta\\!\\left(t^{(k)}_i \\mid t^{(k)}_{1:i-1}\\right).
$$

###   LLM  :    

     step $F_\\Theta(t_{1:j}) := p_\\Theta(\\cdot \\vert t_{1:j})$         .             .         prior  corpus   .

###   ,    prior  

  () $y = (y_1,\\dots,y_m)$ ,      

$$
p_\\Theta(y \\mid x) = \\prod_{\\ell=1}^{m} p_\\Theta\\!\\left(y_\\ell \\mid x, y_{1:\\ell-1}\\right)
$$

  .  $x$  (, prefix) $t_{1:j}$ .               $y_\\ell$    ,    ()$x$   . 

###    Power of Guidance

 $x=t_{1:j}$   ,     /(,  ,   )    $p_\\Theta(\\cdot\\mid x)$   (mode)   .        $y$      $p_\\Theta(y_\\ell\\mid x,y_{1:\\ell-1})$ ,        .

   1) / , 2)    , 3)  (  )           ,            .

### RAG 

      .   $x$    , prior        .    .      (,    ) ,       Hallucination  .


<div align="center">
    <img src="https://github.com/user-attachments/assets/696e9c30-e544-4571-ad39-32575a93dc15" width="400">
</div>

    ,  LLM      ,       ?              (KMA   ,    API     )         .                  context      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/d855b558-ccb5-4d9b-bb3c-27422536e331" width="700">
</div>

Retrieval Augmented Generation(  )      :  Augmented **   ** .   ImageNet    Task        .         ** **      ,    (Overfitting)          ( ,  rotation,  crop,  etc)  ([ ](https://www.ibm.com/kr-ko/think/topics/data-augmentation)).


<div align="center">
    <img src="https://github.com/user-attachments/assets/3f304c1a-52f4-46f9-8640-7abb13ff862e" width="600">
</div>

   Augmentation             .     LLM        .

  Computer Vision       ,    feature (e.g.  )   .     ,           .


<div align="center">
    <img src="https://github.com/user-attachments/assets/226e596d-c573-48d0-8491-d2e446b34758" width="400">
</div>

     ,  2026 1         2024     ,      2025~2026           ,        .


<div align="center">
    <img src="https://github.com/user-attachments/assets/ced27146-d702-4f50-85ad-2d3d1a859f40" width="400">
</div>

,                ,        .     2026, 2027        ,      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/d83f9a37-d1d3-41f1-a5ff-0b1a33116a47" width="400">
</div>

,        LLM    , 2026, 2027    ,   (    ),            .       ,         .          .  LLM           ,    .             .

  LLM    /   Augmentation  .  LLM             ,            .

LLM   2027        .       ,      .        ERP       .       On-prem           (context)  LLM     .

   , Retrieval()  Augmented()  Generation() .


<div align="center">
    <img src="https://github.com/user-attachments/assets/d50adf8e-1f59-45f6-9f38-26ec6beade67" width="700">
</div>


## LangChain

 LangChain ?   RAG         ()     ,    context engineering      AI  (DB),        .

ChatGPT    .        OpenAI       1   . Google Gimini, xAI Grok .    LLM    Task   .

     ,    Task      ?     ,             .

       .        /   LLM   ,     Retrieval()    .    semantic search     AI    DB , LLM  AI        .

      ,            .            ,                  .

LangChain    .    ,          .        .             . LangChain    . LLM              .

LangChain    .  LLM     (,  ,  , , Agent  RAG)          .


<div align="center">
    <img src="https://github.com/user-attachments/assets/7473ab15-7dda-4c01-a324-b8dd6a6be9f0">
</div>

### LLM (Abstraction)

LangChain   LLM ,    LLM   .              .     UI   .   ,  .       .           .

           ,   low-level (  inode,   ,  ,  ,   ) (OS)      .  \` /  /  / \`       ,          .

LLM       .    ,  ,      .   /     .

-     //  
-     JSON,  ,   ,    
-       , , , , /  
-    RAG(-),  , , ,   .

  LLM     LLM     .  LangChain  LLM (Abstraction)      . LangChain       , **    **   . LangChain Expression Language(LCEL) chain  Runnable   ,    invoke / stream / batch . LLM       .

\`\`\`python
from langchain_openai import ChatOpenAI
from langchain_core.prompts import PromptTemplate
from langchain_core.output_parsers import StrOutputParser

model = ChatOpenAI(model="gpt-4o-mini", temperature=0)
prompt = PromptTemplate.from_template("{topic}   3 .")
chain = prompt | model | StrOutputParser()

# 1) invoke:  
print(chain.invoke({"topic": ""}))

# 2) stream:   
for chunk in chain.stream({"topic": "RAG"}):
    print(chunk, end="", flush=True)

# 3) batch:     (+   )
results = chain.batch(
    [{"topic": "LangChain"}, {"topic": "Vector DB"}, {"topic": "Agent"}],
    config={"max_concurrency": 3},
)
print(results)
\`\`\`

  LangChain   Runnable   . prompt | model | parser      ,            .

- \`PromptTemplate.from_template(...)\`
    - \`{topic}\`      .
    - , \`{"topic": "..."}\`  "  "  .
- \`ChatOpenAI(...)\`
    -  LLM  .
    -     Chat Message   .
- \`StrOutputParser()\`
    -    \`AIMessage\`  ,         .
    - ,       .
- \`chain.invoke(...) / chain.stream(...) / chain.batch(...)\`
    -   LLM       .
    - \`invoke\`:       
    - \`stream\`:   ,  /  
    - \`batch\`:        (  )

 LLM  , LLM      LLM     .

### (Prompt)

LLM     . ChatGPT      AI         :


<div align="center">
    <img src="https://github.com/user-attachments/assets/fad1b954-776b-48bf-9bae-99c693327896" width="700">
</div>

              .      ,     .              .   **LangChain** .       , LangChain  **  ** , (1)   , (2)  , (3)    .  PromptTemplate        .

\`\`\`python
from langchain_core.prompts import PromptTemplate

template = """  /   .
: {question}
: {constraints}

 (JSON):
{{
  "period": "...",
  "programs": ["..."],
  "summary": "..."
}}
"""
prompt = PromptTemplate.from_template(template)

filled = prompt.format(
    question="2022 9~2025     / ",
    constraints="  ,   ,  1 ",
)
print(filled)
\`\`\`

    **    **.  , /     .

- \`template = """ ... {question} ... {constraints} ... """\`
    -     .
    -  JSON  ,       (  ).
- \`prompt = PromptTemplate.from_template(template)\`
    -   LangChain    .
    -  \`format()\`  /  .
- \`prompt.format(...)\`
    - \`{question}\`, \`{constraints}\`      .
    - ,      .

,       LangChain Hub      . Docker hub             .

\`\`\`python
from langchain import hub

# :   hub  (/ )
prompt = hub.pull("teddynote/summary-stuff-documents-korean")
prompt.pretty_print()
\`\`\`

- \`hub.pull(...)\`
    - /     .
    -   ,           .

### (Chains)

 LLM     .  ,    DB    ,           .        :

> 2022 9 2025   ,         .
> 

       DB    ,        \`set\`    ,       LLM     .                .   LLM    , **       ** .  LCEL    .         .

**( 1) RAG  LCEL  **

   , RAG  **   ** ,        .

\`\`\`python
import bs4
from langchain import hub
from langchain_text_splitters import RecursiveCharacterTextSplitter
from langchain_community.document_loaders import WebBaseLoader
from langchain_community.vectorstores import FAISS
from langchain_openai import ChatOpenAI, OpenAIEmbeddings
from langchain_core.output_parsers import StrOutputParser
from langchain_core.runnables import RunnablePassthrough

# 1) Load
url = "https://n.news.naver.com/article/437/0000378416"
loader = WebBaseLoader(
    web_paths=(url,),
    bs_kwargs=dict(
        parse_only=bs4.SoupStrainer(
            "div",
            attrs={"class": ["newsct_article _article_body", "media_end_head_title"]},
        )
    ),
)
docs = loader.load()

# 2) Split
splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=50)
splits = splitter.split_documents(docs)

# 3) Index (Embed + VectorStore)
vectorstore = FAISS.from_documents(splits, OpenAIEmbeddings(model="text-embedding-3-small"))
retriever = vectorstore.as_retriever()

# 4) Generate
prompt = hub.pull("rlm/rag-prompt")
llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)

def format_docs(docs):
    return "

".join(d.page_content for d in docs)

rag_chain = (
    {"context": retriever | format_docs, "question": RunnablePassthrough()}
    | prompt
    | llm
    | StrOutputParser()
)

print(rag_chain.invoke("     ."))
\`\`\`

  RAG   ****  .    .

1.   (\`WebBaseLoader(...).load()\`)
    - URL HTML ,  DOM   Document  .
    -  Document.page_content , metadata URL   .
2. (Chunking) (\`RecursiveCharacterTextSplitter(...).split_documents(docs)\`)
    -   chunk     .
    - \`chunk_overlap\`      (   ).
3. (Embedding + VectorStore) (\`FAISS.from_documents(splits, OpenAIEmbeddings(...))\`)
    -  chunk   , FAISS  .
    - ,        .
4. Retriever  (\`vectorstore.as_retriever()\`)
    -  ,      chunk    .
5. RAG  
    -     .
        - context:   retriever      
        - question:    
    -  (\`| prompt | llm | parser\`) 
        - +    LLM  ,   .

**( 2)        **

   Stuff / Map-Reduce / Refine  , LangChain    .

\`\`\`python
from langchain import hub
from langchain_openai import ChatOpenAI
from langchain.chains.combine_documents import create_stuff_documents_chain
from langchain_community.document_loaders import TextLoader

docs = TextLoader("data/news.txt").load()

prompt = hub.pull("teddynote/summary-stuff-documents-korean")
llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)

stuff_chain = create_stuff_documents_chain(llm, prompt)
print(stuff_chain.invoke({"context": docs}))
\`\`\`

Stuff     **      **   .

- \`docs = TextLoader(...).load()\`
    -    Document  .
- \`prompt = hub.pull(...)\`
    -    (      ).
- \`create_stuff_documents_chain(llm, prompt)\`
    -    :  docs     prompt    LLM     .

,       ,  \`Map-Reduce/Refine\`     .

### (Indexes)

              .   RAG(Retrieval-Augmented Generation) -         ,     . LangChain      ,       :

- Document Loaders( ) :     
- Vector Databases( ) :         
- Text Splitters( ) :       

RAG   ,  (Document Loader)     Chunking(Text Splitters)    (Vector Databases)   RAG     .        RAG        (   Chain      ):


<div align="center">
    <img src="https://github.com/user-attachments/assets/eb7d0199-1d20-47a1-a6a3-37da15eae108" width="700">
</div>

   LangChain    ,      (      /)  .   DB   ,      .

**( 1) Text Splitter (**\`RecursiveCharacterTextSplitter\`**)**

\`\`\`python
from langchain_text_splitters import RecursiveCharacterTextSplitter

splitter = RecursiveCharacterTextSplitter(
    chunk_size=250,
    chunk_overlap=50,
)
chunks = splitter.split_text("... ...")
print(len(chunks), chunks[0][:80])
\`\`\`

- \`RecursiveCharacterTextSplitter(chunk_size=..., chunk_overlap=...)\`
    -    ,    .
    -     ,    \`\\n\\n\`  \`\\n\`            .
- \`split_text(...)\`
    -   chunk  .
    -  chunk  Vector DB    .

**( 2) Embedding (**\`OpenAIEmbeddings\`**)**

\`\`\`python
from langchain_openai import OpenAIEmbeddings

emb = OpenAIEmbeddings(model="text-embedding-3-small")
vec = emb.embed_query("   ")
print(len(vec), vec[:5])
\`\`\`

- \`OpenAIEmbeddings(...).embed_query("...")\`
    -     .
    -        ,    ()  .

**( 3) VectorStore (**\`Chroma / FAISS\`**)**

\`\`\`python
from langchain_community.vectorstores import Chroma
from langchain_openai import OpenAIEmbeddings

# split_docs: splitter.split_documents(...)  
db = Chroma.from_documents(
    documents=split_docs,
    embedding=OpenAIEmbeddings(model="text-embedding-3-small"),
    collection_name="my_db",
    persist_directory="./chroma_db",  #    
)
\`\`\`

- \`Chroma.from_documents(documents=..., embedding=..., ...)\`
    -   :   chunk  embedding     +   +   .
- \`persist_directory\`
    -   (  ).
    -       .

    DB  ,   \`as_retriever()\`   ,  \`retriever\`    (  ).

###  (Memory)

     .    LLM             ,       .        LangChain    . 

    ,    .

1.     ( UX)
2.     (// RAG)

LangChain    .

**( 1)** \`ConversationBufferMemory\`**(   )**

\`\`\`python
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory(
    memory_key="chat_history",
    return_messages=True,
)

# 
memory.save_context({"input": "     "}, {"output": ",   ?"})

# 
print(memory.load_memory_variables({})["chat_history"])
\`\`\`

- \`ConversationBufferMemory(return_messages=True)\`
    -        .
    - \`return_messages=True\`   \`Message\`   .
- \`save_context({"input": ...}, {"output": ...})\`
    -  /    .
- \`load_memory_variables({})\`
    -    \`{"chat_history": ...}\`  .
    -   \`chat_history\`          .

**( 2) LCEL    (**\`RunnablePassthrough.assign\`**)**
        \`RunnablePassthrough.assign(...)\`. 

\`\`\`python
from operator import itemgetter
from langchain_core.runnables import RunnableLambda, RunnablePassthrough

# memory.load_memory_variables({}) -> {"chat_history": ...}   
runnable = RunnablePassthrough.assign(
    chat_history=RunnableLambda(memory.load_memory_variables) | itemgetter("chat_history")
)

print(runnable.invoke({"input": "hi"}))
\`\`\`

- \`RunnableLambda(memory.load_memory_variables)\`
    -     .
- \`itemgetter("chat_history")\`
    -   \`chat_history\` .
- \`RunnablePassthrough.assign(chat_history=...)\`
    -  (\`dict\`) \`chat_history\`  .
    - ,      \`input + chat_history\` .

  , / \`chat_history\`      .

**( 3)** \`VectorStoreRetrieverMemory\` **(/  )**

\`\`\`python
from langchain.memory import VectorStoreRetrieverMemory

# retriever: vectorstore.as_retriever()   retriever  
memory = VectorStoreRetrieverMemory(retriever=retriever, memory_key="history")

memory.save_context({"input": "     "}, {"output": "OK, //  "})
print(memory.load_memory_variables({"prompt": "   "})["history"])
\`\`\`

     ,       .

- \`VectorStoreRetrieverMemory(retriever=...)\`
    -     /     ,       .
- \`save_context(...)\`
    -     .
- \`load_memory_variables({"prompt": ...})\`
    -       history .

,        .

###  (Agents)

  OpenAI GPT API, Claude         .     ,       ,            .

**( 1) Tool  +** \`bind_tools\`**    **

\`\`\`python
from langchain.agents import tool
from langchain_openai import ChatOpenAI

@tool
def get_word_length(word: str) -> int:
    """Returns the length of a word."""
    return len(word)

tools = [get_word_length]

llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)
llm_with_tools = llm.bind_tools(tools)

#   tool_calls 
print(llm_with_tools.invoke("What is the length of the word 'teddynote'?").tool_calls)
\`\`\`

- \`@tool\` 
    -   (,  ) , LLM   API  .
- \`llm.bind_tools(tools)\`
    -    ,      .
    -     ,  tool call     .
- \`.invoke(...)\`  \`tool_calls\`
    -         .
    - ,       .

**( 2)** \`create_tool_calling_agent + AgentExecutor\`**   **

\`\`\`python
from langchain_core.prompts import ChatPromptTemplate
from langchain.agents import create_tool_calling_agent, AgentExecutor
from langchain_openai import ChatOpenAI

prompt = ChatPromptTemplate.from_messages(
    [
        ("system", "You are a helpful assistant. Use tools when needed."),
        ("human", "{input}"),
        ("placeholder", "{agent_scratchpad}"),
    ]
)

llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)

agent = create_tool_calling_agent(llm, tools, prompt)

agent_executor = AgentExecutor(
    agent=agent,
    tools=tools,
    verbose=True,
    max_iterations=10,
    max_execution_time=10,
    handle_parsing_errors=True,
)

result = agent_executor.invoke({"input": " teddynote  "})
print(result["output"])
\`\`\`

  .     .

1.   
2. LLM   :  ,  
3.      
4.    LLM 
5.    .

  ,

- \`ChatPromptTemplate.from_messages([... , ("placeholder","{agent_scratchpad}")])\`
    - \`agent_scratchpad\`      /  .
    -    LLM         .
- \`create_tool_calling_agent(llm, tools, prompt)\`
    -    LLM +     .
- \`AgentExecutor(...)\`
    -   ( ,  ,  ) .
    - \`max_iterations\`, \`max_execution_time\`  /  .
- \`.invoke({"input": ...})\`
    -   ,    LLM  +     .
    -  output   .

### Chains vs Agents,   ?

     .  DB ,  DB  Retrieval   LLM()   ,          Chain   .          Agent tool     .  LangChain \`Chain, Agent\`    ?           ,   .

- **Chains   **
  ( )   (  )  //     .       ,       .
- **Agents   **
          (  ,      )        (/DB///)         ,    LLM    .
`,xne=`---
title: "(Deepseek)-R1  . Thinking about Deepseek-R1 with Reinforcement Learning(RL)."
category: "personal insights"
publishedAt: "2025-02-02"
thumbnail: "https://github.com/user-attachments/assets/6a26b68f-b36b-4c1b-9ce6-46be674a1e9b"
---

# A Little Bit Personal

###    

   .       ,           .
 AI    ,              task     .  AI              .


<div align="center">
    <img src="https://github.com/user-attachments/assets/dd47382a-4d38-4641-91a5-e4ad2bfb7619" width="372" />
    <img src="https://github.com/user-attachments/assets/6a26b68f-b36b-4c1b-9ce6-46be674a1e9b" width="278" />
</div>


                .                    .         ,  ,           .         R1        .

        ,         .         scaling law     .        closed/opened source AI       .            .      ,   Human Resource(AI Engineer) ,       . Explainability scalability   scalability    .       ,    task    .

      <u>       ?</u>.            ,     OpenAI        .              .

    .       ,      . 

# Preliminary

###   

      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/6550fd4d-bd7d-4d99-93f8-6733bb71f204" width="500" />
</div>


 ,  LLM     LLM    <u>   </u>  .            .

  <u>    </u>.   Reward() .        Environment()      <u>      </u>.

### Policy based method 

   Value based method         .       Action()   Value() ,   greedy       .          Policy().  <u>    </u>   <u>DQN(Deep Q-Network)</u>.

 Value function  Q-Network       Reward     <u>action-value function Q</u>     (  ).


<div align="center">
    <img src="https://github.com/user-attachments/assets/e1aabcad-72fd-4197-a0dd-9a67c71b7441" width="700" />
</div>


            <u>    </u>  <u>      </u>  . ,                  Policy,          .     Discrete   .         ,         Policy  .      <u>Policy Gradient</u>.

     .   objective function empirical  deep learning  ,     Episode              .           ,   <u>    </u>        .   $\\theta$    $\\pi_\\theta(\\cdot)$   .     state $s$      $a$      .

     (Policy)      /    reward       ,    <u>policy gradient</u> .

 policy gradient    .   reward function  gradient  ($\\pi_\\theta$)     ,          state $s$      . ,   ,      state $s$   $\\theta$     gradient     .         <u>policy gradient theorem</u>       .

$$
\\text{  gradient   gradient .}
$$
    .

$$
\\nabla_{\\theta} J(\\theta) = \\nabla_{\\theta} \\sum_{s \\in \\mathcal{S}} d^{\\pi}(s) \\sum_{a \\in \\mathcal{A}} Q^{\\pi}(s,a) \\pi_{\\theta}(a|s) \\
\\propto \\sum_{s \\in \\mathcal{S}} d^{\\pi}(s) \\sum_{a \\in \\mathcal{A}} Q^{\\pi}(s,a) \\nabla_{\\theta} \\pi_{\\theta}(a|s)
$$

  state  ,       Value ( ) .   <u>  state value function</u>  gradient   .

$$
\\begin{aligned}    \\nabla_{\\theta} V^{\\pi}(s) &= \\nabla_{\\theta} \\left( \\sum_{a \\in \\mathcal{A}} \\pi_{\\theta}(a|s) Q^{\\pi}(s, a) \\right) \\newline    &= \\sum_{a \\in \\mathcal{A}} \\left( \\nabla_{\\theta} \\pi_{\\theta}(a|s) Q^{\\pi}(s, a) + \\pi_{\\theta}(a|s) \\nabla_{\\theta} Q^{\\pi}(s, a) \\right) \\newline    &= \\sum_{a \\in \\mathcal{A}} \\left( \\nabla_{\\theta} \\pi_{\\theta}(a|s) Q^{\\pi}(s, a) + \\pi_{\\theta}(a|s) \\nabla_{\\theta} \\sum_{s', r} P(s', r | s, a) (r + V^{\\pi}(s')) \\right) \\newline    &= \\sum_{a \\in \\mathcal{A}} \\left( \\nabla_{\\theta} \\pi_{\\theta}(a|s) Q^{\\pi}(s, a) + \\pi_{\\theta}(a|s) \\sum_{s', r} P(s', r | s, a) \\nabla_{\\theta} V^{\\pi}(s') \\right) \\newline    &= \\sum_{a \\in \\mathcal{A}} \\left( \\nabla_{\\theta} \\pi_{\\theta}(a|s) Q^{\\pi}(s, a) + \\pi_{\\theta}(a|s) \\sum_{s'} P(s' | s, a) \\nabla_{\\theta} V^{\\pi}(s') \\right)\\end{aligned}
$$

,    gradient product rule  .    $Q^\\pi$ <u>    </u>  .     $P$ Markov decision process(MDP)     ,  state $s$   state     .         $\\theta$  .   term  gradient      ,  $P(s^\\prime, r \\vert s, a)$ $r$  marginalize   .   , <u> state value function gradient  state value function recursive  </u>.    $\\nabla_\\theta V^\\pi (s^\\prime)$   state $\\nabla_\\theta V^\\pi (s^{\\prime\\prime})$ recursive  .    unrolling(recursive $s^\\infty$ ) . 

  $\\rho$ policy function $\\pi$  $k$ step   state     .

$$
\\begin{aligned}
    \\nabla_{\\theta} V^{\\pi}(s) &= \\phi(s) + \\sum_{a} \\pi_{\\theta}(a|s) \\sum_{s'} P(s'|s,a) \\nabla_{\\theta} V^{\\pi}(s') \\newline
    &= \\phi(s) + \\sum_{s'} \\sum_{a} \\pi_{\\theta}(a|s) P(s'|s,a) \\nabla_{\\theta} V^{\\pi}(s') \\newline
    &= \\phi(s) + \\sum_{s'} \\rho^{\\pi}(s \\to s', 1) \\nabla_{\\theta} V^{\\pi}(s') \\newline
    &= \\phi(s) + \\sum_{s'} \\rho^{\\pi}(s \\to s', 1) \\sum_{a \\in \\mathcal{A}} \\left( \\nabla_{\\theta} \\pi_{\\theta}(a|s') Q^{\\pi}(s', a) + \\pi_{\\theta}(a|s') \\sum_{s''} P(s''|s', a) \\nabla_{\\theta} V^{\\pi}(s'') \\right) \\newline
    &= \\phi(s) + \\sum_{s'} \\rho^{\\pi}(s \\to s', 1) \\left( \\phi(s') + \\sum_{s''} \\rho^{\\pi}(s' \\to s'', 1) \\nabla_{\\theta} V^{\\pi}(s'') \\right) \\newline
    &= \\phi(s) + \\sum_{s'} \\rho^{\\pi}(s \\to s', 1) \\phi(s') + \\sum_{s''} \\rho^{\\pi}(s \\to s'', 2) \\nabla_{\\theta} V^{\\pi}(s'') \\quad \\newline
    &= \\phi(s) + \\sum_{s'} \\rho^{\\pi}(s \\to s', 1) \\phi(s') + \\sum_{s''} \\rho^{\\pi}(s \\to s'', 2) \\phi(s'') + \\sum_{s'''} \\rho^{\\pi}(s \\to s''', 3) \\nabla_{\\theta} V^{\\pi}(s''') \\newline
    &= \\dots \\newline
    &= \\sum_{x \\in \\mathcal{S}} \\sum_{k=0}^{\\infty} \\rho^{\\pi}(s \\to x, k) \\phi(x)
\\end{aligned}
$$

  state  state $x \\in \\mathcal{S}$   MDP .    state         .

$$
\\begin{aligned}  \\nabla_{\\theta} J(\\theta) &= \\nabla_{\\theta} V^{\\pi}(s_0) \\newline  &= \\sum_s \\sum_{k=0}^{\\infty} \\rho^{\\pi}(s_0 \\to s, k) \\phi(s) \\newline  &= \\sum_s \\eta(s) \\phi(s) \\newline  &= \\left( \\sum_s \\eta(s) \\right) \\sum_s \\frac{\\eta(s)}{\\sum_s \\eta(s)} \\phi(s) \\newline  &\\propto \\sum_s \\frac{\\eta(s)}{\\sum_s \\eta(s)} \\phi(s) \\newline  &= \\sum_s d^{\\pi}(s) \\sum_a \\nabla_{\\theta} \\pi_{\\theta} (a | s) Q^{\\pi}(s, a)\\end{aligned}
$$

  <u>  gradient </u>  <u>  gradient </u>    .

### TRPO to PPO

   policy gradient   .     LLM    policy gradient    ,     -R1     . TRPO PPO  [PPO](https://arxiv.org/pdf/1707.06347)   (**OpenAI  **), TRPO     <u>TRPO</u>(**   **)       . TRPO    .    TRPO          .        ?

Policy gradient   .       .              .           .          .

     ,          .     Policy    ,         .

Optimal solution      .  state   0      0         Policy     .   policy($\\tilde{\\pi}$)   state, action($s, a$)  advantage($Q^\\pi$) 0     .        Objective   .

$$
L(\\tilde{\\pi}) = \\eta (\\pi) + \\sum_s d^\\pi (s) \\sum_a \\tilde{\\pi}(a \\vert s) Q^\\pi(s, a).
$$

 state  density ($d^{\\tilde{\\pi}}$)   .     ( : $\\theta_0$)   Locally    $\\Delta \\pi$  gradient     , step size     .  gradient   , step size      .          ,      .

    policy  policy $\\alpha$ mixing  lower bound .   $\\alpha$  task   , $\\pi$ $\\tilde{\\pi}$      ($\\alpha =D_{\\text{metric}}(\\pi \\vert \\tilde{\\pi})$ )  .   KL divergence      .     $\\alpha$  constraints  $L$  (Objective),  $\\theta$   Approximation ,   <u>Hessian(2 )  </u>.       <u>Fisher Information Matrix</u> , Gradient  Empirical  Hessian    . TRPO $k=10$   ,   Policy gradient    .

PPO TRPO       . TRPO constraint KL divergence  2 ( surrogate objective ) 1       . PPO    surrogate objective old/new policy      ($1-\\epsilon$, $1+\\epsilon$).   TRPO constraints $2^{nd}$ order differentiation $\\pi \\simeq \\tilde{\\pi}$      Hessian  clipping    .

 PPO/TRPO  Q-function Advantage function $A$ ,        GRPO   .


<div align="center">
    <img src="https://github.com/user-attachments/assets/7d8f485e-6b43-496b-a4a1-06e97adec7fe" width="700">
</div>


### GRPO

            , RLHF PPO     .  PPO  GRPO      ,          distillation  . GRPO [DeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models](https://arxiv.org/pdf/2402.03300)    .   <u>Deepseek Language model      </u> .

$$
\\mathcal{J}_{PPO}(\\theta) = \\mathbb{E} \\left( q \\sim P(Q), o \\sim \\pi_{\\theta_{\\text{old}}} (O | q) \\right) \\frac{1}{|o|} \\sum_{t=1}^{|o|} \\min \\left( \\frac{\\pi_{\\theta} (o_t | q, o_{<t})}{\\pi_{\\theta_{\\text{old}}} (o_t | q, o_{<t})} A_t, \\text{clip} \\left( \\frac{\\pi_{\\theta} (o_t | q, o_{<t})}{\\pi_{\\theta_{\\text{old}}} (o_t | q, o_{<t})}, 1 - \\epsilon, 1 + \\epsilon \\right) A_t \\right).
$$

LLM   PPO     .                 .     policy model  notation    .    $\\theta_\\text{old}$   $\\theta$. $q, o$ question dataset  , old policy output (    LLM  ).  PPO clipping      .    Advantage  , <u> Advantage function estimator   </u>( state   $k$  bias/variance trade-off, $k$   variance , $k$   bias  )     Generalized Advantage Estimator(GAE)  .   , estimator   .

$$
\\begin{aligned}  \\hat{A}_t^{(1)} &= r_t + \\gamma V(s_{t+1}) - V(s_t) \\newline  \\hat{A}_t^{(2)} &= r_t + \\gamma r_{t+1} + \\gamma^2 V(s_{t+2}) - V(s_t) \\newline  &\\quad \\vdots = \\vdots \\newline  \\hat{A}_t^{(\\infty)} &= r_t + \\gamma r_{t+1} + \\gamma^2 r_{t+2} + \\cdots - V(s_t)\\end{aligned}
$$

 policy  state    . Value  function $V$      .  policy   value      <u>actor-critic model</u> . , time step+1  time step+$k$    .   discounting value $\\gamma$   estimator         state     ,  <u>policy  value     </u>.   Advantage Function  .

 $k$   $A_t^{(k)}$    ,  $k$       .  <u>    </u>.     (state    )  ,  $r_k$         .        . , $V(s_t)$         ,      $k-step$ return  (  trade-off  ).

  GAE <u>       </u>.  estimator  trade-off <u>$\\lambda$  </u>.

$$
\\begin{aligned}  \\hat{A}_t^{GAE(\\gamma, \\lambda)}  &= (1 - \\lambda) \\left( \\hat{A}_t^{(1)} + \\lambda \\hat{A}_t^{(2)} + \\lambda^2 \\hat{A}_t^{(3)} + \\cdots \\right) \\newline  &= (1 - \\lambda) \\left( \\delta_t^V + \\lambda (\\delta_t^V + \\gamma \\delta_{t+1}^V) + \\lambda^2 (\\delta_t^V + \\gamma \\delta_{t+1}^V + \\gamma^2 \\delta_{t+2}^V) + \\cdots \\right) \\newline  &= (1 - \\lambda) \\left( \\delta_t^V (1 + \\lambda + \\lambda^2 + \\cdots) + \\gamma \\delta_{t+1}^V (\\lambda + \\lambda^2 + \\cdots) + \\cdots \\right) \\newline  &= (1 - \\lambda) \\left( \\delta_t^V \\frac{1}{1 - \\lambda} + \\gamma \\delta_{t+1}^V \\frac{\\lambda}{1 - \\lambda} + \\cdots \\right) \\newline  &= \\sum_{l=0}^{\\infty} (\\gamma \\lambda)^l \\delta_{t+l}^V\\end{aligned}
$$

   GAE, PPO       .     . Value model Policy model    <u>output    </u>,  Policy model    .  PPO reward model      <u>KL penalty</u>  . Reference model     SFT(Supervised Fine-tuned)   ,     output SFT             <u>        </u> . 

$$
r_t = r_{\\varphi} (q, o_{\\leq t}) - \\beta \\log \\frac{\\pi_{\\theta} (o_t | q, o_{<t})}{\\pi_{\\text{ref}} (o_t | q, o_{<t})}
$$


<div align="center">
    <img src="https://github.com/user-attachments/assets/d856b251-e24a-4a8b-a5bb-f9d5cad93d63" width="800"/>
</div>


  GRPO        ,  KL divergence .   KL penalty   . PPO     ,    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/bab0ba17-d682-4ba3-88dd-d4b9b237a8f0" width="800"/>
</div>


- PPO  GRPO  Value Model  .      .
-  Value Model     GAE    ,    advantage function $A$  .
-    TR     .    ($q$)   output $o_{1 \\ldots G}$  .
-            Objective  .
-  reward   output .
- Reward model  $\\{r_1, r_2, \\cdots, r_G\\}$   reward normalize .    $q/o$  bias/variance(GAE   )   .
- KL divergence    Unbiased Estimator .

, Value function   <u> GAE  Reward grouped output </u> trade-off  , KL divergence    .

$$
\\mathcal{J}_{GRPO}(\\theta) = \\mathbb{E} \\left( q \\sim P(Q), \\{o_i\\}_{i=1}^{G} \\sim \\pi_{\\theta_{\\text{old}}} (O | q) \\right) \\
\\frac{1}{G} \\sum_{i=1}^{G} \\left( \\min \\left( \\frac{\\pi_{\\theta} (o_i | q)}{\\pi_{\\theta_{\\text{old}}} (o_i | q)} A_i,
\\text{clip} \\left( \\frac{\\pi_{\\theta} (o_i | q)}{\\pi_{\\theta_{\\text{old}}} (o_i | q)}, 1 - \\epsilon, 1 + \\epsilon \\right) A_i \\right) - \\beta \\mathbb{D}_{KL} (\\pi{\\theta} \\| \\pi_{\\text{ref}}) \\right)
$$

  KL divergence :

$$
\\mathbb{D}_{KL} (\\pi_{\\theta} \\| \\pi_{\\text{ref}}) =
  \\frac{\\pi_{\\text{ref}} (o_i | q)}{\\pi_{\\theta} (o_i | q)} - \\log \\frac{\\pi_{\\text{ref}} (o_i | q)}{\\pi_{\\theta} (o_i | q)} - 1.
$$

      :

$$
A_i = \\frac{r_i - \\operatorname{mean} (\\{r_1, r_2, \\dots, r_G\\})}{\\operatorname{std} (\\{r_1, r_2, \\dots, r_G\\})}.
$$

# Methods / Approaches

### Deepseek-R1 Zero 

 <u>DeepSeek-V3-Base  </u> , <u>GRPO    </u>  .            .      demonstration  .    , LLM     o1  /     ,  LLM      . Deepseek-R1 Ollama      ,  output            .    (M3) ,   deepseek-r1:14b   distillation        . Deepseek-R1:14B  LLM system     .     R1-Zero .     .


<div align="center">
    <img src="https://github.com/user-attachments/assets/90bec77e-aa06-414c-b27d-d284155c3017" width="962"/>
</div>


      <think> ~ </think>  ,         ( distill      ).    <u>  </u> .


<div align="center">
    <img src="https://github.com/user-attachments/assets/4138fb52-5867-4c76-b1d0-a7a9b57393a7" width="962"/>
</div>


 o1 o3      ,  <u>         </u>.   R1-Zero Reward modeling     .       , Deepseek-R1-Zero  Rule-based method (blackbox      ) .      .            . 

- ** :**      .  ,      ,      ,         . , LeetCode ()  ,           .
- ** :**    ,        <think>  </think>    .

###  

     <u> </u> .        .         ,     (  think    )   (    )       ( ).


<div align="center">
    <img src="https://github.com/user-attachments/assets/6d402966-6b49-41f9-84c7-85ff98a1cdd1" width="400">
    <img src="https://github.com/user-attachments/assets/d12ecda9-385d-4cc7-8088-115948d2feb8" width="400">
</div>


  LLM      .       reward         o1    .

### Deepseek-R1 

   <u>   </u>. LLM   task ,  step   ?
Deepseek-R1-Zero              .      .

1.       .     high-quality data(  )      ? (R1-Zero   )
2.        ,     CoT         ? (R1-Zero    )

   Cold Start  . RL  DeepSeek-V3-Base     ,    CoT  question/answer       fine-tuning    .         RL     <u>  curating </u> ,    $8\\times 10^5$.

 Cold Start    RL  language mixing  ,             (, ,   )   .

 DeepSeek     <u>         </u> ,      .         RL training   reward language consistency  .          LLM       DeepSeek .

### Distilled Model

Distillation         .


<div align="center">
    <img src="https://github.com/user-attachments/assets/ff9a3f7a-6fed-4b27-a4db-387c70fbe13a" width="700"/>
</div>


 Cold Start     Llama, Qwen   ,  RL    SFT  .  <u>  RL  , R1      </u>. **   **.  RL      .


<div align="center">
    <img src="https://github.com/user-attachments/assets/fb023b85-5ec8-41c2-bf82-79eae2310a2e" width="700"/>
</div>


  LLM                   .

#  
DeepSeek . OpenAI .       .                   .
`,_ne=`---
title: "Limitations in AI"
category: "personal insights"
publishedAt: "2025-10-19"
thumbnail: "https://github.com/user-attachments/assets/52bf9796-774f-480a-ae44-1265c553f43c"
---

# 

AI            .           ,       .
    AI         ,    AI          .
AI     ,         .

> "   ?", "     ?", "       ?"
> 

              ,        .
              .

# AI  

###  

      .
    AI     AI ,         .
          : (1)  AI      . (2)  AI     .

<div align="center">
    <img src="https://github.com/user-attachments/assets/de882a82-84e4-4f3c-932f-b2b33647b2f5" width="">
</div>

                .
       ;

   AI    rule-based      ,        .

###     

      AI .              .
  AI        . /    .     AI        .

         ?    ,       .  AI      ,      .
                  .
       /             .

         .    AI   AI TF    ,           .
         ?   .

### Small / Big AI  

 [AI Festa](https://aifesta.kr/)  .   AI      ,          :

(1)    Small AI  (e.g. , , , , ... ) (2)    Big AI  (e.g. ,  , / , ... )
(1)      , B2C         B2B   .     AI    ,         AI       .
 (2)          .  LLM/VLM  ,  AI SaaS   API      .
 /     .

(1) Small AI            , AI             .                   .
         AI       ,    ROI      .   ,                .

(2) Big AI     . AI             .                  .
      .  B2B   AI       ,  API     .  B2C          ,        .
     , ChatGPT, Claude, Gemini          .   LLM/VLM    /              task  . 
            ,          .
     AI     ,               .

###    

AI             .
        ,        .
        ,  AI        .
       LLM/VLM      .
Transformer          .           .
          ,            .

# AI    .

>     .        ,       .      .
>           ,       AI     .
>

<div align="center">
    <img src="https://github.com/user-attachments/assets/5e10fce5-4f0b-47be-b86b-238a544e8bd6" width="400">
</div>

AI     empirical()   ,     Task          .
      100% AI     .
       .              .
  AI             /         AI   .
  AI     ?  .       .

1)       .
2)    ,       .
3)        , ML        .

2025 10         ,             .      .
         (Causality) ,   .   2025 10     , 2025 11        .
 ML    ,             (   ).
      ,      100%      .

 AI          .        .     95% AI ,          ,  100%  rule-based    .
 LLM  ,                 QC      .        (e.g.    82%  90%  )     .
**AI         .**     AI     .  AI              ,    AI    .

# 

  LLM/VLM    ,             .
(?) GPT-5  , GPT-4o GPT-o3        .
      ( ),        .
   AI         .

<div align="center">
    <img src="https://github.com/user-attachments/assets/525714e3-0c91-428c-b9aa-cb726ffce5f6" width="800">
</div>

AI agent   AI      .         ,        , AI        .
    ,      ,          .   30           .      .
     ,               .      task  ,                .
       ,     AI           .                .

  (Andrej Karpathy) [  ](https://www.youtube.com/watch?v=lXUZvyajciY)    .

<div align="center">
    <img src="https://github.com/user-attachments/assets/0c4f9f83-f927-48dd-9459-a5150afe5f92" width="800">
</div>

    AGI     ,          .
    , AI                   ,            .
  RL         .
      ,   :

<div align="center">
    <img src="https://github.com/user-attachments/assets/6204c5ba-9267-4ef6-81a9-a232e22ad1ee" width="800">
</div>

 RL            (RL is terrible. It just so happens that everything that we had before it is much worse).

`,wne=`---
title: "     Disentanglement      "
category: "personal insights"
publishedAt: "2025-07-10"
thumbnail: "https://github.com/user-attachments/assets/eba54253-b1d3-4323-9b7e-a3dc34df85e8"
---

# Disentanglement 

     representation space    ,   latent vector         .

           latent    ,          .

   ,       ,              ,          .


<div align="center">
    <img src="https://github.com/user-attachments/assets/d020085c-ae56-4a76-8da8-d01659ffda73", alt="Image" width="500">
</div>


 ,    \`\`                       \` \`   ,         **latent     **.

 Attention module Activation function  non-linearity            disentanglement(    ) representation learning  ,       task  .

#    ?

 disentanglement      ,   latent space      .     ,         .  Multivariate Gaussian.

### Multivariate Gaussian 

$k$   $\\mathcal{N}(\\mu, \\Sigma)$ 

$$
f(\\rm{x}) = \\frac{1}{(2\\pi)^{\\it{k}/2} \\vert \\Sigma \\vert^{1/2}} \\exp \\left[ -\\frac{1}{2} (\\rm{x}-\\mu)^\\top \\Sigma^{-1} (\\rm{x}-\\mu)\\right].
$$

, $\\Sigma$ positive-definite  .

###   

 $\\Sigma = diag(\\sigma_1^2, \\ldots, \\sigma_k^2)$    .

$$
f(\\rm{x}) = \\prod_{\\it{i}=1}^{\\it{k}} \\frac{1}{\\sqrt{2\\pi}\\sigma_{\\it{i}}} \\exp \\left[ -\\frac{(x_{\\it{i}} -\\mu_{\\it{i}})^2}{2\\sigma_{\\it{i}}^2} \\right] = \\prod_{\\it{i}=1}^{\\it{k}} \\it{f}(x_{\\it{i}}).
$$

      1     ,      .

###     

      .                . ,               .          $\\mathcal{N}(0, I)$    (   1 Identity Matrix),          .

# Multivariate Gaussian    

            .

### VAE  

 $q_\\phi(z\\vert x)$ , Multivariate Gaussian prior KL(KullbackLeibler divergence) divergence  ELBO  .

### GAN (implicit) + Gaussian $z$

Generator $G_\\theta(z)$, $z\\sim \\mathcal{N}(0,I)$, discriminator   (  )

### Normalizing Flow (NF)

 base distribution $u\\sim \\mathcal{N}(0,I)$   $f_\\theta$  .

### Diffusion / Score-based

(Forward Process)  to   $q( x_t \\vert x_0 )$, (Reverse process)  $p_\\theta( x_{t-1}\\vert x_t )$  denoise. Diffusion stochastic differential equation(SDE) .

### Diffusion Prior (Cross-modal)

(CLIP text $t$)  ( )  CLIP image $z$    diffusion.   $z$    . Multimodal latent mapping (e.g. DALL-E 2 diffusion prior).    3D(Voxel)   latent mapping    .

### Flow matching

 $t \\in [0,1]$ SDE  ODE  $\\mathcal{N}$ to data     (e.g. Consistency Models)

#  Diffusion Prior ?

    ,         .   2025    SEED   .   4          ,      Task .
  forward process        , disentanglement  many to many mapping / one to many mapping   .

<div align="center">
    <img width="2198" height="1120" alt="Image" src="https://github.com/user-attachments/assets/64bbe1c3-1177-48cf-83f3-7f4c8ba03f8c" />
</div>


      embedding    ** robust  ** ,                      .      clean speaker   noisy speaker    consistency   ,     diffusion model       .

###    

           .  , ,  ,         ,             .

           .           .              .

###   ?

       . STT         .                .   \`entangled\`   ,                 .


<div align="center">
    <img width="415" height="658" alt="Image" src="https://github.com/user-attachments/assets/eff664c1-0910-4470-92cf-32f771b1ff61" />
</div>


###  

,    explicit                  .

        augmentation        ,           disentanglement    .

Diffusion           ,   forward process       reverse process          .


<div align="center">
    <img width="767" height="834" alt="Image" src="https://github.com/user-attachments/assets/9e8c00d1-5c92-4267-9e77-0f6bca0cba4b" />
</div>


#    disentanglement .

>  embedding system       ?        .
> 

     disentanglement .       disentanglement  ?              ?

###     

Isotropic   ()   $0$   ,     ** ** (, ,  )   .

$\\beta-$VAE, Factor VAE  KL   $q(z|x)$ $\\mathcal{N}(0, I)$           (e.g. )        .

### -(Information preference) 

KL divergence         (reconstruction)              .

   latent space   (\`entanglement\`  \`omission\`)   \`collapse\`    .

###   (shell) 

  $d$ 100     $\\mathcal{N}(0, I)$    $\\vert\\vert z \\vert\\vert = \\sqrt{d}$     .     ,       ,         .

###  (hypersphere) 

, ,          \`L2\`- ** **   /  +  (ArcFace, SphereFace ) .
     , Angular margin        .

###   &  

 (CLIP, - )   (Contrastive Learning)      modality   .
    ** **(positive vs. negative),    .  Divergence            .

###   Alignment   

Disentanglement   ,  disentangle latent controllability  (explainability)   ,  latent   downstream task     .

# Disentanglement

DRL      $z_1,\\dots,z_k$    .   $\\beta-$VAE, **FactorVAE**  total correlation    latent distribution axis   .  Locatello et al. [ ](https://arxiv.org/abs/1811.12359?utm_source=chatgpt.com)   (label)  **  **    .

  VAE   $x$  $z$ **  ( ) **( )   ,     $z$          . Locatello       Unsupervised    .

    **-** almost invertible, **** Global Optimal** **  .     , optimizer, data bias      ,      . Non-linear ICA ****      .    Supervising  (  explicit   ) Disentangle    .

 CausalVAE, ICM-VAE       $z_i\\rightarrow z_j$   **  ** VAE    .  Weakly Supervision ,    (additive noise)   .

         Temporal Coherence .
          latent disentangle .

# 

        disentangle       .

              ,       .          .

  disentanglement         . , ,         **(**positive/negative**)   **. $L2-$         .

  , controllability           AI        .        ..
`,$ne=`---
title: "  ? - 1 "
category: "personal insights"
publishedAt: "2025-11-15"
thumbnail: "https://github.com/user-attachments/assets/62c03f10-902b-42dd-893f-dc3844b02b83"
---

    1  . AI       **    ** ,           .

 1    ,           .   1   ,      .

# 1   

 1   ,      .    ,         .

1. **       .**
    
       ,          .
    
2. **   ,       .**
    
        ,  ,  ,     .
    
3. **  ,        .**
    
                 .
    
4. **      .**
    
         ,      .

   , 1    *   ?*         AI    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/98fd5f09-8935-42b1-bb7e-c2dd298d3fef" width="600">
</div>


   ,       .     .

       ,     .

#    

              .     **research  **   .              ,        .  .         .

               .    ,      ,      .

    .            .       , **    **, ** **, **  **   .

AI          \`\`\`conda\`\`\`.  \`\`\`conda\`\`\`  ,     .    ,           .       **   **    ,    .

###         .

AI     .    ,         .      ,               .      ,  ,       ,         .

> AI    ,       ?
> 

   .      (non-normalized data)    .    ,      ,      .            ,            .     .

      ,    ,   API      GPU **  **       .

SaaS(Software as a Service)  AI   Gradio      .           AI   .   ,   ,    ,      .         .

    ,       .          , **       **      .

#   .       .

  ,         . Video Understanding, Video/Image VLM, Temporal Grounding, Video Dense Captioning, Video Diffusion, Video Inpainting          .  , **         **,     task   task  **   **  .  , Image Inpainting Video Inpainting    .

Image Inpainting        ,     ** ** .        **Generative   **,  Diffusion     .

, Video Inpainting         .       ,     (temporal consistency)   .       ,  **Temporal-attentive     **.      Diffusion  generative    ,       .

              .    **    **    ,       task    .


<div align="center">
    <img src="https://github.com/user-attachments/assets/167800c3-6f43-4ba8-b5c8-2829ce56f086" width="1200">
</div>


#    (?)  .

        ,          .          ,      .

   **AI     **    .       ,             .

 ,   **     **,           ,  **      ** .             , GPU       .

  ,    API     **        **,         .       ,      **  **    .

# ,    ?

 1 ,        . AI      ,    **    ** .         ,       .    AI    ?

  **    AI   **,   **    ** AI   .   ,  AI          ,      .

             .    LLM    **    ** .   , AI              .      ,  ,         .

             .   ,      ,      .    AI      .

# 

, AI      ,              .        ,    .            .

    ,       .    AI      ,          B2B   .   ,    ,           .

 , AGI           .  AI         .             ,         . AI        .

  1, AI                 .   ,              .
`,Ene=`---
title: "AI service    "
category: "personal insights"
publishedAt: "2025-12-17"
thumbnail: "https://github.com/user-attachments/assets/7400fd9f-5997-4b2a-9d50-6c30ec73f46b"
---

# AI     

     .      SI  SaaS     .       .          .

1.       
2.        

     .       AI  . AI        .       .

AI           .        MCP(Model Context Protocol)   .          A2A(Agent to Agent)  .

   .            .              .

 AI    . AI         MLOps  . GPU     API   .           .       .

     .             .


# AI   

AI       AI     .   AI    .        .                  .  AI            .       .

AI    .       .        .   .

### 1)   (Subscription / Seat-based)

      .        .   OTT  . B2C  ChatGPT Plus, Claude Pro, Gemini Advanced, Perplexity Pro, Midjourney . B2B  Microsoft 365 Copilot, GitHub Copilot Business, Grammarly Business, DeepL Pro, Notion  .

### 2)  +    (Subscription + Quota/Credits)

    .     .         .  Runway, Pika, ElevenLabs, Adobe, Canva .

### 3)     (Top-up)

       .   2      .         . , ,         LLM     .

### 4)    (Pay-as-you-go / Metered Billing)

   .   AI  API   .               . OpenAI API, Anthropic API, Google Gemini API, AWS Bedrock, Hugging Face Inference, Azure API  .

### 5)   (Freemium)

   .         .       .   PoC      . DeepL, Grammarly, Notion  .

### 6)     

     .       . SI           .     AI     .     .

### 7)   (Custom Pricing / Annual Contract / SLA)

   .        6 .              .         .

 AI              .                .


#   

        .       .

1.          
2.          
3.       

###    SOTA

         SOTA.            .   SOTA   .

       .   AI      .    SOTA            .

     .    .           .      .        .

     .

-       
-           
-               

 AI          .

###  

AI        .        PoC  .   AI             .

   AI    .      .     .            .

       .         .      .               .

###     

AI    .       .                    .         .

          .           .            .

         .      .

>       

        .      HR     .


# AI     

AI   .      .  AI         .    AI         .    AI    .   .    .

     .    .         .     .        .    .

  AI . AI              .     .       .

        API     high level     . middle level low level     .                 .

    . GPU     .         .


#    

AI      .    AI       .           .    .           .

        .        AI            .  AI   .

             .                  .       .

AI    AI    .    .             .

         .   AI   .          .       .   .

    .    .            .       .       .      .

        .             .                   .

AI                     .
`,Sne={"cs231n-lecture-review-01":yte,"cs231n-lecture-review-02":xte,"cs231n-lecture-review-03":_te,"cs231n-lecture-review-04":wte,"cs231n-lecture-review-05":$te,"cs231n-lecture-review-06":Ete,"cs231n-lecture-review-07":Ste,"cs231n-lecture-review-08":Tte,"cs231n-lecture-review-09":kte,"cs231n-lecture-review-10":Ate,"cs231n-lecture-review-11":Nte,"ddpm-proof":Cte,"diff-llm":Ite,"speaker-recognition-1":Lte,"speaker-recognition-2":Rte,"ddpm-review":Dte,"infonce-review":Ote,"nerf-review":Ute,"nsvf-review":Mte,"mixmatch-review":Pte,"efficient-review":Fte,"light-review":Bte,"gan-review":zte,"gan-review2":jte,"imagemanipulate-review":Gte,"graph-review":Hte,"transfer-review":Vte,"lowshot-review":qte,"transformer-multimodal-review":Wte,"gangeal-review":Yte,"clip-review":Kte,"maskclip-review":Xte,"style-review":Qte,"dreamfield-review":Zte,"blip-review":Jte,"coop-review":ene,"coca-review":tne,"ddim-review":nne,"scoreds-review":rne,"consistency-review":ane,"diff-review":ine,"controlnet-review":one,"glide-review":sne,"meru-review":lne,"dino-review":une,"dino2-review":cne,"lssl-review":dne,"s4-review":pne,"mamba-review":mne,"animatediff-review":fne,"torch2-review":hne,"rlhf-review":gne,"service-ops-review":bne,"efficient-gpu-review":vne,"langchain-review":yne,"deepseekr1-insight":xne,"ai-truth":_ne,"disentangle-gaussian":wne,diary1:$ne,"aisaas-perspective":Ene};function Tne(e){const t=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,n=e.match(t);if(!n)throw new Error("Invalid frontmatter format");const r=n[1],a=n[2],i={},s=r.split(`
`);for(const u of s){const c=u.indexOf(":");if(c===-1)continue;const d=u.substring(0,c).trim();let m=u.substring(c+1).trim();(m.startsWith('"')&&m.endsWith('"')||m.startsWith("'")&&m.endsWith("'"))&&(m=m.slice(1,-1)),i[d]=m}return{metadata:i,content:a}}function kne(e){const n=e.trim().split(/\s+/).length,r=Math.ceil(n/200);return r>0?r:1}function Ane(e,t=150){const n=e.replace(/#{1,6}\s+/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/\$\$[\s\S]*?\$\$/g,"[Math Formula]").replace(/\$.*?\$/g,"[Math]").replace(/\n+/g," ").trim();if(n.length<=t)return n;const r=n.substring(0,t),a=Math.max(r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));if(a>t*.6)return r.substring(0,a+1);const i=r.lastIndexOf(" ");return i>0?r.substring(0,i)+"...":r+"..."}function Nne(){return"Junyoung Park"}async function Cne(){const e=Object.entries(Sne),t=[];for(const[n,r]of e)try{const{metadata:a,content:i}=Tne(r),s={title:a.title,category:a.category,publishedAt:a.publishedAt,slug:n,content:i,excerpt:Ane(i),author:Nne(),readTime:kne(i),thumbnail:a.thumbnail};t.push(s)}catch(a){console.error(`Failed to load post ${n}:`,a)}return t.sort((n,r)=>new Date(r.publishedAt).getTime()-new Date(n.publishedAt).getTime())}const aw=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(null);return N.useEffect(()=>{(async()=>{try{r(!0);const u=await Cne();t(u)}catch(u){i(u instanceof Error?u.message:"Failed to load posts"),console.error("Error loading blog posts:",u)}finally{r(!1)}})()},[]),{posts:e,loading:n,error:a}},Ine=()=>{const[e,t]=N.useState("all"),n=qu(),{posts:r,loading:a,error:i}=aw();if(a)return $.jsx("section",{id:"blog",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsx("div",{className:"max-w-4xl mx-auto text-center text-foreground/60",children:"Loading posts..."})})});if(i)return $.jsx("section",{id:"blog",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto text-center text-red-500",children:["Error: ",i]})})});const s=r.filter(c=>e==="all"||c.category===e).slice(0,8),u=c=>n(`/blog/${c.slug}`);return $.jsx("section",{id:"blog",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"Latest Posts"}),$.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[$.jsx("button",{onClick:()=>t("all"),className:`text-xs px-3 py-1 rounded-full border transition-colors ${e==="all"?"bg-foreground text-background border-foreground":"border-border text-foreground/60 hover:text-foreground"}`,children:"All"}),rw.map(c=>$.jsx("button",{onClick:()=>t(c.slug),className:`text-xs px-3 py-1 rounded-full border transition-colors ${e===c.slug?"bg-foreground text-background border-foreground":"border-border text-foreground/60 hover:text-foreground"}`,children:c.name},c.slug))]}),$.jsx("div",{className:"space-y-3",children:s.length===0?$.jsx("p",{className:"text-foreground/50 text-sm",children:"No posts found."}):s.map(c=>$.jsxs("button",{onClick:()=>u(c),className:"w-full text-left flex items-baseline gap-4 py-2 group hover:bg-muted/30 px-2 -mx-2 rounded transition-colors",children:[$.jsx("span",{className:"text-xs text-foreground/40 font-mono flex-shrink-0 w-20",children:new Date(c.publishedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),$.jsx("span",{className:"text-foreground group-hover:text-[hsl(var(--theme-primary))] transition-colors text-sm font-medium flex-1 truncate",children:c.title}),$.jsxs("span",{className:"text-xs text-foreground/40 flex-shrink-0 flex items-center gap-1",children:[$.jsx(p1,{className:"w-3 h-3"})," ",c.readTime,"m"]})]},c.slug))}),$.jsx("div",{className:"mt-6",children:$.jsx("button",{onClick:()=>n("/blog"),className:"text-sm text-[hsl(var(--theme-primary))] hover:underline inline-flex items-center gap-1",children:" View all posts"})})]})})})};class mc{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const Lne=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Nn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Lne()},iw=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Rne=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=iw(e);Nn.publicKey=n.publicKey,Nn.blockHeadless=n.blockHeadless,Nn.storageProvider=n.storageProvider,Nn.blockList=n.blockList,Nn.limitRate=n.limitRate,Nn.origin=n.origin||t},ZN=async(e,t,n={})=>{const r=await fetch(Nn.origin+e,{method:"POST",headers:n,body:t}),a=await r.text(),i=new mc(r.status,a);if(r.ok)return i;throw i},JN=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Dne=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},e7=e=>e.webdriver||!e.languages||e.languages.length===0,t7=()=>new mc(451,"Unavailable For Headless Browser"),One=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},Une=e=>!e.list?.length||!e.watchVariable,Mne=(e,t)=>e instanceof FormData?e.get(t):e[t],n7=(e,t)=>{if(Une(e))return!1;One(e.list,e.watchVariable);const n=Mne(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},r7=()=>new mc(403,"Forbidden"),Pne=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Fne=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},a7=async(e,t,n)=>{if(!t.throttle||!n)return!1;Pne(t.throttle,t.id);const r=t.id||e;return await Fne(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},i7=()=>new mc(429,"Too Many Requests"),Bne=async(e,t,n,r)=>{const a=iw(r),i=a.publicKey||Nn.publicKey,s=a.blockHeadless||Nn.blockHeadless,u=a.storageProvider||Nn.storageProvider,c={...Nn.blockList,...a.blockList},d={...Nn.limitRate,...a.limitRate};return s&&e7(navigator)?Promise.reject(t7()):(JN(i,e,t),Dne(n),n&&n7(c,n)?Promise.reject(r7()):await a7(location.pathname,d,u)?Promise.reject(i7()):ZN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},zne=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},jne=e=>typeof e=="string"?document.querySelector(e):e,Gne=async(e,t,n,r)=>{const a=iw(r),i=a.publicKey||Nn.publicKey,s=a.blockHeadless||Nn.blockHeadless,u=Nn.storageProvider||a.storageProvider,c={...Nn.blockList,...a.blockList},d={...Nn.limitRate,...a.limitRate};if(s&&e7(navigator))return Promise.reject(t7());const m=jne(n);JN(i,e,t),zne(m);const f=new FormData(m);return n7(c,f)?Promise.reject(r7()):await a7(location.pathname,d,u)?Promise.reject(i7()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",i),ZN("/api/v1.0/email/send-form",f))},Hne={init:Rne,send:Bne,sendForm:Gne,EmailJSResponseStatus:mc},Vne=()=>{const[e,t]=N.useState(!1),n=N.useRef(null),{toast:r}=g8(),a=async i=>{if(i.preventDefault(),!!n.current){t(!0);try{(await Hne.sendForm("service_fk1pspj","template_dsd991k",n.current,"3gJ7P8w1YQ1RtdX6T")).status===200&&(r({title:"Message sent!",description:"Thank you. I'll get back to you soon."}),n.current.reset())}catch{r({title:"Failed to send",description:"Please try junia1997@gmail.com directly.",variant:"destructive"})}finally{t(!1)}}};return $.jsx("section",{id:"contact",className:"py-12",children:$.jsx("div",{className:"container mx-auto px-6",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"Contact"}),$.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[$.jsx(f1,{className:"w-4 h-4 text-foreground/50"}),$.jsx("a",{href:"mailto:junia1997@gmail.com",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"junia1997@gmail.com"})]}),$.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[$.jsx(Q8,{className:"w-4 h-4 text-foreground/50"}),$.jsx("span",{className:"text-foreground/70",children:"Seoul, Korea"})]}),$.jsxs("div",{className:"pt-4",children:[$.jsx("h3",{className:"text-sm font-semibold mb-2 text-foreground",children:"Links"}),$.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[$.jsx("a",{href:"https://www.linkedin.com/in/junyoung-park-490597344/",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"LinkedIn"}),$.jsx("a",{href:"https://github.com/6unoyunr",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"GitHub"}),$.jsx("a",{href:"https://www.instagram.com/6unoyunr",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--theme-primary))] hover:underline",children:"Instagram"})]})]})]}),$.jsx("div",{className:"md:col-span-2",children:$.jsxs("form",{ref:n,onSubmit:a,className:"space-y-4",children:[$.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$.jsx("input",{type:"text",name:"from_name",required:!0,placeholder:"Name",className:"px-3 py-2 border border-border rounded-lg bg-background text-sm focus:ring-1 focus:ring-[hsl(var(--theme-primary))] focus:border-transparent outline-none"}),$.jsx("input",{type:"email",name:"from_email",required:!0,placeholder:"Email",className:"px-3 py-2 border border-border rounded-lg bg-background text-sm focus:ring-1 focus:ring-[hsl(var(--theme-primary))] focus:border-transparent outline-none"})]}),$.jsx("input",{type:"text",name:"subject",required:!0,placeholder:"Subject",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-sm focus:ring-1 focus:ring-[hsl(var(--theme-primary))] focus:border-transparent outline-none"}),$.jsx("textarea",{rows:4,name:"message",required:!0,placeholder:"Message",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-sm resize-none focus:ring-1 focus:ring-[hsl(var(--theme-primary))] focus:border-transparent outline-none"}),$.jsx("button",{type:"submit",disabled:e,className:"px-4 py-2 bg-foreground text-background rounded-lg text-sm font-medium hover:opacity-90 transition-opacity disabled:opacity-50",children:e?"Sending...":"Send Message"})]})})]}),$.jsx("div",{className:"mt-12 pt-6 border-t border-border text-center text-foreground/40 text-xs",children:" Junyoung Park"})]})})})},qne=()=>{const e=Vu();return N.useEffect(()=>{if(e.pathname!=="/"||!e.hash)return;let t=!1,n=0;const r=()=>{if(t)return;const i=document.querySelector(e.hash);if(i){i.scrollIntoView({behavior:"smooth",block:"start"});return}n>=12||(n+=1,setTimeout(r,80))},a=requestAnimationFrame(r);return()=>{t=!0,cancelAnimationFrame(a)}},[e.pathname,e.hash]),$.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{}),$.jsx(gM,{}),$.jsx(xM,{}),$.jsx(_M,{}),$.jsx(yM,{}),$.jsx(vte,{}),$.jsx(Ine,{}),$.jsx(Vne,{})]})},Wne=()=>{const e=Vu();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),$.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:$.jsxs("div",{className:"text-center",children:[$.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),$.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),$.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Yne=q8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Rs=N.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const s=r?Os:"button";return $.jsx(s,{className:$t(Yne({variant:t,size:n,className:e})),ref:i,...a})});Rs.displayName="Button";const Kne=()=>{const[e,t]=N.useState(0);return N.useEffect(()=>{const n=()=>{const r=window.scrollY,a=document.documentElement.scrollHeight-window.innerHeight,i=r/a;t(Math.min(i*100,100))};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),e},Xne=()=>{const e=Kne();return $.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-1 bg-muted/30 z-50",children:$.jsx("div",{className:"h-full bg-gradient-to-r from-[hsl(var(--theme-primary))] to-[hsl(var(--theme-secondary))] transition-all duration-150 ease-out",style:{width:`${e}%`}})})};function Jg(e){if(!e)return"";switch(e.type){case"text":return e.value||"";case"inlineCode":return e.value||"";case"inlineMath":case"math":return e.value||"";case"link":case"linkReference":case"emphasis":case"strong":case"delete":case"paragraph":case"heading":return(e.children||[]).map(Jg).join("");case"image":return e.alt||"";case"html":return"";default:return Array.isArray(e.children)?e.children.map(Jg).join(""):""}}function Qne(e,t){const n=e||"section",r=(t.get(n)||0)+1;return t.set(n,r),r===1?n:`${n}-${r}`}const Zne=({content:e})=>{const[t,n]=N.useState([]),[r,a]=N.useState("");N.useEffect(()=>{const s=[],u=new Map;try{const c=_b().use(fb).use(qb).use(jb).parse(e);Oo(c,"heading",d=>{const m=d.depth;if(m<1||m>3)return;const f=Jg(d).trim(),h=nw(f),b=Qne(h,u);console.log("[TOC parsed]",{level:m,text:f,id:b}),s.push({id:b,text:f,level:m})}),n(s)}catch(c){console.error("[TOC] Failed to parse markdown AST:",c),n([])}},[e]),N.useEffect(()=>{const s=()=>{const u=t.map(d=>document.getElementById(d.id)),c=window.scrollY+120;for(let d=u.length-1;d>=0;d--){const m=u[d];if(m&&m.offsetTop<=c){a(t[d].id);break}}};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[t]);const i=s=>{const u=document.getElementById(s);if(console.log("[TOC click]",{id:s,found:!!u,element:u}),u){const d=u.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:d-100,behavior:"smooth"})}else console.warn("[TOC click] element not found for id:",s)};return t.length===0?null:$.jsx("nav",{className:"hidden xl:block sticky top-24 max-h-[calc(100vh-8rem)] overflow-y-auto",children:$.jsxs("div",{className:"rounded-xl p-5 border border-border bg-card",children:[$.jsxs("div",{className:"flex items-center gap-2 mb-4 text-foreground font-semibold",children:[$.jsx(jh,{className:"w-4 h-4"}),$.jsx("span",{children:"Table of Contents"})]}),$.jsx("ul",{className:"space-y-2",children:t.map(s=>$.jsx("li",{style:{paddingLeft:`${(s.level-1)*12}px`},children:$.jsx("button",{onClick:()=>i(s.id),className:`
                  text-left text-sm w-full py-1.5 px-2 rounded-md transition-all duration-200
                  hover:bg-[hsl(var(--theme-primary)/0.1)] hover:text-[hsl(var(--theme-primary))]
                  ${r===s.id?"text-[hsl(var(--theme-primary))] bg-[hsl(var(--theme-primary)/0.1)] font-medium border-l-2 border-[hsl(var(--theme-primary))]":"text-foreground/70"}
                `,children:$.jsx("span",{className:"line-clamp-2",children:s.text})})},s.id))})]})})};var Sh="focusScope.autoFocusOnMount",Th="focusScope.autoFocusOnUnmount",e8={bubbles:!1,cancelable:!0},Jne="FocusScope",o7=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[u,c]=N.useState(null),d=Yr(a),m=Yr(i),f=N.useRef(null),h=Zn(t,x=>c(x)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let x=function(C){if(b.paused||!u)return;const R=C.target;u.contains(R)?f.current=R:Bi(f.current,{select:!0})},T=function(C){if(b.paused||!u)return;const R=C.relatedTarget;R!==null&&(u.contains(R)||Bi(f.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&Bi(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const A=new MutationObserver(S);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),A.disconnect()}}},[r,u,b.paused]),N.useEffect(()=>{if(u){n8.add(b);const x=document.activeElement;if(!u.contains(x)){const S=new CustomEvent(Sh,e8);u.addEventListener(Sh,d),u.dispatchEvent(S),S.defaultPrevented||(ere(ire(s7(u)),{select:!0}),document.activeElement===x&&Bi(u))}return()=>{u.removeEventListener(Sh,d),setTimeout(()=>{const S=new CustomEvent(Th,e8);u.addEventListener(Th,m),u.dispatchEvent(S),S.defaultPrevented||Bi(x??document.body,{select:!0}),u.removeEventListener(Th,m),n8.remove(b)},0)}}},[u,d,m,b]);const _=N.useCallback(x=>{if(!n&&!r||b.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(T&&S){const A=x.currentTarget,[C,R]=tre(A);C&&R?!x.shiftKey&&S===R?(x.preventDefault(),n&&Bi(C,{select:!0})):x.shiftKey&&S===C&&(x.preventDefault(),n&&Bi(R,{select:!0})):S===A&&x.preventDefault()}},[n,r,b.paused]);return $.jsx(sn.div,{tabIndex:-1,...s,ref:h,onKeyDown:_})});o7.displayName=Jne;function ere(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Bi(r,{select:t}),document.activeElement!==n)return}function tre(e){const t=s7(e),n=t8(t,e),r=t8(t.reverse(),e);return[n,r]}function s7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t8(e,t){for(const n of e)if(!nre(n,{upTo:t}))return n}function nre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rre(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rre(e)&&t&&e.select()}}var n8=are();function are(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=r8(e,t),e.unshift(t)},remove(t){e=r8(e,t),e[0]?.resume()}}}function r8(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ire(e){return e.filter(t=>t.tagName!=="A")}var kh=0;function ore(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a8()),document.body.insertAdjacentElement("beforeend",e[1]??a8()),kh++,()=>{kh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kh--}},[])}function a8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ta=function(){return Ta=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ta.apply(this,arguments)};function l7(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function sre(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var mp="right-scroll-bar-position",fp="width-before-scroll-bar",lre="with-scroll-bars-hidden",ure="--removed-body-scroll-bar-size";function Ah(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cre(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var dre=typeof window<"u"?N.useLayoutEffect:N.useEffect,i8=new WeakMap;function pre(e,t){var n=cre(null,function(r){return e.forEach(function(a){return Ah(a,r)})});return dre(function(){var r=i8.get(n);if(r){var a=new Set(r),i=new Set(e),s=n.current;a.forEach(function(u){i.has(u)||Ah(u,null)}),i.forEach(function(u){a.has(u)||Ah(u,s)})}i8.set(n,e)},[e]),n}function mre(e){return e}function fre(e,t){t===void 0&&(t=mre);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(u){return u!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var u=n;n=[],u.forEach(i),s=n}var c=function(){var m=s;s=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){s.push(m),d()},filter:function(m){return s=s.filter(m),n}}}};return a}function hre(e){e===void 0&&(e={});var t=fre(null);return t.options=Ta({async:!0,ssr:!1},e),t}var u7=function(e){var t=e.sideCar,n=l7(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Ta({},n))};u7.isSideCarExport=!0;function gre(e,t){return e.useMedium(t),u7}var c7=hre(),Nh=function(){},Im=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:Nh,onWheelCapture:Nh,onTouchMoveCapture:Nh}),a=r[0],i=r[1],s=e.forwardProps,u=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,f=e.shards,h=e.sideCar,b=e.noIsolation,_=e.inert,x=e.allowPinchZoom,T=e.as,S=T===void 0?"div":T,A=e.gapMode,C=l7(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,M=pre([n,t]),P=Ta(Ta({},C),a);return N.createElement(N.Fragment,null,m&&N.createElement(R,{sideCar:c7,removeScrollBar:d,shards:f,noIsolation:b,inert:_,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:A}),s?N.cloneElement(N.Children.only(u),Ta(Ta({},P),{ref:M})):N.createElement(S,Ta({},P,{className:c,ref:M}),u))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:fp,zeroRight:mp};var bre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bre();return t&&e.setAttribute("nonce",t),e}function yre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _re=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vre())&&(yre(t,n),xre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wre=function(){var e=_re();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},d7=function(){var e=wre(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},$re={left:0,top:0,right:0,gap:0},Ch=function(e){return parseInt(e||"",10)||0},Ere=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ch(n),Ch(r),Ch(a)]},Sre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $re;var t=Ere(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Tre=d7(),Ds="data-scroll-locked",kre=function(e,t,n,r){var a=e.left,i=e.top,s=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ds,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mp,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(fp,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(mp," .").concat(mp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fp," .").concat(fp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ds,`] {
    `).concat(ure,": ").concat(u,`px;
  }
`)},o8=function(){var e=parseInt(document.body.getAttribute(Ds)||"0",10);return isFinite(e)?e:0},Are=function(){N.useEffect(function(){return document.body.setAttribute(Ds,(o8()+1).toString()),function(){var e=o8()-1;e<=0?document.body.removeAttribute(Ds):document.body.setAttribute(Ds,e.toString())}},[])},Nre=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Are();var i=N.useMemo(function(){return Sre(a)},[a]);return N.createElement(Tre,{styles:kre(i,!t,a,n?"":"!important")})},e1=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return e1=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{e1=!1}var ms=e1?{passive:!1}:!1,Cre=function(e){return e.tagName==="TEXTAREA"},p7=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Cre(e)&&n[t]==="visible")},Ire=function(e){return p7(e,"overflowY")},Lre=function(e){return p7(e,"overflowX")},s8=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=m7(e,r);if(a){var i=f7(e,r),s=i[1],u=i[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Dre=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},m7=function(e,t){return e==="v"?Ire(t):Lre(t)},f7=function(e,t){return e==="v"?Rre(t):Dre(t)},Ore=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ure=function(e,t,n,r,a){var i=Ore(e,window.getComputedStyle(t).direction),s=i*r,u=n.target,c=t.contains(u),d=!1,m=s>0,f=0,h=0;do{var b=f7(e,u),_=b[0],x=b[1],T=b[2],S=x-T-i*_;(_||S)&&m7(e,u)&&(f+=S,h+=_),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(m&&Math.abs(f)<1||!m&&Math.abs(h)<1)&&(d=!0),d},Yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l8=function(e){return[e.deltaX,e.deltaY]},u8=function(e){return e&&"current"in e?e.current:e},Mre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fre=0,fs=[];function Bre(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),a=N.useState(Fre++)[0],i=N.useState(d7)[0],s=N.useRef(e);N.useEffect(function(){s.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=sre([e.lockRef.current],(e.shards||[]).map(u8),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=N.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var S=Yd(x),A=n.current,C="deltaX"in x?x.deltaX:A[0]-S[0],R="deltaY"in x?x.deltaY:A[1]-S[1],M,P=x.target,j=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in x&&j==="h"&&P.type==="range")return!1;var K=s8(j,P);if(!K)return!0;if(K?M=j:(M=j==="v"?"h":"v",K=s8(j,P)),!K)return!1;if(!r.current&&"changedTouches"in x&&(C||R)&&(r.current=M),!M)return!0;var ee=r.current||M;return Ure(ee,T,x,ee==="h"?C:R)},[]),c=N.useCallback(function(x){var T=x;if(!(!fs.length||fs[fs.length-1]!==i)){var S="deltaY"in T?l8(T):Yd(T),A=t.current.filter(function(M){return M.name===T.type&&(M.target===T.target||T.target===M.shadowParent)&&Mre(M.delta,S)})[0];if(A&&A.should){T.cancelable&&T.preventDefault();return}if(!A){var C=(s.current.shards||[]).map(u8).filter(Boolean).filter(function(M){return M.contains(T.target)}),R=C.length>0?u(T,C[0]):!s.current.noIsolation;R&&T.cancelable&&T.preventDefault()}}},[]),d=N.useCallback(function(x,T,S,A){var C={name:x,delta:T,target:S,should:A,shadowParent:zre(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(R){return R!==C})},1)},[]),m=N.useCallback(function(x){n.current=Yd(x),r.current=void 0},[]),f=N.useCallback(function(x){d(x.type,l8(x),x.target,u(x,e.lockRef.current))},[]),h=N.useCallback(function(x){d(x.type,Yd(x),x.target,u(x,e.lockRef.current))},[]);N.useEffect(function(){return fs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ms),document.addEventListener("touchmove",c,ms),document.addEventListener("touchstart",m,ms),function(){fs=fs.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,ms),document.removeEventListener("touchmove",c,ms),document.removeEventListener("touchstart",m,ms)}},[]);var b=e.removeScrollBar,_=e.inert;return N.createElement(N.Fragment,null,_?N.createElement(i,{styles:Pre(a)}):null,b?N.createElement(Nre,{gapMode:e.gapMode}):null)}function zre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jre=gre(c7,Bre);var h7=N.forwardRef(function(e,t){return N.createElement(Im,Ta({},e,{ref:t,sideCar:jre}))});h7.classNames=Im.classNames;var Gre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hs=new WeakMap,Kd=new WeakMap,Xd={},Ih=0,g7=function(e){return e&&(e.host||g7(e.parentNode))},Hre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=g7(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Vre=function(e,t,n,r){var a=Hre(t,Array.isArray(e)?e:[e]);Xd[n]||(Xd[n]=new WeakMap);var i=Xd[n],s=[],u=new Set,c=new Set(a),d=function(f){!f||u.has(f)||(u.add(f),d(f.parentNode))};a.forEach(d);var m=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(u.has(h))m(h);else try{var b=h.getAttribute(r),_=b!==null&&b!=="false",x=(hs.get(h)||0)+1,T=(i.get(h)||0)+1;hs.set(h,x),i.set(h,T),s.push(h),x===1&&_&&Kd.set(h,!0),T===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return m(t),u.clear(),Ih++,function(){s.forEach(function(f){var h=hs.get(f)-1,b=i.get(f)-1;hs.set(f,h),i.set(f,b),h||(Kd.has(f)||f.removeAttribute(r),Kd.delete(f)),b||f.removeAttribute(n)}),Ih--,Ih||(hs=new WeakMap,hs=new WeakMap,Kd=new WeakMap,Xd={})}},qre=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Gre(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Vre(r,a,n,"aria-hidden")):function(){return null}},ow="Dialog",[b7]=i1(ow),[Wre,fa]=b7(ow),v7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,u=N.useRef(null),c=N.useRef(null),[d=!1,m]=E8({prop:r,defaultProp:a,onChange:i});return $.jsx(Wre,{scope:t,triggerRef:u,contentRef:c,contentId:$f(),titleId:$f(),descriptionId:$f(),open:d,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(f=>!f),[m]),modal:s,children:n})};v7.displayName=ow;var y7="DialogTrigger",x7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fa(y7,n),i=Zn(t,a.triggerRef);return $.jsx(sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":uw(a.open),...r,ref:i,onClick:Pt(e.onClick,a.onOpenToggle)})});x7.displayName=y7;var sw="DialogPortal",[Yre,_7]=b7(sw,{forceMount:void 0}),w7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=fa(sw,t);return $.jsx(Yre,{scope:t,forceMount:n,children:N.Children.map(r,s=>$.jsx(Hs,{present:n||i.open,children:$.jsx(o1,{asChild:!0,container:a,children:s})}))})};w7.displayName=sw;var Mp="DialogOverlay",$7=N.forwardRef((e,t)=>{const n=_7(Mp,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=fa(Mp,e.__scopeDialog);return i.modal?$.jsx(Hs,{present:r||i.open,children:$.jsx(Kre,{...a,ref:t})}):null});$7.displayName=Mp;var Kre=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fa(Mp,n);return $.jsx(h7,{as:Os,allowPinchZoom:!0,shards:[a.contentRef],children:$.jsx(sn.div,{"data-state":uw(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Lo="DialogContent",E7=N.forwardRef((e,t)=>{const n=_7(Lo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=fa(Lo,e.__scopeDialog);return $.jsx(Hs,{present:r||i.open,children:i.modal?$.jsx(Xre,{...a,ref:t}):$.jsx(Qre,{...a,ref:t})})});E7.displayName=Lo;var Xre=N.forwardRef((e,t)=>{const n=fa(Lo,e.__scopeDialog),r=N.useRef(null),a=Zn(t,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return qre(i)},[]),$.jsx(S7,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pt(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pt(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0;(s.button===2||u)&&i.preventDefault()}),onFocusOutside:Pt(e.onFocusOutside,i=>i.preventDefault())})}),Qre=N.forwardRef((e,t)=>{const n=fa(Lo,e.__scopeDialog),r=N.useRef(!1),a=N.useRef(!1);return $.jsx(S7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;n.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),S7=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,u=fa(Lo,n),c=N.useRef(null),d=Zn(t,c);return ore(),$.jsxs($.Fragment,{children:[$.jsx(o7,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:$.jsx(Bp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":uw(u.open),...s,ref:d,onDismiss:()=>u.onOpenChange(!1)})}),$.jsxs($.Fragment,{children:[$.jsx(Zre,{titleId:u.titleId}),$.jsx(eae,{contentRef:c,descriptionId:u.descriptionId})]})]})}),lw="DialogTitle",T7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fa(lw,n);return $.jsx(sn.h2,{id:a.titleId,...r,ref:t})});T7.displayName=lw;var k7="DialogDescription",A7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fa(k7,n);return $.jsx(sn.p,{id:a.descriptionId,...r,ref:t})});A7.displayName=k7;var N7="DialogClose",C7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fa(N7,n);return $.jsx(sn.button,{type:"button",...r,ref:t,onClick:Pt(e.onClick,()=>a.onOpenChange(!1))})});C7.displayName=N7;function uw(e){return e?"open":"closed"}var I7="DialogTitleWarning",[nie,L7]=gL(I7,{contentName:Lo,titleName:lw,docsSlug:"dialog"}),Zre=({titleId:e})=>{const t=L7(I7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Jre="DialogDescriptionWarning",eae=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L7(Jre).contentName}}.`;return N.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tae=v7,nae=x7,rae=w7,aae=$7,iae=E7,oae=T7,sae=A7,lae=C7;function uae(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const R7=ce.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),fc=()=>{const e=ce.useContext(R7);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};uae(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const cae=24,dae=typeof window<"u"?N.useLayoutEffect:N.useEffect;function c8(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function pae(){return cw(/^Mac/)}function mae(){return cw(/^iPhone/)}function d8(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function fae(){return cw(/^iPad/)||pae()&&navigator.maxTouchPoints>1}function D7(){return mae()||fae()}function cw(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Lh=typeof document<"u"&&window.visualViewport;function p8(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function O7(e){for(p8(e)&&(e=e.parentElement);e&&!p8(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const hae=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Qd=0,Rh;function gae(e={}){let{isDisabled:t}=e;dae(()=>{if(!t)return Qd++,Qd===1&&D7()&&(Rh=bae()),()=>{Qd--,Qd===0&&Rh?.()}},[t])}function bae(){let e,t=0,n=f=>{e=O7(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,b=e.scrollTop,_=e.scrollHeight-e.clientHeight;_!==0&&((b<=0&&h>t||b>=_&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;t1(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},i=f=>{let h=f.target;t1(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Lh&&(Lh.height<window.innerHeight?requestAnimationFrame(()=>{m8(h)}):Lh.addEventListener("resize",()=>m8(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},u=window.pageXOffset,c=window.pageYOffset,d=c8(vae(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=c8(au(document,"touchstart",n,{passive:!1,capture:!0}),au(document,"touchmove",r,{passive:!1,capture:!0}),au(document,"touchend",a,{passive:!1,capture:!0}),au(document,"focus",i,!0),au(window,"scroll",s));return()=>{d(),m(),window.scrollTo(u,c)}}function vae(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function au(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function m8(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=O7(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+cae;i>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function t1(e){return e instanceof HTMLInputElement&&!hae.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function yae(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xae(...e){return t=>e.forEach(n=>yae(n,t))}function U7(...e){return N.useCallback(xae(...e),e)}const M7=new WeakMap;function mn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}r[a]=e.style[a],e.style[a]=i}),!n&&M7.set(e,r)}function _ae(e,t){if(!e||!(e instanceof HTMLElement))return;let n=M7.get(e);n&&(e.style[t]=n[t])}const fn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Zd(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[fn(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[fn(t)?5:4]):null)}function wae(e){return 8*(Math.log(e+1)-2)}function Dh(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function $ae(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Ht={DURATION:.5,EASE:[.32,.72,0,1]},P7=.4,Eae=.25,Sae=100,F7=8,wo=16,n1=26,Oh="vaul-dragging";function B7(e){const t=ce.useRef(e);return ce.useEffect(()=>{t.current=e}),ce.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Tae({defaultProp:e,onChange:t}){const n=ce.useState(e),[r]=n,a=ce.useRef(r),i=B7(t);return ce.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}function z7({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Tae({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,u=B7(n),c=ce.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&u(f)}else a(d)},[i,e,a,u]);return[s,c]}function kae({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:i,onSnapPointChange:s,direction:u="bottom",container:c,snapToSequentialPoint:d}){const[m,f]=z7({prop:e,defaultProp:n?.[0],onChange:t}),[h,b]=ce.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ce.useEffect(()=>{function j(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const _=ce.useMemo(()=>m===n?.[n.length-1]||null,[n,m]),x=ce.useMemo(()=>n?.findIndex(j=>j===m),[n,m]),T=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===m||!n,S=ce.useMemo(()=>{const j=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var K;return(K=n?.map(ee=>{const G=typeof ee=="string";let Q=0;if(G&&(Q=parseInt(ee,10)),fn(u)){const ae=G?Q:h?ee*j.height:0;return h?u==="bottom"?j.height-ae:-j.height+ae:ae}const re=G?Q:h?ee*j.width:0;return h?u==="right"?j.width-re:-j.width+re:re}))!=null?K:[]},[n,h,c]),A=ce.useMemo(()=>x!==null?S?.[x]:null,[S,x]),C=ce.useCallback(j=>{var K;const ee=(K=S?.findIndex(G=>G===j))!=null?K:null;s(ee),mn(r.current,{transition:`transform ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,transform:fn(u)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),S&&ee!==S.length-1&&ee!==i&&ee<i?mn(a.current,{transition:`opacity ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,opacity:"0"}):mn(a.current,{transition:`opacity ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,opacity:"1"}),f(n?.[Math.max(ee,0)])},[r.current,n,S,i,a,f]);ce.useEffect(()=>{if(m||e){var j;const K=(j=n?.findIndex(ee=>ee===e||ee===m))!=null?j:-1;S&&K!==-1&&typeof S[K]=="number"&&C(S[K])}},[m,e,n,S,C]);function R({draggedDistance:j,closeDrawer:K,velocity:ee,dismissible:G}){if(i===void 0)return;const Q=u==="bottom"||u==="right"?(A??0)-j:(A??0)+j,re=x===i-1,ae=x===0,ne=j>0;if(re&&mn(a.current,{transition:`opacity ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`}),!d&&ee>2&&!ne){G?K():C(S[0]);return}if(!d&&ee>2&&ne&&S&&n){C(S[n.length-1]);return}const me=S?.reduce((fe,J)=>typeof fe!="number"||typeof J!="number"?fe:Math.abs(J-Q)<Math.abs(fe-Q)?J:fe),be=fn(u)?window.innerHeight:window.innerWidth;if(ee>P7&&Math.abs(j)<be*.4){const fe=ne?1:-1;if(fe>0&&_){C(S[n.length-1]);return}if(ae&&fe<0&&G&&K(),x===null)return;C(S[x+fe]);return}C(me)}function M({draggedDistance:j}){if(A===null)return;const K=u==="bottom"||u==="right"?A-j:A+j;(u==="bottom"||u==="right")&&K<S[S.length-1]||(u==="top"||u==="left")&&K>S[S.length-1]||mn(r.current,{transform:fn(u)?`translate3d(0, ${K}px, 0)`:`translate3d(${K}px, 0, 0)`})}function P(j,K){if(!n||typeof x!="number"||!S||i===void 0)return null;const ee=x===i-1;if(x>=i&&K)return 0;if(ee&&!K)return 1;if(!T&&!ee)return null;const Q=ee?x+1:x-1,re=ee?S[Q]-S[Q-1]:S[Q+1]-S[Q],ae=j/Math.abs(re);return ee?1-ae:ae}return{isLastSnapPoint:_,activeSnapPoint:m,shouldFade:T,getPercentageDragged:P,setActiveSnapPoint:f,activeSnapPointIndex:x,onRelease:R,onDrag:M,snapPointsOffset:S}}const Aae=()=>()=>{};function Nae(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=fc(),i=ce.useRef(null),s=N.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-n1)/window.innerWidth}ce.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;$ae(r&&!a?Dh(document.body,{background:"black"}):Aae,Dh(c,{transformOrigin:fn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ht.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ht.EASE.join(",")})`}));const d=Dh(c,{borderRadius:`${F7}px`,overflow:"hidden",...fn(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),i.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},Ht.DURATION*1e3)}}},[t,n,s])}let iu=null;function Cae({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:i}){const[s,u]=ce.useState(()=>typeof window<"u"?window.location.href:""),c=ce.useRef(0),d=ce.useCallback(()=>{if(d8()&&iu===null&&e&&!i){iu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=h-window.innerHeight;b&&c.current>=h&&(document.body.style.top=`${-(c.current+b)}px`)}),300)}},[e]),m=ce.useCallback(()=>{if(d8()&&iu!==null&&!i){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,iu),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){u(window.location.href);return}window.scrollTo(h,f)}),iu=null}},[s]);return ce.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),ce.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{m()},500)):m())},[e,r,s,t,n,d,m]),{restorePositionSetting:m}}function Iae({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:i,shouldScaleBackground:s=!1,setBackgroundColorOnScale:u=!0,closeThreshold:c=Eae,scrollLockTimeout:d=Sae,dismissible:m=!0,handleOnly:f=!1,fadeFromIndex:h=i&&i.length-1,activeSnapPoint:b,setActiveSnapPoint:_,fixed:x,modal:T=!0,onClose:S,nested:A,noBodyStyles:C,direction:R="bottom",defaultOpen:M=!1,disablePreventScroll:P=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:K=!1,repositionInputs:ee=!0,onAnimationEnd:G,container:Q,autoFocus:re=!1}){var ae,ne;const[me=!1,be]=z7({defaultProp:M,prop:e,onChange:xe=>{t?.(xe),!xe&&!A&&ge(),setTimeout(()=>{G?.(xe)},Ht.DURATION*1e3),xe&&!T&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),xe||(document.body.style.pointerEvents="auto")}}),[fe,J]=ce.useState(!1),[he,O]=ce.useState(!1),[H,ie]=ce.useState(!1),B=ce.useRef(null),Re=ce.useRef(null),Pe=ce.useRef(null),Le=ce.useRef(null),Ve=ce.useRef(null),Fe=ce.useRef(!1),et=ce.useRef(null),dt=ce.useRef(0),Ot=ce.useRef(!1),jn=ce.useRef(0),qe=ce.useRef(null),Gn=ce.useRef(((ae=qe.current)==null?void 0:ae.getBoundingClientRect().height)||0),er=ce.useRef(((ne=qe.current)==null?void 0:ne.getBoundingClientRect().width)||0),un=ce.useRef(0),tr=ce.useCallback(xe=>{i&&xe===br.length-1&&(Re.current=new Date)},[]),{activeSnapPoint:gr,activeSnapPointIndex:_t,setActiveSnapPoint:vn,onRelease:Rr,snapPointsOffset:br,onDrag:Zr,shouldFade:za,getPercentageDragged:ja}=kae({snapPoints:i,activeSnapPointProp:b,setActiveSnapPointProp:_,drawerRef:qe,fadeFromIndex:h,overlayRef:B,onSnapPointChange:tr,direction:R,container:Q,snapToSequentialPoint:j});gae({isDisabled:!me||he||!T||H||!fe||!ee||!P});const{restorePositionSetting:ge}=Cae({isOpen:me,modal:T,nested:A,hasBeenOpened:fe,preventScrollRestoration:K,noBodyStyles:C});function Te(){return(window.innerWidth-n1)/window.innerWidth}function Ke(xe){var He,We;!m&&!i||qe.current&&!qe.current.contains(xe.target)||(Gn.current=((He=qe.current)==null?void 0:He.getBoundingClientRect().height)||0,er.current=((We=qe.current)==null?void 0:We.getBoundingClientRect().width)||0,O(!0),Pe.current=new Date,D7()&&window.addEventListener("touchend",()=>Fe.current=!1,{once:!0}),xe.target.setPointerCapture(xe.pointerId),dt.current=fn(R)?xe.pageY:xe.pageX)}function tt(xe,He){var We,ot;let it=xe;const en=(We=window.getSelection())==null?void 0:We.toString(),tn=qe.current?Zd(qe.current,R):null,In=new Date;if(it.hasAttribute("data-vaul-no-drag")||it.closest("[data-vaul-no-drag]"))return!1;if(R==="right"||R==="left")return!0;if(Re.current&&In.getTime()-Re.current.getTime()<500)return!1;if(tn!==null&&(R==="bottom"?tn>0:tn<0))return!0;if(en&&en.length>0)return!1;if(In.getTime()-((ot=Ve.current)==null?void 0:ot.getTime())<d&&tn===0||He)return Ve.current=In,!1;for(;it;){if(it.scrollHeight>it.clientHeight){if(it.scrollTop!==0)return Ve.current=new Date,!1;if(it.getAttribute("role")==="dialog")return!0}it=it.parentNode}return!0}function pt(xe){if(qe.current&&he){const He=R==="bottom"||R==="right"?1:-1,We=(dt.current-(fn(R)?xe.pageY:xe.pageX))*He,ot=We>0,it=i&&!m&&!ot;if(it&&_t===0)return;const en=Math.abs(We),tn=document.querySelector("[data-vaul-drawer-wrapper]"),In=R==="bottom"||R==="top"?Gn.current:er.current;let rr=en/In;const ga=ja(en,ot);if(ga!==null&&(rr=ga),it&&rr>=1||!Fe.current&&!tt(xe.target,ot))return;if(qe.current.classList.add(Oh),Fe.current=!0,mn(qe.current,{transition:"none"}),mn(B.current,{transition:"none"}),i&&Zr({draggedDistance:We}),ot&&!i){const yr=wae(We),ba=Math.min(yr*-1,0)*He;mn(qe.current,{transform:fn(R)?`translate3d(0, ${ba}px, 0)`:`translate3d(${ba}px, 0, 0)`});return}const Or=1-rr;if((za||h&&_t===h-1)&&(r?.(xe,rr),mn(B.current,{opacity:`${Or}`,transition:"none"},!0)),tn&&B.current&&s){const yr=Math.min(Te()+rr*(1-Te()),1),ba=8-rr*8,zo=Math.max(0,14-rr*14);mn(tn,{borderRadius:`${ba}px`,transform:fn(R)?`scale(${yr}) translate3d(0, ${zo}px, 0)`:`scale(${yr}) translate3d(${zo}px, 0, 0)`,transition:"none"},!0)}if(!i){const yr=en*He;mn(qe.current,{transform:fn(R)?`translate3d(0, ${yr}px, 0)`:`translate3d(${yr}px, 0, 0)`})}}}ce.useEffect(()=>{var xe;function He(){if(!qe.current||!ee)return;const We=document.activeElement;if(t1(We)||Ot.current){var ot;const it=((ot=window.visualViewport)==null?void 0:ot.height)||0,en=window.innerHeight;let tn=en-it;const In=qe.current.getBoundingClientRect().height||0,rr=In>en*.8;un.current||(un.current=In);const ga=qe.current.getBoundingClientRect().top;if(Math.abs(jn.current-tn)>60&&(Ot.current=!Ot.current),i&&i.length>0&&br&&_t){const Or=br[_t]||0;tn+=Or}if(jn.current=tn,In>it||Ot.current){const Or=qe.current.getBoundingClientRect().height;let yr=Or;Or>it&&(yr=it-(rr?ga:n1)),x?qe.current.style.height=`${Or-Math.max(tn,0)}px`:qe.current.style.height=`${Math.max(yr,it-ga)}px`}else qe.current.style.height=`${un.current}px`;i&&i.length>0&&!Ot.current?qe.current.style.bottom="0px":qe.current.style.bottom=`${Math.max(tn,0)}px`}}return(xe=window.visualViewport)==null||xe.addEventListener("resize",He),()=>{var We;return(We=window.visualViewport)==null?void 0:We.removeEventListener("resize",He)}},[_t,i,br]);function It(xe){Sn(),S?.(),xe||be(!1),setTimeout(()=>{i&&vn(i[0])},Ht.DURATION*1e3)}function Hn(){if(!qe.current)return;const xe=document.querySelector("[data-vaul-drawer-wrapper]"),He=Zd(qe.current,R);mn(qe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`}),mn(B.current,{transition:`opacity ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,opacity:"1"}),s&&He&&He>0&&me&&mn(xe,{borderRadius:`${F7}px`,overflow:"hidden",...fn(R)?{transform:`scale(${Te()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Te()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ht.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ht.EASE.join(",")})`},!0)}function Sn(){!he||!qe.current||(qe.current.classList.remove(Oh),Fe.current=!1,O(!1),Le.current=new Date)}function Dr(xe){if(!he||!qe.current)return;qe.current.classList.remove(Oh),Fe.current=!1,O(!1),Le.current=new Date;const He=Zd(qe.current,R);if(!tt(xe.target,!1)||!He||Number.isNaN(He)||Pe.current===null)return;const We=Le.current.getTime()-Pe.current.getTime(),ot=dt.current-(fn(R)?xe.pageY:xe.pageX),it=Math.abs(ot)/We;if(it>.05&&(ie(!0),setTimeout(()=>{ie(!1)},200)),i){Rr({draggedDistance:ot*(R==="bottom"||R==="right"?1:-1),closeDrawer:It,velocity:it,dismissible:m}),a?.(xe,!0);return}if(R==="bottom"||R==="right"?ot>0:ot<0){Hn(),a?.(xe,!0);return}if(it>P7){It(),a?.(xe,!1);return}var en;const tn=Math.min((en=qe.current.getBoundingClientRect().height)!=null?en:0,window.innerHeight);var In;const rr=Math.min((In=qe.current.getBoundingClientRect().width)!=null?In:0,window.innerWidth),ga=R==="left"||R==="right";if(Math.abs(He)>=(ga?rr:tn)*c){It(),a?.(xe,!1);return}a?.(xe,!0),Hn()}ce.useEffect(()=>(me&&(mn(document.documentElement,{scrollBehavior:"auto"}),Re.current=new Date),()=>{_ae(document.documentElement,"scrollBehavior")}),[me]);function vr(xe){const He=xe?(window.innerWidth-wo)/window.innerWidth:1,We=xe?-wo:0;et.current&&window.clearTimeout(et.current),mn(qe.current,{transition:`transform ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,transform:`scale(${He}) translate3d(0, ${We}px, 0)`}),!xe&&qe.current&&(et.current=setTimeout(()=>{const ot=Zd(qe.current,R);mn(qe.current,{transition:"none",transform:fn(R)?`translate3d(0, ${ot}px, 0)`:`translate3d(${ot}px, 0, 0)`})},500))}function Et(xe,He){if(He<0)return;const We=(window.innerWidth-wo)/window.innerWidth,ot=We+He*(1-We),it=-wo+He*wo;mn(qe.current,{transform:fn(R)?`scale(${ot}) translate3d(0, ${it}px, 0)`:`scale(${ot}) translate3d(${it}px, 0, 0)`,transition:"none"})}function nr(xe,He){const We=fn(R)?window.innerHeight:window.innerWidth,ot=He?(We-wo)/We:1,it=He?-wo:0;He&&mn(qe.current,{transition:`transform ${Ht.DURATION}s cubic-bezier(${Ht.EASE.join(",")})`,transform:fn(R)?`scale(${ot}) translate3d(0, ${it}px, 0)`:`scale(${ot}) translate3d(${it}px, 0, 0)`})}return ce.createElement(tae,{defaultOpen:M,onOpenChange:xe=>{!m&&!xe||(xe?J(!0):It(!0),be(xe))},open:me},ce.createElement(R7.Provider,{value:{activeSnapPoint:gr,snapPoints:i,setActiveSnapPoint:vn,drawerRef:qe,overlayRef:B,onOpenChange:t,onPress:Ke,onRelease:Dr,onDrag:pt,dismissible:m,handleOnly:f,isOpen:me,isDragging:he,shouldFade:za,closeDrawer:It,onNestedDrag:Et,onNestedOpenChange:vr,onNestedRelease:nr,keyboardIsOpen:Ot,modal:T,snapPointsOffset:br,direction:R,shouldScaleBackground:s,setBackgroundColorOnScale:u,noBodyStyles:C,container:Q,autoFocus:re}},n))}const j7=ce.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:i,isOpen:s,modal:u}=fc(),c=U7(t,n),d=r&&r.length>0;return u?ce.createElement(aae,{onMouseUp:a,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":s&&d?"true":"false","data-vaul-snap-points-overlay":s&&i?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});j7.displayName="Drawer.Overlay";const G7=ce.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:i,onPress:s,onRelease:u,onDrag:c,keyboardIsOpen:d,snapPointsOffset:m,modal:f,isOpen:h,direction:b,snapPoints:_,container:x,handleOnly:T,autoFocus:S}=fc(),[A,C]=ce.useState(!1),R=U7(a,i),M=ce.useRef(null),P=ce.useRef(null),j=ce.useRef(!1),K=_&&_.length>0;Nae();const ee=(Q,re,ae=0)=>{if(j.current)return!0;const ne=Math.abs(Q.y),me=Math.abs(Q.x),be=me>ne,fe=["bottom","right"].includes(re)?1:-1;if(re==="left"||re==="right"){if(!(Q.x*fe<0)&&me>=0&&me<=ae)return be}else if(!(Q.y*fe<0)&&ne>=0&&ne<=ae)return!be;return j.current=!0,!0};ce.useEffect(()=>{K&&window.requestAnimationFrame(()=>{C(!0)})},[]);function G(Q){M.current=null,j.current=!1,u(Q)}return ce.createElement(iae,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":A?"true":"false","data-vaul-snap-points":h&&K?"true":"false","data-vaul-custom-container":x?"true":"false",...r,ref:R,style:m&&m.length>0?{"--snap-point-height":`${m[0]}px`,...t}:t,onPointerDown:Q=>{T||(r.onPointerDown==null||r.onPointerDown.call(r,Q),M.current={x:Q.pageX,y:Q.pageY},s(Q))},onOpenAutoFocus:Q=>{n?.(Q),S||Q.preventDefault()},onPointerDownOutside:Q=>{if(e?.(Q),!f||Q.defaultPrevented){Q.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:Q=>{if(!f){Q.preventDefault();return}},onPointerMove:Q=>{if(P.current=Q,T||(r.onPointerMove==null||r.onPointerMove.call(r,Q),!M.current))return;const re=Q.pageY-M.current.y,ae=Q.pageX-M.current.x,ne=Q.pointerType==="touch"?10:2;ee({x:ae,y:re},b,ne)?c(Q):(Math.abs(ae)>ne||Math.abs(re)>ne)&&(M.current=null)},onPointerUp:Q=>{r.onPointerUp==null||r.onPointerUp.call(r,Q),M.current=null,j.current=!1,u(Q)},onPointerOut:Q=>{r.onPointerOut==null||r.onPointerOut.call(r,Q),G(P.current)},onContextMenu:Q=>{r.onContextMenu==null||r.onContextMenu.call(r,Q),G(P.current)}})});G7.displayName="Drawer.Content";const Lae=250,Rae=120,Dae=ce.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:i,snapPoints:s,activeSnapPoint:u,setActiveSnapPoint:c,dismissible:d,handleOnly:m,isOpen:f,onPress:h,onDrag:b}=fc(),_=ce.useRef(null),x=ce.useRef(!1);function T(){if(x.current){C();return}window.setTimeout(()=>{S()},Rae)}function S(){if(i||e||x.current){C();return}if(C(),(!s||s.length===0)&&d){a();return}if(u===s[s.length-1]&&d){a();return}const M=s.findIndex(j=>j===u);if(M===-1)return;const P=s[M+1];c(P)}function A(){_.current=window.setTimeout(()=>{x.current=!0},Lae)}function C(){window.clearTimeout(_.current),x.current=!1}return ce.createElement("div",{onClick:T,onPointerCancel:C,onPointerDown:R=>{m&&h(R),A()},onPointerMove:R=>{m&&b(R)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},ce.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Dae.displayName="Drawer.Handle";function Oae(e){const t=fc(),{container:n=t.container,...r}=e;return ce.createElement(rae,{container:n,...r})}const ha={Root:Iae,Content:G7,Overlay:j7,Trigger:nae,Portal:Oae,Close:lae,Title:oae,Description:sae},H7=({shouldScaleBackground:e=!0,...t})=>$.jsx(ha.Root,{shouldScaleBackground:e,...t});H7.displayName="Drawer";const Uae=ha.Trigger,Mae=ha.Portal,Pae=ha.Close,V7=N.forwardRef(({className:e,...t},n)=>$.jsx(ha.Overlay,{ref:n,className:$t("fixed inset-0 z-50 bg-black/80",e),...t}));V7.displayName=ha.Overlay.displayName;const q7=N.forwardRef(({className:e,children:t,...n},r)=>$.jsxs(Mae,{children:[$.jsx(V7,{}),$.jsxs(ha.Content,{ref:r,className:$t("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[$.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));q7.displayName="DrawerContent";const W7=({className:e,...t})=>$.jsx("div",{className:$t("grid gap-1.5 p-4 text-center sm:text-left",e),...t});W7.displayName="DrawerHeader";const Y7=N.forwardRef(({className:e,...t},n)=>$.jsx(ha.Title,{ref:n,className:$t("text-lg font-semibold leading-none tracking-tight",e),...t}));Y7.displayName=ha.Title.displayName;const Fae=N.forwardRef(({className:e,...t},n)=>$.jsx(ha.Description,{ref:n,className:$t("text-sm text-muted-foreground",e),...t}));Fae.displayName=ha.Description.displayName;function r1(e){if(!e)return"";switch(e.type){case"text":return e.value||"";case"inlineCode":return e.value||"";case"inlineMath":case"math":return e.value||"";case"link":case"linkReference":case"emphasis":case"strong":case"delete":case"paragraph":case"heading":return(e.children||[]).map(r1).join("");case"image":return e.alt||"";case"html":return"";default:return Array.isArray(e.children)?e.children.map(r1).join(""):""}}function Bae(e,t){const n=e||"section",r=(t.get(n)||0)+1;return t.set(n,r),r===1?n:`${n}-${r}`}const zae=({content:e})=>{const[t,n]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1);N.useEffect(()=>{const c=[],d=new Map;try{const m=_b().use(fb).use(qb).use(jb).parse(e);Oo(m,"heading",f=>{const h=f.depth;if(h<1||h>3)return;const b=r1(f).trim(),_=nw(b),x=Bae(_,d);c.push({id:x,text:b,level:h})}),n(c)}catch(m){console.error("[Mobile TOC] Failed to parse markdown AST:",m),n([])}},[e]),N.useEffect(()=>{const c=()=>{const d=t.map(f=>document.getElementById(f.id)),m=window.scrollY+120;for(let f=d.length-1;f>=0;f--){const h=d[f];if(h&&h.offsetTop<=m){a(t[f].id);break}}};return window.addEventListener("scroll",c,{passive:!0}),c(),()=>window.removeEventListener("scroll",c)},[t]);const u=c=>{const d=document.getElementById(c);if(d){const f=d.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:f-100,behavior:"smooth"}),s(!1)}};return t.length===0?null:$.jsx("div",{className:"xl:hidden fixed bottom-6 right-6 z-50",children:$.jsxs(H7,{open:i,onOpenChange:s,children:[$.jsx(Uae,{asChild:!0,children:$.jsx(Rs,{size:"icon",className:"h-14 w-14 rounded-full shadow-lg bg-[hsl(var(--theme-primary))] hover:bg-[hsl(var(--theme-primary)/0.9)] text-white",children:$.jsx(jh,{className:"h-6 w-6"})})}),$.jsxs(q7,{className:"max-h-[70vh]",children:[$.jsx(W7,{className:"border-b",children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs(Y7,{className:"flex items-center gap-2",children:[$.jsx(jh,{className:"w-5 h-5"}),"Table of Contents"]}),$.jsx(Pae,{asChild:!0,children:$.jsx(Rs,{variant:"ghost",size:"icon",children:$.jsx(Hp,{className:"h-5 w-5"})})})]})}),$.jsx("div",{className:"overflow-y-auto p-4",children:$.jsx("ul",{className:"space-y-1",children:t.map(c=>$.jsx("li",{style:{paddingLeft:`${(c.level-1)*16}px`},children:$.jsx("button",{onClick:()=>u(c.id),className:`
                      text-left text-base w-full py-3 px-3 rounded-lg transition-all duration-200
                      hover:bg-[hsl(var(--theme-primary)/0.1)] hover:text-[hsl(var(--theme-primary))]
                      ${r===c.id?"text-[hsl(var(--theme-primary))] bg-[hsl(var(--theme-primary)/0.1)] font-medium border-l-2 border-[hsl(var(--theme-primary))]":"text-foreground/70"}
                    `,children:$.jsx("span",{className:"line-clamp-2",children:c.text})})},c.id))})})]})]})})},jae=()=>{const{slug:e}=XU(),t=qu(),{posts:n,loading:r,error:a}=aw();if(r)return $.jsxs("div",{className:"min-h-screen bg-background",children:[$.jsx(ti,{}),$.jsx("div",{className:"pt-24 flex items-center justify-center",children:$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),$.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]})})]});if(a)return $.jsxs("div",{className:"min-h-screen bg-background",children:[$.jsx(ti,{}),$.jsx("div",{className:"pt-24 flex items-center justify-center",children:$.jsxs("div",{className:"text-center",children:[$.jsx("p",{className:"text-sm text-destructive mb-4",children:a}),$.jsx(Rs,{variant:"outline",size:"sm",onClick:()=>t(-1),children:"Go Back"})]})})]});const i=n.find(f=>f.slug===e);if(!i)return $.jsxs("div",{className:"min-h-screen bg-background",children:[$.jsx(ti,{}),$.jsx("div",{className:"pt-24 flex items-center justify-center",children:$.jsxs("div",{className:"text-center",children:[$.jsx("h1",{className:"text-xl font-bold mb-4",children:"Post Not Found"}),$.jsx(Rs,{variant:"outline",size:"sm",onClick:()=>t(-1),children:"Go Back"})]})})]});const s=rw.find(f=>f.slug===i.category),u=n.filter(f=>f.category===i.category).sort((f,h)=>new Date(f.publishedAt).getTime()-new Date(h.publishedAt).getTime()),c=u.findIndex(f=>f.slug===i.slug),d=c>0?u[c-1]:null,m=c<u.length-1?u[c+1]:null;return $.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{}),$.jsx(Xne,{}),$.jsxs("div",{className:"mx-auto px-6 py-8 pt-24 max-w-4xl xl:max-w-5xl xl:flex xl:gap-12 xl:justify-center",children:[$.jsxs("div",{className:"flex-1 max-w-4xl",children:[$.jsxs(Rs,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mb-6 text-muted-foreground",children:[$.jsx(Y8,{className:"w-3.5 h-3.5 mr-1"}),"Back"]}),$.jsxs("div",{className:"mb-6",children:[$.jsx("span",{className:"text-xs text-muted-foreground",children:s?.name}),$.jsx("h1",{className:"text-2xl font-bold text-foreground mt-1 mb-2",children:i.title}),$.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[$.jsxs("span",{className:"flex items-center gap-1",children:[$.jsx(sR,{className:"w-3 h-3"}),i.author]}),$.jsxs("span",{className:"flex items-center gap-1",children:[$.jsx(p1,{className:"w-3 h-3"}),i.readTime," min"]}),$.jsx("span",{children:new Date(i.publishedAt).toLocaleDateString()})]})]}),i.thumbnail&&$.jsx("div",{className:"mb-8 rounded overflow-hidden border border-border",children:$.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-auto object-cover bg-white"})}),$.jsx("div",{className:"mb-10",children:$.jsx(XN,{content:i.content})}),$.jsx("div",{className:"border-t border-border pt-6",children:$.jsxs("div",{className:"flex justify-between items-center gap-4",children:[$.jsx("div",{className:"flex-1 min-w-0",children:d&&$.jsxs("button",{onClick:()=>t(`/blog/${d.slug}`),className:"flex items-center gap-2 p-3 w-full text-left rounded border border-border hover:bg-muted/50 transition-colors",children:[$.jsx(c1,{className:"w-4 h-4 shrink-0 text-muted-foreground"}),$.jsxs("div",{className:"min-w-0",children:[$.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Previous"}),$.jsx("div",{className:"text-xs font-medium text-foreground truncate",children:d.title})]})]})}),$.jsx("div",{className:"flex-1 min-w-0",children:m&&$.jsxs("button",{onClick:()=>t(`/blog/${m.slug}`),className:"flex items-center gap-2 p-3 w-full text-right rounded border border-border hover:bg-muted/50 transition-colors",children:[$.jsxs("div",{className:"min-w-0 flex-1",children:[$.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Next"}),$.jsx("div",{className:"text-xs font-medium text-foreground truncate",children:m.title})]}),$.jsx(d1,{className:"w-4 h-4 shrink-0 text-muted-foreground"})]})})]})})]}),$.jsx("aside",{className:"hidden xl:block w-64 flex-shrink-0",children:$.jsx(Zne,{content:i.content})})]}),$.jsx(zae,{content:i.content})]})},K7=N.forwardRef(({className:e,type:t,...n},r)=>$.jsx("input",{type:t,className:$t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));K7.displayName="Input";const X7=({className:e,...t})=>$.jsx("nav",{role:"navigation","aria-label":"pagination",className:$t("mx-auto flex w-full justify-center",e),...t});X7.displayName="Pagination";const Q7=N.forwardRef(({className:e,...t},n)=>$.jsx("ul",{ref:n,className:$t("flex flex-row items-center gap-1",e),...t}));Q7.displayName="PaginationContent";const ys=N.forwardRef(({className:e,...t},n)=>$.jsx("li",{ref:n,className:$t("",e),...t}));ys.displayName="PaginationItem";const Gu=({className:e,isActive:t,size:n="icon",...r})=>$.jsx("a",{"aria-current":t?"page":void 0,className:$t("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-border",n==="default"?"h-10 px-4 py-2":"h-10 w-10",t&&"border-[hsl(var(--theme-primary)/0.5)] bg-[rgba(255,255,255,0.2)] dark:bg-[rgba(0,0,0,0.3)]",e),...r});Gu.displayName="PaginationLink";const Z7=({className:e,...t})=>$.jsxs(Gu,{"aria-label":"Go to previous page",size:"default",className:$t("gap-1 pl-2.5 sm:pl-2.5",e),...t,children:[$.jsx(c1,{className:"h-4 w-4"}),$.jsx("span",{className:"hidden sm:inline",children:"Previous"})]});Z7.displayName="PaginationPrevious";const J7=({className:e,...t})=>$.jsxs(Gu,{"aria-label":"Go to next page",size:"default",className:$t("gap-1 pr-2.5 sm:pr-2.5",e),...t,children:[$.jsx("span",{className:"hidden sm:inline",children:"Next"}),$.jsx(d1,{className:"h-4 w-4"})]});J7.displayName="PaginationNext";const eC=({className:e,...t})=>$.jsxs("span",{"aria-hidden":!0,className:$t("flex h-9 w-9 items-center justify-center",e),...t,children:[$.jsx(rR,{className:"h-4 w-4"}),$.jsx("span",{className:"sr-only",children:"More pages"})]});eC.displayName="PaginationEllipsis";const Uh=12,Gae=()=>{const[e,t]=N.useState("all"),[n,r]=N.useState(""),[a,i]=N.useState(1),s=qu(),{posts:u,loading:c,error:d}=aw(),m=S=>{t(S),i(1)},f=S=>{r(S),i(1)};if(c)return $.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{}),$.jsx("div",{className:"pt-24 text-center text-foreground/60",children:"Loading posts..."})]});if(d)return $.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{}),$.jsx("div",{className:"pt-24 text-center text-red-500",children:d})]});const h=u.filter(S=>{const A=e==="all"||S.category===e,C=n===""||S.title.toLowerCase().includes(n.toLowerCase())||S.excerpt.toLowerCase().includes(n.toLowerCase());return A&&C}),b=Math.ceil(h.length/Uh),_=h.slice((a-1)*Uh,a*Uh),x=S=>s(`/blog/${S.slug}`),T=()=>{const S=[];if(S.push($.jsx(ys,{className:"sm:hidden",children:$.jsxs("span",{className:"px-3 py-2 text-sm text-foreground/80",children:[a," / ",b]})},"mobile-indicator")),b<=5)for(let C=1;C<=b;C++)S.push($.jsx(ys,{className:"hidden sm:block",children:$.jsx(Gu,{href:"#",isActive:a===C,onClick:R=>{R.preventDefault(),i(C)},children:C})},C));else{const C=[];a<=3?C.push(1,2,3,4,"ellipsis",b):a>=b-2?C.push(1,"ellipsis",b-3,b-2,b-1,b):C.push(1,"ellipsis",a-1,a,a+1,"ellipsis",b),C.forEach((R,M)=>{R==="ellipsis"?S.push($.jsx(eC,{className:"hidden sm:flex"},`e${M}`)):S.push($.jsx(ys,{className:"hidden sm:block",children:$.jsx(Gu,{href:"#",isActive:a===R,onClick:P=>{P.preventDefault(),i(R)},children:R})},R))})}return S};return $.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{}),$.jsx("div",{className:"container mx-auto px-6 pt-20 pb-8",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsxs("button",{onClick:()=>s("/"),className:"text-sm text-foreground/60 hover:text-foreground mb-6 inline-flex items-center gap-1",children:[$.jsx(Y8,{className:"w-3 h-3"})," Back"]}),$.jsx("h1",{className:"text-2xl font-bold mb-6 text-foreground border-b border-border pb-2",children:"All Posts"}),$.jsx("div",{className:"max-w-sm mb-6",children:$.jsxs("div",{className:"relative",children:[$.jsx(oR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/40 w-4 h-4"}),$.jsx(K7,{type:"text",placeholder:"Search...",value:n,onChange:S=>f(S.target.value),className:"pl-9 text-sm"})]})}),$.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[$.jsx("button",{onClick:()=>m("all"),className:`text-xs px-3 py-1 rounded-full border transition-colors ${e==="all"?"bg-foreground text-background border-foreground":"border-border text-foreground/60 hover:text-foreground"}`,children:"All"}),rw.map(S=>$.jsx("button",{onClick:()=>m(S.slug),className:`text-xs px-3 py-1 rounded-full border transition-colors ${e===S.slug?"bg-foreground text-background border-foreground":"border-border text-foreground/60 hover:text-foreground"}`,children:S.name},S.slug))]}),(n||e!=="all")&&$.jsxs("p",{className:"text-xs text-foreground/50 mb-4",children:[h.length," post",h.length!==1?"s":""," found"]}),$.jsx("div",{className:"space-y-2",children:_.length===0?$.jsx("p",{className:"text-foreground/50 text-sm py-8 text-center",children:"No posts found."}):_.map(S=>$.jsxs("button",{onClick:()=>x(S),className:"w-full text-left flex items-baseline gap-4 py-2 group hover:bg-muted/30 px-2 -mx-2 rounded transition-colors",children:[$.jsx("span",{className:"text-xs text-foreground/40 font-mono flex-shrink-0 w-24",children:new Date(S.publishedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),$.jsx("span",{className:"text-foreground group-hover:text-[hsl(var(--theme-primary))] transition-colors text-sm font-medium flex-1 truncate",children:S.title}),$.jsxs("span",{className:"text-xs text-foreground/40 flex-shrink-0 flex items-center gap-1",children:[$.jsx(p1,{className:"w-3 h-3"})," ",S.readTime,"m"]})]},S.slug))}),b>1&&$.jsx(X7,{className:"mt-8",children:$.jsxs(Q7,{children:[$.jsx(ys,{children:$.jsx(Z7,{href:"#",onClick:S=>{S.preventDefault(),a>1&&i(a-1)},className:a===1?"pointer-events-none opacity-50":""})}),T(),$.jsx(ys,{children:$.jsx(J7,{href:"#",onClick:S=>{S.preventDefault(),a<b&&i(a+1)},className:a===b?"pointer-events-none opacity-50":""})})]})})]})})]})},Hae={projects:[{projectId:"scene-retrieval",organization:"SBS (Tech R&D Center), AI Engineer",period:"Nov. 2024 - Mar. 2025",location:"Seoul, Korea",highlights:["Developed high-throughput scene retrieval and understanding models for broadcast/digital content at scale","Achieved ~20 processing speed per video via GPU-optimized decoding/inference (ffmpeg, NVDEC, decord, OpenCV)","Improved retrieval accuracy by 45% via prompt normalization and dataset-aware query optimization","Implemented hybrid scene segmentation using scene boundary detection + embedding similarity clustering","Built large-scale scene-embedding indexes using vector databases (e.g., Milvus) to support multimodal retrieval services","Deployed on-premise FastAPI services with efficiency optimizations (quantization, FlashAttention) and local LLM serving via vLLM/Ollama"]},{projectId:"translation-framework",organization:"SBS (Tech R&D Center), AI Engineer",period:"Nov. 2024 - Sep. 2025",location:"Seoul, Korea",highlights:["Developed a multilingual subtitle translation framework using LLMs + on-premise VLM/MLLMs with advanced context engineering","Incorporated scene descriptions, cultural cues, speaker continuity, and internal metadata to improve translation robustness","Reduced translator-verified word-level errors to <5% (over 2 improvement from the baselines)","Integrated the framework into AI Studio for automated subtitle generation across diverse content genres","Built a production-ready backend (FastAPI + Celery + Redis) for queueing and asynchronous processing with retries, scaling, and observability","Leveraged paid Azure LLM APIs for production-like validation while transitioning to on-premise LLMs served via vLLM; integrated on-premise VLMs for scene-description-based context injection and optimized inference"]},{projectId:"agent-platform",organization:"SBS (Tech R&D Center), AI Engineer",period:"Mar. 2025 - Nov. 2025",location:"Seoul, Korea",highlights:["Built automated AI agents for highlight extraction, multilingual subtitles, and thumbnail generation","Designed scalable batch workflows driven by user-defined period/metadata/region rules (reducing per-program bespoke logic)","Developed multimodal scene-retrievalbased taxonomy curation for targeted advertisement placement","Collaborated with production, advertising-sales, and platform teams to refine requirements and productionize workflows"]},{projectId:"lightweight-od",organization:"LIG Nex1 / Yonsei University",period:"Apr. 2023 - Aug. 2024",location:"Seoul, Korea",highlights:["Researched robust object detection for military autonomous navigation under domain shifts","Addressed infrared (IR)/night imagery, adverse weather, blur/noise, compression artifacts, and heterogeneous sensors","Proposed efficient layer-wise continual Test-Time Adaptation (TTA) without heavy distillation (WACV 2024)","Designed low-confidence pseudo-label refinement for stable Source-Free Domain Adaptation (SFDA) (ECCV 2024)","Extended generalization studies to remote sensing (GRSL), including aerial/drone and satellite imagery; validated cross-viewpoint and cross-modality robustness (IR, birds-eye-view, SAR)"]},{projectId:"blur-face",organization:"Alchera / Yonsei University",period:"Jul. 2022 - Sep. 2022",location:"Seoul, Korea",highlights:["Developed a lightweight blur-detection model improving robustness of face recognition systems","Built synthetic blur-generation & labeling pipeline for supervised training and systematic evaluation","Optimized the model for low-latency CPU-only mobile deployment under real-world constraints"]}]},Vae=()=>{qu();const e=h=>{switch(h){case"accepted":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"preprint":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";default:return""}},t=N.useMemo(()=>(Hae.projects??[]).map(h=>{const b=hte[h.projectId];return{title:b?.title??h.projectId,organization:h.organization,period:h.period,location:h.location,technologies:h.technologies??b?.tech??[],description:h.description??b?.description??"",highlights:h.highlights??[]}}),[]),n=["Video/Audio Representation Learning","Multimodal Alignment (Video/AudioText) & Scene-Aware Boundary Detection","Video Understanding/Grounding for Highlights/Key Moments","Efficient Transfer Learning & Foundation Model Personalization"],r=[{title:"AI Software Engineer",company:"Seoul Broadcasting System (SBS)  Tech R&D Center",period:"Nov. 2024 - Present",location:"Seoul, Korea",description:["AI Model Development & Research: Researched and developed deep-learning models for multimodal retrieval, scene understanding, and multilingual translation. Optimized models using PyTorch, Transformers, LLMs, VLMs, vLLM, Azure OpenAI, and efficient video-processing pipelines.","Backend Development: Developed FastAPI-based inference APIs focused on clean model input/output pipelines. Implemented Docker-based isolated API environments tailored to each server setup, ensuring reproducible deployments and stable on-premise model serving.","Cross-Team Collaboration: Coordinated with production, advertising-sales, and platform business teams to define requirements and validate AI capabilities. Collaborated with frontend and backend engineers to integrate AI features into user-facing tools."]}],a=[{degree:"Master of Engineering in Electrical and Electronics",institution:"Yonsei University",period:"Sep. 2022 - Aug. 2024",location:"Seoul, Korea",gpa:"GPA: 4.19/4.50"},{degree:"Bachelor of Engineering in Electrical and Electronics",institution:"Yonsei University",period:"Mar. 2016 - Aug. 2022",location:"Seoul, Korea",gpa:"GPA: 3.95/4.50"}],i=[{title:"Top 10% of Department",organization:"Yonsei University",year:"2019"}],s=[{title:"Conference Reviewer",organization:"IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR 2026)"},{title:"Conference Reviewer",organization:"European Conference on Computer Vision (ECCV 2026)"}],u=[{title:"Research Member",organization:"Yonsei Artificial Intelligence (YAI)",institution:"Yonsei University",period:"Jan. 2022 - Aug. 2024",location:"Seoul, Korea"}],c=[{title:"Teaching Assistant",company:"Yonsei University",period:"Sep. 2020 - Jun. 2024",location:"Seoul, Korea",courses:[{name:"Deep Learning Lab (EEE-4423)",period:"Mar. 2024 - Jun. 2024"},{name:"Signals and Systems (EEE-2060)",period:"Sep. 2023 - Dec. 2023"},{name:"Introductory Digital Lab (EEE-3313)",period:"Sep. 2022 - Dec. 2022"},{name:"Engineering Information Processing (ENG-1108)",period:"Sep. 2021 - Dec. 2021"},{name:"Engineering Information Processing (ENG-1108)",period:"Sep. 2020 - Dec. 2020"}]}],d={languages:["Python","SQL","Bash"],frameworks:["PyTorch","TensorFlow","Hugging Face Transformers","vLLM","Ollama","Celery","FastAPI","OpenCV","decord","ffmpeg"],expertise:["Multimodal Retrieval","Scene Understanding","LLM/VLM Integration","Model Optimization","Model Quantization","FlashAttention","On-Premise Inference"],tools:["Docker","Redis","Azure API","Linux","Git","Vector Databases"],deployment:["Containerized API Deployment","Asynchronous Pipelines","On-Premise GPU Serving","CUDA/NVDEC Video Processing"]},m=({children:h})=>$.jsx("h2",{className:"text-lg font-bold text-foreground mb-4 pb-1 border-b border-border",children:h}),f=({items:h})=>$.jsx("div",{className:"flex flex-wrap gap-1.5",children:h.map((b,_)=>$.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground border border-border",children:b},_))});return $.jsxs("div",{className:"min-h-screen bg-background font-serif",children:[$.jsx(ti,{blogPageMode:!0}),$.jsx("div",{className:"pt-20 pb-12",children:$.jsxs("div",{className:"max-w-3xl mx-auto px-6",children:[$.jsxs("div",{className:"text-center mb-10",children:[$.jsx("div",{className:"w-32 h-32 mx-auto mb-4 mt-8 rounded-full overflow-hidden border border-border",children:$.jsx("img",{src:"https://github.com/user-attachments/assets/75aa0a4a-d9c2-4a61-b877-24b9c4c8af5a",alt:"Junyoung Park",className:"w-full h-full object-cover"})}),$.jsx("h1",{className:"text-2xl font-bold text-foreground mb-1",children:"Junyoung Park"}),$.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"AI Software Engineer  Seoul Broadcasting System (SBS)  Seoul, Korea"}),$.jsx("p",{className:"text-xs text-foreground/80 max-w-xl mx-auto mb-4 leading-relaxed",children:"AI Software Engineer building production-ready AI systems end-to-endfrom data pipelines and model integration to scalable inference APIs."}),$.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-xs text-muted-foreground",children:[$.jsxs("a",{href:"mailto:junia1997@gmail.com",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[$.jsx(f1,{className:"w-3.5 h-3.5"}),"junia1997@gmail.com"]}),$.jsxs("span",{className:"flex items-center gap-1",children:[$.jsx(Q8,{className:"w-3.5 h-3.5"}),"Seoul, Korea"]}),$.jsxs("a",{href:"https://github.com/6unoyunr",className:"flex items-center gap-1 hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:[$.jsx(m1,{className:"w-3.5 h-3.5"}),"GitHub"]}),$.jsxs("a",{href:"https://www.linkedin.com/in/junyoung-park-490597344/",className:"flex items-center gap-1 hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:[$.jsx(X8,{className:"w-3.5 h-3.5"}),"LinkedIn"]}),$.jsxs("a",{href:"https://scholar.google.com/citations?user=QQVxhyUAAAAJ&hl",className:"flex items-center gap-1 hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:[$.jsx(nR,{className:"w-3.5 h-3.5"}),"Scholar"]}),$.jsxs("a",{href:"https://drive.google.com/file/d/15Su_ZN3SYaTgWl91Cqq-GJ4pHJgKbW1w/view?usp=sharing",className:"flex items-center gap-1 hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:[$.jsx(K8,{className:"w-3.5 h-3.5"}),"CV (PDF)"]})]})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Research Interests"}),$.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:n.map((h,b)=>$.jsxs("li",{children:[" ",h]},b))})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Publications"}),$.jsx("div",{className:"space-y-5",children:tm.map((h,b)=>$.jsxs("div",{children:[$.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[$.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${h.type==="Journal"?"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300"}`,children:h.type}),h.status&&(h.status==="accepted"||h.status==="preprint")&&$.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${e(h.status)}`,children:h.status==="accepted"?"Accepted":"Preprint"}),$.jsx("span",{className:"text-[10px] text-muted-foreground ml-auto",children:h.year})]}),$.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.title}),$.jsx("p",{className:"text-xs text-muted-foreground",children:h.authors}),$.jsx("p",{className:"text-xs text-foreground/70",children:h.venue}),$.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[$.jsxs("span",{children:[h.citations," citations"]}),h.link&&h.link!=="#"&&h.link.trim()!==""&&$.jsx("a",{href:h.link,className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Paper "}),h.github&&h.github.trim()!==""&&$.jsx("a",{href:h.github,className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Code "})]})]},b))})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Work Experience"}),r.map((h,b)=>$.jsxs("div",{className:"mb-4",children:[$.jsxs("div",{className:"flex justify-between items-start mb-1",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.title}),$.jsx("p",{className:"text-xs text-muted-foreground",children:h.company})]}),$.jsxs("div",{className:"text-xs text-muted-foreground text-right shrink-0 ml-4",children:[$.jsx("div",{children:h.period}),$.jsx("div",{children:h.location})]})]}),$.jsx("ul",{className:"text-xs text-muted-foreground space-y-1 mt-2",children:h.description.map((_,x)=>$.jsxs("li",{children:[" ",_]},x))})]},b))]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Projects"}),$.jsx("div",{className:"space-y-5",children:t.map((h,b)=>$.jsxs("div",{children:[$.jsxs("div",{className:"flex justify-between items-start mb-1",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.title}),$.jsx("p",{className:"text-xs text-muted-foreground",children:h.organization})]}),$.jsx("span",{className:"text-xs text-muted-foreground shrink-0 ml-4",children:h.period})]}),$.jsx("div",{className:"flex flex-wrap gap-1 my-1.5",children:h.technologies.map((_,x)=>$.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-muted text-muted-foreground border border-border",children:_},x))}),$.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:h.description}),h.highlights.length>0&&$.jsx("ul",{className:"text-xs text-muted-foreground space-y-0.5",children:h.highlights.map((_,x)=>$.jsxs("li",{children:[" ",_]},x))})]},b))})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Technical Skills"}),$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-xs font-semibold text-foreground mb-1.5",children:"Languages"}),$.jsx(f,{items:d.languages})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"text-xs font-semibold text-foreground mb-1.5",children:"Frameworks / Libraries"}),$.jsx(f,{items:d.frameworks})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"text-xs font-semibold text-foreground mb-1.5",children:"ML / AI Expertise"}),$.jsx(f,{items:d.expertise})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"text-xs font-semibold text-foreground mb-1.5",children:"Tools / Platforms"}),$.jsx(f,{items:d.tools})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"text-xs font-semibold text-foreground mb-1.5",children:"Deployment"}),$.jsx(f,{items:d.deployment})]})]})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Education"}),$.jsx("div",{className:"space-y-3",children:a.map((h,b)=>$.jsxs("div",{className:"flex justify-between items-start",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.degree}),$.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.institution,"  ",h.gpa]})]}),$.jsxs("div",{className:"text-xs text-muted-foreground text-right shrink-0 ml-4",children:[$.jsx("div",{children:h.period}),$.jsx("div",{children:h.location})]})]},b))})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Honors / Awards"}),i.map((h,b)=>$.jsxs("div",{className:"flex justify-between text-sm",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-semibold text-foreground",children:h.title}),"  ",$.jsx("span",{className:"text-muted-foreground",children:h.organization})]}),$.jsx("span",{className:"text-muted-foreground",children:h.year})]},b))]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Academic Service"}),$.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:s.map((h,b)=>$.jsxs("li",{children:[" ",$.jsx("span",{className:"font-medium text-foreground",children:h.title}),"  ",h.organization]},b))})]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Community"}),u.map((h,b)=>$.jsxs("div",{className:"flex justify-between items-start text-xs",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-medium text-foreground",children:h.title}),"  ",$.jsxs("span",{className:"text-muted-foreground",children:[h.organization,", ",h.institution]})]}),$.jsx("span",{className:"text-muted-foreground shrink-0 ml-4",children:h.period})]},b))]}),$.jsxs("section",{className:"mb-8",children:[$.jsx(m,{children:"Teaching Experience"}),c.map((h,b)=>$.jsxs("div",{children:[$.jsxs("div",{className:"flex justify-between items-start mb-2",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.title}),$.jsx("p",{className:"text-xs text-muted-foreground",children:h.company})]}),$.jsxs("div",{className:"text-xs text-muted-foreground text-right shrink-0 ml-4",children:[$.jsx("div",{children:h.period}),$.jsx("div",{children:h.location})]})]}),$.jsx("ul",{className:"text-xs text-muted-foreground space-y-0.5",children:h.courses.map((_,x)=>$.jsxs("li",{children:[" ",$.jsx("strong",{children:_.name})," | ",_.period]},x))})]},b))]}),$.jsx("div",{className:"text-center pt-6 border-t border-border",children:$.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})})]})})]})},qae=new gU,Wae=()=>$.jsx(vU,{client:qae,children:$.jsxs(WO,{children:[$.jsx(GR,{}),$.jsx(vD,{}),$.jsx(hM,{basename:"/",children:$.jsxs(pM,{children:[$.jsx(gs,{path:"/",element:$.jsx(qne,{})}),$.jsx(gs,{path:"/blog",element:$.jsx(Gae,{})}),$.jsx(gs,{path:"/blog/:slug",element:$.jsx(jae,{})}),$.jsx(gs,{path:"/cv",element:$.jsx(Vae,{})}),$.jsx(gs,{path:"*",element:$.jsx(Wne,{})})]})})]})});rL.createRoot(document.getElementById("root")).render($.jsx(Wae,{}));
